{"version":3,"file":"index.js","sources":["../src/elements/IoSliderBase.ts","../src/elements/IoSliderRange.ts","../src/elements/IoNumberSliderRange.ts","../src/elements/IoSlider.ts","../src/elements/IoNumberSlider.ts","../src/elements/IoSlider2d.ts"],"sourcesContent":["import { ReactiveProperty, IoGl, IoElementProps, WithBinding, Property, ListenerDefinition } from '@io-gui/core'\n\nconst clamp = (num: number, min: number, max: number) => {\n  return max > min ? Math.min(Math.max(num, min), max) : Math.min(Math.max(num, max), min)\n}\n\nexport type IoSliderBaseProps = IoElementProps & {\n  value?:  WithBinding<number | [number, number]>\n  step?:  number | [number, number]\n  min?: number | [number, number]\n  max?: number | [number, number]\n  exponent?: number\n  vertical?: boolean\n  noscroll?: boolean\n}\n\nexport class IoSliderBase extends IoGl {\n  static get Style() {\n    return /* css */`\n      :host {\n        display: flex;\n        cursor: ew-resize;\n        border: var(--io_border);\n        border-radius: var(--io_borderRadius);\n        border-color: var(--io_borderColorInset);\n        min-height: var(--io_fieldHeight);\n        min-width: var(--io_fieldHeight);\n        flex-grow: 1;\n      }\n      :host[vertical] {\n        cursor: ns-resize;\n        width: var(--io_fieldHeight);\n        min-height: calc(var(--io_fieldHeight) * 5);\n        flex-basis: var(--io_fieldHeight);\n        flex-grow: 0;\n      }\n      :host[invalid] {\n        color: var(--io_colorWhite);\n        background-color: var(--io_bgColorRed);\n        border-color: var(--io_colorRed);\n      }\n      :host:focus {\n        @apply --io_focus;\n      }\n    `\n  }\n\n  @ReactiveProperty({type: Number, value: 0})\n  declare value: number | [number, number]\n\n  @ReactiveProperty({type: Number, value: 0.01})\n  declare step: number | [number, number]\n\n  @ReactiveProperty({type: Number, value: 0})\n  declare min: number | [number, number]\n\n  @ReactiveProperty({type: Number, value: 1})\n  declare max: number | [number, number]\n\n  @ReactiveProperty({type: Number, value: 1})\n  declare exponent: number\n\n  @ReactiveProperty({value: false, reflect: true})\n  declare vertical: boolean\n\n  @ReactiveProperty({value: false, type: Boolean, reflect: true})\n  declare invalid: boolean\n\n  @Property(false)\n  declare noscroll: boolean\n\n  @Property('slider')\n  declare role: string\n\n  @Property(0)\n  declare tabIndex: number\n\n  _startX = 0\n  _startY = 0\n  _rect: DOMRect | null = null\n\n  _active = -1\n\n  get _min(): [number, number] {\n    if (typeof this.min === 'number') {\n      return [this.min, this.min]\n    } else if (this.min instanceof Array) {\n      return [...this.min]\n    }\n    return [-Infinity, -Infinity]\n  }\n\n  get _max(): [number, number] {\n    if (typeof this.max === 'number') {\n      return [this.max, this.max]\n    } else if (this.max instanceof Array) {\n      return [...this.max]\n    }\n    return [Infinity, Infinity]\n  }\n\n  get _step(): [number, number] {\n    if (typeof this.step === 'number') {\n      return [this.step, this.step]\n    } else if (this.step instanceof Array) {\n      return [...this.step]\n    }\n    return [0.01, 0.01]\n  }\n\n  get _value(): [number, number] {\n    if (typeof this.value === 'number') {\n      return [this.value, this.value]\n    } else if (this.value instanceof Array) {\n      return [...this.value]\n    }\n    return [NaN, NaN]\n  }\n\n  static get Listeners() {\n    return {\n      'focus': 'onFocus',\n      'contextmenu': 'onContextmenu',\n      'pointerdown': 'onPointerdown',\n      'touchstart': ['onTouchstart', {passive: false}] as ListenerDefinition,\n    }\n  }\n\n  constructor(args: IoSliderBaseProps = {}) { super(args) }\n\n  onFocus() {\n    this.addEventListener('blur', this.onBlur)\n    this.addEventListener('keydown', this.onKeydown)\n  }\n  onBlur() {\n    this.removeEventListener('blur', this.onBlur)\n    this.removeEventListener('keydown', this.onKeydown)\n  }\n  onContextmenu(event: Event) {\n    event.stopPropagation()\n    event.preventDefault()\n  }\n  onTouchstart(event: TouchEvent) {\n    this._rect = this.getBoundingClientRect()\n    this.addEventListener('touchmove', this.onTouchmove, {passive: false})\n    this.addEventListener('touchend', this.onTouchend)\n    this._startX = event.changedTouches[0].clientX\n    this._startY = event.changedTouches[0].clientY\n    this._active = this.noscroll ? 1 : -1\n  }\n  onTouchmove(event: TouchEvent) {\n    const dx = Math.abs(this._startX - event.changedTouches[0].clientX)\n    const dy = Math.abs(this._startY - event.changedTouches[0].clientY)\n    if (this._active === -1) {\n      if (this.vertical) {\n        if (dy > 5 && dy > dx) {\n          this._active = (dy > dx && dx < 5) ? 1 : 0\n        }\n      } else {\n        if (dx > 5 && dx > dy) {\n          this._active = (dx > dy && dy < 5) ? 1 : 0\n        }\n      }\n    }\n    if (this._active === 1 && event.cancelable) {\n      event.stopPropagation()\n      event.preventDefault()\n    }\n  }\n  onTouchend() {\n    this.removeEventListener('touchmove', this.onTouchmove)\n    this.removeEventListener('touchend', this.onTouchend)\n  }\n  onPointerdown(event: PointerEvent) {\n    event.stopPropagation()\n    this._rect = this.getBoundingClientRect()\n    this.setPointerCapture(event.pointerId)\n    this.addEventListener('pointermove', this.onPointermove)\n    this.addEventListener('pointerup', this.onPointerup)\n    this.addEventListener('pointercancel', this.onPointerup)\n  }\n  onPointermove(event: PointerEvent) {\n    if (event.pointerType !== 'touch') this._active = 1\n    this.throttle(this.onPointermoveThrottled, event)\n  }\n  onPointerup(event: PointerEvent) {\n    this.releasePointerCapture(event.pointerId)\n    this.removeEventListener('pointermove', this.onPointermove)\n    this.removeEventListener('pointerup', this.onPointerup)\n    this.removeEventListener('pointercancel', this.onPointerup)\n    this._active = -1\n  }\n  _getPointerCoord(event: PointerEvent): [number, number] {\n    const rect = this._rect || this.getBoundingClientRect()\n    let x = Math.max(0, Math.min(1, (event.clientX - rect.x) / rect.width))\n    let y = Math.max(0, Math.min(1, 1 - (event.clientY - rect.y) / rect.height))\n    x = Math.pow(x, this.exponent)\n    y = Math.pow(y, this.exponent)\n    return this.vertical ? [y, x] : [x, y]\n  }\n  _getValueFromCoord(coord: [number, number]) {\n    const value: [number, number] = [0, 0]\n    const min = this._min\n    const max = this._max\n    value[0] = min[0] * (1 - coord[0]) + max[0] * coord[0]\n    value[1] = min[1] * (1 - coord[1]) + max[1] * coord[1]\n    return value\n  }\n  onPointermoveThrottled(event: PointerEvent) {\n    if (this._active === 1) {\n      if (document.activeElement !== this as unknown as Element) this.focus()\n      const coord = this._getPointerCoord(event)\n      const value = this._getValueFromCoord(coord)\n      this._inputValue(value)\n    }\n  }\n  _inputValue(value: [number, number]) {\n    const min = this._min\n    const max = this._max\n    const step = this._step\n\n    value[0] = clamp(value[0], max[0], min[0])\n    value[1] = clamp(value[1], max[1], min[1])\n    value[0] = Math.round(value[0] / step[0]) * step[0]\n    value[1] = Math.round(value[1] / step[1]) * step[1]\n\n    value[0] = Number(value[0].toFixed(5))\n    value[1] = Number(value[1].toFixed(5))\n    if (typeof this.value === 'number') {\n      if (this.value === value[0]) return\n      this.inputValue(value[0])\n    } else if (this.value instanceof Array) {\n      const oldValue = JSON.stringify(this.value)\n      this.value[0] = value[0]\n      this.value[1] = value[1]\n      if (oldValue === JSON.stringify(this.value)) return\n      this.inputValue(this.value)\n      this.dispatchMutation(this.value)\n    } else if (typeof this.value === 'object') {\n      const oldValue = JSON.stringify(this.value)\n      const $value = this.value as {x: number; y: number}\n      $value.x = value[0]\n      $value.y = value[1]\n      if (oldValue === JSON.stringify(this.value)) return\n      this.inputValue(this.value)\n      this.dispatchMutation(this.value)\n    }\n  }\n  inputValue(value: any) {\n    if (this.value !== value || typeof this.value === 'object') {\n      const oldValue = this.value\n      this.setProperty('value', value)\n      this.dispatch('value-input', {value: value, oldValue: oldValue}, false)\n    }\n  }\n  onKeydown(event: KeyboardEvent) {\n    const oneDimension = typeof this.value === 'number'\n\n    if (event.shiftKey) switch (event.key) {\n      case 'ArrowLeft':\n        oneDimension ? this._setDecrease() : this._setLeft()\n        break\n      case 'ArrowUp':\n        oneDimension ? this._setIncrease() : this._setUp()\n        break\n      case 'ArrowRight':\n        oneDimension ? this._setIncrease() : this._setRight()\n        break\n      case 'ArrowDown':\n        oneDimension ? this._setDecrease() : this._setDown()\n        break\n      } else if (['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'Tab', 'Home', 'End', 'PageUp', 'PageDown'].includes(event.key)) {\n        event.preventDefault()\n        this.dispatch('io-focus-to', {source: this, command: event.key}, true)\n      }\n  }\n  _setIncrease() {\n    const value = this._value\n    const step = this._step\n    value[0] = value[0] + step[0]\n    value[1] = value[1] + step[1]\n    this._inputValue(value)\n  }\n  _setDecrease() {\n    const value = this._value\n    const step = this._step\n    value[0] = value[0] - step[0]\n    value[1] = value[1] - step[1]\n    this._inputValue(value)\n  }\n  _setMin() {\n    const min = this._min\n    this._inputValue(min)\n  }\n  _setMax() {\n    const max = this._max\n    this._inputValue(max)\n  }\n  _setUp() {\n    const value = this._value\n    const step = this._step\n    value[0] = value[0] + step[0]\n    this._inputValue(value)\n  }\n  _setDown() {\n    const value = this._value\n    const step = this._step\n    value[0] = value[0] - step[0]\n    this._inputValue(value)\n  }\n  _setLeft() {\n    const value = this._value\n    const step = this._step\n    value[1] = value[1] - step[1]\n    this._inputValue(value)\n  }\n  _setRight() {\n    const value = this._value\n    const step = this._step\n    value[1] = value[1] + step[1]\n    this._inputValue(value)\n  }\n  ready() {\n    this.changed()\n  }\n  valueChanged() {\n    let invalid = false\n    if (this.value instanceof Array) {\n      invalid = isNaN(this.value[0]) || isNaN(this.value[1])\n    } else if (isNaN(this.value)) {\n      invalid = true\n    }\n    this.invalid = invalid\n  }\n  invalidChanged() {\n    if (this.invalid) {\n      this.setAttribute('aria-invalid', 'true')\n    } else {\n      this.removeAttribute('aria-invalid')\n    }\n  }\n  valueMutated() {\n    this.changed()\n    this.dispatchMutation()\n  }\n  changed() {\n    super.changed()\n    this.setAttribute('aria-valuemin', JSON.stringify(this.min))\n    this.setAttribute('aria-valuemax', JSON.stringify(this.max))\n    this.setAttribute('aria-valuestep', JSON.stringify(this.step))\n    const value = this._value\n    if (typeof value[0] !== 'number' || isNaN(value[0])) {\n      this.setAttribute('aria-invalid', 'true')\n    } else {\n      this.removeAttribute('aria-invalid')\n    }\n    this.setAttribute('aria-valuenow', JSON.stringify(this.value))\n  }\n}\n\n","import { Register, ReactiveProperty, WithBinding } from '@io-gui/core'\nimport { IoSliderBase, IoSliderBaseProps } from './IoSliderBase.js'\n\nexport type IoSliderRangeProps = IoSliderBaseProps & {\n  value?: WithBinding<[number, number]>\n  step?: number\n  min?: number\n  max?: number\n}\n\n/**\n * Input element for `Array(2)` data type displayed as slider.\n * It can be configured to clamp the `value` compoents to `min` / `max` and round it to the nearest `step` increment. `exponent` property can be changed for non-linear scale.\n **/\n@Register\nexport class IoSliderRange extends IoSliderBase {\n\n  @ReactiveProperty({type: Array, value: undefined, init: [0, 0]}) // TODO: Remove value: undefined\n  declare value: [number, number]\n\n  @ReactiveProperty({type: Number, value: 0.01})\n  declare step: number\n\n  @ReactiveProperty({type: Number, value: 0})\n  declare min: number\n\n  @ReactiveProperty({type: Number, value: 1})\n  declare max: number\n\n  _index = 0\n\n  constructor(args: IoSliderRangeProps = {}) { super(args) }\n\n  _getCoordFromValue(value: [number, number]) {\n    const coord = [0, 0]\n    const min = this._min\n    const max = this._max\n    coord[0] = (value[0] - min[0]) / (max[0] - min[0])\n    coord[1] = (value[1] - min[1]) / (max[1] - min[1])\n    return coord\n  }\n  onPointerdown(event: PointerEvent) {\n    super.onPointerdown(event)\n    const value = this._value\n    const p = this._getPointerCoord(event)\n    const c = this._getCoordFromValue(value)\n    this._index = Math.abs(c[0] - p[0]) < Math.abs(c[1] - p[0]) ? 0 : 1\n  }\n  onPointermoveThrottled(event: PointerEvent) {\n    if (this._active === 1) {\n      if (document.activeElement !== this as unknown as Element) this.focus()\n      const value = this._value\n      const coord = this._getPointerCoord(event)\n      const newValue = this._getValueFromCoord(coord)\n      if (this._index === 0) {\n        this._inputValue([newValue[0], value[1]])\n      } else if (this._index === 1) {\n        this._inputValue([value[0], newValue[0]])\n      }\n    }\n  }\n  static get Frag() {\n    return /* glsl */`\n    varying vec2 vUv;\n\n    void main(void) {\n      // Dimensions\n      vec2 size = uVertical == 1 ? uSize.yx : uSize;\n      vec2 uv = uVertical == 1 ? vUv.yx : vUv;\n      vec2 position = size * vec2(uv.x, uv.y - 0.5);\n      vec2 expPosition = size * vec2(pow(uv.x, uExponent), uv.y - 0.5);\n\n      vec2 valueInRange = (uValue - vec2(uMin)) / (vec2(uMax) - vec2(uMin));\n\n      vec2 valueSign = sign(valueInRange);\n      vec2 expValueInRange = pow(abs(valueInRange), vec2(1./uExponent)) * valueSign;\n      float valueInRangeWidth = valueInRange[1] - valueInRange[0];\n      float valueInRangeCenter = (valueInRange[1] + valueInRange[0]) / 2.0;\n      float signRange = sign(valueInRangeWidth);\n\n      // Colors\n      vec3 finalCol = io_bgColorInput.rgb;\n      vec3 gridCol = io_bgColorLight.rgb;\n      vec3 sliderCol = signRange > 0.0 ? io_bgColorBlue.rgb : io_bgColorRed.rgb;\n      vec3 lineCol1 = io_color.rgb;\n      vec3 lineCol2 = io_bgColor.rgb;\n\n      // Grid\n      float gridSize = size.x / abs((uMax - uMin) / uStep);\n      float gridOffset = mod(uStep - uMin, uStep) / (uMax - uMin) * size.x;\n      float gridShape = paintDerivativeGrid2D(translate(expPosition, gridOffset, 0.0), vec2(gridSize, 0.0), io_borderWidth);\n      finalCol = compose(finalCol, vec4(gridCol, gridShape * 0.5));\n\n      // Slider\n      float sliderShape = rectangle(translate(expPosition, size.x * valueInRangeCenter, 0.0), vec2(size.x * abs(valueInRangeWidth) * 0.5, size.y));\n      finalCol = compose(finalCol, vec4(sliderCol, sliderShape));\n      finalCol = compose(finalCol, vec4(io_bgColorInput.rgb, gridShape * sliderShape * 0.125));\n\n      // Lines\n      float maxPos = expValueInRange[0];\n      float minPos = expValueInRange[1];\n\n      float lineMinShape1 = lineVertical(translate(position, maxPos * size.x, 0.0), io_borderWidth);\n      finalCol = compose(finalCol, vec4(lineCol1, lineMinShape1));\n      float lineMinShape2 = lineVertical(translate(position, maxPos * size.x + io_borderWidth * signRange, 0.0), io_borderWidth);\n      finalCol = compose(finalCol, vec4(lineCol2, lineMinShape2));\n      \n      float lineMaxShape1 = lineVertical(translate(position, minPos * size.x, 0.0), io_borderWidth);\n      finalCol = compose(finalCol, vec4(lineCol1, lineMaxShape1));\n      float lineMaxShape2 = lineVertical(translate(position, minPos * size.x - io_borderWidth * signRange, 0.0), io_borderWidth);\n      finalCol = compose(finalCol, vec4(lineCol2, lineMaxShape2));\n\n      gl_FragColor = vec4(finalCol, 1.0);\n    }\n    `\n  }\n}\nexport const ioSliderRange = function(arg0?: IoSliderRangeProps) {\n  return IoSliderRange.vConstructor(arg0)\n}\n","import { Register, IoElement, ReactiveProperty, IoElementProps, WithBinding, Node } from '@io-gui/core'\nimport {ioNumber} from '@io-gui/inputs'\nimport {ioSliderRange} from './IoSliderRange.js'\n\nexport type IoNumberSliderRangeProps = IoElementProps & {\n  value?: WithBinding<[number, number]>\n  step?: number\n  min?: number\n  max?: number\n  exponent?: number\n  conversion?: number\n}\n\n/**\n * Input element for `Array(2)` data type combining `IoNumber` and `IoSliderRange`\n **/\n@Register\nexport class IoNumberSliderRange extends IoElement {\n  static get Style() {\n    return /* css */`\n    :host {\n      display: flex;\n    }\n    :host > io-number {\n      flex: 0 0 3.5em;\n    }\n    :host > io-slider-range {\n      margin-left: var(--io_spacing);\n      margin-right: var(--io_spacing);\n      flex: 1 1 3.5em;\n      min-width: 3.5em;\n    }\n    `\n  }\n\n  @ReactiveProperty({type: Array, init: [0, 0]})\n  declare value: [number, number]\n\n  @ReactiveProperty(0.01)\n  declare step: number\n\n  @ReactiveProperty(0)\n  declare min: number\n\n  @ReactiveProperty(1)\n  declare max: number\n\n  @ReactiveProperty(1)\n  declare exponent: number\n\n  @ReactiveProperty(1)\n  declare conversion: number\n\n  constructor(args: IoNumberSliderRangeProps = {}) { super(args) }\n\n  _onNumberSet(event: CustomEvent) {\n    const item = event.composedPath()[0]\n    if (item === this.$.number0) this.value[0] = event.detail.value\n    if (item === this.$.number1) this.value[1] = event.detail.value\n    if (!(this.value as unknown as Node)._isNode) {\n      this.dispatchMutation(this.value)\n    }\n  }\n  _onSliderSet(event: CustomEvent) {\n    this.value = event.detail.value\n    if (!(this.value as unknown as Node)._isNode) {\n      this.dispatchMutation(this.value)\n    }\n  }\n  ready() {\n    this.changed()\n  }\n  changed() {\n    this.render([\n      ioNumber({\n        id: 'number0',\n        value: this.value[0],\n        step: this.step,\n        min: this.min,\n        max: this.max,\n        conversion: this.conversion,\n        '@value-input': this._onNumberSet,\n      }),\n      ioSliderRange({\n        id: 'slider',\n        value: this.value,\n        step: this.step,\n        min: this.min,\n        max: this.max,\n        exponent: this.exponent,\n        '@value-input': this._onSliderSet,\n      }),\n      ioNumber({\n        id: 'number1',\n        value: this.value[1],\n        step: this.step,\n        min: this.min,\n        max: this.max,\n        conversion: this.conversion,\n        '@value-input': this._onNumberSet,\n      }),\n    ])\n  }\n}\nexport const ioNumberSliderRange = function(arg0?: IoNumberSliderRangeProps) {\n  return IoNumberSliderRange.vConstructor(arg0)\n}","import { Register, ReactiveProperty, IoGl, IoElementProps, Property, ListenerDefinition, WithBinding } from '@io-gui/core'\n\nconst clamp = (num: number, min: number, max: number) => {\n  return max > min ? Math.min(Math.max(num, min), max) : Math.min(Math.max(num, max), min)\n}\n\nexport type IoSliderProps = IoElementProps & {\n  value?: WithBinding<number>\n  step?: number\n  min?: number\n  max?: number\n  exponent?: number\n  vertical?: boolean\n  disabled?: boolean\n  noscroll?: boolean\n}\n\n/**\n * Input element for `Number` data type displayed as slider.\n * It can be configured to clamp the `value` to `min` / `max` and round it to the nearest `step` increment. `exponent` property can be changed for non-linear scale.\n **/\n@Register\nexport class IoSlider extends IoGl {\n  static get Style() {\n    return /* css */`\n      :host {\n        display: flex;\n        cursor: ew-resize;\n        border: var(--io_border);\n        border-radius: var(--io_borderRadius);\n        border-color: var(--io_borderColorInset);\n        min-height: var(--io_fieldHeight);\n        min-width: var(--io_fieldHeight);\n        flex-grow: 1;\n      }\n      :host[vertical] {\n        cursor: ns-resize;\n        width: var(--io_fieldHeight);\n        min-height: calc(var(--io_fieldHeight) * 5);\n        flex-basis: var(--io_fieldHeight);\n        flex-grow: 0;\n      }\n      :host[invalid] {\n        border-color: var(--io_colorRed);\n      }\n      :host[disabled] {\n        opacity: 0.5;\n      }\n      :host:focus {\n        @apply --io_focus;\n      }\n    `\n  }\n\n  @ReactiveProperty(0)\n  declare value: number\n\n  @ReactiveProperty(0.01)\n  declare step: number\n\n  @ReactiveProperty(0)\n  declare min: number\n\n  @ReactiveProperty(1)\n  declare max: number\n\n  @ReactiveProperty(1)\n  declare exponent: number\n\n  @ReactiveProperty({value: false, reflect: true})\n  declare vertical: boolean\n\n  @ReactiveProperty({value: false, type: Boolean, reflect: true})\n  declare invalid: boolean\n\n  @ReactiveProperty({value: false, type: Boolean, reflect: true})\n  declare disabled: boolean\n\n  @Property(false)\n  declare noscroll: boolean\n\n  @Property('slider')\n  declare role: string\n\n  @Property(0)\n  declare tabIndex: number\n\n  #startX = 0\n  #startY = 0\n  #active = -1\n  #rect: DOMRect | null = null\n\n  static get Frag() {\n    return /* glsl */`\n    varying vec2 vUv;\n\n    void main(void) {\n      // Dimensions\n      vec2 size = uVertical == 1 ? uSize.yx : uSize;\n      vec2 uv = uVertical == 1 ? vUv.yx : vUv;\n      vec2 position = size * vec2(uv.x, uv.y - 0.5);\n      vec2 expPosition = size * vec2(pow(uv.x, uExponent), uv.y - 0.5);\n      float valueInRange = (uValue - uMin) / (uMax - uMin);\n      if (uInvalid == 1) valueInRange = 0.0;\n      float valueSign = sign(valueInRange);\n      float expValueInRange = pow(abs(valueInRange), 1./uExponent) * valueSign;\n\n      // Colors\n      vec3 finalCol = io_bgColorInput.rgb;\n      vec3 gridCol = io_bgColorLight.rgb;\n      vec3 sliderCol = io_bgColorBlue.rgb;\n      vec3 lineCol1 = io_color.rgb;\n      vec3 lineCol2 = io_bgColor.rgb;\n\n      // Grid\n      float gridSize = size.x / abs((uMax - uMin) / uStep);\n      float gridOffset = mod(uStep - uMin, uStep) / (uMax - uMin) * size.x;\n      float gridShape = paintDerivativeGrid2D(translate(expPosition, gridOffset, 0.0), vec2(gridSize, 0.0), io_borderWidth);\n      finalCol = compose(finalCol, vec4(gridCol, gridShape * 0.5));\n\n      // Slider\n      float sliderShape = rectangle(expPosition, vec2(size.x * valueInRange, size.y));\n      finalCol = compose(finalCol, vec4(sliderCol, sliderShape));\n      finalCol = compose(finalCol, vec4(io_bgColorInput.rgb, gridShape * sliderShape * 0.125));\n\n      // Lines\n      float lineShape1 = lineVertical(translate(position, expValueInRange * size.x, 0.0), io_borderWidth);\n      finalCol = compose(finalCol, vec4(lineCol1, lineShape1));\n      float lineShape2 = lineVertical(translate(position, expValueInRange * size.x - io_borderWidth, 0.0), io_borderWidth);\n      finalCol = compose(finalCol, vec4(lineCol2, lineShape2));\n\n      gl_FragColor = vec4(finalCol, 1.0);\n    }`\n  }\n\n  static get Listeners() {\n    return {\n      'focus': 'onFocus',\n      'contextmenu': 'onContextmenu',\n      'pointerdown': 'onPointerdown',\n      'touchstart': ['onTouchstart', {passive: false}] as ListenerDefinition,\n    }\n  }\n\n  constructor(args: IoSliderProps = {}) { super(args) }\n\n  onFocus() {\n    this.addEventListener('blur', this.onBlur)\n    this.addEventListener('keydown', this.onKeydown)\n  }\n  onBlur() {\n    this.removeEventListener('blur', this.onBlur)\n    this.removeEventListener('keydown', this.onKeydown)\n  }\n  onContextmenu(event: Event) {\n    event.preventDefault()\n  }\n  onTouchstart(event: TouchEvent) {\n    this.#rect = this.getBoundingClientRect()\n    this.addEventListener('touchmove', this.onTouchmove, {passive: false})\n    this.addEventListener('touchend', this.onTouchend)\n    this.#startX = event.changedTouches[0].clientX\n    this.#startY = event.changedTouches[0].clientY\n    this.#active = this.noscroll ? 1 : -1\n  }\n  onTouchmove(event: TouchEvent) {\n    const dx = Math.abs(this.#startX - event.changedTouches[0].clientX)\n    const dy = Math.abs(this.#startY - event.changedTouches[0].clientY)\n    if (this.#active === -1) {\n      if (this.vertical) {\n        if (dy > 5 && dy > dx) {\n          this.#active = (dy > dx && dx < 5) ? 1 : 0\n        }\n      } else {\n        if (dx > 5 && dx > dy) {\n          this.#active = (dx > dy && dy < 5) ? 1 : 0\n        }\n      }\n    }\n    if (this.#active === 1 && event.cancelable) {\n      event.preventDefault()\n    }\n  }\n  onTouchend() {\n    this.removeEventListener('touchmove', this.onTouchmove)\n    this.removeEventListener('touchend', this.onTouchend)\n  }\n  onPointerdown(event: PointerEvent) {\n    event.stopPropagation()\n    this.#rect = this.getBoundingClientRect()\n    this.setPointerCapture(event.pointerId)\n    this.addEventListener('pointermove', this.onPointermove)\n    this.addEventListener('pointerup', this.onPointerup)\n    this.addEventListener('pointercancel', this.onPointerup)\n  }\n  onPointermove(event: PointerEvent) {\n    if (event.pointerType !== 'touch') this.#active = 1\n    this.throttle(this.onPointermoveThrottled, event)\n  }\n  onPointerup(event: PointerEvent) {\n    this.releasePointerCapture(event.pointerId)\n    this.removeEventListener('pointermove', this.onPointermove)\n    this.removeEventListener('pointerup', this.onPointerup)\n    this.removeEventListener('pointercancel', this.onPointerup)\n    this.#active = -1\n  }\n  _getPointerCoord(event: PointerEvent): number {\n    const rect = this.#rect || this.getBoundingClientRect()\n    let x = Math.max(0, Math.min(1, (event.clientX - rect.x) / rect.width))\n    let y = Math.max(0, Math.min(1, 1 - (event.clientY - rect.y) / rect.height))\n    return Math.pow(this.vertical ? y : x, this.exponent)\n  }\n  _getValueFromCoord(coord: number) {\n    return this.min * (1 - coord) + this.max * coord\n  }\n  onPointermoveThrottled(event: PointerEvent) {\n    if (this.#active === 1) {\n      if (document.activeElement !== this as unknown as Element) this.focus()\n      const coord = this._getPointerCoord(event)\n      const value = this._getValueFromCoord(coord)\n      this._inputValue(value)\n    }\n  }\n  _incrementValue(value: number) {\n    this._inputValue(this.value + value)\n  }\n  _inputValue(value: number) {\n    value = clamp(value, this.max, this.min)\n    value = Math.round(value / this.step) * this.step\n    value = Number(value.toFixed(5))\n    if (!isNaN(value) && this.value !== value) {\n      this.inputValue(value)\n    }\n  }\n  inputValue(value: any) {\n    if (this.value !== value || typeof this.value === 'object') {\n      const oldValue = this.value\n      this.setProperty('value', value)\n      this.dispatch('value-input', {value: value, oldValue: oldValue}, false)\n    }\n  }\n  onKeydown(event: KeyboardEvent) {\n    const invert = this.max < this.min\n    if (event.shiftKey) switch (event.key) {\n      case 'ArrowLeft':\n        this._incrementValue(invert ? this.step : -this.step)\n        break\n      case 'ArrowUp':\n        this._incrementValue(invert ? -this.step : this.step)\n        break\n      case 'ArrowRight':\n        this._incrementValue(invert ? -this.step : this.step)\n        break\n      case 'ArrowDown':\n        this._incrementValue(invert ? this.step : -this.step)\n        break\n      case 'Home':\n        event.preventDefault()\n        this._inputValue(this.min)\n        break\n      case 'End':\n        event.preventDefault()\n        this._inputValue(this.max)\n        break\n      case 'PageUp':\n        event.preventDefault()\n        this._incrementValue(invert ? -this.step : this.step)\n        break\n      case 'PageDown':\n        event.preventDefault()\n        this._incrementValue(invert ? this.step : -this.step)\n        break\n    } else if (['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'Tab', 'Home', 'End', 'PageUp', 'PageDown'].includes(event.key)) {\n      event.preventDefault()\n      this.dispatch('io-focus-to', {source: this, command: event.key}, true)\n    }\n  }\n  ready() {\n    this.valueChanged()\n    this.minChanged()\n    this.maxChanged()\n    this.changed()\n  }\n  invalidChanged() {\n    this.ariaInvalid = String(this.invalid)\n  }\n  disabledChanged() {\n    this.inert = this.disabled\n    this.ariaDisabled = String(this.disabled)\n  }\n  valueChanged() {\n    this.invalid = isNaN(this.value)\n    this.ariaValueNow = String(this.value)\n  }\n  minChanged() {\n    this.ariaValueMin = String(this.min)\n  }\n  maxChanged() {\n    this.ariaValueMax = String(this.max)\n  }\n}\nexport const ioSlider = function(arg0?: IoSliderProps) {\n  return IoSlider.vConstructor(arg0)\n}\n","import { Register, IoElement, ReactiveProperty, IoElementProps, WithBinding } from '@io-gui/core'\nimport {ioNumber} from '@io-gui/inputs'\nimport {ioSlider} from './IoSlider.js'\n\nexport type IoNumberSliderProps = IoElementProps & {\n  value?: WithBinding<number>\n  step?: number\n  min?: number\n  max?: number\n  exponent?: number\n  conversion?: number\n}\n\n/**\n * Input element for `Number` data type combining `IoNumber` and `IoSlider`\n **/\n@Register\nexport class IoNumberSlider extends IoElement {\n\n  static get Style() {\n    return /* css */`\n    :host {\n      display: flex;\n    }\n    :host > io-number {\n      flex: 0 0 3.5em;\n      margin-right: var(--io_spacing);\n    }\n    :host > io-slider {\n      flex: 1 1 3em;\n      min-width: 3em;\n    }\n    `\n  }\n\n  @ReactiveProperty({value: 0})\n  declare value: number\n\n  @ReactiveProperty(0.01)\n  declare step: number\n\n  @ReactiveProperty(0)\n  declare min: number\n\n  @ReactiveProperty(1)\n  declare max: number\n\n  @ReactiveProperty(1)\n  declare exponent: number\n\n  @ReactiveProperty(1)\n  declare conversion: number\n\n  constructor(args: IoNumberSliderProps = {}) { super(args) }\n\n  _onNumberSet(event: CustomEvent) {\n    this.value = event.detail.value\n    this.dispatch('value-input', event.detail, false)\n  }\n  _onSliderSet(event: CustomEvent) {\n    event.detail.value = event.detail.value / this.conversion\n    this.value = event.detail.value\n    this.dispatch('value-input', event.detail, false)\n  }\n  ready() {\n    this.changed()\n  }\n  changed() {\n    this.render([\n      ioNumber({\n        id: 'number',\n        value: this.value,\n        step: this.step,\n        min: this.min * this.conversion,\n        max: this.max * this.conversion,\n        conversion: this.conversion,\n        '@value-input': this._onNumberSet,\n      }),\n      ioSlider({\n        id: 'slider',\n        value: this.value * this.conversion,\n        step: this.step * this.conversion,\n        min: this.min * this.conversion,\n        max: this.max * this.conversion,\n        exponent: this.exponent,\n        '@value-input': this._onSliderSet,\n      }),\n    ])\n  }\n}\nexport const ioNumberSlider = function(arg0?: IoNumberSliderProps) {\n  return IoNumberSlider.vConstructor(arg0)\n}","import { Register, ReactiveProperty, Property, WithBinding } from '@io-gui/core'\nimport { IoSliderBase, IoSliderBaseProps } from './IoSliderBase.js'\n\nexport type IoSlider2dProps = IoSliderBaseProps & {\n  value?: WithBinding<[number, number]>\n  step?: [number, number]\n  min?: [number, number]\n  max?: [number, number]\n}\n\n@Register\nexport class IoSlider2d extends IoSliderBase {\n\n  static get Style() {\n    return /* css */`\n      :host {\n        cursor: crosshair;\n        border: var(--io_border);\n        border-radius: var(--io_borderRadius);\n        border-color: var(--io_borderColorInset);\n        flex-grow: 0;\n      }\n      :host:not([vertical]),\n      :host[vertical] {\n        min-width: calc(var(--io_fieldHeight) * 5);\n        min-height: calc(var(--io_fieldHeight) * 5);\n        cursor: crosshair;\n      }\n    `\n  }\n\n  @ReactiveProperty({type: Array, value: undefined, init: [0, 0]}) // TODO: Remove value: undefined\n  declare value: [number, number]\n\n  @ReactiveProperty({type: Array, value: undefined, init: [0.01, 0.01]}) // TODO: Remove value: undefined\n  declare step: [number, number]\n\n  @ReactiveProperty({type: Array, value: undefined, init: [-1, -1]}) // TODO: Remove value: undefined\n  declare min: [number, number]\n\n  @ReactiveProperty({type: Array, value: undefined, init: [1, 1]}) // TODO: Remove value: undefined\n  declare max: [number, number]\n\n  @Property(true)\n  declare noscroll: boolean\n\n  constructor(args: IoSlider2dProps = {}) { super(args) }\n\n  static get GlUtils() {\n    return /* glsl */`\n      vec3 paintKnob(vec3 dstCol, vec2 p, vec2 center, vec3 color) {\n        vec4 finalCol = vec4(0.0);\n        vec2 pCenter = translate(p, center);\n        float radius = io_fieldHeight * 0.25;\n        float stroke = io_borderWidth;\n        float strokeShape = circle(pCenter, radius + stroke + stroke);\n        float fillShape   = circle(pCenter, radius + stroke);\n        float colorShape  = circle(pCenter, radius);\n        finalCol = mix(io_colorStrong, finalCol, strokeShape);\n        finalCol = mix(vec4(io_bgColor.rgb, 1.0), finalCol, fillShape);\n        finalCol = mix(vec4(color, 1.0), finalCol, colorShape);\n        return compose(dstCol, finalCol);\n      }\n    `\n  }\n  static get Frag() {\n    return /* glsl */`\n    varying vec2 vUv;\n\n    void main(void) {\n      // Dimensions\n      vec2 size = uVertical == 1 ? uSize.yx : uSize;\n      vec2 uv = uVertical == 1 ? vUv.yx : vUv;\n      vec2 position = size * (uv - vec2(0.5));\n\n      // Colors\n      vec3 finalCol = io_bgColorInput.rgb;\n      vec3 gridCol = io_bgColorLight.rgb;\n      vec3 sliderCol = io_bgColorBlue.rgb;\n      vec3 lineCol1 = io_color.rgb;\n      vec3 lineCol2 = io_bgColor.rgb;\n\n      // Grid\n      vec2 gridSize = size / abs((uMax - uMin) / uStep);\n      vec2 gridOffset = (uMax + uMin) / (uMax - uMin) * size / 2.;\n      vec2 gridPosition = translate(position, -gridOffset);\n      float gridShape = paintDerivativeGrid2D(gridPosition, gridSize, io_borderWidth);\n      finalCol = compose(finalCol, vec4(gridCol, gridShape * 0.5));\n\n      // Axis\n      float axisShape = lineCross2d(gridPosition, io_borderWidth);\n      finalCol = compose(finalCol, vec4(gridCol, axisShape));\n\n      // Knob\n      vec2 knobPos = uValue / (uMax - uMin) * size;\n      finalCol = paintKnob(finalCol, gridPosition, knobPos, sliderCol);\n\n      gl_FragColor = vec4(finalCol, 1.0);\n    }`\n  }\n}\nexport const ioSlider2d = function(arg0?: IoSlider2dProps) {\n  return IoSlider2d.vConstructor(arg0)\n}\n"],"names":["clamp","num","min","max","IoSliderBase","IoGl","args","event","dx","dy","rect","x","y","coord","value","step","oldValue","$value","oneDimension","invalid","__decorateClass","ReactiveProperty","Property","IoSliderRange","p","c","newValue","Register","ioSliderRange","arg0","IoNumberSliderRange","IoElement","item","ioNumber","ioNumberSliderRange","_startX","_startY","_active","_rect","IoSlider","__privateAdd","__privateSet","__privateGet","invert","ioSlider","IoNumberSlider","ioNumberSlider","IoSlider2d","ioSlider2d"],"mappings":"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"}