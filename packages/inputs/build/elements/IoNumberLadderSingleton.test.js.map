{"version":3,"file":"IoNumberLadderSingleton.test.js","sourceRoot":"","sources":["../../src/elements/IoNumberLadderSingleton.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { IoNumber, IoNumberLadderSingleton } from 'io-inputs'\n\nconst element = new IoNumber()\nelement.style.display = 'none'\ndocument.body.appendChild(element as HTMLElement)\n\nconst ladder = IoNumberLadderSingleton\nladder.src = element\nladder.setAttribute('expanded', 'true')\nladder.style.display = 'none'\n\nexport default class {\n  run() {\n    describe('IoNumberLadder.test', () => {\n      const $ = (selector: string) => {\n        return ladder.querySelector(selector) as IoNumber\n      }\n      it('should set innerText to match value property', () => {\n        expect($('.io-up1').value).to.equal(1)\n        expect($('.io-up1').textContent).to.equal('1')\n        expect($('.io-up2').textContent).to.equal('10')\n        expect($('.io-up3').textContent).to.equal('100')\n        expect($('.io-up4').textContent).to.equal('1000')\n        expect($('.io-down1').value).to.equal(0.1)\n        expect($('.io-down1').textContent).to.equal('0.1')\n        expect($('.io-down2').textContent).to.equal('0.01')\n        expect($('.io-down3').textContent).to.equal('0.001')\n        expect($('.io-down4').textContent).to.equal('0.0001')\n      })\n      it('should set innerText to match value with custom step settings', () => {\n        element.step = 0.2\n        ladder.changed()\n        expect($('.io-up1').value).to.equal(2)\n        expect($('.io-up1').textContent).to.equal('2')\n        expect($('.io-up2').textContent).to.equal('20')\n        expect($('.io-up3').textContent).to.equal('200')\n        expect($('.io-up4').textContent).to.equal('2000')\n        expect($('.io-down1').value).to.equal(0.2)\n        expect($('.io-down1').textContent).to.equal('0.2')\n        expect($('.io-down2')).to.equal(null)\n        expect($('.io-down3')).to.equal(null)\n        expect($('.io-down4')).to.equal(null)\n        element.step = 0.02\n        ladder.changed()\n        expect($('.io-down1').textContent).to.equal('0.2')\n        expect($('.io-down2').textContent).to.equal('0.02')\n        expect($('.io-down3')).to.equal(null)\n        element.step = 0.0001\n        ladder.changed()\n      })\n      it('should set innerText to match value with custom min/max settings', () => {\n        element.min = 0\n        element.max = 100\n        ladder.changed()\n        expect($('.io-up1').value).to.equal(1)\n        expect($('.io-up1').innerText).to.equal('1')\n        expect($('.io-up2').innerText).to.equal('10')\n        expect($('.io-up3').innerText).to.equal('100')\n        expect($('.io-up4')).to.equal(null)\n        element.max = 1000\n        ladder.changed()\n        expect($('.io-up4').innerText).to.equal('1000')\n        element.min = -Infinity\n        element.max = Infinity\n        ladder.changed()\n      })\n      it('should set innerText to match value with conversion factor', () => {\n        element.conversion = 20\n        ladder.changed()\n        expect($('.io-up2').value).to.equal(10)\n        expect($('.io-up2').innerText).to.equal('200')\n        element.step = 0.2\n        ladder.changed()\n        expect($('.io-up2').value).to.equal(20)\n        expect($('.io-up2').innerText).to.equal('400')\n        element.conversion = 1\n        element.step = 0.0001\n        ladder.changed()\n      })\n      it('steps have tabIndex attribute', () => {\n        expect($('.io-up1').getAttribute('tabIndex')).to.equal('0')\n        expect($('.io-down1').getAttribute('tabIndex')).to.equal('0')\n      })\n      it('has a11y attributes', () => {\n        expect(ladder.getAttribute('role')).to.equal('listbox')\n      })\n      it('steps have a11y attributes', () => {\n        expect($('.io-up1').getAttribute('role')).to.equal('spinbutton')\n        expect($('.io-up1').getAttribute('aria-label')).to.equal('1')\n        expect($('.io-up1').getAttribute('aria-valuestep')).to.equal('1')\n        element.step = 0.5\n        ladder.changed()\n        expect($('.io-up1').getAttribute('aria-label')).to.equal('5')\n        element.value = 0\n        element.step = 0.0001\n        ladder.changed()\n        expect(ladder.getAttribute('aria-invalid')).to.equal(null)\n        element.value = NaN\n        ladder.changed()\n        expect(ladder.getAttribute('aria-invalid')).to.equal('true')\n        element.value = 12\n        ladder.changed()\n        element.min = 0\n        element.max = 24\n        element.step = 2\n        ladder.changed()\n        expect(ladder.getAttribute('aria-valuenow')).to.equal('12')\n        expect(ladder.getAttribute('aria-valuemin')).to.equal('0')\n        expect(ladder.getAttribute('aria-valuemax')).to.equal('24')\n        expect(ladder.getAttribute('aria-valuestep')).to.equal('2')\n        element.min = -Infinity\n        element.max = Infinity\n        element.step = 0.0001\n        ladder.changed()\n      })\n    })\n  }\n}\n"]}