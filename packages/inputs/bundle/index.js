import{ReactiveProperty as e,Property as t,IoElement as o,span as n,Register as i,IoOverlaySingleton as r,ThemeSingleton as s}from"@io-gui/core";import{ioIcon as a}from"@io-gui/icons";var l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,c=(e,t,o,n)=>{for(var i,r=n>1?void 0:n?h(t,o):t,s=e.length-1;s>=0;s--)(i=e[s])&&(r=(n?i(t,o,r):i(r))||r);return n&&r&&l(t,o,r),r};let d=class extends o{static get Style(){return"\n      :host {\n        cursor: pointer;\n        height: var(--io_fieldHeight);\n        min-height: var(--io_fieldHeight);\n        line-height: var(--io_lineHeight);\n        border: var(--io_border);\n        border-color: transparent;\n        border-radius: var(--io_borderRadius);\n        padding: var(--io_spacing) calc(var(--io_spacing3) + var(--io_borderWidth));\n        color: var(--io_color);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        font-size: var(--io_fontSize);\n        text-size-adjust: 100%;\n        @apply --unselectable;\n      }\n      :host:focus {\n        text-overflow: inherit;\n        @apply --io_focus;\n      }\n      :host[hidden] {\n        display: none;\n      }\n      :host[disabled] {\n        opacity: 0.5;\n      }\n      :host[pressed] {\n        border-color: var(--io_borderColorInset) !important;\n        box-shadow: var(--io_shadowInset) !important;\n      }\n      :host span {\n        height: var(--io_lineHeight);\n        vertical-align: top;\n      }\n      :host[appearance=neutral] {\n        color: var(--io_color);\n        background-color: transparent;\n      }\n      :host[appearance=inset] {\n        color: var(--io_colorInput);\n        background-color: var(--io_bgColorInput);\n        border-color: var(--io_borderColorInset);\n        padding-top: calc(var(--io_spacing) + 0.05em);\n        padding-bottom: calc(var(--io_spacing) - 0.05em);\n        box-shadow: var(--io_shadowInset);\n      }\n      :host[appearance=outset] {\n        border-color: var(--io_borderColorOutset);\n        background-image: var(--io_gradientOutset);\n        box-shadow: var(--io_shadowOutset);\n      }\n      :host.red,\n      :host[invalid] {\n        color: var(--io_colorWhite);\n        background-color: var(--io_bgColorRed);\n        border-color: var(--io_borderColorRed);\n      }\n      :host.green {\n        color: var(--io_colorWhite);\n        background-color: var(--io_bgColorGreen);\n        border-color: var(--io_borderColorGreen);\n      }\n      :host.blue,\n      :host[selected] {\n        color: var(--io_colorWhite);\n        background-color: var(--io_bgColorBlue);\n        border-color: var(--io_borderColorBlue);\n      }\n    "}static get Listeners(){return{focus:"onFocus",pointerdown:"onPointerdown",touchstart:["onTouchstart",{passive:!1}],click:"onClick"}}constructor(e={}){super(e)}onFocus(e){this.addEventListener("blur",this.onBlur),this.addEventListener("keydown",this.onKeydown),this.addEventListener("keyup",this.onKeyup)}onBlur(e){this.removeEventListener("blur",this.onBlur),this.removeEventListener("keydown",this.onKeydown),this.removeEventListener("keyup",this.onKeyup)}onPointerdown(e){e.stopPropagation(),this.setPointerCapture(e.pointerId),this.addEventListener("pointermove",this.onPointermove),this.addEventListener("pointerleave",this.onPointerleave),this.addEventListener("pointerup",this.onPointerup),this.addEventListener("pointercancel",this.onPointercancel),this.pressed=!0}onPointermove(e){e.stopPropagation()}onPointercancel(e){e.stopPropagation(),this.releasePointerCapture(e.pointerId),this.removeEventListener("pointermove",this.onPointermove),this.removeEventListener("pointerleave",this.onPointerleave),this.removeEventListener("pointerup",this.onPointerup),this.removeEventListener("pointercancel",this.onPointercancel),this.pressed=!1}onPointerleave(e){e.stopPropagation(),this.removeEventListener("pointermove",this.onPointermove),this.removeEventListener("pointerleave",this.onPointerleave),this.removeEventListener("pointerup",this.onPointerup),this.removeEventListener("pointercancel",this.onPointercancel),this.pressed=!1}onPointerup(e){e.stopPropagation(),this.releasePointerCapture(e.pointerId),this.removeEventListener("pointermove",this.onPointermove),this.removeEventListener("pointerleave",this.onPointerleave),this.removeEventListener("pointerup",this.onPointerup),this.removeEventListener("pointercancel",this.onPointercancel),this.pressed=!1}onTouchstart(e){e.stopPropagation(),this.addEventListener("touchmove",this.onTouchmove,{passive:!1}),this.addEventListener("touchend",this.onTouchend),this.focus()}onTouchmove(e){e.stopPropagation()}onTouchend(e){e.stopPropagation(),this.removeEventListener("touchmove",this.onTouchmove),this.removeEventListener("touchend",this.onTouchend)}inputValue(e){if(this.value!==e||"object"==typeof this.value){const t=this.value;this.setProperty("value",e),this.dispatch("value-input",{value:e,oldValue:t},!1)}}onClick(e){}onKeydown(e){switch(e.key){case"Enter":case" ":e.preventDefault(),this.onClick();break;default:["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab","Home","End","PageUp","PageDown"].includes(e.key)&&(e.preventDefault(),this.dispatch("io-focus-to",{source:this,command:e.key},!0))}}onKeyup(e){}getCaretPosition(){let e=0;const t=window.getSelection();if(t&&t.rangeCount){const o=t.getRangeAt(0),n=o.toString().length,i=o.cloneRange();i.selectNodeContents(this),i.setEnd(o.endContainer,o.endOffset),e=i.toString().length-n}return e}setCaretPosition(e=0){const t=window.getSelection();this._flattenTextNode(this);const o=this._textNode;if(t){const n=document.createRange();n.setStart(o,Math.max(0,Math.min(e,o.length))),n.collapse(!0),t.removeAllRanges(),t.addRange(n)}}selectAll(){const e=window.getSelection();this._flattenTextNode(this);const t=this._textNode;if(e&&t){const o=document.createRange();o.selectNodeContents(t),e.removeAllRanges(),e.addRange(o)}}labelChanged(){this.label?this.setAttribute("aria-label",this.label):this.removeAttribute("aria-label")}selectedChanged(){this.selected?this.setAttribute("aria-selected","true"):this.removeAttribute("aria-selected")}invalidChanged(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")}disabledChanged(){this.inert=this.disabled,this.disabled?this.setAttribute("aria-disabled","true"):this.removeAttribute("aria-disabled")}changed(){this.render([this.icon?a({value:this.icon}):null,this.label?n(this.label):null,void 0!==this.value?n(String(this.value)):null])}};c([e({value:""})],d.prototype,"value",2),c([e({type:String,value:""})],d.prototype,"icon",2),c([e({type:String,value:"",reflect:!0})],d.prototype,"label",2),c([e({value:!1,type:Boolean,reflect:!0})],d.prototype,"selected",2),c([e({value:!1,type:Boolean,reflect:!0})],d.prototype,"invalid",2),c([e({value:!1,type:Boolean,reflect:!0})],d.prototype,"disabled",2),c([e({value:!1,type:Boolean,reflect:!0})],d.prototype,"pressed",2),c([e({value:"neutral",reflect:!0})],d.prototype,"appearance",2),c([e({value:"",type:String,reflect:!0})],d.prototype,"pattern",2),c([t(!1)],d.prototype,"spellcheck",2),c([t(0)],d.prototype,"tabIndex",2),d=c([i],d);const p=function(e){return d.vConstructor(e)};var u=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b=(e,t,o,n)=>{for(var i,r=n>1?void 0:n?v(t,o):t,s=e.length-1;s>=0;s--)(i=e[s])&&(r=(n?i(t,o,r):i(r))||r);return n&&r&&u(t,o,r),r};let g=class extends d{static get Style(){return"\n      :host {\n        padding: var(--io_spacing);\n      }\n    "}constructor(e={}){super(e)}onClick(){this.toggle(),this.dispatch("io-boolean-clicked",{value:this.value},!0)}toggle(){this.inputValue(!this.value)}ready(){this.valueChanged(),this.changed()}valueChanged(){this.invalid="boolean"!=typeof this.value,this.setAttribute("aria-checked",String(!!this.value))}changed(){const e=this.value?this.true:this.false;this.render([this.icon?a({value:this.icon}):null,this.label?n(this.label+":"):null,e?e.includes("io:")?a({value:e}):n(e):null])}};b([e({value:!1,type:Boolean,reflect:!0})],g.prototype,"value",2),b([e({value:"true",type:String})],g.prototype,"true",2),b([e({value:"false",type:String})],g.prototype,"false",2),b([t("checkbox")],g.prototype,"role",2),g=b([i],g);const m=function(e){return g.vConstructor(e)};var y=Object.defineProperty,f=Object.getOwnPropertyDescriptor,x=(e,t,o,n)=>{for(var i,r=n>1?void 0:n?f(t,o):t,s=e.length-1;s>=0;s--)(i=e[s])&&(r=(n?i(t,o,r):i(r))||r);return n&&r&&y(t,o,r),r};let w=class extends d{static get Style(){return"\n      :host {\n        text-align: center;\n        color: var(--io_colorStrong);\n      }\n      :host > io-icon {\n        margin-right: var(--io_spacing);\n      }\n      :host > span {\n        vertical-align: top;\n      }\n    "}constructor(e={}){super(e)}onPointerdown(e){e.preventDefault(),super.onPointerdown(e)}onKeydown(e){super.onKeydown(e),"Enter"!==e.key&&" "!==e.key||(this.pressed=!0)}onKeyup(e){super.onKeyup(e),this.pressed=!1}onClick(e){"function"==typeof this.action&&this.action(this.value),this.dispatch("io-button-clicked",{value:this.value},!0)}ready(){this.changed()}changed(){this.setAttribute("aria-pressed",String(this.pressed)),this.render([this.icon?a({value:this.icon}):null,this.label?n(this.label):null])}};x([e({value:void 0})],w.prototype,"value",2),x([e()],w.prototype,"action",2),x([e({value:"outset",type:String,reflect:!0})],w.prototype,"appearance",2),x([t("button")],w.prototype,"role",2),w=x([i],w);const _=function(e){return w.vConstructor(e)};var P=Object.defineProperty,N=Object.getOwnPropertyDescriptor,C=(e,t,o,n)=>{for(var i,r=n>1?void 0:n?N(t,o):t,s=e.length-1;s>=0;s--)(i=e[s])&&(r=(n?i(t,o,r):i(r))||r);return n&&r&&P(t,o,r),r};let k=class extends d{static get Style(){return"\n      :host {\n        pointer-events: all;\n        display: inline-block;\n        cursor: ew-resize;\n        text-align: center;\n        background-color: var(--io_bgColorStrong) !important;\n        color: var(--io_color);\n        align-self: stretch;\n        touch-action: none;\n        width: 6em;\n      }\n      :host:focus {\n        background-color: var(--io_bgColor) !important;\n      }\n      /* TODO: use icons */\n      :host:before {\n        float: left;\n        content: '<';\n        opacity: 0.25;\n      }\n      :host:after {\n        float: right;\n        content: '>';\n        opacity: 0.25;\n      }\n    "}constructor(e){super(e)}onKeydown(e){let t=0;switch(e.key){case"Enter":case"Escape":case" ":this.dispatch("ladder-step-collapse",{},!0);break;case"ArrowLeft":case"Backspace":e.preventDefault(),t=-1*this.value;break;case"ArrowUp":case"ArrowDown":e.preventDefault(),this.dispatch("io-focus-to",{source:this,command:e.key},!0);break;case"ArrowRight":e.preventDefault(),t=1*this.value}0!==t&&this.dispatch("ladder-step-change",{step:Number(t.toFixed(5)),round:e.shiftKey},!0)}onPointerdown(e){this.setPointerCapture(e.pointerId),this.addEventListener("pointermove",this.onPointermove),this.addEventListener("pointerup",this.onPointerup),this.startX=e.clientX}onPointermove(e){const t=e.clientX-this.startX;if(Math.abs(t)>5){const o=Math.pow(t/5,2)*t<0?-1:1,n=t>0?Math.floor(o):Math.ceil(o),i=this.value*n;this.startX=e.clientX,this.dispatch("ladder-step-change",{step:Number(i.toFixed(5)),round:e.shiftKey},!0)}}onPointerup(e){this.releasePointerCapture(e.pointerId),this.removeEventListener("pointermove",this.onPointermove),this.removeEventListener("pointerup",this.onPointerup),this.dispatch("ladder-step-collapse",{},!0)}ready(){this.changed()}changed(){this.render([n(this.label)]),this.setAttribute("aria-label",this.label),this.setAttribute("aria-valuestep",this.label)}};C([e({value:1,type:Number})],k.prototype,"value",2),C([e({value:"",type:String})],k.prototype,"label",2),C([t("spinbutton")],k.prototype,"role",2),k=C([i],k);const A=function(e){return k.vConstructor(e)};var S=Object.defineProperty,E=Object.getOwnPropertyDescriptor,L=(e,t,o,n)=>{for(var i,r=n>1?void 0:n?E(t,o):t,s=e.length-1;s>=0;s--)(i=e[s])&&(r=(n?i(t,o,r):i(r))||r);return n&&r&&S(t,o,r),r};let O=class extends o{static get Style(){return"\n      :host {\n        display: flex;\n        flex-direction: column;\n        position: absolute;\n        pointer-events: none;\n        box-shadow: unset;\n        @apply --unselectable;\n      }\n      :host:not([expanded]) {\n        visibility: hidden;\n      }\n      :host > io-number-ladder-step {\n        box-shadow: var(--io_shadow);\n      }\n      :host > .io-up1,\n      :host > .io-up2,\n      :host > .io-up3,\n      :host > .io-up4 {\n        margin-bottom: var(--io_borderWidth);\n        box-shadow: 0px -2px 6px var(--io_shadowColor), 0 -1px 3px var(--io_shadowColor);\n      }\n      :host > .io-down1,\n      :host > .io-down2,\n      :host > .io-down3,\n      :host > .io-down4 {\n        margin-top: var(--io_borderWidth);\n        box-shadow: 0px 2px 6px var(--io_shadowColor), 0 1px 3px var(--io_shadowColor);\n      }\n      :host > .io-up1,\n      :host > .io-down1{\n        z-index: 4;\n      }\n      :host > .io-up2,\n      :host > .io-down2 {\n        z-index: 3;\n      }\n      :host > .io-up3,\n      :host > .io-down3 {\n        z-index: 2;\n      }\n      :host > .io-up4,\n      :host > .io-down4 {\n        z-index: 1;\n      }\n      :host > io-number-ladder-step:focus {\n        background-color: var(--io_bgColorStrong);\n        border-color: var(--io_colorBlue);\n      }\n      :host > .io-number-ladder-empty {\n        height: var(--io_fieldHeight);\n      }\n      :host > .io-number-ladder-center {\n        height: calc(1.5 * var(--io_fieldHeight));\n      }\n    "}static get Listeners(){return{"ladder-step-change":"_onLadderStepChange","ladder-step-collapse":"onLadderStepCollapse","io-focus-to":"onIoFocusTo"}}get value(){return this.src?this.src.value:0}get min(){return this.src?this.src.min:-1/0}get max(){return this.src?this.src.max:1/0}get step(){return this.src?this.src.step:1e-4}get conversion(){return this.src?this.src.conversion:1}constructor(e={}){super(e)}onIoFocusTo(e){const t=e.detail.source,o=e.detail.command;this.src&&("ArrowDown"===o&&t===this.querySelector(".io-up1")||"ArrowUp"===o&&t===this.querySelector(".io-down1"))&&(e.stopPropagation(),this.src.focus(),this.src.setCaretPosition(this.src.textNode.length))}_onLadderStepChange(e){const t=this.src;if(t){const o=e.detail.step,n=e.detail.round?Math.round(this.value/o)*o:this.value;let i=Math.min(this.max,Math.max(this.min,n+o));i=Number(i.toFixed(5)),t.inputValue(i)}}onLadderStepCollapse(){this.setProperty("expanded",!1)}expandedChanged(){if(this.expanded){if(this.src){const e=this.src.getBoundingClientRect(),t=this.getBoundingClientRect(),o=r.getBoundingClientRect();this.style.top=e.bottom-o.top+"px",this.style.left=e.left-o.left+"px",this.style.marginTop=-(t.height/2+s.lineHeight/2+s.spacing)+"px"}}else setTimeout(()=>{this.src?.setCaretPosition(this.src.textNode.length)}),this.removeAttribute("style");this.dispatch("expanded",{value:this.expanded},!0)}changed(){const e=this.max-this.min,t=n({class:"io-number-ladder-empty"});let o=this.step/1e4;for(;o<.1;)o*=10;const i=1e4*o,r=1e3*o,s=100*o,a=10*o,l=1*o,h=.1*o,c=.01*o,d=.001*o,p=Number((i*this.conversion).toFixed(6)),u=Number((r*this.conversion).toFixed(6)),v=Number((s*this.conversion).toFixed(6)),b=Number((a*this.conversion).toFixed(6)),g=Number((l*this.conversion).toFixed(6)),m=Number((h*this.conversion).toFixed(6)),y=Number((c*this.conversion).toFixed(6)),f=Number((d*this.conversion).toFixed(6));this.render([e>=i?A({class:"io-up4",value:i,label:String(p)}):t,e>=r?A({class:"io-up3",value:r,label:String(u)}):t,e>=s?A({class:"io-up2",value:s,label:String(v)}):t,e>=a?A({class:"io-up1",value:a,label:String(b)}):t,n({class:"io-number-ladder-center"}),this.step<=l?A({class:"io-down1",value:l,label:String(g)}):t,this.step<=h?A({class:"io-down2",value:h,label:String(m)}):t,this.step<=c?A({class:"io-down3",value:c,label:String(y)}):t,this.step<=d?A({class:"io-down4",value:d,label:String(f)}):t]),this.setAttribute("aria-valuemin",this.min),this.setAttribute("aria-valuemax",this.max),this.setAttribute("aria-valuenow",this.value),this.setAttribute("aria-valuestep",this.step),this.setAttribute("aria-invalid",!("number"==typeof this.value&&!isNaN(this.value))&&"true");const x=this.querySelectorAll("io-number-ladder-step");for(let n=x.length;n--;)x[n].setAttribute("aria-valuemin",String(this.min)),x[n].setAttribute("aria-valuemax",String(this.max)),x[n].setAttribute("aria-valuenow",String(this.value)),x[n].changed()}};L([e({value:void 0,type:o,init:null})],O.prototype,"src",2),L([e({value:!1,type:Boolean,reflect:!0})],O.prototype,"expanded",2),L([t("listbox")],O.prototype,"role",2),O=L([i],O);const D=new O;setTimeout(()=>{r.appendChild(D)},100);var T=Object.defineProperty,F=Object.getOwnPropertyDescriptor,M=(e,t,o,n)=>{for(var i,r=n>1?void 0:n?F(t,o):t,s=e.length-1;s>=0;s--)(i=e[s])&&(r=(n?i(t,o,r):i(r))||r);return n&&r&&T(t,o,r),r};let K=class extends d{static get Style(){return"\n      :host {\n        cursor: text;\n        user-select: text;\n        -webkit-user-select: text;\n        -webkit-touch-callout: default;\n        font-family: monospace;\n      }\n      :host[placeholder]:empty:before {\n        content: attr(placeholder);\n        visibility: visible;\n        color: var(--io_colorInput);\n        padding: 0 calc(var(--io_spacing) + var(--io_borderWidth));\n        opacity: 0.5;\n      }\n    "}constructor(e={}){super(e)}get textNode(){return this._flattenTextNode(this),this._textNode.nodeValue}set textNode(e){this._flattenTextNode(this),this._textNode.nodeValue=String(e)}onBlur(e){super.onBlur(e),this._setFromTextNode(),this.scrollTop=0,this.scrollLeft=0,setTimeout(()=>{document.activeElement.parentElement!==D&&(D.expanded=!1)})}onPointerdown(e){"touch"===e.pointerType&&e.preventDefault(),this.addEventListener("pointermove",this.onPointermove),this.addEventListener("pointerup",this.onPointerup),document.activeElement!==this||e.button}onPointerup(e){this.removeEventListener("pointermove",this.onPointermove),this.removeEventListener("pointerup",this.onPointerup),this.ladder||1===e.button?("touch"===e.pointerType?(e.preventDefault(),document.activeElement.blur()):document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length)),this.expandLadder()):document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length))}expandLadder(){D.src=this,D.expanded=!0}collapseLadder(){D.expanded=!1}onKeydown(e){const t=window.getSelection().getRangeAt(0),o=t.startOffset,n=t.endOffset,i=this.childNodes[0]?this.childNodes[0].length:0,r=t.startContainer===t.endContainer&&(t.startContainer===this.childNodes[0]||t.startContainer===this);switch(e.key){case"Escape":case"Enter":case" ":e.preventDefault(),this._setFromTextNode(),(/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)||"ontouchstart"in window&&!window.matchMedia("(pointer: fine)").matches)&&this.blur();break;case"Home":e.preventDefault(),this.textNode=String(this.min),this._setFromTextNode();break;case"End":e.preventDefault(),this.textNode=String(this.max),this._setFromTextNode();break;case"ArrowLeft":(e.ctrlKey||r&&o===n&&0===o)&&(e.preventDefault(),this.dispatch("io-focus-to",{source:this,command:e.key},!0));break;case"ArrowUp":if(D.expanded){e.preventDefault();const t=D.querySelector(".io-up1");t&&t.focus()}else(e.ctrlKey||r&&o===n&&0===o)&&(e.preventDefault(),this.dispatch("io-focus-to",{source:this,command:e.key},!0));break;case"ArrowRight":(e.ctrlKey||r&&o===n&&o===i)&&(e.preventDefault(),this.dispatch("io-focus-to",{source:this,command:e.key},!0));break;case"ArrowDown":if(D.expanded){e.preventDefault();const t=D.querySelector(".io-down1");t&&t.focus()}else(e.ctrlKey||r&&o===n&&o===i)&&(e.preventDefault(),this.dispatch("io-focus-to",{source:this,command:e.key},!0))}}onKeyup(e){if("Control"===e.key||"Shift"===e.key?D.expanded?this.collapseLadder():this.expandLadder():"Escape"!==e.key&&"Enter"!==e.key&&" "!==e.key||this.collapseLadder(),this.live){const e=this.getCaretPosition();this._setFromTextNode(),this.setCaretPosition(e)}}_setFromTextNode(){const e=this.textNode.trim().replace(",",".");let t=Number(e)/this.conversion;t=Math.min(this.max,Math.max(this.min,t)),t=Math.round(t/this.step)*this.step;const o=Math.max(0,Math.min(100,-Math.floor(Math.log(this.step)/Math.LN10)));t=Number(t.toFixed(o)),isNaN(t)?(this._reactiveProperties.get("invalid").value=!0,this.setAttribute("invalid","true"),this.setAttribute("aria-invalid","true")):(this._reactiveProperties.get("invalid").value=!1,this.removeAttribute("invalid"),this.removeAttribute("aria-invalid"),this.inputValue(t))}ready(){this.disabledChanged(),this.changed()}changed(){this.setAttribute("aria-valuenow",this.value),this.setAttribute("aria-valuemin",this.min),this.setAttribute("aria-valuemax",this.max),this.setAttribute("aria-valuestep",this.step),"number"!=typeof this.value||isNaN(this.value)?(this.setAttribute("invalid","true"),this.setAttribute("aria-invalid","true")):(this.removeAttribute("invalid"),this.removeAttribute("aria-invalid"));let e,t=this.value;if("number"!=typeof t||isNaN(t))e="NaN";else{t*=this.conversion;let o=-Math.floor(Math.log(this.step*this.conversion)/Math.LN10);o=Math.max(0,Math.min(100,o)),t=Number(t.toFixed(o)),e=String(t)}this.setAttribute("value",e),this.setAttribute("positive",this.value>=0),this.textNode=e}};M([e({value:0,type:Number})],K.prototype,"value",2),M([e({value:!1,type:Boolean})],K.prototype,"live",2),M([e({value:1,type:Number})],K.prototype,"conversion",2),M([e({value:1e-4,type:Number})],K.prototype,"step",2),M([e({value:-1/0,type:Number})],K.prototype,"min",2),M([e({value:1/0,type:Number})],K.prototype,"max",2),M([e({value:!1,type:Boolean})],K.prototype,"ladder",2),M([e({value:"inset",type:String,reflect:!0})],K.prototype,"appearance",2),M([t("true")],K.prototype,"contentEditable",2),M([e({value:'pattern="-?[0-9]*?[0-9]*"',type:String,reflect:!0})],K.prototype,"pattern",2),M([t("text")],K.prototype,"inputMode",2),M([t("textbox")],K.prototype,"role",2),K=M([i],K);const B=function(e){return K.vConstructor(e)};var I=Object.defineProperty,R=Object.getOwnPropertyDescriptor,j=(e,t,o,n)=>{for(var i,r=n>1?void 0:n?R(t,o):t,s=e.length-1;s>=0;s--)(i=e[s])&&(r=(n?i(t,o,r):i(r))||r);return n&&r&&I(t,o,r),r};let H=class extends d{static get Style(){return"\n      :host {\n        cursor: text;\n        user-select: text;\n        -webkit-user-select: text;\n        -webkit-touch-callout: default;\n      }\n      :host[placeholder]:empty:before {\n        content: attr(placeholder);\n        visibility: visible;\n        color: var(--io_colorInput);\n        padding: 0 calc(var(--io_spacing) + var(--io_borderWidth));\n        opacity: 0.5;\n      }\n    "}constructor(e={}){super(e)}get textNode(){return this._flattenTextNode(this),this._textNode.nodeValue}set textNode(e){this._flattenTextNode(this),this._textNode.nodeValue=String(e)}_setFromTextNode(){const e=this.textNode;"string"==typeof this.value&&e!==String(this.value)&&this.inputValue(e)}_setObjectFromTextNodeJSON(){const e=this.textNode;try{const t=JSON.parse(e.replace(/[\t\n\r ]+/g," "));this.inputValue(t)}catch(t){console.warn("IoString: Cannot parse value",e),console.error(t),this._setFromTextNode()}}onBlur(e){super.onBlur(e),this._setFromTextNode(),this.scrollTop=0,this.scrollLeft=0}onPointerup(e){super.onPointerup(e),document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length))}onKeydown(e){const t=window.getSelection().getRangeAt(0),o=t.startOffset,n=t.endOffset,i=this.childNodes[0]?this.childNodes[0].length:0,r=t.startContainer===t.endContainer&&(t.startContainer===this.childNodes[0]||t.startContainer===this);switch(e.key){case"Enter":e.preventDefault(),e.shiftKey?this._setObjectFromTextNodeJSON():this._setFromTextNode();break;case"ArrowLeft":(e.ctrlKey||r&&o===n&&0===o)&&(e.preventDefault(),this.dispatch("io-focus-to",{source:this,command:"ArrowLeft"},!0));break;case"ArrowUp":(e.ctrlKey||r&&o===n&&0===o)&&(e.preventDefault(),this.dispatch("io-focus-to",{source:this,command:"ArrowUp"},!0));break;case"ArrowRight":(e.ctrlKey||r&&o===n&&o===i)&&(e.preventDefault(),this.dispatch("io-focus-to",{source:this,command:"ArrowRight"},!0));break;case"ArrowDown":(e.ctrlKey||r&&o===n&&o===i)&&(e.preventDefault(),this.dispatch("io-focus-to",{source:this,command:"ArrowDown"},!0));break;default:["Tab","Home","End","PageUp","PageDown"].includes(e.key)&&(e.preventDefault(),this.dispatch("io-focus-to",{source:this,command:e.key},!0))}}onKeyup(e){if(super.onKeyup(e),this.live){const e=this.getCaretPosition();this._setFromTextNode(),this.setCaretPosition(e)}}ready(){this.disabledChanged()}valueChanged(){this.invalid="string"!=typeof this.value&&null!==this.value&&void 0!==this.value}changed(){this.textNode=String(this.value||"")}};j([e({value:"",type:String})],H.prototype,"value",2),j([e({value:!1,type:Boolean})],H.prototype,"live",2),j([e({value:"",type:String,reflect:!0})],H.prototype,"placeholder",2),j([e({value:"inset",reflect:!0})],H.prototype,"appearance",2),j([t("true")],H.prototype,"contentEditable",2),j([t("textbox")],H.prototype,"role",2),H=j([i],H);const W=function(e){return H.vConstructor(e)};var z=Object.getOwnPropertyDescriptor;let V=class extends g{static get Style(){return"\n      :host {\n        display: flex;\n        position: relative;\n        overflow: visible;\n        padding: var(--io_spacing) var(--io_spacing);\n      }\n      :host:focus {\n        outline: 0 !important;\n        border-color: transparent !important;\n        z-index: 1;\n      }\n      :host:focus > span:before {\n        @apply --io_focus;\n      }\n      :host[pressed] {\n        border-color: transparent !important;\n        box-shadow: none !important;\n      }\n      :host > span {\n        position: relative;\n        width: calc(1.5 * var(--io_fieldHeight));\n      }\n      :host > span:before {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        visibility: visible;\n        left: 0;\n        width: 100%;\n        height: var(--io_lineHeight);\n        border-radius: var(--io_lineHeight);\n        border: var(--io_border);\n        border-color: var(--io_borderColorInset);\n        background-color: var(--io_bgColorInput);\n        box-shadow: var(--io_shadowInset);\n        transition: background-color 0.4s;\n      }\n      :host > span:after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        visibility: visible;\n        top: var(--io_borderWidth);\n        left: var(--io_borderWidth);\n        height: calc(var(--io_lineHeight) - calc(2 * var(--io_borderWidth)));\n        width: calc(var(--io_lineHeight) - calc(2 * var(--io_borderWidth)));\n        background-color: var(--io_bgColorLight);\n        box-shadow: var(--io_shadowOutset);\n        border: var(--io_border);\n        border-color: var(--io_borderColorOutset);\n        border-radius: var(--io_lineHeight);\n        transition-timing-function: ease-in-out;\n        transition: left 0.25s;\n        z-index: 2;\n      }\n      :host[value] > span:after {\n        background-color: var(--io_bgColorBlue);\n        left: calc(100% - calc(var(--io_lineHeight) - var(--io_borderWidth)));\n      }\n    "}changed(){this.render([this.icon?a({value:this.icon}):null,n()])}};V=((e,t,o,n)=>{for(var i,r=n>1?void 0:n?z(t,o):t,s=e.length-1;s>=0;s--)(i=e[s])&&(r=i(r)||r);return r})([i],V);const U=function(e){return V.vConstructor(e)};export{g as IoBoolean,w as IoButton,d as IoField,K as IoNumber,D as IoNumberLadderSingleton,k as IoNumberLadderStep,H as IoString,V as IoSwitch,m as ioBoolean,_ as ioButton,p as ioField,B as ioNumber,A as ioNumberLadderStep,W as ioString,U as ioSwitch};
//# sourceMappingURL=index.js.map
