{"version":3,"file":"IoLayout.integration.test.js","sourceRoot":"","sources":["../../src/elements/IoLayout.integration.test.ts"],"names":[],"mappings":"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","sourcesContent":["//@ts-nocheck\nimport { describe, it, expect, beforeEach, afterEach, vi } from 'vitest'\nimport {\n  IoLayout,\n  IoSplit,\n  IoPanel,\n  IoTab,\n  Split,\n  Panel,\n  Tab,\n  tabDragIconSingleton,\n  ioTabDropRectSingleton,\n} from '@io-gui/layout'\n\n/**\n * Integration tests for IoLayout drag-drop flows.\n *\n * These tests verify the complete drag-drop interaction flows including:\n * - Tab reordering within the same panel\n * - Tab moving between panels\n * - Tab moving to create new splits\n * - Drag cancellation and edge cases\n */\ndescribe('IoLayout Integration - Drag Drop Flows', () => {\n  let layout: IoLayout\n  let container: HTMLElement\n\n  function createPointerEvent(\n    type: string,\n    options: Partial<PointerEventInit> = {}\n  ): PointerEvent {\n    return new PointerEvent(type, {\n      pointerId: 1,\n      buttons: type === 'pointerup' ? 0 : 1,\n      bubbles: true,\n      cancelable: true,\n      ...options,\n    })\n  }\n\n  function simulateDrag(\n    ioTab: IoTab,\n    startX: number,\n    startY: number,\n    endX: number,\n    endY: number,\n    complete: boolean = true\n  ) {\n    const downEvent = createPointerEvent('pointerdown', {\n      clientX: startX,\n      clientY: startY,\n    })\n    ioTab.onPointerdown(downEvent)\n\n    // Move past threshold (10px)\n    const moveEvent1 = createPointerEvent('pointermove', {\n      clientX: startX + 15,\n      clientY: startY,\n    })\n    ioTab.onPointermove(moveEvent1)\n\n    // Move to final position\n    const moveEvent2 = createPointerEvent('pointermove', {\n      clientX: endX,\n      clientY: endY,\n    })\n    ioTab.onPointermove(moveEvent2)\n\n    if (complete) {\n      const upEvent = createPointerEvent('pointerup', {\n        clientX: endX,\n        clientY: endY,\n      })\n      ioTab.onPointerup(upEvent)\n    }\n  }\n\n  beforeEach(() => {\n    container = document.createElement('div')\n    // Set visible dimensions for bounding rect calculations\n    container.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 800px;\n      height: 600px;\n    `\n    document.body.appendChild(container)\n  })\n\n  afterEach(() => {\n    if (layout) {\n      layout.remove()\n    }\n    container.remove()\n\n    // Reset singleton state\n    tabDragIconSingleton.setProperties({\n      dragging: false,\n      tab: null,\n      dropSource: null,\n      dropTarget: null,\n      splitDirection: 'none',\n      dropIndex: -1,\n    })\n  })\n\n  describe('Tab Reordering Within Same Panel', () => {\n    beforeEach(() => {\n      const split = new Split({\n        type: 'split',\n        children: [\n          {\n            type: 'panel',\n            tabs: [\n              { id: 'tab1', label: 'Tab 1' },\n              { id: 'tab2', label: 'Tab 2' },\n              { id: 'tab3', label: 'Tab 3' },\n            ],\n          },\n        ],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n    })\n\n    it('should initiate drag after moving past threshold', () => {\n      const ioTab = layout.querySelector('io-tab') as IoTab\n\n      const downEvent = createPointerEvent('pointerdown', {\n        clientX: 100,\n        clientY: 50,\n      })\n      ioTab.onPointerdown(downEvent)\n\n      // Move 5px (less than threshold)\n      const moveEvent1 = createPointerEvent('pointermove', {\n        clientX: 105,\n        clientY: 50,\n      })\n      ioTab.onPointermove(moveEvent1)\n      expect(tabDragIconSingleton.dragging).toBe(false)\n\n      // Move past 10px threshold\n      const moveEvent2 = createPointerEvent('pointermove', {\n        clientX: 115,\n        clientY: 50,\n      })\n      ioTab.onPointermove(moveEvent2)\n      expect(tabDragIconSingleton.dragging).toBe(true)\n    })\n\n    it('should set drag icon position at cursor', () => {\n      const ioTab = layout.querySelector('io-tab') as IoTab\n\n      const downEvent = createPointerEvent('pointerdown', {\n        clientX: 100,\n        clientY: 50,\n      })\n      ioTab.onPointerdown(downEvent)\n\n      const moveEvent = createPointerEvent('pointermove', {\n        clientX: 200,\n        clientY: 75,\n      })\n      ioTab.onPointermove(moveEvent)\n\n      expect(tabDragIconSingleton.style.left).toBe('200px')\n      expect(tabDragIconSingleton.style.top).toBe('75px')\n    })\n\n    it('should set drop source panel when drag starts', () => {\n      const ioTab = layout.querySelector('io-tab') as IoTab\n      const ioPanel = layout.querySelector('io-panel') as IoPanel\n\n      const downEvent = createPointerEvent('pointerdown', {\n        clientX: 100,\n        clientY: 50,\n      })\n      ioTab.onPointerdown(downEvent)\n\n      const moveEvent = createPointerEvent('pointermove', {\n        clientX: 115,\n        clientY: 50,\n      })\n      ioTab.onPointermove(moveEvent)\n\n      expect(tabDragIconSingleton.dropSource).toBe(ioPanel)\n    })\n\n    it('should reset singleton state on drop completion', () => {\n      const ioTab = layout.querySelector('io-tab') as IoTab\n\n      simulateDrag(ioTab, 100, 50, 200, 50)\n\n      expect(tabDragIconSingleton.dragging).toBe(false)\n      expect(tabDragIconSingleton.tab).toBeNull()\n      expect(tabDragIconSingleton.dropSource).toBeNull()\n      expect(tabDragIconSingleton.dropTarget).toBeNull()\n      expect(tabDragIconSingleton.splitDirection).toBe('none')\n      expect(tabDragIconSingleton.dropIndex).toBe(-1)\n    })\n\n    it('should trigger click when no drag occurred', () => {\n      const panel = layout.split.children[0] as Panel\n\n      // Initially tab1 is selected\n      expect(panel.getSelected()).toBe('tab1')\n\n      // Get second tab and click without drag\n      const tabs = layout.querySelectorAll('io-tab') as NodeListOf<IoTab>\n      const tab2Element = tabs[1]\n\n      const downEvent = createPointerEvent('pointerdown', {\n        clientX: 100,\n        clientY: 50,\n      })\n      tab2Element.onPointerdown(downEvent)\n\n      // Minimal movement (under threshold)\n      const moveEvent = createPointerEvent('pointermove', {\n        clientX: 102,\n        clientY: 50,\n      })\n      tab2Element.onPointermove(moveEvent)\n\n      const upEvent = createPointerEvent('pointerup', {\n        clientX: 102,\n        clientY: 50,\n      })\n      tab2Element.onPointerup(upEvent)\n\n      // Tab 2 should be selected via click\n      expect(panel.getSelected()).toBe('tab2')\n    })\n  })\n\n  describe('Tab Drag Between Panels', () => {\n    let sourcePanel: Panel\n    let targetPanel: Panel\n    let sourcePanelElement: IoPanel\n    let targetPanelElement: IoPanel\n\n    beforeEach(() => {\n      const split = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          {\n            type: 'panel',\n            tabs: [\n              { id: 'src-tab1', label: 'Source Tab 1' },\n              { id: 'src-tab2', label: 'Source Tab 2' },\n            ],\n          },\n          {\n            type: 'panel',\n            tabs: [{ id: 'tgt-tab1', label: 'Target Tab 1' }],\n          },\n        ],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n\n      sourcePanel = split.children[0] as Panel\n      targetPanel = split.children[1] as Panel\n\n      const panels = layout.querySelectorAll('io-panel')\n      sourcePanelElement = panels[0] as IoPanel\n      targetPanelElement = panels[1] as IoPanel\n    })\n\n    it('should move tab to another panel center', () => {\n      const originalTab = sourcePanel.tabs[0]\n\n      expect(sourcePanel.tabs.length).toBe(2)\n      expect(targetPanel.tabs.length).toBe(1)\n\n      // Simulate drag to center of target panel\n      targetPanelElement.moveTabToSplit(sourcePanelElement, originalTab, 'center')\n\n      expect(sourcePanel.tabs.length).toBe(1)\n      expect(targetPanel.tabs.length).toBe(2)\n      expect(targetPanel.tabs.find((t) => t.id === 'src-tab1')).toBeTruthy()\n    })\n\n    it('should preserve panel structure when moving tabs', () => {\n      const originalTab = sourcePanel.tabs[1]\n      targetPanelElement.moveTabToSplit(sourcePanelElement, originalTab, 'center')\n\n      // Both panels should still exist\n      const panelCount = layout.querySelectorAll('io-panel').length\n      expect(panelCount).toBe(2)\n\n      // Layout structure should remain\n      expect(layout.split.children.length).toBe(2)\n    })\n\n    it('should select moved tab in target panel', () => {\n      const originalTab = sourcePanel.tabs[0]\n      targetPanelElement.moveTabToSplit(sourcePanelElement, originalTab, 'center')\n\n      expect(targetPanel.getSelected()).toBe('src-tab1')\n    })\n  })\n\n  describe('Tab Drag to Create New Splits', () => {\n    let sourcePanel: Panel\n    let targetPanel: Panel\n    let ioSplit: IoSplit\n    let sourcePanelElement: IoPanel\n\n    beforeEach(() => {\n      const split = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          {\n            type: 'panel',\n            tabs: [\n              { id: 'src-tab1' },\n              { id: 'src-tab2' },\n            ],\n          },\n          {\n            type: 'panel',\n            tabs: [{ id: 'tgt-tab1' }],\n          },\n        ],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n\n      sourcePanel = split.children[0] as Panel\n      targetPanel = split.children[1] as Panel\n      ioSplit = layout.querySelector('io-split') as IoSplit\n\n      const panels = layout.querySelectorAll('io-panel')\n      sourcePanelElement = panels[0] as IoPanel\n    })\n\n    it('should create new split when dropping left in same orientation', () => {\n      const tab = sourcePanel.tabs[1]\n\n      ioSplit.moveTabToSplit(sourcePanelElement, targetPanel, tab, 'left')\n\n      // Should add new panel at left of target (at index 0, since newIndex = targetIndex - 1 = 0)\n      expect(layout.split.children.length).toBe(3)\n      expect(layout.split.children[0] instanceof Panel).toBe(true)\n      expect((layout.split.children[0] as Panel).tabs[0].id).toBe('src-tab2')\n    })\n\n    it('should create new split when dropping right in same orientation', () => {\n      const tab = sourcePanel.tabs[1]\n\n      ioSplit.moveTabToSplit(sourcePanelElement, targetPanel, tab, 'right')\n\n      // Should add new panel at right of target\n      expect(layout.split.children.length).toBe(3)\n      expect(layout.split.children[2] instanceof Panel).toBe(true)\n      expect((layout.split.children[2] as Panel).tabs[0].id).toBe('src-tab2')\n    })\n\n    it('should create nested split when dropping perpendicular (top)', () => {\n      const tab = sourcePanel.tabs[1]\n      const targetPanelModel = layout.split.children[0] as Panel\n\n      ioSplit.moveTabToSplit(sourcePanelElement, targetPanelModel, tab, 'top')\n\n      // First child should now be a split with vertical orientation\n      expect(layout.split.children[0] instanceof Split).toBe(true)\n      expect((layout.split.children[0] as Split).orientation).toBe('vertical')\n    })\n\n    it('should create nested split when dropping perpendicular (bottom)', () => {\n      const tab = sourcePanel.tabs[1]\n      const targetPanelModel = layout.split.children[0] as Panel\n\n      ioSplit.moveTabToSplit(sourcePanelElement, targetPanelModel, tab, 'bottom')\n\n      // First child should now be a split with vertical orientation\n      expect(layout.split.children[0] instanceof Split).toBe(true)\n      expect((layout.split.children[0] as Split).orientation).toBe('vertical')\n\n      // New panel should be at bottom\n      const nestedSplit = layout.split.children[0] as Split\n      expect(nestedSplit.children[1] instanceof Panel).toBe(true)\n      expect((nestedSplit.children[1] as Panel).tabs[0].id).toBe('src-tab2')\n    })\n\n    it('should remove tab from source panel when creating split', () => {\n      const tab = sourcePanel.tabs[1]\n\n      ioSplit.moveTabToSplit(sourcePanelElement, targetPanel, tab, 'left')\n\n      // Tab should be removed from source\n      expect(sourcePanel.tabs.length).toBe(1)\n      expect(sourcePanel.tabs.find((t) => t.id === 'src-tab2')).toBeUndefined()\n    })\n  })\n\n  describe('Drag Cancellation', () => {\n    beforeEach(() => {\n      const split = new Split({\n        type: 'split',\n        children: [\n          {\n            type: 'panel',\n            tabs: [\n              { id: 'tab1' },\n              { id: 'tab2' },\n            ],\n          },\n        ],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n    })\n\n    it('should cancel drag on pointercancel event', () => {\n      const ioTab = layout.querySelector('io-tab') as IoTab\n      const panel = layout.split.children[0] as Panel\n      const originalTabCount = panel.tabs.length\n\n      // Start drag\n      const downEvent = createPointerEvent('pointerdown', {\n        clientX: 100,\n        clientY: 50,\n      })\n      ioTab.onPointerdown(downEvent)\n\n      const moveEvent = createPointerEvent('pointermove', {\n        clientX: 200,\n        clientY: 50,\n      })\n      ioTab.onPointermove(moveEvent)\n\n      expect(tabDragIconSingleton.dragging).toBe(true)\n\n      // Cancel\n      const cancelEvent = createPointerEvent('pointercancel')\n      ioTab.onPointercancel(cancelEvent)\n\n      expect(tabDragIconSingleton.dragging).toBe(false)\n      expect(panel.tabs.length).toBe(originalTabCount)\n    })\n\n    it('should reset drop marker on drag cancel', () => {\n      const ioTab = layout.querySelector('io-tab') as IoTab\n\n      // Start drag\n      const downEvent = createPointerEvent('pointerdown', {\n        clientX: 100,\n        clientY: 50,\n      })\n      ioTab.onPointerdown(downEvent)\n\n      const moveEvent = createPointerEvent('pointermove', {\n        clientX: 200,\n        clientY: 50,\n      })\n      ioTab.onPointermove(moveEvent)\n\n      // Cancel\n      tabDragIconSingleton.cancelDrag()\n\n      expect(ioTabDropRectSingleton.dropTarget).toBeNull()\n      expect(ioTabDropRectSingleton.dropIndex).toBe(-1)\n      expect(ioTabDropRectSingleton.splitDirection).toBe('none')\n    })\n  })\n\n  describe('TabDragIcon Singleton Behavior', () => {\n    beforeEach(() => {\n      const split = new Split({\n        type: 'split',\n        children: [\n          {\n            type: 'panel',\n            tabs: [{ id: 'tab1' }],\n          },\n        ],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n    })\n\n    it('should update drop marker when drag icon properties change', () => {\n      const ioPanel = layout.querySelector('io-panel') as IoPanel\n\n      tabDragIconSingleton.setProperties({\n        dragging: true,\n        dropTarget: ioPanel,\n        splitDirection: 'left',\n        dropIndex: -1,\n      })\n\n      expect(ioTabDropRectSingleton.dropTarget).toBe(ioPanel)\n      expect(ioTabDropRectSingleton.splitDirection).toBe('left')\n    })\n\n    it('should show drag icon with dragging attribute', () => {\n      tabDragIconSingleton.dragging = true\n      expect(tabDragIconSingleton.hasAttribute('dragging')).toBe(true)\n\n      tabDragIconSingleton.dragging = false\n      expect(tabDragIconSingleton.hasAttribute('dragging')).toBe(false)\n    })\n\n    it('should display tab label in drag icon', () => {\n      const tab = (layout.split.children[0] as Panel).tabs[0]\n\n      tabDragIconSingleton.tab = tab\n\n      const labelSpan = tabDragIconSingleton.querySelector('.label')\n      expect(labelSpan?.textContent).toBe('tab1')\n    })\n  })\n\n  describe('Drop Target Detection', () => {\n    it('should calculate split direction based on cursor position', () => {\n      // Test the calculateSplitDirection logic via the singleton\n      // This verifies the direction calculation without needing actual DOM positions\n      const split = new Split({\n        type: 'split',\n        children: [{ type: 'panel', tabs: [{ id: 'tab1' }] }],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n\n      const ioPanel = layout.querySelector('io-panel') as IoPanel\n\n      // Test center detection via direct property setting\n      tabDragIconSingleton.setProperties({\n        dragging: true,\n        dropTarget: ioPanel,\n        splitDirection: 'center',\n        dropIndex: -1,\n      })\n\n      expect(tabDragIconSingleton.splitDirection).toBe('center')\n      expect(tabDragIconSingleton.dropTarget).toBe(ioPanel)\n    })\n\n    it('should detect edge directions', () => {\n      const split = new Split({\n        type: 'split',\n        children: [{ type: 'panel', tabs: [{ id: 'tab1' }] }],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n\n      const ioPanel = layout.querySelector('io-panel') as IoPanel\n\n      // Test various directions\n      const directions = ['left', 'right', 'top', 'bottom', 'center'] as const\n      for (const direction of directions) {\n        tabDragIconSingleton.setProperties({\n          dragging: true,\n          dropTarget: ioPanel,\n          splitDirection: direction,\n          dropIndex: -1,\n        })\n        expect(tabDragIconSingleton.splitDirection).toBe(direction)\n      }\n    })\n  })\n\n  describe('Last Tab Protection', () => {\n    it('should NOT remove panel when moving last tab to same panel', () => {\n      const split = new Split({\n        type: 'split',\n        children: [\n          { type: 'panel', tabs: [{ id: 'only-tab' }] },\n        ],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n\n      const panel = split.children[0] as Panel\n      const ioPanel = layout.querySelector('io-panel') as IoPanel\n      const tab = panel.tabs[0]\n\n      // Add the same tab back (simulating drop to same location)\n      ioPanel.addTab(tab, 0)\n\n      // Panel should still exist with 1 tab\n      expect(panel.tabs.length).toBe(1)\n      expect(layout.querySelectorAll('io-panel').length).toBe(1)\n    })\n\n    it('should NOT dispatch panel-remove when removing last tab from root panel', () => {\n      const split = new Split({\n        type: 'split',\n        children: [\n          { type: 'panel', tabs: [{ id: 'only-tab' }] },\n        ],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n\n      const ioPanel = layout.querySelector('io-panel') as IoPanel\n      const removeSpy = vi.fn()\n      ioPanel.addEventListener('io-panel-remove', removeSpy)\n\n      // Try to remove the last tab\n      ioPanel.removeTab(ioPanel.panel.tabs[0])\n\n      // Should not dispatch remove event\n      expect(removeSpy).not.toHaveBeenCalled()\n    })\n\n    it('should dispatch panel-remove when removing last tab from non-root panel', () => {\n      const split = new Split({\n        type: 'split',\n        children: [\n          { type: 'panel', tabs: [{ id: 'tab1' }] },\n          { type: 'panel', tabs: [{ id: 'tab2' }] },\n        ],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n\n      const panels = layout.querySelectorAll('io-panel')\n      const secondPanel = panels[1] as IoPanel\n      const removeSpy = vi.fn()\n      secondPanel.addEventListener('io-panel-remove', removeSpy)\n\n      secondPanel.removeTab(secondPanel.panel.tabs[0])\n\n      expect(removeSpy).toHaveBeenCalled()\n    })\n  })\n\n  describe('Drag End Drop Operations', () => {\n    let sourcePanel: Panel\n    let targetPanel: Panel\n    let sourcePanelElement: IoPanel\n    let targetPanelElement: IoPanel\n\n    beforeEach(() => {\n      const split = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          {\n            type: 'panel',\n            tabs: [{ id: 'src-tab1' }, { id: 'src-tab2' }],\n          },\n          {\n            type: 'panel',\n            tabs: [{ id: 'tgt-tab1' }],\n          },\n        ],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n\n      sourcePanel = split.children[0] as Panel\n      targetPanel = split.children[1] as Panel\n\n      const panels = layout.querySelectorAll('io-panel')\n      sourcePanelElement = panels[0] as IoPanel\n      targetPanelElement = panels[1] as IoPanel\n    })\n\n    it('should add tab to target panel with specific index when dropIndex is set', () => {\n      const tab = sourcePanel.tabs[0]\n\n      tabDragIconSingleton.setProperties({\n        dragging: true,\n        tab: tab,\n        dropSource: sourcePanelElement,\n        dropTarget: targetPanelElement,\n        splitDirection: 'none',\n        dropIndex: 1,\n      })\n\n      tabDragIconSingleton.endDrag()\n\n      expect(sourcePanel.tabs.length).toBe(1)\n      expect(targetPanel.tabs.length).toBe(2)\n      expect(targetPanel.tabs[1].id).toBe('src-tab1')\n    })\n\n    it('should call moveTabToSplit when splitDirection is set', () => {\n      const tab = sourcePanel.tabs[0]\n      const moveTabToSplitSpy = vi.spyOn(targetPanelElement, 'moveTabToSplit')\n\n      tabDragIconSingleton.setProperties({\n        dragging: true,\n        tab: tab,\n        dropSource: sourcePanelElement,\n        dropTarget: targetPanelElement,\n        splitDirection: 'left',\n        dropIndex: -1,\n      })\n\n      tabDragIconSingleton.endDrag()\n\n      expect(moveTabToSplitSpy).toHaveBeenCalledWith(\n        sourcePanelElement,\n        tab,\n        'left'\n      )\n    })\n\n    it('should not move tab when dropping on same panel without direction', () => {\n      const tab = sourcePanel.tabs[0]\n\n      tabDragIconSingleton.setProperties({\n        dragging: true,\n        tab: tab,\n        dropSource: sourcePanelElement,\n        dropTarget: sourcePanelElement,\n        splitDirection: 'none',\n        dropIndex: 1,\n      })\n\n      tabDragIconSingleton.endDrag()\n\n      // Should reorder within same panel, not remove\n      expect(sourcePanel.tabs.length).toBe(2)\n    })\n  })\n\n  describe('Complex Multi-Panel Scenarios', () => {\n    it('should handle drag through multiple nested splits', () => {\n      const split = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          { type: 'panel', tabs: [{ id: 'left' }] },\n          {\n            type: 'split',\n            orientation: 'vertical',\n            children: [\n              { type: 'panel', tabs: [{ id: 'top-right' }] },\n              { type: 'panel', tabs: [{ id: 'bottom-right' }] },\n            ],\n          },\n        ],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n\n      const panels = layout.querySelectorAll('io-panel')\n      expect(panels.length).toBe(3)\n\n      // Moving a tab from one nested panel to another should work\n      const sourcePanel = panels[1] as IoPanel\n      const targetPanel = panels[2] as IoPanel\n\n      const tab = sourcePanel.panel.tabs[0]\n      targetPanel.moveTabToSplit(sourcePanel, tab, 'center')\n\n      // Source should be empty (pending removal) or removed\n      expect(sourcePanel.panel.tabs.length).toBe(0)\n      // Target should have the tab\n      expect(targetPanel.panel.tabs.find((t) => t.id === 'top-right')).toBeTruthy()\n    })\n\n    it('should consolidate splits after panel removal', () => {\n      const split = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          { type: 'panel', tabs: [{ id: 'left' }, { id: 'left2' }] },\n          {\n            type: 'split',\n            orientation: 'vertical',\n            children: [\n              { type: 'panel', tabs: [{ id: 'top-right' }] },\n              { type: 'panel', tabs: [{ id: 'bottom-right' }] },\n            ],\n          },\n        ],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n\n      // Get the nested split\n      const nestedSplit = split.children[1] as Split\n      expect(nestedSplit.children.length).toBe(2)\n\n      // Remove one panel from nested split\n      const panelToRemove = nestedSplit.children[0] as Panel\n      panelToRemove.tabs.length = 0\n\n      // Dispatch panel-remove event\n      const panels = layout.querySelectorAll('io-panel')\n      const ioPanelToRemove = panels[1] as IoPanel\n      ioPanelToRemove.dispatchEvent(\n        new CustomEvent('io-panel-remove', {\n          detail: { panel: panelToRemove },\n          bubbles: true,\n        })\n      )\n\n      // After consolidation, the nested split should be replaced with its sole child\n      expect(split.children[1] instanceof Panel).toBe(true)\n    })\n  })\n\n  describe('Drop Marker Synchronization', () => {\n    beforeEach(() => {\n      const split = new Split({\n        type: 'split',\n        children: [{ type: 'panel', tabs: [{ id: 'tab1' }] }],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n    })\n\n    it('should sync drop marker with drag icon state changes', () => {\n      const ioPanel = layout.querySelector('io-panel') as IoPanel\n\n      // Initial state\n      expect(ioTabDropRectSingleton.dropIndex).toBe(-1)\n\n      // Update drag icon state\n      tabDragIconSingleton.setProperties({\n        dropTarget: ioPanel,\n        splitDirection: 'none',\n        dropIndex: 2,\n      })\n\n      // Drop marker should be in sync\n      expect(ioTabDropRectSingleton.dropTarget).toBe(ioPanel)\n      expect(ioTabDropRectSingleton.dropIndex).toBe(2)\n    })\n\n    it('should reset drop marker when drag ends', () => {\n      const ioPanel = layout.querySelector('io-panel') as IoPanel\n\n      tabDragIconSingleton.setProperties({\n        dragging: true,\n        dropTarget: ioPanel,\n        splitDirection: 'left',\n        dropIndex: 1,\n      })\n\n      tabDragIconSingleton.cancelDrag()\n\n      expect(ioTabDropRectSingleton.dropTarget).toBeNull()\n      expect(ioTabDropRectSingleton.splitDirection).toBe('none')\n      expect(ioTabDropRectSingleton.dropIndex).toBe(-1)\n    })\n  })\n\n  describe('Edge Cases and Error Handling', () => {\n    it('should handle drag when no io-layout ancestor exists', () => {\n      // Create a standalone io-tab not within a layout\n      const tab = new Tab({ id: 'orphan-tab' })\n      const ioTab = new IoTab({ tab })\n      container.appendChild(ioTab)\n\n      // Should not throw\n      const downEvent = createPointerEvent('pointerdown', {\n        clientX: 100,\n        clientY: 50,\n      })\n      expect(() => ioTab.onPointerdown(downEvent)).not.toThrow()\n\n      const moveEvent = createPointerEvent('pointermove', {\n        clientX: 200,\n        clientY: 50,\n      })\n      expect(() => ioTab.onPointermove(moveEvent)).not.toThrow()\n\n      ioTab.remove()\n      tab.dispose()\n    })\n\n    it('should handle rapid drag start/cancel sequences', () => {\n      const split = new Split({\n        type: 'split',\n        children: [{ type: 'panel', tabs: [{ id: 'tab1' }] }],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n\n      const ioTab = layout.querySelector('io-tab') as IoTab\n\n      for (let i = 0; i < 5; i++) {\n        const downEvent = createPointerEvent('pointerdown', {\n          clientX: 100,\n          clientY: 50,\n        })\n        ioTab.onPointerdown(downEvent)\n\n        const moveEvent = createPointerEvent('pointermove', {\n          clientX: 200,\n          clientY: 50,\n        })\n        ioTab.onPointermove(moveEvent)\n\n        const cancelEvent = createPointerEvent('pointercancel')\n        ioTab.onPointercancel(cancelEvent)\n      }\n\n      expect(tabDragIconSingleton.dragging).toBe(false)\n      expect(layout.split.children[0].tabs.length).toBe(1)\n    })\n\n    it('should handle duplicate tab ID when dragging to same panel', () => {\n      const split = new Split({\n        type: 'split',\n        children: [\n          {\n            type: 'panel',\n            tabs: [{ id: 'tab1' }, { id: 'tab2' }],\n          },\n        ],\n      })\n      layout = new IoLayout({ split, elements: [] })\n      container.appendChild(layout)\n\n      const ioPanel = layout.querySelector('io-panel') as IoPanel\n      const panel = ioPanel.panel\n\n      // Try to add duplicate\n      const consoleWarnSpy = vi.spyOn(console, 'warn').mockImplementation(() => {})\n      const duplicateTab = new Tab({ id: 'tab1' })\n      ioPanel.addTab(duplicateTab)\n\n      // Should have removed the duplicate\n      const tab1Count = panel.tabs.filter((t) => t.id === 'tab1').length\n      expect(tab1Count).toBe(1)\n      expect(consoleWarnSpy).toHaveBeenCalled()\n\n      consoleWarnSpy.mockRestore()\n    })\n  })\n})\n\ndescribe('IoLayout Integration - Multiple Instances', () => {\n  let layout1: IoLayout\n  let layout2: IoLayout\n  let container: HTMLElement\n\n  beforeEach(() => {\n    container = document.createElement('div')\n    container.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 1600px;\n      height: 600px;\n    `\n    document.body.appendChild(container)\n\n    const split1 = new Split({\n      type: 'split',\n      children: [{ type: 'panel', tabs: [{ id: 'layout1-tab' }] }],\n    })\n    layout1 = new IoLayout({ split: split1, elements: [] })\n    layout1.style.cssText = 'width: 800px; height: 600px; float: left;'\n    container.appendChild(layout1)\n\n    const split2 = new Split({\n      type: 'split',\n      children: [{ type: 'panel', tabs: [{ id: 'layout2-tab' }] }],\n    })\n    layout2 = new IoLayout({ split: split2, elements: [] })\n    layout2.style.cssText = 'width: 800px; height: 600px; float: left;'\n    container.appendChild(layout2)\n  })\n\n  afterEach(() => {\n    layout1.remove()\n    layout2.remove()\n    container.remove()\n\n    tabDragIconSingleton.setProperties({\n      dragging: false,\n      tab: null,\n      dropSource: null,\n      dropTarget: null,\n      splitDirection: 'none',\n      dropIndex: -1,\n    })\n  })\n\n  it('should scope drop target detection to containing layout', () => {\n    // This test documents the current behavior with multiple layouts\n    const tab1 = layout1.querySelector('io-tab') as IoTab\n    const panel1 = layout1.querySelector('io-panel') as IoPanel\n\n    // Start drag from layout1\n    const downEvent = new PointerEvent('pointerdown', {\n      pointerId: 1,\n      buttons: 1,\n      clientX: 50,\n      clientY: 50,\n      bubbles: true,\n      cancelable: true,\n    })\n    tab1.onPointerdown(downEvent)\n\n    // Move past the 10px threshold to initiate drag\n    const moveEvent = new PointerEvent('pointermove', {\n      pointerId: 1,\n      buttons: 1,\n      clientX: 65,\n      clientY: 50,\n      bubbles: true,\n      cancelable: true,\n    })\n    tab1.onPointermove(moveEvent)\n\n    // Drag icon should show layout1 panel as source\n    expect(tabDragIconSingleton.dragging).toBe(true)\n    expect(tabDragIconSingleton.dropSource).toBe(panel1)\n\n    // Note: Cross-layout drag behavior depends on the root passed to updateDrag\n    // which is scoped by closest('io-layout')\n  })\n\n  it('should maintain independent layout states', () => {\n    const panel1 = layout1.split.children[0] as Panel\n    const panel2 = layout2.split.children[0] as Panel\n\n    // Add tab to layout1\n    const ioPanel1 = layout1.querySelector('io-panel') as IoPanel\n    ioPanel1.addTab(new Tab({ id: 'new-tab' }))\n\n    expect(panel1.tabs.length).toBe(2)\n    expect(panel2.tabs.length).toBe(1)\n  })\n})\n\ndescribe('IoLayout Integration - State Persistence', () => {\n  let container: HTMLElement\n\n  beforeEach(() => {\n    container = document.createElement('div')\n    container.style.display = 'none'\n    document.body.appendChild(container)\n  })\n\n  afterEach(() => {\n    container.remove()\n\n    tabDragIconSingleton.setProperties({\n      dragging: false,\n      tab: null,\n      dropSource: null,\n      dropTarget: null,\n      splitDirection: 'none',\n      dropIndex: -1,\n    })\n  })\n\n  it('should serialize layout state after drag operations', () => {\n    const split = new Split({\n      type: 'split',\n      orientation: 'horizontal',\n      children: [\n        { type: 'panel', tabs: [{ id: 'tab1' }, { id: 'tab2' }] },\n        { type: 'panel', tabs: [{ id: 'tab3' }] },\n      ],\n    })\n    const layout = new IoLayout({ split, elements: [] })\n    container.appendChild(layout)\n\n    // Move tab from first to second panel\n    const sourcePanelElement = layout.querySelectorAll('io-panel')[0] as IoPanel\n    const targetPanelElement = layout.querySelectorAll('io-panel')[1] as IoPanel\n    const tab = split.children[0].tabs[1]\n\n    targetPanelElement.moveTabToSplit(sourcePanelElement, tab, 'center')\n\n    // Serialize state\n    const json = split.toJSON()\n\n    expect(json.children[0].tabs.length).toBe(1)\n    expect(json.children[1].tabs.length).toBe(2)\n    expect(json.children[1].tabs[1].id).toBe('tab2')\n\n    layout.remove()\n  })\n\n  it('should restore layout state from JSON', () => {\n    const initialJson = {\n      type: 'split' as const,\n      orientation: 'horizontal' as const,\n      children: [\n        { type: 'panel' as const, tabs: [{ id: 'restored-tab1' }] },\n        { type: 'panel' as const, tabs: [{ id: 'restored-tab2' }] },\n      ],\n    }\n\n    const split = new Split(initialJson)\n    const layout = new IoLayout({ split, elements: [] })\n    container.appendChild(layout)\n\n    const panels = layout.querySelectorAll('io-panel')\n    expect(panels.length).toBe(2)\n    expect((panels[0] as IoPanel).panel.tabs[0].id).toBe('restored-tab1')\n    expect((panels[1] as IoPanel).panel.tabs[0].id).toBe('restored-tab2')\n\n    layout.remove()\n  })\n})\n\n"]}