{"version":3,"file":"IoTabDropRect.js","sourceRoot":"","sources":["../../src/elements/IoTabDropRect.ts"],"names":[],"mappings":"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","sourcesContent":["import { Register, ReactiveProperty, IoElement, IoElementProps, ThemeSingleton } from '@io-gui/core'\nimport { SplitDirection } from './IoSplit.js'\nimport { IoPanel } from './IoPanel.js'\nimport { IoTab } from './IoTab.js'\n\n@Register\nclass IoTabDropRect extends IoElement {\n  static get Style() {\n    return /* css */`\n      :host {\n        position: fixed;\n        height: calc(var(--io_fieldHeight) - var(--io_borderWidth) - var(--io_borderRadius));\n        width: var(--io_spacing);\n        background-color: var(--io_bgColorBlue);\n        margin-bottom: var(--io_borderWidth);\n        z-index: 100000;\n        display: none;\n      }\n      :host:not([dropindex=\"-1\"]) {\n        display: block;\n      }\n      :host:not([splitdirection=\"none\"]) {\n        display: block;\n        opacity: 0.25;\n      }\n    `\n  }\n\n  @ReactiveProperty(null)\n  declare dropTarget: IoPanel | null\n\n  @ReactiveProperty({type: String, value: 'none', reflect: true})\n  declare splitDirection: SplitDirection\n\n  @ReactiveProperty({type: Number, value: -1, reflect: true})\n  declare dropIndex: number\n\n  constructor(args: IoElementProps = {}) { super(args) }\n\n  changed() {\n    if (this.dropTarget && this.dropIndex !== -1) {\n      const tabs = this.dropTarget.querySelectorAll('io-tab')\n      this.style.width = ''\n      this.style.height = ''\n      if (tabs.length === 0) {\n        const rect = this.dropTarget.getBoundingClientRect()\n        this.style.top = `${rect.top + ThemeSingleton.borderRadius}px`\n        this.style.left = `${rect.left}px`\n      } else if (this.dropIndex > tabs.length - 1) {\n        const tab = tabs[tabs.length - 1] as IoTab\n        const rect = tab.getBoundingClientRect()\n        this.style.top = `${rect.top + ThemeSingleton.borderRadius}px`\n        this.style.left = `${rect.left + rect.width}px`\n      } else {\n        const tab = tabs[this.dropIndex] as IoTab\n        const rect = tab.getBoundingClientRect()\n        this.style.top = `${rect.top + ThemeSingleton.borderRadius}px`\n        this.style.left = `${rect.left - ThemeSingleton.spacing}px`\n      }\n    } else if (this.dropTarget && this.splitDirection !== 'none') {\n      const rect = this.dropTarget.getBoundingClientRect()\n      if (this.splitDirection === 'top') {\n        this.style.top = `${rect.top}px`\n        this.style.left = `${rect.left}px`\n        this.style.width = `${rect.width}px`\n        this.style.height = `${rect.height / 2}px`\n      } else if (this.splitDirection === 'bottom') {\n        this.style.top = `${rect.top + rect.height / 2}px`\n        this.style.left = `${rect.left}px`\n        this.style.width = `${rect.width}px`\n        this.style.height = `${rect.height / 2}px`\n      } else if (this.splitDirection === 'left') {\n        this.style.top = `${rect.top}px`\n        this.style.left = `${rect.left}px`\n        this.style.width = `${rect.width / 2}px`\n        this.style.height = `${rect.height}px`\n      } else if (this.splitDirection === 'right') {\n        this.style.top = `${rect.top}px`\n        this.style.left = `${rect.left + rect.width / 2}px`\n        this.style.width = `${rect.width / 2}px`\n        this.style.height = `${rect.height}px`\n      } else if (this.splitDirection === 'center') {\n        this.style.top = `${rect.top}px`\n        this.style.left = `${rect.left}px`\n        this.style.width = `${rect.width}px`\n        this.style.height = `${rect.height}px`\n      }\n    }\n  }\n}\n\nexport const ioTabDropRectSingleton = new IoTabDropRect()\ndocument.body.appendChild(ioTabDropRectSingleton as HTMLElement)\n\n"]}