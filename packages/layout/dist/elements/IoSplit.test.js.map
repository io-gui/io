{"version":3,"file":"IoSplit.test.js","sourceRoot":"","sources":["../../src/elements/IoSplit.test.ts"],"names":[],"mappings":"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","sourcesContent":["//@ts-nocheck\nimport { describe, it, expect, beforeEach, afterEach } from 'vitest'\nimport { IoLayout, Split, Panel } from '@io-gui/layout'\n\ndescribe('Split Construction Consolidation', () => {\n  it('Should consolidate on construction when root has only 1 child that is a Split', () => {\n    // This mimics the IoThreeDemo structure where the root Split has only 1 child (a Split)\n    const split = new Split({\n      type: 'split',\n      children: [\n        {\n          type: 'split',\n          orientation: 'horizontal',\n          children: [\n            {type: 'panel', tabs: [{id: 'panelA'}]},\n            {type: 'panel', tabs: [{id: 'panelB'}]},\n            {type: 'panel', tabs: [{id: 'panelC'}]}\n          ]\n        }\n      ]\n    })\n\n    // After construction, the root should have adopted the child's children and orientation\n    expect(split.children.length).toBe(3)\n    expect(split.orientation).toBe('horizontal')\n    expect(split.children[0]).toBeInstanceOf(Panel)\n    expect(split.children[1]).toBeInstanceOf(Panel)\n    expect(split.children[2]).toBeInstanceOf(Panel)\n  })\n\n  it('Should consolidate nested single-child splits on construction', () => {\n    // Multiple levels of single-child splits should all consolidate\n    const split = new Split({\n      type: 'split',\n      children: [\n        {\n          type: 'split',\n          orientation: 'vertical',\n          children: [\n            {\n              type: 'split',\n              orientation: 'horizontal',\n              children: [\n                {type: 'panel', tabs: [{id: 'panelA'}]},\n                {type: 'panel', tabs: [{id: 'panelB'}]}\n              ]\n            }\n          ]\n        }\n      ]\n    })\n\n    // Should flatten to just the innermost split's children\n    expect(split.children.length).toBe(2)\n    expect(split.orientation).toBe('horizontal')\n    expect(split.children[0]).toBeInstanceOf(Panel)\n    expect(split.children[1]).toBeInstanceOf(Panel)\n  })\n\n  it('Should NOT consolidate when root has only 1 child that is a Panel', () => {\n    const split = new Split({\n      type: 'split',\n      children: [\n        {type: 'panel', tabs: [{id: 'panelA'}]}\n      ]\n    })\n\n    // Single panel should remain as-is\n    expect(split.children.length).toBe(1)\n    expect(split.children[0]).toBeInstanceOf(Panel)\n  })\n\n  it('Should NOT consolidate when root has multiple children', () => {\n    const split = new Split({\n      type: 'split',\n      children: [\n        {type: 'panel', tabs: [{id: 'panelA'}]},\n        {\n          type: 'split',\n          orientation: 'vertical',\n          children: [{type: 'panel', tabs: [{id: 'panelB'}]}]\n        }\n      ]\n    })\n\n    // Multiple children should not trigger consolidation\n    expect(split.children.length).toBe(2)\n    expect(split.children[0]).toBeInstanceOf(Panel)\n    expect(split.children[1]).toBeInstanceOf(Split)\n  })\n\n  it('Should consolidate complex IoThreeDemo-like structure', () => {\n    // Exact structure from IoThreeDemo\n    const split = new Split({\n      type: 'split',\n      children: [\n        {\n          type: 'split',\n          orientation: 'horizontal',\n          children: [\n            {\n              type: 'panel',\n              flex: '1 0 380px',\n              tabs: [{id: 'AllClasses'}],\n            },\n            {\n              type: 'split',\n              orientation: 'vertical',\n              children: [\n                {\n                  type: 'split',\n                  orientation: 'horizontal',\n                  children: [\n                    {type: 'panel', tabs: [{id: 'Top'}]},\n                    {type: 'panel', tabs: [{id: 'Front'}]},\n                  ]\n                },\n                {\n                  type: 'split',\n                  orientation: 'horizontal',\n                  children: [\n                    {type: 'panel', tabs: [{id: 'Left'}]},\n                    {type: 'panel', tabs: [{id: 'Perspective'}]},\n                  ]\n                },\n              ]\n            },\n            {\n              type: 'panel',\n              flex: '1 0 380px',\n              tabs: [{id: 'ExampleSelector'}],\n            }\n          ]\n        }\n      ]\n    })\n\n    // Root should adopt the only child's children and orientation\n    expect(split.children.length).toBe(3)\n    expect(split.orientation).toBe('horizontal')\n    expect(split.children[0]).toBeInstanceOf(Panel)\n    expect(split.children[0].flex).toBe('1 0 380px')\n    expect(split.children[1]).toBeInstanceOf(Split)\n    expect(split.children[2]).toBeInstanceOf(Panel)\n  })\n})\n\ndescribe('IoSplit Consolidation', () => {\n  let layout\n  let container\n\n  beforeEach(() => {\n    container = document.createElement('div')\n    container.style.display = 'none'\n    document.body.appendChild(container)\n  })\n\n  afterEach(() => {\n    if (layout) {\n      layout.remove()\n    }\n    container.remove()\n  })\n\n  it('Should have consolidateChild method defined', () => {\n    const split = new Split({\n      type: 'split',\n      children: [{type: 'panel', tabs: [{id: 'tab1'}]}]\n    })\n    layout = new IoLayout({split, elements: []})\n    container.appendChild(layout)\n\n    const ioSplit = layout.querySelector('io-split')\n    expect(typeof ioSplit.consolidateChild).toBe('function')\n  })\n\n  describe('consolidateChild with Panel child', () => {\n    it('Should replace child split with its sole panel', () => {\n      const split = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          {type: 'panel', tabs: [{id: 'panelA'}]},\n          {\n            type: 'split',\n            orientation: 'vertical',\n            children: [{type: 'panel', tabs: [{id: 'panelB'}]}]\n          }\n        ]\n      })\n\n      layout = new IoLayout({split, elements: []})\n      container.appendChild(layout)\n\n      const rootSplit = layout.querySelector('io-split')\n      const childSplit = split.children[1]\n\n      expect(split.children.length).toBe(2)\n      expect(split.children[1]).toBeInstanceOf(Split)\n\n      rootSplit.consolidateChild(childSplit)\n\n      expect(split.children.length).toBe(2)\n      expect(split.children[1]).toBeInstanceOf(Panel)\n      expect(split.children[1].tabs[0].id).toBe('panelB')\n      expect(split.children[1].flex).toBe('1 1 100%')\n    })\n  })\n\n  describe('consolidateChild with Split child', () => {\n    it('Should adopt child split children and orientation', () => {\n      // Create a structure where childSplit has 1 child that is a Split with multiple children\n      // Note: Since construction-time consolidation now happens, we need to create\n      // this structure programmatically after construction\n      const innerSplit = new Split({\n        type: 'split',\n        orientation: 'vertical',\n        children: [\n          {type: 'panel', tabs: [{id: 'panelB'}]},\n          {type: 'panel', tabs: [{id: 'panelC'}]}\n        ]\n      })\n\n      const split = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          {type: 'panel', tabs: [{id: 'panelA'}]},\n          {type: 'panel', tabs: [{id: 'placeholder'}]}  // Placeholder panel\n        ]\n      })\n\n      // Replace the placeholder with a split that has only 1 child (a Split)\n      const childSplit = new Split({\n        type: 'split',\n        orientation: 'vertical',\n        children: [\n          {type: 'panel', tabs: [{id: 'panelB'}]},  // Dummy to prevent construction consolidation\n          {type: 'panel', tabs: [{id: 'panelC'}]}\n        ]\n      })\n      // Now manually set it to have only 1 child that is a Split\n      childSplit.children.length = 0\n      childSplit.children.push(innerSplit)\n\n      split.children[1] = childSplit\n\n      layout = new IoLayout({split, elements: []})\n      container.appendChild(layout)\n\n      const rootSplit = layout.querySelector('io-split')\n\n      expect(split.children.length).toBe(2)\n      expect(childSplit.children.length).toBe(1)\n      expect(childSplit.children[0]).toBeInstanceOf(Split)\n\n      rootSplit.consolidateChild(childSplit)\n\n      expect(split.children.length).toBe(3)\n      expect(split.orientation).toBe('vertical')\n      expect(split.children[0]).toBeInstanceOf(Panel)\n      expect(split.children[1]).toBeInstanceOf(Panel)\n      expect(split.children[2]).toBeInstanceOf(Panel)\n      expect(split.children[1].tabs[0].id).toBe('panelB')\n      expect(split.children[2].tabs[0].id).toBe('panelC')\n    })\n  })\n\n  describe('Event-driven consolidation', () => {\n    it('Should consolidate via event when dispatched from nested child IoSplit', () => {\n      // Structure: root > childSplit (with only 1 child which is a panel)\n      const split = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          {type: 'panel', tabs: [{id: 'panelA'}]},\n          {\n            type: 'split',\n            orientation: 'vertical',\n            children: [{type: 'panel', tabs: [{id: 'panelB'}]}]\n          }\n        ]\n      })\n\n      layout = new IoLayout({split, elements: []})\n      container.appendChild(layout)\n\n      const childSplit = split.children[1]\n      // Find the nested io-split element (second io-split in the DOM)\n      const childIoSplit = layout.querySelectorAll('io-split')[1]\n\n      // Dispatch event from child - it should bubble to parent rootSplit\n      childIoSplit.dispatchEvent(new CustomEvent('io-split-consolidate', {\n        detail: {split: childSplit},\n        bubbles: true\n      }))\n\n      // Parent should have consolidated the child split into a panel\n      expect(split.children.length).toBe(2)\n      expect(split.children[0]).toBeInstanceOf(Panel)\n      expect(split.children[1]).toBeInstanceOf(Panel)\n      expect(split.children[1].tabs[0].id).toBe('panelB')\n    })\n\n    it('Should handle nested split consolidation via event', () => {\n      // Structure: root > childSplit (with 1 child which is a Split)\n      // Since construction-time consolidation happens, we create this programmatically\n      const innerSplit = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          {type: 'panel', tabs: [{id: 'panelB'}]},\n          {type: 'panel', tabs: [{id: 'panelC'}]}\n        ]\n      })\n\n      const childSplit = new Split({\n        type: 'split',\n        orientation: 'vertical',\n        children: [\n          {type: 'panel', tabs: [{id: 'dummy1'}]},\n          {type: 'panel', tabs: [{id: 'dummy2'}]}\n        ]\n      })\n      // Replace with single Split child\n      childSplit.children.length = 0\n      childSplit.children.push(innerSplit)\n\n      const split = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          {type: 'panel', tabs: [{id: 'panelA'}]},\n          {type: 'panel', tabs: [{id: 'placeholder'}]}\n        ]\n      })\n      split.children[1] = childSplit\n\n      layout = new IoLayout({split, elements: []})\n      container.appendChild(layout)\n\n      // Find the nested io-split element\n      const childIoSplit = layout.querySelectorAll('io-split')[1]\n\n      // Dispatch event from child - it should bubble to parent rootSplit\n      childIoSplit.dispatchEvent(new CustomEvent('io-split-consolidate', {\n        detail: {split: childSplit},\n        bubbles: true\n      }))\n\n      // Parent should have adopted grandchild's children and orientation\n      expect(split.children.length).toBe(3)\n      expect(split.orientation).toBe('horizontal')\n      expect(split.children[0]).toBeInstanceOf(Panel)\n      expect(split.children[1]).toBeInstanceOf(Panel)\n      expect(split.children[2]).toBeInstanceOf(Panel)\n      expect(split.children[1].tabs[0].id).toBe('panelB')\n      expect(split.children[2].tabs[0].id).toBe('panelC')\n    })\n  })\n\n  describe('Edge cases', () => {\n    it('Should preserve flex values when consolidating panels', () => {\n      const split = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          {type: 'panel', tabs: [{id: 'panelA'}], flex: '0 0 200px'},\n          {\n            type: 'split',\n            orientation: 'vertical',\n            children: [{type: 'panel', tabs: [{id: 'panelB'}], flex: '0 0 300px'}]\n          }\n        ]\n      })\n\n      layout = new IoLayout({split, elements: []})\n      container.appendChild(layout)\n\n      const rootSplit = layout.querySelector('io-split')\n      const childSplit = split.children[1]\n\n      rootSplit.consolidateChild(childSplit)\n\n      expect(split.children[0].flex).toBe('0 0 200px')\n      expect(split.children[1].flex).toBe('1 1 100%')\n    })\n\n    it('Should handle consolidation when removing split via io-split-remove', () => {\n      const split = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          {type: 'panel', tabs: [{id: 'panelA'}]},\n          {\n            type: 'split',\n            orientation: 'vertical',\n            children: [{type: 'panel', tabs: [{id: 'panelB'}]}]\n          },\n          {type: 'panel', tabs: [{id: 'panelC'}]}\n        ]\n      })\n\n      layout = new IoLayout({split, elements: []})\n      container.appendChild(layout)\n\n      expect(split.children.length).toBe(3)\n\n      const childSplit = split.children[1]\n      const rootSplit = layout.querySelector('io-split')\n\n      rootSplit.dispatchEvent(new CustomEvent('io-split-remove', {\n        detail: {split: childSplit},\n        bubbles: true\n      }))\n\n      expect(split.children.length).toBe(2)\n      expect(split.children[0]).toBeInstanceOf(Panel)\n      expect(split.children[1]).toBeInstanceOf(Panel)\n    })\n\n    it('Should trigger consolidation on split removal if only one child remains (nested)', () => {\n      // For consolidation to work via events, we need a grandparent structure\n      // root > middleSplit (has childA and childB) > when childA removed, middleSplit consolidates\n      const split = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          {type: 'panel', tabs: [{id: 'panelRoot'}]},\n          {\n            type: 'split',\n            orientation: 'vertical',\n            children: [\n              {\n                type: 'split',\n                orientation: 'horizontal',\n                children: [{type: 'panel', tabs: [{id: 'panelA'}]}]\n              },\n              {\n                type: 'split',\n                orientation: 'horizontal',\n                children: [{type: 'panel', tabs: [{id: 'panelB'}]}]\n              }\n            ]\n          }\n        ]\n      })\n\n      layout = new IoLayout({split, elements: []})\n      container.appendChild(layout)\n\n      const middleSplit = split.children[1]\n      expect(middleSplit.children.length).toBe(2)\n\n      const childSplitToRemove = middleSplit.children[0]\n\n      // Find the grandchild IoSplit element and dispatch from it\n      const grandchildIoSplit = layout.querySelectorAll('io-split')[2]\n\n      grandchildIoSplit.dispatchEvent(new CustomEvent('io-split-remove', {\n        detail: {split: childSplitToRemove},\n        bubbles: true\n      }))\n\n      // After removal: middleSplit has 1 child (childB which contains panelB)\n      // Consolidation replaces middleSplit in root with childB's contents\n      // Root now has: [panelRoot, panelB]\n      expect(split.children.length).toBe(2)\n      expect(split.children[0]).toBeInstanceOf(Panel)\n      expect(split.children[0].tabs[0].id).toBe('panelRoot')\n      expect(split.children[1]).toBeInstanceOf(Panel)\n      expect(split.children[1].tabs[0].id).toBe('panelB')\n    })\n  })\n})\n"]}