{"version":3,"file":"IoDrawer.test.js","sourceRoot":"","sources":["../../src/elements/IoDrawer.test.ts"],"names":[],"mappings":"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","sourcesContent":["//@ts-nocheck\nimport { describe, it, expect, beforeEach, afterEach, vi } from 'vitest'\nimport { IoDrawer, ioDrawer } from '@io-gui/layout'\nimport { Panel } from '../nodes/Panel.js'\nimport { Split } from '../nodes/Split.js'\nimport { Tab } from '../nodes/Tab.js'\n\ndescribe('IoDrawer', () => {\n  let drawer: IoDrawer\n  let container: HTMLElement\n  let panel: Panel\n\n  beforeEach(() => {\n    container = document.createElement('div')\n    container.style.display = 'none'\n    document.body.appendChild(container)\n\n    panel = new Panel({\n      type: 'panel',\n      tabs: [new Tab({ id: 'tab1', label: 'Tab 1' })],\n      flex: '0 0 200px'\n    })\n\n    drawer = new IoDrawer({\n      orientation: 'horizontal',\n      direction: 'leading',\n      expanded: false,\n      child: panel,\n      elements: [],\n    })\n    container.appendChild(drawer)\n  })\n\n  afterEach(() => {\n    drawer.remove()\n    container.remove()\n  })\n\n  describe('Construction', () => {\n    it('should construct with orientation property', () => {\n      expect(drawer.orientation).toBe('horizontal')\n    })\n\n    it('should construct with direction property', () => {\n      expect(drawer.direction).toBe('leading')\n    })\n\n    it('should construct with expanded false by default', () => {\n      expect(drawer.expanded).toBe(false)\n    })\n\n    it('should construct with child property', () => {\n      expect(drawer.child).toBe(panel)\n    })\n\n    it('should construct with vertical orientation', () => {\n      const verticalDrawer = new IoDrawer({\n        orientation: 'vertical',\n        direction: 'trailing',\n        expanded: true,\n        child: panel,\n        elements: [],\n      })\n      container.appendChild(verticalDrawer)\n\n      expect(verticalDrawer.orientation).toBe('vertical')\n      expect(verticalDrawer.direction).toBe('trailing')\n      expect(verticalDrawer.expanded).toBe(true)\n\n      verticalDrawer.remove()\n    })\n  })\n\n  describe('Attribute Reflection', () => {\n    it('should reflect orientation to attribute', () => {\n      expect(drawer.getAttribute('orientation')).toBe('horizontal')\n\n      drawer.orientation = 'vertical'\n      expect(drawer.getAttribute('orientation')).toBe('vertical')\n    })\n\n    it('should reflect direction to attribute', () => {\n      expect(drawer.getAttribute('direction')).toBe('leading')\n\n      drawer.direction = 'trailing'\n      expect(drawer.getAttribute('direction')).toBe('trailing')\n    })\n\n    it('should reflect expanded to attribute when true', () => {\n      expect(drawer.hasAttribute('expanded')).toBe(false)\n\n      drawer.expanded = true\n      expect(drawer.hasAttribute('expanded')).toBe(true)\n\n      drawer.expanded = false\n      expect(drawer.hasAttribute('expanded')).toBe(false)\n    })\n  })\n\n  describe('Rendering', () => {\n    it('should render handle element', () => {\n      const handle = drawer.querySelector('.io-drawer-handle')\n      expect(handle).not.toBeNull()\n    })\n\n    it('should render content element', () => {\n      const content = drawer.querySelector('.io-drawer-content')\n      expect(content).not.toBeNull()\n    })\n\n    it('should render icon in handle', () => {\n      const icon = drawer.querySelector('.io-drawer-handle io-icon')\n      expect(icon).not.toBeNull()\n    })\n\n    it('should render child panel in content', () => {\n      const panel = drawer.querySelector('.io-drawer-content io-panel')\n      expect(panel).not.toBeNull()\n    })\n\n    it('should render child split when child is Split', () => {\n      const split = new Split({\n        type: 'split',\n        orientation: 'horizontal',\n        children: [\n          { type: 'panel', tabs: [{ id: 'a', label: 'A' }] },\n          { type: 'panel', tabs: [{ id: 'b', label: 'B' }] },\n        ]\n      })\n      drawer.child = split\n\n      const splitElement = drawer.querySelector('.io-drawer-content io-split')\n      expect(splitElement).not.toBeNull()\n    })\n  })\n\n  describe('Trailing Direction', () => {\n    let trailingDrawer: IoDrawer\n\n    beforeEach(() => {\n      trailingDrawer = new IoDrawer({\n        orientation: 'horizontal',\n        direction: 'trailing',\n        expanded: false,\n        child: panel,\n        elements: [],\n      })\n      container.appendChild(trailingDrawer)\n    })\n\n    afterEach(() => {\n      trailingDrawer.remove()\n    })\n\n    it('should have trailing direction', () => {\n      expect(trailingDrawer.direction).toBe('trailing')\n      expect(trailingDrawer.getAttribute('direction')).toBe('trailing')\n    })\n\n  })\n\n  describe('Static Properties', () => {\n    it('should have Style getter', () => {\n      expect(IoDrawer.Style).toBeDefined()\n      expect(typeof IoDrawer.Style).toBe('string')\n      expect(IoDrawer.Style).toContain(':host')\n    })\n  })\n\n  describe('Child Mutation', () => {\n    it('should re-render on child mutation', () => {\n      const renderSpy = vi.spyOn(drawer, 'render')\n      drawer.childMutated()\n      expect(renderSpy).toHaveBeenCalled()\n    })\n  })\n})\n\ndescribe('IoDrawer Factory Function', () => {\n  it('should export ioDrawer factory function', () => {\n    expect(typeof ioDrawer).toBe('function')\n  })\n\n  it('should create virtual constructor from factory', () => {\n    const panel = new Panel({\n      type: 'panel',\n      tabs: [new Tab({ id: 'tab1', label: 'Tab 1' })]\n    })\n    const vdom = ioDrawer({\n      orientation: 'horizontal',\n      direction: 'leading',\n      expanded: false,\n      child: panel,\n      elements: [],\n    })\n\n    expect(vdom).toBeDefined()\n    expect(vdom.tag).toBe('io-drawer')\n  })\n})\n"]}