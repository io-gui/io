{"version":3,"file":"Node.test.js","sourceRoot":"","sources":["../../src/nodes/Node.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { Change, Binding, Node, Register, ReactivePropertyDefinitions, IoElement, ListenerDefinitions, nextQueue } from '@io-gui/core'\n\nexport default class {\n  run() {\n    describe('Node', () => {\n      it('Should have all core API functions defined', () => {\n        const node = new Node()\n        expect(node.setProperty).to.be.a('function')\n        expect(node.applyProperties).to.be.a('function')\n        expect(node.setProperties).to.be.a('function')\n        expect(node.changed).to.be.a('function')\n        expect(node.queue).to.be.a('function')\n        expect(node.dispatchQueue).to.be.a('function')\n        expect(node.throttle).to.be.a('function')\n        expect(node.debounce).to.be.a('function')\n        expect(node.onPropertyMutated).to.be.a('function')\n        expect(node.bind).to.be.a('function')\n        expect(node.unbind).to.be.a('function')\n        expect(node.addEventListener).to.be.a('function')\n        expect(node.removeEventListener).to.be.a('function')\n        expect(node.dispatch).to.be.a('function')\n        expect(node.dispose).to.be.a('function')\n        node.dispose()\n      })\n      it('Should register reactive property definitions with correct defaults', () => {\n        @Register\n        class TestNode extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop0: { type: String },\n              prop1: { value: false },\n              prop2: -1,\n              prop3: Number,\n              prop4: {type: Object, init: null},\n              prop5: [0, 1, 2],\n              prop6: { value: 'hello', type: String },\n              prop7: { value: true, type: Boolean },\n              prop8: { value: 1, type: Number },\n              prop9: { type: Array, init: [1, 2, 3] },\n              prop10: { type: Array, init: null },\n            }\n          }\n        }\n\n        const node = new TestNode() as any\n\n        expect(node.prop0).to.be.equal('')\n        expect(node.prop1).to.be.equal(false)\n        expect(node.prop2).to.be.equal(-1)\n        expect(node.prop3).to.be.equal(0)\n        expect(node.prop4).to.be.eql({})\n        expect(node.prop5).to.be.eql([0, 1, 2])\n        expect(node.prop6).to.be.equal('hello')\n        expect(node.prop7).to.be.equal(true)\n        expect(node.prop8).to.be.equal(1)\n        expect(node.prop9).to.be.eql([1, 2, 3])\n        expect(node.prop10).to.be.eql([])\n\n        expect(node._reactiveProperties.get('prop0')).to.be.eql({\n          value: '',\n          type: String,\n          binding: undefined,\n          reflect: false,\n          init: undefined,\n        })\n        expect(node._reactiveProperties.get('prop1')).to.be.eql({\n          value: false,\n          type: undefined,\n          binding: undefined,\n          reflect: false,\n          init: undefined,\n        })\n        expect(node._reactiveProperties.get('prop2')).to.be.eql({\n          value: -1,\n          type: undefined,\n          binding: undefined,\n          reflect: false,\n          init: undefined,\n        })\n        expect(node._reactiveProperties.get('prop3')).to.be.eql({\n          value: 0,\n          type: Number,\n          binding: undefined,\n          reflect: false,\n          init: undefined,\n        })\n        expect(node._reactiveProperties.get('prop4')).to.be.eql({\n          value: {},\n          type: Object,\n          binding: undefined,\n          reflect: false,\n          init: null,\n        })\n        expect(node._reactiveProperties.get('prop5')).to.be.eql({\n          value: [0, 1, 2],\n          type: undefined,\n          binding: undefined,\n          reflect: false,\n          init: undefined,\n        })\n        expect(node._reactiveProperties.get('prop6')).to.be.eql({\n          value: 'hello',\n          type: String,\n          binding: undefined,\n          reflect: false,\n          init: undefined,\n        })\n        expect(node._reactiveProperties.get('prop7')).to.be.eql({\n          value: true,\n          type: Boolean,\n          binding: undefined,\n          reflect: false,\n          init: undefined,\n        })\n        expect(node._reactiveProperties.get('prop8')).to.be.eql({\n          value: 1,\n          type: Number,\n          binding: undefined,\n          reflect: false,\n          init: undefined,\n        })\n        expect(node._reactiveProperties.get('prop9')).to.be.eql({\n          value: [1, 2, 3],\n          type: Array,\n          binding: undefined,\n          reflect: false,\n          init: [1, 2, 3],\n        })\n        expect(node._reactiveProperties.get('prop10')).to.be.eql({\n          value: [],\n          type: Array,\n          binding: undefined,\n          reflect: false,\n          init: null,\n        })\n        node.dispose()\n      })\n      it('Should aggregate reactive property definitions from prototype chain', () => {\n        @Register\n        class Object1 extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop1: {\n                value: 0\n              },\n              prop2: null,\n              prop3: {\n                value: 'test',\n                type: String,\n                reflect: true\n              },\n            }\n          }\n        }\n\n        @Register\n        class Object2 extends Object1 {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop1: {\n                value: 'asd',\n                init: false,\n              },\n              prop2: {\n                init: true,\n              },\n              prop3: ''\n            }\n          }\n        }\n\n        const node1 = new Object1()\n        const node2 = new Object2()\n\n        const protoProps1 = node1._protochain.reactiveProperties\n        const protoProps2 = node2._protochain.reactiveProperties\n\n        expect(Array.from(node1._reactiveProperties.keys())).to.be.eql(['reactivity', 'prop1', 'prop2', 'prop3'])\n        expect(Array.from(node2._reactiveProperties.keys())).to.be.eql(['reactivity', 'prop1', 'prop2', 'prop3'])\n\n        expect(protoProps1.prop1.value).to.be.equal(0)\n        expect(node1._reactiveProperties.get('prop1')).to.be.eql({\n          value: 0,\n          type: undefined,\n          binding: undefined,\n          reflect: false,\n          init: undefined,\n        })\n\n        expect(protoProps2.prop1.value).to.be.eql('asd')\n        expect(node2._reactiveProperties.get('prop1')).to.be.eql({\n          value: 'asd',\n          type: undefined,\n          binding: undefined,\n          reflect: false,\n          init: false,\n        })\n        expect(node2._reactiveProperties.get('prop2')).to.be.eql({\n          value: null,\n          type: undefined,\n          binding: undefined,\n          reflect: false,\n          init: true,\n        })\n        expect(node2._reactiveProperties.get('prop3')).to.be.eql({\n          value: '',\n          type: String,\n          binding: undefined,\n          reflect: true,\n          init: undefined,\n        })\n      })\n      it('Should correctly register properties with bindings', () => {\n        @Register\n        class TestNode extends Node {\n          static get ReactiveProperties(): any {\n            return {\n              label: ''\n            }\n          }\n          constructor(args?: any) {super(args)}\n        }\n\n        const binding1 = new Binding(new TestNode({label: 'label1'}), 'label')\n        const binding2 = new Binding(new TestNode({label: 'label2'}), 'label')\n        const binding3 = new Binding(new TestNode({label: 'label3'}), 'label')\n\n        @Register\n        class Object1 extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop1: binding1,\n            }\n          }\n        }\n\n        @Register\n        class Object2 extends Object1 {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop1: {\n                binding: binding2\n              },\n              prop3: binding3\n            }\n          }\n        }\n\n        const node1 = new Object1()\n        const node2 = new Object2()\n\n        expect(node1._reactiveProperties.get('prop1')!.binding).to.be.equal(binding1)\n        expect(node2._reactiveProperties.get('prop1')!.binding).to.be.equal(binding2)\n        expect(node2._reactiveProperties.get('prop3')!.binding).to.be.equal(binding3)\n\n        expect((binding1).targets[0]).to.be.equal(node1)\n        expect((binding2).targets[0]).to.be.equal(node2)\n        expect((binding3).targets[0]).to.be.equal(node2)\n\n        expect(node1._reactiveProperties.get('prop1')!.value).to.be.equal('label1')\n        expect(node2._reactiveProperties.get('prop1')!.value).to.be.equal('label2')\n        expect(node2._reactiveProperties.get('prop3')!.value).to.be.equal('label3')\n      })\n      it('Should correctly get/set properties', () => {\n        @Register\n        class TestNode extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop1: {\n                value: 1\n              },\n            }\n          }\n        }\n\n        const node = new TestNode() as any\n\n        expect(node._reactiveProperties.get('prop1')!.value).to.be.equal(1)\n        expect(node.prop1).to.be.equal(1)\n        node.setProperty('prop1', 0)\n        expect(node._reactiveProperties.get('prop1')!.value).to.be.equal(0)\n        expect(node.prop1).to.be.equal(0)\n      })\n      it('Should correctly get/set bound properties', () => {\n\n        @Register\n        class TestNode extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              label: '',\n            }\n          }\n          constructor(args?: any) {super(args)}\n        }\n\n        const binding1 = new Binding(new TestNode({label: 'label1'}), 'label')\n        const binding2 = new Binding(new TestNode({label: 'label2'}), 'label')\n\n        @Register\n        class TestNode2 extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop1: binding1\n            }\n          }\n        }\n\n        const node = new TestNode2() as any\n\n        expect(node._reactiveProperties.get('prop1')!.value).to.be.equal('label1')\n        expect(node.prop1).to.be.equal('label1')\n\n        expect(node._reactiveProperties.get('prop1')!.binding).to.be.equal(binding1)\n        expect((binding1).targets[0]).to.be.equal(node)\n\n        node.setProperty('prop1', binding2)\n        expect(node._reactiveProperties.get('prop1')!.value).to.be.equal('label2')\n        expect(node.prop1).to.be.equal('label2')\n\n        expect((binding1).targets[0]).to.be.equal(undefined)\n        expect((binding2).targets[0]).to.be.equal(node)\n      })\n      it('Should execute attribute reflection on IoElement', () => {\n        @Register\n        class TestElementReflection extends IoElement {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              label: {\n                value: 'label1',\n                reflect: true\n              },\n              label2: 'label2',\n            }\n          }\n        }\n\n        const element = new TestElementReflection() as any\n        expect(element.getAttribute('label')).to.be.equal('label1')\n        expect(element.getAttribute('label2')).to.be.equal(null)\n        element.label = 'label2'\n        expect(element.getAttribute('label')).to.be.equal('label2')\n        element.setProperty('label', 'label3')\n        expect(element.getAttribute('label')).to.be.equal('label3')\n      })\n      it('Should dispatch \"[propName]-changed\" events correctly', async () => {\n        @Register\n        class TestNode extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              propChangedEvents: {type: Array, init: null},\n              prop: Number,\n            }\n          }\n          declare propChangedEvents: Change[]\n          static get Listeners(): ListenerDefinitions {\n            return {\n              'prop-changed': 'onPropChanged',\n            }\n          }\n          constructor(args?: any) {super(args)}\n          onPropChanged(event: CustomEvent) {\n            this.propChangedEvents.push(event.detail)\n          }\n        }\n\n        const node = new TestNode() as any\n        expect(node.propChangedEvents).to.be.eql([])\n\n        node.addEventListener('prop-changed', (() => {\n          expect('This should not execute').to.be.eql(true)\n        }))\n\n        node.removeEventListener('prop-changed')\n\n        node.addEventListener('prop-changed', (event: CustomEvent) => {\n          const oldValue = event.detail.oldValue\n          const value = event.detail.value\n          expect(oldValue).to.be.eql(0)\n          expect(value).to.be.eql(1)\n        })\n\n        node.prop = 1\n\n        node.removeEventListener('prop-changed')\n\n        node.addEventListener('prop-changed', () => {\n          expect('This is actually not expected to happen!').to.be.equal(true)\n        })\n\n        node.setProperty('prop', 2, true)\n\n        node.removeEventListener('prop-changed')\n\n        expect(node.propChangedEvents).to.be.eql([{\n          oldValue: 0,\n          property: 'prop',\n          value: 1,\n        }])\n\n        await nextQueue()\n\n        expect(node.propChangedEvents).to.be.eql([{\n          oldValue: 0,\n          property: 'prop',\n          value: 1,\n        },\n        {\n          oldValue: 1,\n          property: 'prop',\n          value: 2,\n        }\n      ])\n\n        node.setProperty('prop', 3, true)\n        node.prop = 4\n\n        await nextQueue()\n\n        expect(node.propChangedEvents).to.be.eql([{\n          oldValue: 0,\n          property: 'prop',\n          value: 1,\n        }, {\n          oldValue: 1,\n          property: 'prop',\n          value: 2,\n        }, {\n          oldValue: 2,\n          property: 'prop',\n          value: 4,\n        }])\n\n        const node2 = new TestNode({\n          prop: new Binding(node, 'prop'),\n        })\n\n        expect(node2.propChangedEvents).to.be.eql([{\n          oldValue: 0,\n          property: 'prop',\n          value: 4,\n        }])\n\n        const node3 = new TestNode({\n          prop: -1\n        }) as any\n\n        expect(node3.propChangedEvents).to.be.eql([{\n          oldValue: 0,\n          property: 'prop',\n          value: -1,\n        }])\n\n        node3.propChangedEvents.length = 0\n        node3.reactivity = 'debounced'\n        node3.prop = 10\n\n        expect(node3.propChangedEvents).to.be.eql([])\n\n        await nextQueue()\n\n        expect(node3.propChangedEvents).to.be.eql([{\n          oldValue: -1,\n          property: 'prop',\n          value: 10,\n        }])\n\n        node3.propChangedEvents.length = 0\n        node3.reactivity = 'none'\n        node3.prop = 20\n\n        expect(node3.propChangedEvents).to.be.eql([])\n\n        await nextQueue()\n\n        expect(node3.propChangedEvents).to.be.eql([])\n      })\n      it('Should execute throttle/debounce queue in FIFO order', async () => {\n        let order: number[] = []\n        const node = new Node()\n        node.debounce(() => {\n          order.push(1)\n        })\n        node.debounce(() => {\n          order.push(2)\n        })\n        const throttleFuc = () => {\n          order.push(0)\n        }\n        node.throttle(throttleFuc)\n        node.throttle(throttleFuc)\n\n        await nextQueue()\n        expect(order).to.be.eql([1, 2, 0])\n      })\n      it('Should add/remove \"io-object-mutation\" event listeners to properties of Node type', async () => {\n        @Register\n        class TestNode extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop: Number,\n            }\n          }\n          constructor(args?: any) {super(args)}\n        }\n\n        const subnode = new TestNode()\n        const node = new TestNode({\n          prop: subnode,\n        }) as any\n\n        expect(subnode._eventDispatcher.addedListeners['io-object-mutation'][0][0]).to.be.equal(node.onPropertyMutated)\n\n        node.prop = null\n\n        expect(subnode._eventDispatcher.addedListeners['io-object-mutation']).to.be.equal(undefined)\n\n        const subnode2 = new TestNode()\n        node.prop = subnode2\n\n        expect(subnode2._eventDispatcher.addedListeners['io-object-mutation'][0][0]).to.be.equal(node.onPropertyMutated)\n\n        @Register\n        class TestNode2 extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop: {type: TestNode, init: null},\n            }\n          }\n        }\n\n        const node2 = new TestNode2() as any\n        const subnode3 = node2.prop\n\n        expect(subnode3._eventDispatcher.addedListeners['io-object-mutation'][0][0]).to.be.equal(node2.onPropertyMutated)\n\n        node2.dispose()\n\n        expect(subnode3._eventDispatcher.addedListeners['io-object-mutation']).to.be.equal(undefined)\n\n        const node3 = new TestNode2() as any\n        const subnode4 = node3.prop\n\n        node3.prop = null\n\n        expect(subnode4._eventDispatcher.addedListeners['io-object-mutation']).to.be.equal(undefined)\n\n        const node4 = new TestNode2() as any\n        const node5 = new TestNode2() as any\n        const subnode5 = node4.prop\n        const subnode6 = node5.prop\n\n        node4.prop = new Binding(node5, 'prop')\n\n        expect(subnode5._eventDispatcher.addedListeners['io-object-mutation']).to.be.equal(undefined)\n        expect(subnode6._eventDispatcher.addedListeners['io-object-mutation'][0][0]).to.be.equal(node5.onPropertyMutated)\n        expect(subnode6._eventDispatcher.addedListeners['io-object-mutation'][1][0]).to.be.equal(node4.onPropertyMutated)\n\n      })\n      it('Should correctly invoke handler functions on property changes', async () => {\n        @Register\n        class TestNode extends Node {\n          changedCounter = 0\n          prop1Changes: Change[] = []\n          prop2Changes: Change[] = []\n          static get ReactiveProperties(): any {\n            return {\n              prop1: String,\n              prop2: String,\n            }\n          }\n          changed() {\n            this.changedCounter++\n          }\n          prop1Changed(change: Change) {\n            this.prop1Changes.push(change)\n          }\n          prop2Changed(change: Change) {\n            this.prop2Changes.push(change)\n          }\n        }\n\n        const node = new TestNode() as any\n\n        expect(node.changedCounter).to.equal(0)\n        expect(node.prop1Changes).to.be.eql([])\n        expect(node.prop2Changes).to.be.eql([])\n\n        node.prop1 = 'one'\n        expect(node.changedCounter).to.equal(1)\n        expect(node.prop1Changes).to.be.eql([{\n          property: 'prop1',\n          oldValue: '',\n          value: 'one',\n        }])\n        expect(node.prop2Changes).to.be.eql([])\n        node.prop1Changes.length = 0\n\n        node.prop1 = 'two'\n        node.prop2 = 'test'\n        expect(node.changedCounter).to.equal(3)\n        expect(node.prop1Changes).to.be.eql([{\n          property: 'prop1',\n          oldValue: 'one',\n          value: 'two',\n        }])\n        expect(node.prop2Changes).to.be.eql([{\n          property: 'prop2',\n          oldValue: '',\n          value: 'test',\n        }])\n        node.prop1Changes.length = 0\n        node.prop2Changes.length = 0\n\n        node.setProperties({\n          'prop1': 'three',\n          'prop2': '',\n        })\n        expect(node.changedCounter).to.equal(4)\n        expect(node.prop1Changes).to.be.eql([{\n          property: 'prop1',\n          oldValue: 'two',\n          value: 'three',\n        }])\n        expect(node.prop2Changes).to.be.eql([{\n          property: 'prop2',\n          oldValue: 'test',\n          value: '',\n        }])\n\n        node.prop1Changes.length = 0\n        node.prop2Changes.length = 0\n\n        node.reactivity = 'debounced'\n\n        node.setProperties({\n          'prop1': 'four',\n          'prop2': 'test2',\n        })\n\n        expect(node.prop1Changes).to.be.eql([])\n        expect(node.prop2Changes).to.be.eql([])\n\n        await nextQueue()\n\n        expect(node.prop1Changes).to.be.eql([{\n          property: 'prop1',\n          oldValue: 'three',\n          value: 'four',\n        }])\n        expect(node.prop2Changes).to.be.eql([{\n          property: 'prop2',\n          oldValue: '',\n          value: 'test2',\n        }])\n\n        node.dispose()\n      })\n      it('Should invoke property mutation handler functions on mutation events', async () => {\n        @Register\n        class TestSubNode extends Node {\n          static get ReactiveProperties(): any {\n            return {\n              a: {\n                value: 0,\n              },\n            }\n          }\n        }\n\n        @Register\n        class TestNode extends Node {\n          changedCounter = 0\n          obj1MutatedCounter = 0\n          obj2MutatedCounter = 0\n          static get ReactiveProperties(): any {\n            return {\n              obj1: {\n                type: TestSubNode, init: null,\n              },\n              obj2: {\n                type: TestSubNode, init: null,\n              },\n            }\n          }\n          obj1Mutated() {\n            this.obj1MutatedCounter++\n          }\n          obj2Mutated() {\n            this.obj2MutatedCounter++\n          }\n        }\n\n        const node = new TestNode() as any\n\n        expect(node.changedCounter).to.equal(0)\n        expect(node.obj1MutatedCounter).to.equal(0)\n\n        node.obj1.a = 1\n\n        await nextQueue()\n\n        expect(node.obj1MutatedCounter).to.equal(1)\n        expect(node.obj2MutatedCounter).to.equal(0)\n\n        node.obj2.a = 1\n\n        expect(node.obj2MutatedCounter).to.equal(1)\n\n        await nextQueue()\n\n        node.obj1 = new TestNode()\n\n        await nextQueue()\n\n        expect(node.obj1MutatedCounter).to.equal(1)\n\n        node.obj1.obj1 = {a: 1}\n\n        await nextQueue()\n\n        expect(node.obj1MutatedCounter).to.equal(2)\n\n        node.dispose()\n      })\n      it('Should correctly bind properties using binding system', () => {\n        @Register\n        class TestNode extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop1: String,\n              prop2: String,\n            }\n          }\n          constructor(args?: any) {super(args)}\n        }\n\n        const node = new TestNode() as any\n\n        const binding = node.bind('prop1')\n        expect(binding).to.be.instanceof(Binding)\n        expect(binding.node).to.be.equal(node)\n        expect(binding.property).to.be.equal('prop1')\n\n        const boundNode1 = new TestNode({prop1: binding}) as any\n        const boundNode2 = new TestNode({prop1: binding}) as any\n        boundNode2.prop2 = binding\n\n        expect(binding.targets[0]).to.be.equal(boundNode1)\n        expect(binding.targets[1]).to.be.equal(boundNode2)\n        expect(binding.targetProperties.get(boundNode1)![0]).to.be.equal('prop1')\n        expect(binding.targetProperties.get(boundNode1)![1]).to.be.equal(undefined)\n        expect(binding.targetProperties.get(boundNode2)![0]).to.be.equal('prop1')\n        expect(binding.targetProperties.get(boundNode2)![1]).to.be.equal('prop2')\n\n        node.prop1 = 'one'\n        expect(boundNode1.prop1).to.be.equal('one')\n        expect(boundNode1.prop2).to.be.equal('')\n        expect(boundNode2.prop1).to.be.equal('one')\n        expect(boundNode2.prop2).to.be.equal('one')\n\n        boundNode1.prop1 = 'two'\n        expect(node.prop1).to.be.equal('two')\n        expect(boundNode2.prop1).to.be.equal('two')\n\n        expect(binding.targets.length).to.be.equal(2)\n\n        boundNode1.dispose()\n        expect(binding.targets.length).to.be.equal(1)\n\n        boundNode2.dispose()\n        expect(binding.targets.length).to.be.equal(0)\n\n        node.dispose()\n      })\n      it('Should correctly handle multiple binding re-assignments in setProperties()', async () => {\n        @Register\n        class TestNode extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop1: 'subnode1',\n              prop2: 'subnode2',\n              prop3: 'subnode3',\n            }\n          }\n          constructor(args?: any) {super(args)}\n        }\n\n        @Register\n        class TestNodeTarget extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              subnode: {type: TestNode, init: null},\n              prop1: 'target1',\n              prop2: 'target2',\n              prop3: 'target3',\n            }\n          }\n          declare subnode: TestNode\n          ready() {\n            this.changed()\n          }\n          changed() {\n            this.subnode.setProperties({\n              prop1: this.bind('prop1'),\n              prop2: this.bind('prop2'),\n              prop3: this.bind('prop3'),\n            })\n          }\n        }\n\n        const targetNode = new TestNodeTarget() as any\n\n        expect(targetNode.subnode.prop1).to.be.equal(targetNode.prop1).to.be.equal('target1')\n        expect(targetNode.subnode.prop2).to.be.equal(targetNode.prop2).to.be.equal('target2')\n        expect(targetNode.subnode.prop3).to.be.equal(targetNode.prop3).to.be.equal('target3')\n\n        const sourceNode = new TestNode({\n          prop1: 'source1',\n          prop2: 'source2',\n          prop3: 'source3',\n        }) as any\n\n        targetNode.setProperties({\n          prop1: sourceNode.bind('prop1'),\n          prop2: sourceNode.bind('prop2'),\n          prop3: sourceNode.bind('prop3'),\n        })\n\n        expect(targetNode.subnode.prop1).to.be.equal(sourceNode.prop1).to.be.equal(targetNode.prop1).to.be.equal('source1')\n        expect(targetNode.subnode.prop2).to.be.equal(sourceNode.prop2).to.be.equal(targetNode.prop2).to.be.equal('source2')\n        expect(targetNode.subnode.prop3).to.be.equal(sourceNode.prop3).to.be.equal(targetNode.prop3).to.be.equal('source3')\n\n        sourceNode.prop1 = 'test1'\n        targetNode.prop2 = 'test2'\n        targetNode.subnode.prop3 = 'test3'\n\n        expect(targetNode.subnode.prop1).to.be.equal(sourceNode.prop1).to.be.equal(targetNode.prop1).to.be.equal('test1')\n        expect(targetNode.subnode.prop2).to.be.equal(sourceNode.prop2).to.be.equal(targetNode.prop2).to.be.equal('test2')\n        expect(targetNode.subnode.prop3).to.be.equal(sourceNode.prop3).to.be.equal(targetNode.prop3).to.be.equal('test3')\n\n        targetNode.setProperties({\n          prop1: 'final1',\n          prop2: 'final2',\n          prop3: 'final3',\n        })\n\n        expect(targetNode.subnode.prop1).to.be.equal(sourceNode.prop1).to.be.equal(targetNode.prop1).to.be.equal('final1')\n        expect(targetNode.subnode.prop2).to.be.equal(sourceNode.prop2).to.be.equal(targetNode.prop2).to.be.equal('final2')\n        expect(targetNode.subnode.prop3).to.be.equal(sourceNode.prop3).to.be.equal(targetNode.prop3).to.be.equal('final3')\n      })\n      it('Should correctly manage binding targets and target properties', () => {\n        @Register\n        class TestNode extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop1: String,\n              prop2: String,\n            }\n          }\n          constructor(args?: any) {super(args)}\n        }\n\n        const srcNode = new TestNode()\n        const binding0 = new Binding(srcNode, 'prop1')\n        const binding1 = new Binding(srcNode, 'prop2')\n\n        const dstNode0 = new TestNode() as any\n        dstNode0.prop1 = binding0\n        dstNode0.prop2 = binding1\n\n        const dstNode1 = new TestNode({prop1: binding0}) as any\n        const dstNode3 = new TestNode({prop1: binding0, prop2: binding0}) as any\n\n        expect(binding0.targets[0]).to.be.equal(dstNode0)\n        expect(binding0.targets[1]).to.be.equal(dstNode1)\n        expect(binding0.targets[2]).to.be.equal(dstNode3)\n\n        expect(binding0.targetProperties.get(dstNode0)).to.be.eql(['prop1'])\n        expect(binding0.targetProperties.get(dstNode1)).to.be.eql(['prop1'])\n        expect(binding0.targetProperties.get(dstNode3)).to.be.eql(['prop1', 'prop2'])\n\n        dstNode0.dispose()\n        dstNode1.unbind('prop1')\n        dstNode3.unbind('prop1')\n\n        expect(binding0.targetProperties.get(dstNode0)).to.be.eql([])\n        expect(binding0.targetProperties.get(dstNode1)).to.be.eql([])\n        expect(binding0.targetProperties.get(dstNode3)).to.be.eql(['prop2'])\n\n        dstNode1.prop2 = binding0\n        dstNode1.prop1 = binding0\n\n        dstNode3.prop1 = binding0\n\n        expect(binding0.targetProperties.get(dstNode1)).to.be.eql(['prop2', 'prop1'])\n        expect(binding0.targetProperties.get(dstNode3)).to.be.eql(['prop2', 'prop1'])\n      })\n      it('Should return existing binding or create new one on bind()', () => {\n        @Register\n        class TestNode extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop1: String,\n              prop2: String,\n            }\n          }\n        }\n        const node = new TestNode()\n        const binding0 = node.bind('prop1')\n        expect(binding0).to.be.equal(node._bindings.get('prop1'))\n        expect(binding0).to.be.equal(node.bind('prop1'))\n      })\n      it('Should dispose bindings correctly', () => {\n        @Register\n        class TestNode extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop1: String,\n              prop2: String,\n            }\n          }\n        }\n        const node1 = new TestNode()\n        const binding0 = node1.bind('prop1')\n        node1.unbind('prop1')\n        expect(node1._bindings.get('prop1')).to.be.equal(undefined)\n        expect(binding0.node).to.be.equal(undefined)\n\n        const node2 = new TestNode()\n        const binding1 = node2.bind('prop1')\n        node2.dispose()\n        expect(node2._bindings).to.be.equal(undefined)\n        expect(binding1.node).to.be.equal(undefined)\n        expect(binding1.property).to.be.equal(undefined)\n        expect(binding1.targets).to.be.equal(undefined)\n        expect(binding1.targetProperties).to.be.equal(undefined)\n      })\n    })\n  }\n}\n"]}