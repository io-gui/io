{"version":3,"file":"IoElement.test.js","sourceRoot":"","sources":["../../src/elements/IoElement.test.ts"],"names":[],"mappings":";;;;;;AAAA,aAAa;AACb,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,IAAI,EAAuC,MAAM,cAAc,CAAA;AAE7F,MAAM,OAAO,GAAG,IAAI,SAAS,EAAE,CAAA;AAC/B,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAA;AAC9B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,OAAsB,CAAC,CAAA;AAEjD,MAAM,UAAU,GAAa,EAAE,CAAA;AAE/B,MAAM,WAAY,SAAQ,SAAS;IACjC,MAAM,KAAK,kBAAkB;QAC3B,OAAO;YACL,KAAK,EAAE;gBACL,OAAO,EAAE,IAAI;gBACb,KAAK,EAAE,CAAC;aACT;SACF,CAAA;IACH,CAAC;CACF;AACD,QAAQ,CAAC,WAAW,CAAC,CAAA;AAErB,MAAM,YAAY,GAAG,IAAI,WAAW,EAAE,CAAA;AAEtC,MAAM,CAAC,OAAO;IACZ,GAAG;QACD,QAAQ,CAAC,WAAW,EAAE,GAAG,EAAE;YACzB,EAAE,CAAC,wCAAwC,EAAE,GAAG,EAAE;gBAChD,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;gBAC1C,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;gBAC5C,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;gBAChD,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAA;YACrC,CAAC,CAAC,CAAA;YACF,EAAE,CAAC,wCAAwC,EAAE,GAAG,EAAE;gBAChD,qBAAqB;gBACrB,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACtC,MAAM,CAAC,YAAY,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;YAC1D,CAAC,CAAC,CAAA;YACF,EAAE,CAAC,qCAAqC,EAAE,GAAG,EAAE;gBAC7C,MAAM,QAAS,SAAQ,IAAI;oBACzB,MAAM,KAAK,kBAAkB;wBAC3B,OAAO;4BACL,KAAK,EAAE,CAAC;4BACR,KAAK,EAAE,EAAE;yBACV,CAAA;oBACH,CAAC;oBACD,YAAY;wBACV,UAAU,CAAC,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,KAAK,CAAC,CAAA;oBACzD,CAAC;oBACD,YAAY;wBACV,UAAU,CAAC,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,KAAK,CAAC,CAAA;oBACzD,CAAC;oBACD,OAAO;wBACL,UAAU,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAA;oBACtC,CAAC;iBACF;gBACD,QAAQ,CAAC,QAAQ,CAAC,CAAA;gBAElB,MAAM,cAAe,SAAQ,SAAS;oBACpC,MAAM,KAAK,kBAAkB;wBAC3B,OAAO;4BACL,KAAK,EAAE,CAAC;4BACR,KAAK,EAAE,EAAE;yBACV,CAAA;oBACH,CAAC;iBACF;gBACD,QAAQ,CAAC,cAAc,CAAC,CAAA;gBAExB,MAAM,YAAa,SAAQ,SAAS;oBAClC,MAAM,KAAK,kBAAkB;wBAC3B,OAAO;4BACL,KAAK,EAAE,CAAC,CAAC;4BACT,KAAK,EAAE;gCACL,KAAK,EAAE,SAAS;6BACjB;4BACD,oBAAoB;4BACpB,QAAQ,EAAE,CAAC;4BACX,aAAa,EAAE,CAAC;4BAChB,YAAY,EAAE,IAAI;4BAClB,aAAa,EAAE,CAAC;4BAChB,YAAY,EAAE,IAAI;yBACnB,CAAA;oBACH,CAAC;oBACD,YAAY,GAAG,SAAgB;wBAC7B,KAAK,CAAC,GAAG,SAAS,CAAC,CAAA;wBACnB,IAAI,CAAC,MAAM,CAAC,CAAC,EAAC,GAAG,EAAE,iBAAiB,EAAE,KAAK,EAAE;oCAC3C,EAAE,EAAE,YAAY;oCAChB,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;oCACzB,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;iCAC1B,EAAC,CAAC,CAAC,CAAA;wBACJ,IAAI,CAAC,OAAO,GAAG,IAAI,QAAQ,CAAC;4BAC1B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;4BACzB,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;yBAC1B,CAAC,CAAA;oBACJ,CAAC;oBACD,OAAO;wBACL,UAAU,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAA;wBACxC,IAAI,CAAC,QAAQ,EAAE,CAAA;oBACjB,CAAC;oBACD,YAAY,CAAC,MAAc;wBACzB,UAAU,CAAC,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAAC,CAAA;wBAC3D,IAAI,CAAC,aAAa,EAAE,CAAA;wBACpB,IAAI,CAAC,YAAY,GAAG,MAAM,CAAA;oBAC5B,CAAC;oBACD,YAAY,CAAC,MAAc;wBACzB,UAAU,CAAC,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAAC,CAAA;wBAC3D,IAAI,CAAC,aAAa,EAAE,CAAA;wBACpB,IAAI,CAAC,YAAY,GAAG,MAAM,CAAA;oBAC5B,CAAC;iBACF;gBACD,QAAQ,CAAC,YAAY,CAAC,CAAA;gBAEtB,UAAU,CAAC,MAAM,GAAG,CAAC,CAAA;gBAErB,MAAM,OAAO,GAAG,IAAI,YAAY,EAAE,CAAA;gBAClC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;gBAClC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;gBAC1C,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;gBAC/C,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;gBACtD,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;gBAC1C,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;gBAEjD,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACpC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACzC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;gBAC3C,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACzC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;gBAE3C,OAAO,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAA;gBAEzB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACjC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACzC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACpC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACzC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAC,CAAC,CAAA;gBAChF,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACzC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;gBAE3C,OAAO,CAAC,aAAa,CAAC;oBACpB,KAAK,EAAE,CAAC;oBACR,KAAK,EAAE,KAAK;iBACb,CAAC,CAAA;gBAEF,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACjC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACzC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAC9C,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;gBACrC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;gBAC7C,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;gBAClD,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACpC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACzC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAC,CAAC,CAAA;gBAC/E,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACzC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAC,CAAC,CAAA;gBAE3F,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC;oBAC5B,KAAK,EAAE,CAAC;oBACR,KAAK,EAAE,MAAM;iBACd,CAAC,CAAA;gBAEF,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACjC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACzC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAC9C,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAC9C,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;gBACtC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;gBAC9C,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;gBAEnD,uGAAuG;gBACvG,oEAAoE;gBACpE,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAEpC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACzC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAC,CAAC,CAAA;gBAC/E,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACzC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAC,CAAC,CAAA;gBAExF,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,GAAG,CACvB,CAAC,2BAA2B,EAAE,gCAAgC,EAAE,mBAAmB,EAAE,0BAA0B,EAAE,8BAA8B,EAAE,uBAAuB,EAAE,mBAAmB,EAAE,8BAA8B,EAAE,0BAA0B,EAAE,mBAAmB,EAAE,gCAAgC,EAAE,4BAA4B,EAAE,mBAAmB,EAAE,uBAAuB,EAAE,0BAA0B,EAAE,8BAA8B,EAAE,uBAAuB,EAAE,6BAA6B,EAAE,iCAAiC,EAAE,uBAAuB,EAAE,mBAAmB,CAAC,CACnkB,CAAA;gBAED,UAAU,CAAC,MAAM,GAAG,CAAC,CAAA;gBAErB,MAAM,YAAa,SAAQ,SAAS;oBAClC,MAAM,KAAK,kBAAkB;wBAC3B,OAAO;4BACL,KAAK,EAAE,CAAC,CAAC;4BACT,KAAK,EAAE;gCACL,KAAK,EAAE,EAAE;6BACV;yBACF,CAAA;oBACH,CAAC;oBACD,OAAO;wBACL,IAAI,CAAC,MAAM,CAAC,CAAC,EAAC,GAAG,EAAE,iBAAiB,EAAE,KAAK,EAAE,EAAC,EAAE,EAAE,YAAY;oCAC5D,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;oCACzB,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;iCAC1B,EAAC,CAAC,CAAC,CAAA;oBACN,CAAC;iBACF;gBACD,QAAQ,CAAC,YAAY,CAAC,CAAA;gBAEtB,MAAM,QAAQ,GAAG,IAAI,YAAY,EAAE,CAAA;gBACnC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAA;gBAClB,QAAQ,CAAC,KAAK,GAAG,SAAS,CAAA;gBAE1B,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAC/C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;gBAC1C,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;gBAEvD,QAAQ,CAAC,aAAa,CAAC;oBACrB,KAAK,EAAE,CAAC;oBACR,KAAK,EAAE,KAAK;iBACb,CAAC,CAAA;gBAEF,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAC/C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;gBACtC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;gBAEnD,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,aAAa,CAAC;oBAClC,KAAK,EAAE,CAAC;oBACR,KAAK,EAAE,MAAM;iBACd,CAAC,CAAA;gBAEF,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAC/C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;gBACvC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;YACtD,CAAC,CAAC,CAAA;YACF,EAAE,CAAC,sFAAsF,EAAE,KAAK,IAAI,EAAE;gBAEpG,IAAM,kBAAkB,GAAxB,MAAM,kBAAmB,SAAQ,SAAS;oBACxC,MAAM,KAAK,kBAAkB;wBAC3B,OAAO;4BACL,KAAK,EAAE,UAAU;4BACjB,KAAK,EAAE,UAAU;4BACjB,KAAK,EAAE,UAAU;yBAClB,CAAA;oBACH,CAAC;iBACF,CAAA;gBARK,kBAAkB;oBADvB,QAAQ;mBACH,kBAAkB,CAQvB;gBAGD,IAAM,wBAAwB,GAA9B,MAAM,wBAAyB,SAAQ,SAAS;oBAC9C,MAAM,KAAK,kBAAkB;wBAC3B,OAAO;4BACL,KAAK,EAAE,SAAS;4BAChB,KAAK,EAAE,SAAS;4BAChB,KAAK,EAAE,SAAS;yBACjB,CAAA;oBACH,CAAC;oBACD,KAAK;wBACH,IAAI,CAAC,OAAO,EAAE,CAAA;oBAChB,CAAC;oBACD,OAAO;wBACL,IAAI,CAAC,MAAM,CAAC,CAAC,EAAC,GAAG,EAAE,sBAAsB,EAAE,KAAK,EAAE;oCAChD,EAAE,EAAE,aAAa;oCACjB,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;oCACzB,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;oCACzB,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;iCAC1B,EAAC,CAAC,CAAC,CAAA;oBACN,CAAC;iBACF,CAAA;gBAnBK,wBAAwB;oBAD7B,QAAQ;mBACH,wBAAwB,CAmB7B;gBAED,MAAM,aAAa,GAAG,IAAI,wBAAwB,EAAE,CAAA;gBAEpD,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;gBACjG,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;gBACjG,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;gBAEjG,MAAM,aAAa,GAAG,IAAI,kBAAkB,CAAC;oBAC3C,KAAK,EAAE,SAAS;oBAChB,KAAK,EAAE,SAAS;oBAChB,KAAK,EAAE,SAAS;iBACjB,CAAC,CAAA;gBAEF,aAAa,CAAC,aAAa,CAAC;oBAC1B,KAAK,EAAE,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC;oBAClC,KAAK,EAAE,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC;oBAClC,KAAK,EAAE,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC;iBACnC,CAAC,CAAA;gBAEF,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;gBAClI,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;gBAClI,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;gBAElI,aAAa,CAAC,KAAK,GAAG,OAAO,CAAA;gBAC7B,aAAa,CAAC,KAAK,GAAG,OAAO,CAAA;gBAC7B,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,GAAG,OAAO,CAAA;gBAE3C,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;gBAChI,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;gBAChI,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;gBAEhI,aAAa,CAAC,aAAa,CAAC;oBAC1B,KAAK,EAAE,QAAQ;oBACf,KAAK,EAAE,QAAQ;oBACf,KAAK,EAAE,QAAQ;iBAChB,CAAC,CAAA;gBAEF,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;gBACjI,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;gBACjI,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;YACnI,CAAC,CAAC,CAAA;YACF,EAAE,CAAC,kCAAkC,EAAE,GAAG,EAAE;gBAC1C,MAAM,QAAQ,GAAG,IAAI,WAAW,EAAE,CAAA;gBAClC,MAAM,QAAQ,GAAG,IAAI,WAAW,EAAE,CAAA;gBAClC,QAAQ,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAsB,CAAA;gBAC5D,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAA;gBAClB,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAA;gBAClB,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,SAAS;gBACT,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;gBACxB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAA;gBAClB,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,QAAQ,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAsB,CAAA;gBAC5D,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAA;gBAClB,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;gBACxB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAA;gBAClB,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;YACpC,CAAC,CAAC,CAAA;YACF,EAAE,CAAC,8BAA8B,EAAE,GAAG,EAAE;gBACtC,MAAM,QAAQ,GAAG,IAAI,WAAW,EAAE,CAAA;gBAClC,MAAM,QAAQ,GAAG,IAAI,WAAW,CAAC,EAAC,KAAK,EAAE,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,CAAA;gBACjE,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAA;gBAClB,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;gBACxB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAA;gBAClB,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;YACpC,CAAC,CAAC,CAAA;QACJ,CAAC,CAAC,CAAA;IACJ,CAAC;CACF","sourcesContent":["//@ts-nocheck\nimport { Register, IoElement, Node, Change, ReactivePropertyDefinitions } from '@io-gui/core'\n\nconst element = new IoElement()\nelement.style.display = 'none'\ndocument.body.appendChild(element as HTMLElement)\n\nconst eventStack: string[] = []\n\nclass TestElement extends IoElement {\n  static get ReactiveProperties(): ReactivePropertyDefinitions {\n    return {\n      prop0: {\n        reflect: true,\n        value: 0,\n      },\n    }\n  }\n}\nRegister(TestElement)\n\nconst terstElement = new TestElement()\n\nexport default class {\n  run() {\n    describe('IoElement', () => {\n      it('Should have core API functions defined', () => {\n        expect(element.render).to.be.a('function')\n        expect(element.traverse).to.be.a('function')\n        expect(element.setAttribute).to.be.a('function')\n        expect(element.$).to.be.a('object')\n      })\n      it('Should initialize properties correctly', () => {\n        // Default properties\n        expect(terstElement.prop0).to.equal(0)\n        expect(terstElement.getAttribute('prop0')).to.equal('0')\n      })\n      it('Invokes change events and functions', () => {\n        class TestNode extends Node {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop0: 0,\n              prop1: '',\n            }\n          }\n          prop0Changed() {\n            eventStack.push('TestNode: prop0Changed ' + this.prop0)\n          }\n          prop1Changed() {\n            eventStack.push('TestNode: prop1Changed ' + this.prop1)\n          }\n          changed() {\n            eventStack.push('TestNode: changed')\n          }\n        }\n        Register(TestNode)\n\n        class TestSubelement extends IoElement {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop0: 0,\n              prop1: '',\n            }\n          }\n        }\n        Register(TestSubelement)\n\n        class TestElement1 extends IoElement {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop0: -1,\n              prop1: {\n                value: 'default',\n              },\n              // Internal counters\n              _counter: 0,\n              _prop0counter: 0,\n              _prop0Change: null,\n              _prop1counter: 0,\n              _prop1Change: null,\n            }\n          }\n          constructor(...initProps: any[]) {\n            super(...initProps)\n            this.render([{tag: 'test-subelement', props: {\n              id: 'subelement',\n              prop0: this.bind('prop0'),\n              prop1: this.bind('prop1'),\n            }}])\n            this.subnode = new TestNode({\n              prop0: this.bind('prop0'),\n              prop1: this.bind('prop1'),\n            })\n          }\n          changed() {\n            eventStack.push('TestElement1: changed')\n            this._counter++\n          }\n          prop0Changed(change: Change) {\n            eventStack.push('TestElement1: prop0Changed ' + this.prop0)\n            this._prop0counter++\n            this._prop0Change = change\n          }\n          prop1Changed(change: Change) {\n            eventStack.push('TestElement1: prop1Changed ' + this.prop1)\n            this._prop1counter++\n            this._prop1Change = change\n          }\n        }\n        Register(TestElement1)\n\n        eventStack.length = 0\n\n        const element = new TestElement1()\n        expect(element.prop0).to.equal(-1)\n        expect(element.subnode.prop0).to.equal(-1)\n        expect(element.$.subelement.prop0).to.equal(-1)\n        expect(element.$.subelement.prop1).to.equal('default')\n        expect(element.subnode.prop0).to.equal(-1)\n        expect(element.subnode.prop1).to.equal('default')\n\n        expect(element._counter).to.equal(0)\n        expect(element._prop0counter).to.equal(0)\n        expect(element._prop0Change).to.equal(null)\n        expect(element._prop1counter).to.equal(0)\n        expect(element._prop1Change).to.equal(null)\n\n        element.subnode.prop0 = 1\n\n        expect(element.prop0).to.equal(1)\n        expect(element.subnode.prop0).to.equal(1)\n        expect(element._counter).to.equal(1)\n        expect(element._prop0counter).to.equal(1)\n        expect(element._prop0Change).to.eql({property: 'prop0', value: 1, oldValue: -1})\n        expect(element._prop1counter).to.equal(0)\n        expect(element._prop1Change).to.equal(null)\n\n        element.setProperties({\n          prop0: 2,\n          prop1: 'foo'\n        })\n\n        expect(element.prop0).to.equal(2)\n        expect(element.subnode.prop0).to.equal(2)\n        expect(element.$.subelement.prop0).to.equal(2)\n        expect(element.prop1).to.equal('foo')\n        expect(element.subnode.prop1).to.equal('foo')\n        expect(element.$.subelement.prop1).to.equal('foo')\n        expect(element._counter).to.equal(2)\n        expect(element._prop0counter).to.equal(2)\n        expect(element._prop0Change).to.eql({property: 'prop0', value: 2, oldValue: 1})\n        expect(element._prop1counter).to.equal(1)\n        expect(element._prop1Change).to.eql({property: 'prop1', value: 'foo', oldValue: 'default'})\n\n        element.subnode.setProperties({\n          prop0: 3,\n          prop1: 'buzz',\n        })\n\n        expect(element.prop0).to.equal(3)\n        expect(element.subnode.prop0).to.equal(3)\n        expect(element.$.subelement.prop0).to.equal(3)\n        expect(element.$.subelement.prop0).to.equal(3)\n        expect(element.prop1).to.equal('buzz')\n        expect(element.subnode.prop1).to.equal('buzz')\n        expect(element.$.subelement.prop1).to.equal('buzz')\n\n        // // NOTE: element.subnode.setProperties on 2 bound properties causes change() event on element twice.\n        // // TODO: Consider fixing // expect(element._counter).to.equal(3);\n        expect(element._counter).to.equal(4)\n\n        expect(element._prop0counter).to.equal(3)\n        expect(element._prop0Change).to.eql({property: 'prop0', value: 3, oldValue: 2})\n        expect(element._prop1counter).to.equal(2)\n        expect(element._prop1Change).to.eql({property: 'prop1', value: 'buzz', oldValue: 'foo'})\n\n        expect(eventStack).to.eql(\n          ['TestNode: prop0Changed -1', 'TestNode: prop1Changed default', 'TestNode: changed', 'TestNode: prop0Changed 1', 'TestElement1: prop0Changed 1', 'TestElement1: changed', 'TestNode: changed', 'TestElement1: prop0Changed 2', 'TestNode: prop0Changed 2', 'TestNode: changed', 'TestElement1: prop1Changed foo', 'TestNode: prop1Changed foo', 'TestNode: changed', 'TestElement1: changed', 'TestNode: prop0Changed 3', 'TestElement1: prop0Changed 3', 'TestElement1: changed', 'TestNode: prop1Changed buzz', 'TestElement1: prop1Changed buzz', 'TestElement1: changed', 'TestNode: changed']\n        )\n\n        eventStack.length = 0\n\n        class TestElement2 extends IoElement {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop0: -1,\n              prop1: {\n                value: '',\n              },\n            }\n          }\n          changed() {\n            this.render([{tag: 'test-subelement', props: {id: 'subelement',\n              prop0: this.bind('prop0'),\n              prop1: this.bind('prop1'),\n            }}])\n          }\n        }\n        Register(TestElement2)\n\n        const element2 = new TestElement2()\n        element2.prop0 = 1\n        element2.prop1 = 'default'\n\n        expect(element2.prop0).to.equal(1)\n        expect(element2.$.subelement.prop0).to.equal(1)\n        expect(element2.prop1).to.equal('default')\n        expect(element2.$.subelement.prop1).to.equal('default')\n\n        element2.setProperties({\n          prop0: 2,\n          prop1: 'foo'\n        })\n\n        expect(element2.prop0).to.equal(2)\n        expect(element2.$.subelement.prop0).to.equal(2)\n        expect(element2.prop1).to.equal('foo')\n        expect(element2.$.subelement.prop1).to.equal('foo')\n\n        element2.$.subelement.setProperties({\n          prop0: 3,\n          prop1: 'buzz'\n        })\n\n        expect(element2.prop0).to.equal(3)\n        expect(element2.$.subelement.prop0).to.equal(3)\n        expect(element2.prop1).to.equal('buzz')\n        expect(element2.$.subelement.prop1).to.equal('buzz')\n      })\n      it('Should correctly set values when setProperties() is used to re-set multiple bindings', async () => {\n        @Register\n        class TestBindingElement extends IoElement {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop1: 'subnode1',\n              prop2: 'subnode2',\n              prop3: 'subnode3',\n            }\n          }\n        }\n\n        @Register\n        class TestBindingElementTarget extends IoElement {\n          static get ReactiveProperties(): ReactivePropertyDefinitions {\n            return {\n              prop1: 'target1',\n              prop2: 'target2',\n              prop3: 'target3',\n            }\n          }\n          ready() {\n            this.changed()\n          }\n          changed() {\n            this.render([{tag: 'test-binding-element', props: {\n              id: 'testElement',\n              prop1: this.bind('prop1'),\n              prop2: this.bind('prop2'),\n              prop3: this.bind('prop3'),\n            }}])\n          }\n        }\n\n        const targetElement = new TestBindingElementTarget()\n\n        expect(targetElement.$.testElement.prop1).to.be.equal(targetElement.prop1).to.be.equal('target1')\n        expect(targetElement.$.testElement.prop2).to.be.equal(targetElement.prop2).to.be.equal('target2')\n        expect(targetElement.$.testElement.prop3).to.be.equal(targetElement.prop3).to.be.equal('target3')\n\n        const sourceElement = new TestBindingElement({\n          prop1: 'source1',\n          prop2: 'source2',\n          prop3: 'source3',\n        })\n\n        targetElement.setProperties({\n          prop1: sourceElement.bind('prop1'),\n          prop2: sourceElement.bind('prop2'),\n          prop3: sourceElement.bind('prop3'),\n        })\n\n        expect(targetElement.$.testElement.prop1).to.be.equal(sourceElement.prop1).to.be.equal(targetElement.prop1).to.be.equal('source1')\n        expect(targetElement.$.testElement.prop2).to.be.equal(sourceElement.prop2).to.be.equal(targetElement.prop2).to.be.equal('source2')\n        expect(targetElement.$.testElement.prop3).to.be.equal(sourceElement.prop3).to.be.equal(targetElement.prop3).to.be.equal('source3')\n\n        sourceElement.prop1 = 'test1'\n        targetElement.prop2 = 'test2'\n        targetElement.$.testElement.prop3 = 'test3'\n\n        expect(targetElement.$.testElement.prop1).to.be.equal(sourceElement.prop1).to.be.equal(targetElement.prop1).to.be.equal('test1')\n        expect(targetElement.$.testElement.prop2).to.be.equal(sourceElement.prop2).to.be.equal(targetElement.prop2).to.be.equal('test2')\n        expect(targetElement.$.testElement.prop3).to.be.equal(sourceElement.prop3).to.be.equal(targetElement.prop3).to.be.equal('test3')\n\n        targetElement.setProperties({\n          prop1: 'final1',\n          prop2: 'final2',\n          prop3: 'final3',\n        })\n\n        expect(targetElement.$.testElement.prop1).to.be.equal(sourceElement.prop1).to.be.equal(targetElement.prop1).to.be.equal('final1')\n        expect(targetElement.$.testElement.prop2).to.be.equal(sourceElement.prop2).to.be.equal(targetElement.prop2).to.be.equal('final2')\n        expect(targetElement.$.testElement.prop3).to.be.equal(sourceElement.prop3).to.be.equal(targetElement.prop3).to.be.equal('final3')\n      })\n      it('Should bind and unbind correctly', () => {\n        const element1 = new TestElement()\n        const element2 = new TestElement()\n        element2.prop0 = element1.bind('prop0') as unknown as string\n        element1.prop0 = 1\n        expect(element1.prop0).to.equal(1)\n        expect(element2.prop0).to.equal(1)\n        element2.prop0 = 2\n        expect(element1.prop0).to.equal(2)\n        expect(element2.prop0).to.equal(2)\n        // unbind\n        element1.unbind('prop0')\n        element1.prop0 = 3\n        expect(element1.prop0).to.equal(3)\n        expect(element2.prop0).to.equal(2)\n        element2.prop0 = element1.bind('prop0') as unknown as string\n        expect(element2.prop0).to.equal(3)\n        element1.prop0 = 4\n        expect(element1.prop0).to.equal(4)\n        expect(element2.prop0).to.equal(4)\n        element2.unbind('prop0')\n        element1.prop0 = 5\n        expect(element1.prop0).to.equal(5)\n        expect(element2.prop0).to.equal(4)\n      })\n      it('Should bind from constructor', () => {\n        const element1 = new TestElement()\n        const element2 = new TestElement({prop0: element1.bind('prop0')})\n        element1.prop0 = 1\n        expect(element2.prop0).to.equal(1)\n        element2.unbind('prop0')\n        element1.prop0 = 2\n        expect(element1.prop0).to.equal(2)\n        expect(element2.prop0).to.equal(1)\n      })\n    })\n  }\n}\n"]}