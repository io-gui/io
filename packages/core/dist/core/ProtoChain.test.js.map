{"version":3,"file":"ProtoChain.test.js","sourceRoot":"","sources":["../../src/core/ProtoChain.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { ProtoChain, Node, ReactiveProperty, ReactivePropertyDefinitions, ListenerDefinitions, IoElement, Register, Property } from '@io-gui/core'\n\nclass Array1 extends Array {}\nclass Array2 extends Array1 {}\nclass Array3 extends Array2 {}\n\nclass Object1 {}\nclass Object2 extends Object1 {}\nclass Object3 extends Object2 {}\n\nclass HTMLElement1 extends HTMLElement {}\nclass HTMLElement2 extends HTMLElement1 {}\nclass HTMLElement3 extends HTMLElement2 {}\n\n// TODO: Fix init field testing. Based on old implementation.\n\n@Register\nclass Node1 extends Node {\n  static get ReactiveProperties(): ReactivePropertyDefinitions {\n    return {\n      prop1: {\n        init: false\n      },\n      prop2: {}\n    }\n  }\n\n  static get Properties(): Record<string, any> {\n    return {\n      sprop1: 'foo'\n    }\n  }\n\n  @ReactiveProperty({type: Object, init: null})\n  declare prop2: Object\n}\n\n@Register\nclass Node3 extends Node1 {\n  static get ReactiveProperties(): ReactivePropertyDefinitions {\n    return {\n      prop1: {\n        init: true,\n        reflect: true\n      }\n    }\n  }\n\n  @ReactiveProperty({init: true})\n  declare prop1: any\n\n  @ReactiveProperty({value: 'foo', reflect: false})\n  declare prop2: any\n\n  @ReactiveProperty({reflect: true})\n  declare prop3: any\n\n  @Property('bar')\n  declare sprop2: any\n}\n\n@Register\nclass Node4 extends Node1 {\n  @ReactiveProperty({init: true})\n  declare prop1: any\n\n  @ReactiveProperty({})\n  declare prop2: any\n\n  @Property('baz')\n  declare sprop1: string\n}\n\nclass IoElement1 extends IoElement {}\n\nclass MockNode1 {\n  static get ReactiveProperties(): ReactivePropertyDefinitions {\n    return {\n      prop1: {\n        init: false\n      }\n    }\n  }\n  static get Listeners(): ListenerDefinitions {\n    return {\n      listener1: 'function1',\n      listener2: '',\n      listener3: ['_onFunction1', {capture: true}],\n      listener4: () => {}\n    }\n  }\n  static get Style() {\n    return 'a'\n  }\n  changed() {}\n  function1() {}\n  onFunction1() {}\n  _onFunction1() {}\n}\n\nclass MockNode2 extends MockNode1 {\n  function2() {}\n  onFunction2() {}\n  _onFunction2() {}\n  static get ReactiveProperties(): ReactivePropertyDefinitions {\n    return {\n      prop1: {\n        type: Object,\n        init: null\n      },\n      prop2: {}\n    }\n  }\n  static get Listeners(): ListenerDefinitions {\n    return {\n      listener1: '_onFunction2',\n      listener2: ['function2', {capture: true, passive: true}],\n      listener3: ['_onFunction1', {passive: true}]\n    }\n  }\n  static get Style() {\n    return 'b'\n  }\n}\nclass MockNode3 extends MockNode2 {}\n\nexport default class {\n  run() {\n    describe('ProtoChain', () => {\n      it('Should include an array of inherited class constructors', () => {\n        let constructors = new ProtoChain(Array3).constructors\n        expect(constructors).to.be.eql([Array3, Array2, Array1, Array])\n        constructors = new ProtoChain(Object3).constructors\n        expect(constructors).to.be.eql([Object3, Object2, Object1])\n        constructors = new ProtoChain(HTMLElement3).constructors\n        expect(constructors).to.be.eql([HTMLElement3, HTMLElement2, HTMLElement1])\n        constructors = new ProtoChain(Node).constructors\n        expect(constructors).to.be.eql([Node])\n        constructors = new ProtoChain(Node1).constructors\n        expect(constructors).to.be.eql([Node1, Node])\n        constructors = new ProtoChain(IoElement1).constructors\n        expect(constructors).to.be.eql([IoElement1, IoElement])\n      })\n      it('Should include properties declared in `static get Properties()` return oject', () => {\n        let protoChain = new ProtoChain(Node1)\n        expect(Object.keys(protoChain.properties)).to.be.eql(['sprop1'])\n        expect(protoChain.properties).to.be.eql({\n          sprop1: 'foo'\n        })\n      })\n      it('Should include reactive properties declared in `static get ReactiveProperties()` return oject', () => {\n        let protoChain = new ProtoChain(MockNode1)\n        expect(Object.keys(protoChain.reactiveProperties)).to.be.eql(['prop1'])\n        expect(protoChain.reactiveProperties).to.be.eql({\n          prop1:{init: false},\n        })\n        protoChain = new ProtoChain(MockNode2)\n        expect(Object.keys(protoChain.reactiveProperties)).to.be.eql(['prop1', 'prop2'])\n        expect(protoChain.reactiveProperties).to.be.eql({\n          prop1:{type: Object, init: null},\n          prop2:{},\n        })\n      })\n      it('Should include properties declared in Property decorator', () => {\n        let protoChain = new ProtoChain(Node3)\n        expect(Object.keys(protoChain.properties)).to.be.eql(['sprop1', 'sprop2'])\n        expect(protoChain.properties).to.be.eql({\n          sprop1: 'foo',\n          sprop2: 'bar'\n        })\n      })\n      it('Should include reactive properties declared in ReactiveProperty decorator', () => {\n        let protoChain = new ProtoChain(Node1)\n        expect(Object.keys(protoChain.reactiveProperties)).to.be.eql(['reactivity', 'prop2', 'prop1'])\n        expect(protoChain.reactiveProperties).to.be.eql({\n          reactivity:{value: 'immediate', type: String},\n          prop1:{init: false},\n          prop2:{type: Object, init: null},\n        })\n        protoChain = new ProtoChain(Node3)\n        expect(Object.keys(protoChain.reactiveProperties)).to.be.eql(['reactivity', 'prop2', 'prop1', 'prop3'])\n        expect(protoChain.reactiveProperties).to.be.eql({\n          reactivity:{value: 'immediate', type: String},\n          prop1:{reflect: true, init: true},\n          prop2:{value: 'foo', init: null, type: Object, reflect: false},\n          prop3:{reflect: true},\n        })\n      })\n      it('Should not override properties declared in Property decorator with inherited `static get Properties()` return oject', () => {\n        const protoChain = new ProtoChain(Node4)\n        expect(Object.keys(protoChain.properties)).to.be.eql(['sprop1'])\n        expect(protoChain.properties).to.be.eql({\n          sprop1: 'baz',\n        })\n      })\n      it('Should not override reactive properties declared in ReactiveProperty decorator with inherited `static get ReactiveProperties()` return oject', () => {\n        const protoChain = new ProtoChain(Node4)\n        expect(Object.keys(protoChain.reactiveProperties)).to.be.eql(['reactivity', 'prop2', 'prop1'])\n        expect(protoChain.reactiveProperties).to.be.eql({\n          reactivity:{value: 'immediate', type: String},\n          prop1:{init: true},\n          prop2:{type: Object, init: null},\n        })\n      })\n      it('Should include listners declared in `static get Listeners()` return oject', () => {\n        let protoChain = new ProtoChain(MockNode1)\n        expect(Object.keys(protoChain.listeners)).to.be.eql(['listener1', 'listener3', 'listener4'])\n        expect(protoChain.listeners['listener1']).to.be.eql([['function1']])\n        expect(protoChain.listeners['listener3']).to.be.eql([['_onFunction1', {capture: true}]])\n        expect(String(protoChain.listeners['listener4'])).to.be.eql(String([[() => { }]]))\n        protoChain = new ProtoChain(MockNode2)\n        expect(Object.keys(protoChain.listeners)).to.be.eql(['listener1', 'listener3', 'listener4', 'listener2'])\n        expect(protoChain.listeners['listener1']).to.be.eql([['function1'], ['_onFunction2']])\n        expect(protoChain.listeners['listener2']).to.be.eql([['function2', {capture: true, passive: true}]])\n        expect(protoChain.listeners['listener3']).to.be.eql([['_onFunction1', {capture: true, passive: true}]])\n        expect(String(protoChain.listeners['listener4'])).to.be.eql(String([[() => { }]]))\n      })\n      it('Should include style strings declared in `static get Style()` return string', () => {\n        let protoChain = new ProtoChain(MockNode1)\n        expect(protoChain.style).to.be.equal('a')\n        protoChain = new ProtoChain(MockNode2)\n        expect(protoChain.style).to.be.equal('a\\nb')\n        protoChain = new ProtoChain(MockNode3)\n        expect(protoChain.style).to.be.equal('a\\nb')\n      })\n      it('Should include an array of handler names that start with \"on[A-Z]\" or \"_on[A-Z]\" for auto-binding', () => {\n        let protoChain = new ProtoChain(Node1)\n        expect(protoChain.handlers).to.be.eql(['changed', 'onPropertyMutated'])\n        protoChain = new ProtoChain(MockNode1)\n        expect(protoChain.handlers).to.be.eql(['changed', 'onFunction1', '_onFunction1'])\n        protoChain = new ProtoChain(MockNode2)\n        expect(protoChain.handlers).to.be.eql(['changed', 'onFunction1', '_onFunction1', 'onFunction2', '_onFunction2'])\n      })\n      it('Should bind auto-binding functions with `.init(node)` function', () => {\n        const protoChain = new ProtoChain(MockNode2)\n        const node = new MockNode2()\n        protoChain.init(node as unknown as Node)\n        expect(node.function1.name).to.be.equal('function1')\n        expect(node.onFunction1.name).to.be.equal('bound onFunction1')\n        expect(node._onFunction1.name).to.be.equal('bound _onFunction1')\n        expect(node.function2.name).to.be.equal('function2')\n        expect(node.onFunction2.name).to.be.equal('bound onFunction2')\n        expect(node._onFunction2.name).to.be.equal('bound _onFunction2')\n      })\n    })\n  }\n}\n"]}