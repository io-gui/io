{"version":3,"file":"NodeArray.test.js","sourceRoot":"","sources":["../../src/core/NodeArray.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { describe, it, expect, vi } from 'vitest'\nimport { ReactiveNode, Register, ReactivePropertyDefinitions } from '@io-gui/core'\nimport { NodeArray } from './NodeArray.js'\n\n@Register\nclass TestNode extends ReactiveNode {\n  static get ReactiveProperties(): ReactivePropertyDefinitions {\n    return {\n      label: ''\n    }\n  }\n  declare label: string\n  constructor(args?: {label?: string}) { super(args) }\n}\n\n@Register\nclass ParentNode extends ReactiveNode {\n  static get ReactiveProperties(): ReactivePropertyDefinitions {\n    return {\n      items: {type: Array, init: null}\n    }\n  }\n  declare items: TestNode[]\n}\n\ndescribe('NodeArray', () => {\n  describe('fill()', () => {\n    it('Should fill entire array with a value', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n      const item3 = new TestNode({label: 'c'})\n      const fillItem = new TestNode({label: 'fill'})\n\n      array.push(item1, item2, item3)\n\n      array.fill(fillItem)\n\n      expect(array.length).toBe(3)\n      expect(array[0]).toBe(fillItem)\n      expect(array[1]).toBe(fillItem)\n      expect(array[2]).toBe(fillItem)\n\n      parent.dispose()\n    })\n\n    it('Should fill from start index to end', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n      const item3 = new TestNode({label: 'c'})\n      const fillItem = new TestNode({label: 'fill'})\n\n      array.push(item1, item2, item3)\n\n      array.fill(fillItem, 1)\n\n      expect(array[0]).toBe(item1)\n      expect(array[1]).toBe(fillItem)\n      expect(array[2]).toBe(fillItem)\n\n      parent.dispose()\n    })\n\n    it('Should fill from start to end index', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n      const item3 = new TestNode({label: 'c'})\n      const item4 = new TestNode({label: 'd'})\n      const fillItem = new TestNode({label: 'fill'})\n\n      array.push(item1, item2, item3, item4)\n\n      array.fill(fillItem, 1, 3)\n\n      expect(array[0]).toBe(item1)\n      expect(array[1]).toBe(fillItem)\n      expect(array[2]).toBe(fillItem)\n      expect(array[3]).toBe(item4)\n\n      parent.dispose()\n    })\n\n    it('Should handle negative start index', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n      const item3 = new TestNode({label: 'c'})\n      const fillItem = new TestNode({label: 'fill'})\n\n      array.push(item1, item2, item3)\n\n      array.fill(fillItem, -2)\n\n      expect(array[0]).toBe(item1)\n      expect(array[1]).toBe(fillItem)\n      expect(array[2]).toBe(fillItem)\n\n      parent.dispose()\n    })\n\n    it('Should handle negative end index', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n      const item3 = new TestNode({label: 'c'})\n      const fillItem = new TestNode({label: 'fill'})\n\n      array.push(item1, item2, item3)\n\n      array.fill(fillItem, 0, -1)\n\n      expect(array[0]).toBe(fillItem)\n      expect(array[1]).toBe(fillItem)\n      expect(array[2]).toBe(item3)\n\n      parent.dispose()\n    })\n\n    it('Should remove listeners from old items and add to new item', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n      const fillItem = new TestNode({label: 'fill'})\n\n      array.push(item1, item2)\n\n      expect(item1._parents.includes(parent)).toBe(true)\n      expect(item2._parents.includes(parent)).toBe(true)\n\n      array.fill(fillItem)\n\n      expect(item1._parents.includes(parent)).toBe(false)\n      expect(item2._parents.includes(parent)).toBe(false)\n      expect(fillItem._parents.includes(parent)).toBe(true)\n\n      parent.dispose()\n    })\n\n    it('Should dispatch mutation event', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const fillItem = new TestNode({label: 'fill'})\n\n      array.push(item1)\n\n      const handler = vi.fn()\n      parent.addEventListener('io-object-mutation', handler)\n\n      array.fill(fillItem)\n\n      expect(handler).toHaveBeenCalled()\n\n      parent.removeEventListener('io-object-mutation', handler)\n      parent.dispose()\n    })\n\n    it('Should not dispatch mutation when filling empty range', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const fillItem = new TestNode({label: 'fill'})\n\n      array.push(item1)\n\n      const handler = vi.fn()\n      parent.addEventListener('io-object-mutation', handler)\n\n      array.fill(fillItem, 2, 2)\n\n      expect(handler).not.toHaveBeenCalled()\n\n      parent.removeEventListener('io-object-mutation', handler)\n      parent.dispose()\n    })\n  })\n\n  describe('copyWithin()', () => {\n    it('Should copy elements within the array', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n      const item3 = new TestNode({label: 'c'})\n      const item4 = new TestNode({label: 'd'})\n\n      array.push(item1, item2, item3, item4)\n\n      array.copyWithin(0, 2)\n\n      expect(array[0].label).toBe('c')\n      expect(array[1].label).toBe('d')\n      expect(array[2].label).toBe('c')\n      expect(array[3].label).toBe('d')\n\n      parent.dispose()\n    })\n\n    it('Should copy elements with start and end indices', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n      const item3 = new TestNode({label: 'c'})\n      const item4 = new TestNode({label: 'd'})\n      const item5 = new TestNode({label: 'e'})\n\n      array.push(item1, item2, item3, item4, item5)\n\n      array.copyWithin(0, 3, 4)\n\n      expect(array[0].label).toBe('d')\n      expect(array[1].label).toBe('b')\n      expect(array[2].label).toBe('c')\n      expect(array[3].label).toBe('d')\n      expect(array[4].label).toBe('e')\n\n      parent.dispose()\n    })\n\n    it('Should handle negative target index', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n      const item3 = new TestNode({label: 'c'})\n\n      array.push(item1, item2, item3)\n\n      array.copyWithin(-2, 0, 1)\n\n      expect(array[0].label).toBe('a')\n      expect(array[1].label).toBe('a')\n      expect(array[2].label).toBe('c')\n\n      parent.dispose()\n    })\n\n    it('Should handle negative start index', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n      const item3 = new TestNode({label: 'c'})\n\n      array.push(item1, item2, item3)\n\n      array.copyWithin(0, -2)\n\n      expect(array[0].label).toBe('b')\n      expect(array[1].label).toBe('c')\n      expect(array[2].label).toBe('c')\n\n      parent.dispose()\n    })\n\n    it('Should update parent relationships correctly', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n\n      array.push(item1, item2)\n\n      expect(item1._parents.includes(parent)).toBe(true)\n      expect(item2._parents.includes(parent)).toBe(true)\n\n      array.copyWithin(0, 1)\n\n      expect(item1._parents.includes(parent)).toBe(false)\n      expect(item2._parents.includes(parent)).toBe(true)\n\n      parent.dispose()\n    })\n\n    it('Should dispatch mutation event', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n\n      array.push(item1, item2)\n\n      const handler = vi.fn()\n      parent.addEventListener('io-object-mutation', handler)\n\n      array.copyWithin(0, 1)\n\n      expect(handler).toHaveBeenCalled()\n\n      parent.removeEventListener('io-object-mutation', handler)\n      parent.dispose()\n    })\n\n    it('Should not copy when count is zero', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n\n      array.push(item1, item2)\n\n      const handler = vi.fn()\n      parent.addEventListener('io-object-mutation', handler)\n\n      array.copyWithin(0, 1, 1)\n\n      expect(handler).not.toHaveBeenCalled()\n      expect(array[0].label).toBe('a')\n      expect(array[1].label).toBe('b')\n\n      parent.removeEventListener('io-object-mutation', handler)\n      parent.dispose()\n    })\n  })\n\n  describe('push()', () => {\n    it('Should push items and add parent relationships', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item = new TestNode({label: 'test'})\n\n      array.push(item)\n\n      expect(array.length).toBe(1)\n      expect(array[0]).toBe(item)\n      expect(item._parents.includes(parent)).toBe(true)\n\n      parent.dispose()\n    })\n  })\n\n  describe('pop()', () => {\n    it('Should pop items and remove parent relationships', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item = new TestNode({label: 'test'})\n\n      array.push(item)\n      const popped = array.pop()\n\n      expect(array.length).toBe(0)\n      expect(popped).toBe(item)\n      expect(item._parents.includes(parent)).toBe(false)\n\n      parent.dispose()\n    })\n  })\n\n  describe('splice()', () => {\n    it('Should splice items and update parent relationships', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n      const item3 = new TestNode({label: 'c'})\n\n      array.push(item1, item2)\n      array.splice(1, 1, item3)\n\n      expect(array.length).toBe(2)\n      expect(array[0]).toBe(item1)\n      expect(array[1]).toBe(item3)\n      expect(item1._parents.includes(parent)).toBe(true)\n      expect(item2._parents.includes(parent)).toBe(false)\n      expect(item3._parents.includes(parent)).toBe(true)\n\n      parent.dispose()\n    })\n  })\n\n  describe('reverse()', () => {\n    it('Should reverse array and dispatch mutation', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'a'})\n      const item2 = new TestNode({label: 'b'})\n\n      array.push(item1, item2)\n\n      const handler = vi.fn()\n      parent.addEventListener('io-object-mutation', handler)\n\n      array.reverse()\n\n      expect(array[0]).toBe(item2)\n      expect(array[1]).toBe(item1)\n      expect(handler).toHaveBeenCalled()\n\n      parent.removeEventListener('io-object-mutation', handler)\n      parent.dispose()\n    })\n  })\n\n  describe('sort()', () => {\n    it('Should sort array and dispatch mutation', () => {\n      const parent = new ParentNode()\n      const array = new NodeArray<TestNode>(parent)\n      const item1 = new TestNode({label: 'b'})\n      const item2 = new TestNode({label: 'a'})\n\n      array.push(item1, item2)\n\n      const handler = vi.fn()\n      parent.addEventListener('io-object-mutation', handler)\n\n      array.sort((a, b) => a.label.localeCompare(b.label))\n\n      expect(array[0]).toBe(item2)\n      expect(array[1]).toBe(item1)\n      expect(handler).toHaveBeenCalled()\n\n      parent.removeEventListener('io-object-mutation', handler)\n      parent.dispose()\n    })\n  })\n})\n\n"]}