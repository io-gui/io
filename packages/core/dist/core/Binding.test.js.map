{"version":3,"file":"Binding.test.js","sourceRoot":"","sources":["../../src/core/Binding.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { Binding, Node, Register, ReactiveProperty } from 'io-core'\n\n@Register\nclass TestNode extends Node {\n  @ReactiveProperty({type: Number, value: 0})\n  declare prop1: number\n  @ReactiveProperty({type: Number, value: 0})\n  declare prop2: number\n}\n\n@Register\nclass TestNodeString extends Node {\n  @ReactiveProperty({type: String, value: ''})\n  declare strProp: string\n}\n\n// @Register\n// class TestNodeBoolean extends Node {\n//   @ReactiveProperty({type: Boolean, value: true})\n//   declare boolProp: boolean;\n// }\n\n// @Register\n// class TestNodeObject extends Node {\n//   @ReactiveProperty({type: Object, init: null})\n//   declare objProp: object;\n// }\n\nexport default class {\n  run() {\n    describe('Binding', () => {\n      it('Should initialize with correct default values', () => {\n        const node = new TestNode()\n        const binding = new Binding(node, 'prop1')\n        expect(binding.node).to.be.equal(node)\n        expect(binding.property).to.be.equal('prop1')\n        expect(binding.targets instanceof Array).to.be.equal(true)\n        expect(binding.targets.length).to.be.equal(0)\n        expect(binding.targetProperties instanceof WeakMap).to.be.equal(true)\n      })\n      it('Should set source and target properties', () => {\n        const node = new TestNode()\n        const binding = new Binding(node, 'prop1')\n        node.prop1 = 1\n        expect(binding.value).to.be.equal(1)\n        node.prop1 = 2\n        expect(binding.value).to.be.equal(2)\n        binding.value = 3\n        expect(node.prop1).to.be.equal(3)\n        const targetNode = new TestNode()\n        binding.addTarget(targetNode, 'prop1')\n        expect(targetNode.prop1).to.be.equal(3)\n        targetNode.prop1 = 4\n        expect(binding.value).to.be.equal(4)\n        node.prop1 = 5\n        expect(targetNode.prop1).to.be.equal(5)\n        expect(binding.value).to.be.equal(5)\n        binding.value = 6\n        expect(node.prop1).to.be.equal(6)\n        expect(targetNode.prop1).to.be.equal(6)\n      })\n      it('Should add/remove target nodes+properties with `addTarget()` and `removeTarget()`', () => {\n        const srcNode = new TestNode()\n        const binding0 = new Binding(srcNode, 'prop1')\n        const binding1 = new Binding(srcNode, 'prop2')\n\n        const dstNode0 = new TestNode()\n        const dstNode1 = new TestNode()\n\n        binding0.addTarget(dstNode0, 'prop1')\n        binding1.addTarget(dstNode0, 'prop2')\n        binding1.addTarget(dstNode1, 'prop1')\n        binding1.addTarget(dstNode1, 'prop2')\n\n        expect(srcNode._eventDispatcher.addedListeners).to.be.eql({\n          'prop1-changed': [[binding0.onSourceChanged]],\n          'prop2-changed': [[binding1.onSourceChanged]]\n        })\n\n        expect(dstNode0._eventDispatcher.addedListeners).to.be.eql({\n          'prop1-changed': [[binding0.onTargetChanged]],\n          'prop2-changed': [[binding1.onTargetChanged]]\n        })\n\n        expect(dstNode1._eventDispatcher.addedListeners).to.be.eql({\n          'prop1-changed': [[binding1.onTargetChanged]],\n          'prop2-changed': [[binding1.onTargetChanged]]\n        })\n\n        expect(binding0.targets[0]).to.be.equal(dstNode0)\n        expect(binding0.targets[1]).to.be.equal(undefined)\n        expect(binding1.targets[0]).to.be.equal(dstNode0)\n        expect(binding1.targets[1]).to.be.equal(dstNode1)\n        expect(binding1.targets[2]).to.be.equal(undefined)\n\n        expect(dstNode0._reactiveProperties.get('prop1')!.binding).to.be.equal(binding0)\n        expect(dstNode0._reactiveProperties.get('prop2')!.binding).to.be.equal(binding1)\n        expect(dstNode1._reactiveProperties.get('prop1')!.binding).to.be.equal(binding1)\n        expect(dstNode1._reactiveProperties.get('prop2')!.binding).to.be.equal(binding1)\n\n        const binding0target0Props = binding0.getTargetProperties(dstNode0)\n        const binding0target1Props = binding0.getTargetProperties(dstNode1)\n        expect(binding0target0Props[0]).to.be.equal('prop1')\n        expect(binding0target0Props.length).to.be.equal(1)\n        expect(binding0target1Props.length).to.be.equal(0)\n\n        const binding1target0Props = binding1.getTargetProperties(dstNode0)\n        const binding1target1Props = binding1.getTargetProperties(dstNode1)\n        expect(binding1target0Props[0]).to.be.equal('prop2')\n        expect(binding1target0Props.length).to.be.equal(1)\n        expect(binding1target1Props[0]).to.be.equal('prop1')\n        expect(binding1target1Props[1]).to.be.equal('prop2')\n        expect(binding1target1Props.length).to.be.equal(2)\n\n        binding1.removeTarget(dstNode1, 'prop1')\n        expect(binding1target1Props[0]).to.be.equal('prop2')\n        expect(binding1target1Props.length).to.be.equal(1)\n        expect(dstNode1._reactiveProperties.get('prop1')!.binding).to.be.equal(undefined)\n\n        expect(dstNode1._eventDispatcher.addedListeners).to.be.eql({\n          'prop2-changed': [[binding1.onTargetChanged]]\n        })\n\n        binding1.addTarget(dstNode1, 'prop1')\n        expect(binding1target1Props.length).to.be.equal(2)\n        expect(dstNode1._reactiveProperties.get('prop1')!.binding).to.be.equal(binding1)\n        binding1.removeTarget(dstNode1)\n        expect(binding1target1Props.length).to.be.equal(0)\n        expect(dstNode1._reactiveProperties.get('prop1')!.binding).to.be.equal(undefined)\n        expect(dstNode1._reactiveProperties.get('prop2')!.binding).to.be.equal(undefined)\n\n        expect(dstNode1._eventDispatcher.addedListeners).to.be.eql({})\n      })\n      it('Should remove existing binding from target if `addTarget()` causes a binding collision', () => {\n        const srcNode1 = new TestNode()\n        const binding1 = new Binding(srcNode1, 'prop1')\n        const dstNode1 = new TestNode()\n        binding1.addTarget(dstNode1, 'prop1')\n\n        const srcNode2 = new TestNode()\n        const binding2 = new Binding(srcNode2, 'prop1')\n\n        expect(binding1.targets).to.be.include(dstNode1)\n        let binding1targetProps = binding1.getTargetProperties(dstNode1)\n        expect(binding1targetProps.length).to.be.equal(1)\n        expect(binding1targetProps[0]).to.be.equal('prop1')\n\n        binding2.addTarget(dstNode1, 'prop1')\n\n        expect(binding1.targets).to.be.eql([])\n        binding1targetProps = binding1.getTargetProperties(dstNode1)\n        expect(binding1targetProps.length).to.be.equal(0)\n      })\n      it('Should dispose correctly', () => {\n        const node = new TestNode()\n        const dstNode = new TestNode()\n        const binding = new Binding(node, 'prop1')\n        binding.addTarget(dstNode, 'prop1')\n\n        expect(node._eventDispatcher.addedListeners).to.be.eql({\n          'prop1-changed': [[binding.onSourceChanged]]\n        })\n\n        expect(dstNode._eventDispatcher.addedListeners).to.be.eql({\n          'prop1-changed': [[binding.onTargetChanged]],\n        })\n\n        binding.dispose()\n        expect(binding.node).to.be.equal(undefined)\n        expect(binding.property).to.be.equal(undefined)\n        expect(binding.targets).to.be.equal(undefined)\n        expect(binding.targetProperties).to.be.equal(undefined)\n        expect(dstNode._reactiveProperties.get('prop1')!.binding).to.be.equal(undefined)\n\n        expect(node._eventDispatcher.addedListeners).to.be.eql({})\n\n        expect(dstNode._eventDispatcher.addedListeners).to.be.eql({})\n      })\n      it('Should return correct JSON representation', () => {\n        const node1 = new TestNode()\n        const node2 = new TestNode()\n        const node3 = new TestNode()\n        const node4 = new TestNodeString()\n        const binding = new Binding(node1, 'prop1')\n        binding.addTarget(node2, 'prop1')\n        binding.addTarget(node2, 'prop2')\n        binding.addTarget(node3, 'prop1')\n        binding.addTarget(node4, 'strProp')\n        const json = binding.toJSON()\n        expect(json).to.be.eql({\n          node: 'TestNode',\n          property: 'prop1',\n          targets: ['TestNode', 'TestNode', 'TestNodeString'],\n          targetProperties: [\n            ['prop1', 'prop2'],\n            ['prop1'],\n            ['strProp']\n          ]\n        })\n      })\n    })\n  }\n}\n"]}