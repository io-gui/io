{"version":3,"file":"Property.js","sourceRoot":"","sources":["../../src/decorators/Property.ts"],"names":[],"mappings":"AAIA,MAAM,CAAC,MAAM,kBAAkB,GAAiD,IAAI,OAAO,EAAE,CAAA;AAC7F,MAAM,CAAC,MAAM,0BAA0B,GAAyD,IAAI,OAAO,EAAE,CAAA;AAE7G;;;;;;;;;;;;GAYG;AACH,MAAM,UAAU,QAAQ,CAAC,eAAoB,SAAS;IACpD,OAAO,CAAC,MAAwB,EAAE,YAAoB,EAAE,EAAE;QACxD,MAAM,WAAW,GAAG,MAAM,CAAC,WAA6B,CAAA;QACxD,MAAM,UAAU,GAAG,kBAAkB,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,EAAE,CAAA;QAC5D,kBAAkB,CAAC,GAAG,CAAC,WAAW,EAAE,UAAU,CAAC,CAAA;QAC/C,UAAU,CAAC,YAAY,CAAC,GAAG,YAAY,CAAA;IACzC,CAAC,CAAA;AACH,CAAC;AAAA,CAAC;AAEF;;;;;;;;;;;;;;;;;;;GAmBG;AACH,MAAM,UAAU,gBAAgB,CAAC,WAA4C,EAAE;IAC7E,OAAO,CAAC,MAAwB,EAAE,YAAoB,EAAE,EAAE;QACxD,MAAM,WAAW,GAAG,MAAM,CAAC,WAA6B,CAAA;QACxD,MAAM,UAAU,GAAG,0BAA0B,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,EAAE,CAAA;QACpE,0BAA0B,CAAC,GAAG,CAAC,WAAW,EAAE,UAAU,CAAC,CAAA;QACvD,UAAU,CAAC,YAAY,CAAC,GAAG,QAAQ,CAAA;IACrC,CAAC,CAAA;AACH,CAAC;AAAA,CAAC","sourcesContent":["import { ReactivePropertyDefinitionLoose } from '../core/ReactiveProperty.js'\nimport { Node, AnyConstructor, ReactivePropertyDefinitions } from '../nodes/Node.js'\nimport { IoElement } from '../elements/IoElement.js'\n\nexport const propertyDecorators: WeakMap<AnyConstructor, Record<string, any>> = new WeakMap()\nexport const reactivePropertyDecorators: WeakMap<AnyConstructor, ReactivePropertyDefinitions> = new WeakMap()\n\n/**\n * Declares a property and an initial value for a property.\n * @decorator\n * @param {any} initialValue - Initial value.\n * @returns {Function} Property decorator function.\n *\n * @example\n * \\@Register\n * class MyClass extends Node {\n *   \\@Property('default text')\n *   declare title: string;\n * }\n */\nexport function Property(initialValue: any = undefined) {\n  return (target: Node | IoElement, propertyName: string) => {\n    const constructor = target.constructor as AnyConstructor\n    const properties = propertyDecorators.get(constructor) || {}\n    propertyDecorators.set(constructor, properties)\n    properties[propertyName] = initialValue\n  }\n};\n\n/**\n * Declares a reactive property and defines its inital value and behavior using a loose or strict definition.\n * @decorator\n * @param {ReactivePropertyDefinitionLoose} defLoose - Property definition.\n * @returns {Function} Property decorator function.\n *\n * @example\n * \\@Register\n * class MyClass extends Node {\n *   \\@ReactiveProperty({type: String, value: 'default text', reflect: true})\n *   declare title: string;\n * }\n *\n * @example\n * \\@Register\n * class MyClass extends Node {\n *   \\@ReactiveProperty({type: Array, init: [0, 0]})\n *   declare size: [number, number];\n * }\n */\nexport function ReactiveProperty(defLoose: ReactivePropertyDefinitionLoose = {}) {\n  return (target: Node | IoElement, propertyName: string) => {\n    const constructor = target.constructor as AnyConstructor\n    const properties = reactivePropertyDecorators.get(constructor) || {}\n    reactivePropertyDecorators.set(constructor, properties)\n    properties[propertyName] = defLoose\n  }\n};"]}