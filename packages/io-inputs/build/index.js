import{Property as t,Register as e,IoField as o,ioText as i,IoElement as n,IoOverlaySingleton as r,IoThemeSingleton as s,span as a}from"io-gui";import{ioIcon as l}from"io-icons";var __decorate$7=function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};let c=class IoInputBase extends o{static get Style(){return"\n      :host {\n        cursor: pointer;\n        user-select: none;\n        -webkit-touch-callout: none;\n        border-radius: var(--io_borderRadius);\n        color: var(--io_colorInput);\n        background-color: var(--io_bgColorInput);\n        transition: background-color 0.25s;\n      }\n    "}static get Listeners(){return{"focus-to":"onFocusTo",focus:"onFocus",pointerdown:"onPointerdown",click:"onClick"}}onFocus(t){this.addEventListener("blur",this.onBlur),this.addEventListener("keydown",this.onKeydown),this.addEventListener("keyup",this.onKeyup)}onBlur(t){this.removeEventListener("blur",this.onBlur),this.removeEventListener("keydown",this.onKeydown),this.removeEventListener("keyup",this.onKeyup)}onPointerdown(t){this.addEventListener("pointermove",this.onPointermove),this.addEventListener("pointerleave",this.onPointerleave),this.addEventListener("pointerup",this.onPointerup)}onPointermove(t){}onPointerleave(t){this.removeEventListener("pointermove",this.onPointermove),this.removeEventListener("pointerleave",this.onPointerleave),this.removeEventListener("pointerup",this.onPointerup)}onPointerup(t){this.removeEventListener("pointermove",this.onPointermove),this.removeEventListener("pointerleave",this.onPointerleave),this.removeEventListener("pointerup",this.onPointerup),this.focus()}onClick(){this.dispatchEvent("io-input-base-clicked",{value:this.value},!0)}onKeydown(t){"Enter"===t.key||" "===t.key?(t.preventDefault(),this.onClick()):"ArrowLeft"===t.key?(t.preventDefault(),this.focusTo("left")):"ArrowUp"===t.key?(t.preventDefault(),this.focusTo("up")):"ArrowRight"===t.key?(t.preventDefault(),this.focusTo("right")):"ArrowDown"===t.key&&(t.preventDefault(),this.focusTo("down"))}onKeyup(t){}onFocusTo(t){const e=t.composedPath()[0],o=t.detail.dir,i=t.detail.rect;if(i.center={x:i.x+i.width/2,y:i.y+i.height/2},e!==this){let n=e,r=Infinity,s=Infinity;const a=this.querySelectorAll('[tabindex="0"]:not([disabled])');for(let t=a.length;t--;){if(!a[t].offsetParent)continue;if("visible"!==window.getComputedStyle(a[t]).visibility)continue;const e=a[t].getBoundingClientRect();switch(e.center={x:e.x+e.width/2,y:e.y+e.height/2},o){case"right":if(e.left>=i.right-1){const o=Math.abs(e.left-i.right),l=Math.abs(e.center.y-i.center.y);o<r||l<s/3?(n=a[t],r=o,s=l):o===r&&l<s&&(n=a[t],s=l)}break;case"left":if(e.right<=i.left+1){const o=Math.abs(e.right-i.left),l=Math.abs(e.center.y-i.center.y);o<r||l<s/3?(n=a[t],r=o,s=l):o===r&&l<s&&(n=a[t],s=l)}break;case"down":if(e.top>=i.bottom-1){const o=Math.abs(e.center.x-i.center.x),l=Math.abs(e.top-i.bottom);l<s||o<r/3?(n=a[t],r=o,s=l):l===s&&o<r&&(n=a[t],r=o)}break;case"up":if(e.bottom<=i.top+1){const o=Math.abs(e.center.x-i.center.x),l=Math.abs(e.bottom-i.top);l<s||o<r/3?(n=a[t],r=o,s=l):l===s&&o<r&&(n=a[t],r=o)}}}n!==e&&(n.focus(),t.stopPropagation())}}focusTo(t){const e=this.getBoundingClientRect();this.dispatchEvent("focus-to",{dir:t,rect:e},!0)}getCaretPosition(){let t=0;const e=window.getSelection();if(e&&e.rangeCount){const o=e.getRangeAt(0),i=o.toString().length,n=o.cloneRange();n.selectNodeContents(this),n.setEnd(o.endContainer,o.endOffset),t=n.toString().length-i}return t}setCaretPosition(t){if(!t)return;const e=window.getSelection();if(e){const o=document.createRange();o.setStart(this.firstChild,t),o.collapse(!0),e.removeAllRanges(),e.addRange(o)}}changed(){this.template([this.label?i(this.label):null,void 0!==this.value?i(String(this.value)):null])}static vDOM};__decorate$7([t({value:"0",type:String,reflect:!0})],c.prototype,"tabindex",void 0),__decorate$7([t({value:"",type:String,reflect:!0})],c.prototype,"name",void 0),__decorate$7([t({value:""})],c.prototype,"value",void 0),__decorate$7([t({value:"",type:String,reflect:!0})],c.prototype,"type",void 0),c=__decorate$7([e],c);const h=c.vDOM;var __decorate$6=function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};let d=class IoBoolean extends c{static get Style(){return"\n      :host {\n        background-color: transparent;\n      }\n    "}onClick(){this.toggle(),this.dispatchEvent("io-boolean-clicked",{value:this.value},!0)}toggle(){this.inputValue(!this.value)}init(){this.changed()}changed(){this.setAttribute("value",Boolean(this.value)),this.setAttribute("aria-checked",String(!!this.value)),this.setAttribute("aria-invalid","boolean"!=typeof this.value&&"true");const t=this.value?this.true:this.false;this.template([this.icon?l({value:this.icon,stroke:this.stroke}):null,t?i(t):null])}static vDOM};__decorate$6([t({value:!1,type:Boolean,reflect:!0})],d.prototype,"value",void 0),__decorate$6([t({value:"true",type:String})],d.prototype,"true",void 0),__decorate$6([t({value:"false",type:String})],d.prototype,"false",void 0),__decorate$6([t({value:"checkbox",type:String,reflect:!0})],d.prototype,"type",void 0),__decorate$6([t({value:"switch",type:String})],d.prototype,"role",void 0),d=__decorate$6([e],d);const p=d.vDOM;var __decorate$5=function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};let u=class IoButton extends c{static get Style(){return"\n      :host {\n        text-align: center;\n        padding-left: calc(2 * var(--io_spacing));\n        padding-right: calc(2 * var(--io_spacing));\n        color: var(--io_colorStrong);\n      }\n      :host[pressed] {\n        border-color: var(--io_borderColorInset);\n      }\n      :host > io-icon {\n        margin-right: var(--io_spacing);\n      }\n      :host > io-text {\n        vertical-align: top;\n      }\n    "}onPointerdown(t){super.onPointerdown(t),this.pressed=!0}onPointerleave(t){super.onPointerleave(t),this.pressed=!1}onPointerup(t){super.onPointerup(t),this.pressed=!1}onKeydown(t){super.onKeydown(t),"Enter"!==t.key&&" "!==t.key||(this.pressed=!0)}onKeyup(t){super.onKeyup(t),this.pressed=!1}onClick(){"function"==typeof this.action&&this.action(this.value),this.dispatchEvent("io-button-clicked",{value:this.value},!0)}init(){this.changed()}changed(){this.setAttribute("aria-pressed",String(this.pressed)),this.template([this.icon?l({value:this.icon}):null,this.label?i(this.label):null])}};__decorate$5([t(void 0)],u.prototype,"action",void 0),__decorate$5([t({type:String,value:"",reflect:!0})],u.prototype,"label",void 0),__decorate$5([t({type:String,value:"",reflect:!0})],u.prototype,"icon",void 0),__decorate$5([t({value:void 0,type:void 0,reflect:!1})],u.prototype,"value",void 0),__decorate$5([t({value:"outset",type:String,reflect:!0})],u.prototype,"appearance",void 0),__decorate$5([t({value:!1,type:Boolean,reflect:!0})],u.prototype,"pressed",void 0),__decorate$5([t("button")],u.prototype,"role",void 0),u=__decorate$5([e],u);const v=u.vDOM;var __decorate$4=function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};let f=class IoNumberLadderStep extends c{static get Style(){return"\n      :host {\n        pointer-events: all;\n        display: inline-block;\n        cursor: ew-resize;\n        text-align: center;\n        background-color: var(--io_bgColorStrong);\n        color: var(--io_color);\n        align-self: stretch;\n        touch-action: none;\n        width: 6em;\n      }\n      :host:before {\n        float: left;\n        content: '<';\n        opacity: 0.25;\n      }\n      :host:after {\n        float: right;\n        content: '>';\n        opacity: 0.25;\n      }\n    "}onKeydown(t){let e=0;"Escape"===t.key||" "===t.key?this.dispatchEvent("ladder-step-collapse",{},!0):"ArrowLeft"===t.key||"Backspace"===t.key?(t.preventDefault(),e=-1*this.value):"ArrowUp"===t.key?(t.preventDefault(),this.focusTo("up")):"ArrowRight"===t.key||"Enter"===t.key?(t.preventDefault(),e=1*this.value):"ArrowDown"===t.key&&(t.preventDefault(),this.focusTo("down")),0!==e&&this.dispatchEvent("ladder-step-change",{step:Number(e.toFixed(5)),round:t.shiftKey},!0)}onPointerdown(t){this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",this.onPointermove),this.addEventListener("pointerup",this.onPointerup),this._startX=t.clientX}onPointermove(t){const e=t.clientX-this._startX;if(Math.abs(e)>5){const o=Math.pow(e/5,2)*e<0?-1:1,i=e>0?Math.floor(o):Math.ceil(o),n=this.value*i;this._startX=t.clientX,this.dispatchEvent("ladder-step-change",{step:Number(n.toFixed(5)),round:t.shiftKey},!0)}}onPointerup(t){this.releasePointerCapture(t.pointerId),this.removeEventListener("pointermove",this.onPointermove),this.removeEventListener("pointerup",this.onPointerup),this.dispatchEvent("ladder-step-collapse",{},!0)}init(){this.changed()}changed(){this.template([i(this.label)]),this.setAttribute("aria-label",this.label),this.setAttribute("aria-valuestep",this.label)}static vDOM};__decorate$4([t({value:1,type:Number})],f.prototype,"value",void 0),__decorate$4([t({value:"",type:String})],f.prototype,"label",void 0),__decorate$4([t({value:"number",type:String,reflect:!0})],f.prototype,"type",void 0),__decorate$4([t({value:"spinbutton",type:String})],f.prototype,"role",void 0),f=__decorate$4([e],f);const b=f.vDOM;var __decorate$3=function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};let y=null;window.addEventListener("focusin",(()=>{y=document.activeElement}),{capture:!1}),window.addEventListener("blur",(()=>{setTimeout((()=>{document.activeElement===document.body&&(y=null)}))}),{capture:!0});let g=class IoNumberLadder extends n{static get Style(){return"\n      :host {\n        display: flex;\n        flex-direction: column;\n        position: absolute;\n        pointer-events: none;\n        user-select: none;\n        -webkit-tap-highlight-color: transparent;\n        -webkit-user-select: none;\n        -webkit-touch-callout: none;\n      }\n      :host:not([expanded]) {\n        visibility: hidden;\n      }\n      :host:not([expanded]) > io-number-ladder-step {\n        opacity: 0.5;\n      }\n      :host > io-number-ladder-step:nth-child(-n+5) {\n        box-shadow: 0 -1px 4px rgba(0,0,0,0.2);\n      }\n      :host > io-number-ladder-step:nth-child(n+6) {\n        box-shadow: 0 1px 4px rgba(0,0,0,0.2);\n      }\n      :host > .io-up1,\n      :host > .io-down1{\n        z-index: 4;\n        transition: opacity 0.1s, transform 0.1s;\n      }\n      :host > .io-up2,\n      :host > .io-down2 {\n        z-index: 3;\n        opacity: 0.8;\n        transition: opacity 0.2s, transform 0.2s;\n      }\n      :host:not([expanded]) > .io-up4 {\n        transform: translateY(calc(3 * var(--io_fieldHeight)));\n      }\n      :host:not([expanded]) > .io-up3 {\n        transform: translateY(calc(2 * var(--io_fieldHeight)));\n      }\n      :host:not([expanded]) > .io-up2 {\n        transform: translateY(calc(1 * var(--io_fieldHeight)));\n      }\n      :host:not([expanded]) > .io-down2 {\n        transform: translateY(calc(-1 * var(--io_fieldHeight)));\n      }\n      :host:not([expanded]) > .io-down3 {\n        transform: translateY(calc(-2 * var(--io_fieldHeight)));\n      }\n      :host:not([expanded]) > .io-down4 {\n        transform: translateY(calc(-3 * var(--io_fieldHeight)));\n      }\n      :host > .io-up3,\n      :host > .io-down3 {\n        z-index: 2;\n        opacity: 0.6;\n        transition: opacity 0.4s, transform 0.4s;\n      }\n      :host > .io-up4,\n      :host > .io-down4 {\n        z-index: 1;\n        opacity: 0.4;\n        transition: opacity 0.8s, transform 0.8s;\n      }\n      :host > io-number-ladder-step:hover,\n      :host > io-number-ladder-step:focus {\n        background-color: var(--io_bgColorStrong);\n        border-color: var(--io_colorBlue);\n        transition: opacity 0.2s;\n        opacity: 1;\n      }\n      :host > .io-number-ladder-empty {\n        height: var(--io_fieldHeight);\n      }\n      :host > .io-number-ladder-center {\n        height: calc(1.5 * var(--io_fieldHeight));\n      }\n    "}static get Listeners(){return{"ladder-step-change":"_onLadderStepChange","ladder-step-collapse":"_onLadderStepCollapse",focusin:"onFocusIn"}}get value(){return this.src?this.src.value:0}get min(){return this.src?this.src.min:-Infinity}get max(){return this.src?this.src.max:Infinity}get step(){return this.src?this.src.step:1e-4}get conversion(){return this.src?this.src.conversion:1}onFocusIn(t){t.stopPropagation()}onFocusTo(t){t.stopPropagation();const e=t.composedPath()[0],o=this.src,i=t.detail.dir;if(o&&(e===this.querySelector(".io-up1")&&"down"===i||e===this.querySelector(".io-down1")&&"up"===i))return o.focus(),void(o.selectionStart=o.selectionEnd=o.textNode.length);super.onFocusTo(t)}_onLadderStepChange(t){const e=this.src;if(e){const o=t.detail.step,i=t.detail.round?Math.round(this.value/o)*o:this.value;let n=Math.min(this.max,Math.max(this.min,i+o));n=Number(n.toFixed(5)),e.inputValue(n)}}_onLadderStepCollapse(){this.setProperty("expanded",!1)}expandedChanged(){const t=this.src;if(this.expanded)if(t){const e=t.getBoundingClientRect(),o=this.getBoundingClientRect(),i=r.getBoundingClientRect();this.style.top=e.bottom-i.top+"px",this.style.left=e.left-i.left+"px",this.style.marginTop=-(o.height/2+s.lineHeight/2+s.spacing)+"px"}else this.removeAttribute("style");else t&&"touch"!==t._pointerType?t.focus():y&&y.focus();this.dispatchEvent("expanded",{value:this.expanded},!0)}changed(){const t=this.max-this.min,e=a({class:"io-number-ladder-empty"});let o=this.step/1e4;for(;o<.1;)o*=10;const i=1e4*o,n=1e3*o,r=100*o,s=10*o,l=1*o,c=.1*o,h=.01*o,d=.001*o,p=Number((i*this.conversion).toFixed(6)),u=Number((n*this.conversion).toFixed(6)),v=Number((r*this.conversion).toFixed(6)),f=Number((s*this.conversion).toFixed(6)),y=Number((l*this.conversion).toFixed(6)),g=Number((c*this.conversion).toFixed(6)),m=Number((h*this.conversion).toFixed(6)),x=Number((d*this.conversion).toFixed(6));this.template([t>=i?b({class:"io-up4",value:i,label:String(p)}):e,t>=n?b({class:"io-up3",value:n,label:String(u)}):e,t>=r?b({class:"io-up2",value:r,label:String(v)}):e,t>=s?b({class:"io-up1",value:s,label:String(f)}):e,a({class:"io-number-ladder-center"}),this.step<=l?b({class:"io-down1",value:l,label:String(y)}):e,this.step<=c?b({class:"io-down2",value:c,label:String(g)}):e,this.step<=h?b({class:"io-down3",value:h,label:String(m)}):e,this.step<=d?b({class:"io-down4",value:d,label:String(x)}):e]),this.setAttribute("aria-valuemin",this.min),this.setAttribute("aria-valuemax",this.max),this.setAttribute("aria-valuenow",this.value),this.setAttribute("aria-valuestep",this.step),this.setAttribute("aria-invalid",!("number"==typeof this.value&&!isNaN(this.value))&&"true");const w=this.querySelectorAll("io-number-ladder-step");for(let t=w.length;t--;)w[t].setAttribute("aria-valuemin",this.min),w[t].setAttribute("aria-valuemax",this.max),w[t].setAttribute("aria-valuenow",this.value),w[t].changed()}static vDOM};__decorate$3([t({value:"list",type:String})],g.prototype,"role",void 0),__decorate$3([t({value:void 0,type:n})],g.prototype,"src",void 0),__decorate$3([t({value:!1,type:Boolean,reflect:!0})],g.prototype,"expanded",void 0),g=__decorate$3([e],g);const m=new g;r.appendChild(m);var __decorate$2=function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};let x=class IoNumber extends c{static get Style(){return"\n      :host {\n        cursor: text;\n        user-select: text;\n        -webkit-user-select: text;\n        -webkit-touch-callout: default;\n        font-family: monospace;\n      }\n      :host[placeholder]:empty:before {\n        content: attr(placeholder);\n        visibility: visible;\n        color: var(--io_colorInput);\n        padding: 0 calc(var(--io_spacing) + var(--io_borderWidth));\n        opacity: 0.5;\n      }\n    "}_pointer="";onBlur(t){super.onBlur(t),this._setFromTextNode(),this.scrollTop=0,this.scrollLeft=0,setTimeout((()=>{document.activeElement.parentElement!==m&&(m.expanded=!1)}))}onPointerdown(t){"touch"===this._pointer&&t.preventDefault(),this.addEventListener("pointermove",this.onPointermove),this.addEventListener("pointerup",this.onPointerup),document.activeElement===this&&0===t.button||(this._pointer=t.pointerType)}onPointerup(t){this.removeEventListener("pointermove",this.onPointermove),this.removeEventListener("pointerup",this.onPointerup),this.ladder||1===t.button?("touch"===this._pointer?(t.preventDefault(),document.activeElement.blur()):document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length)),this._expandLadder()):document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length))}onFocus(t){super.onFocus(t),"touch"===this._pointer&&(m.expanded=!1)}_expandLadder(){m.src=this,m.expanded=!0}onKeydown(t){const e=window.getSelection().getRangeAt(0),o=e.startOffset,i=e.endOffset,n=this.childNodes[0]?this.childNodes[0].length:0,r=e.startContainer===e.endContainer&&(e.startContainer===this.childNodes[0]||e.startContainer===this);if(27===t.which||13===t.which||32===t.which)t.preventDefault(),this._setFromTextNode();else if(36===t.which)this.textNode=this.min,this._setFromTextNode();else if(35===t.which)this.textNode=this.max,this._setFromTextNode();else if(33===t.which){const t=Number(this.textNode);!isNaN(t)&&Math.abs(t)<Infinity?this.textNode=Number(this.textNode)+this.step:this.textNode=this.step,this._setFromTextNode()}else if(34===t.which){const t=Number(this.textNode);!isNaN(t)&&Math.abs(t)<Infinity?this.textNode=Number(this.textNode)-this.step:this.textNode=-this.step,this._setFromTextNode()}else if(37===t.which)(t.ctrlKey||r&&o===i&&0===o)&&(t.preventDefault(),this.focusTo("left"));else if(38===t.which)if(m.expanded){const t=m.querySelector(".io-up1");t&&t.focus()}else(t.ctrlKey||r&&o===i&&0===o)&&(t.preventDefault(),this.focusTo("up"));else if(39===t.which)(t.ctrlKey||r&&o===i&&o===n)&&(t.preventDefault(),this.focusTo("right"));else if(40===t.which)if(m.expanded){const t=m.querySelector(".io-down1");t&&t.focus()}else(t.ctrlKey||r&&o===i&&o===n)&&(t.preventDefault(),this.focusTo("down"))}onKeyup(t){17===t.which?this._expandLadder():27!==t.which&&13!==t.which&&32!==t.which||(r.expanded=!1)}_setFromTextNode(){const t=this.textNode;let e=Number(t)/this.conversion;e=Math.min(this.max,Math.max(this.min,e)),e=Math.round(e/this.step)*this.step;const o=Math.max(0,Math.min(100,-Math.floor(Math.log(this.step)/Math.LN10)));e=Number(e.toFixed(o)),isNaN(e)?this.textNode="NaN":this.inputValue(e)}init(){this.disabledChanged(),this.changed()}disabledChanged(){this.disabled?this.removeAttribute("contenteditable"):this.setAttribute("contenteditable",!0)}changed(){this.setAttribute("aria-valuenow",this.value),this.setAttribute("aria-valuemin",this.min),this.setAttribute("aria-valuemax",this.max),this.setAttribute("aria-valuestep",this.step),"number"!=typeof this.value||isNaN(this.value)?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid");let t,e=this.value;if("number"!=typeof e||isNaN(e))t="NaN";else{e*=this.conversion;let o=-Math.floor(Math.log(this.step*this.conversion)/Math.LN10);o=Math.max(0,Math.min(100,o)),e=Number(e.toFixed(o)),t=String(e)}this.setAttribute("value",t),this.setAttribute("positive",this.value>=0),this.textNode=t}static vDOM};__decorate$2([t({value:0,type:Number})],x.prototype,"value",void 0),__decorate$2([t({value:1,type:Number})],x.prototype,"conversion",void 0),__decorate$2([t({value:1e-4,type:Number})],x.prototype,"step",void 0),__decorate$2([t({value:-Infinity,type:Number})],x.prototype,"min",void 0),__decorate$2([t({value:Infinity,type:Number})],x.prototype,"max",void 0),__decorate$2([t({value:!1,type:Boolean})],x.prototype,"ladder",void 0),__decorate$2([t({value:"number",type:String,reflect:!0})],x.prototype,"type",void 0),__decorate$2([t({value:"textbox",type:String})],x.prototype,"role",void 0),__decorate$2([t({value:'pattern="[0-9]*"',type:String,reflect:!0})],x.prototype,"pattern",void 0),__decorate$2([t({value:"numeric",type:String,reflect:!0})],x.prototype,"inputmode",void 0),__decorate$2([t({value:"inset",type:String,reflect:!0})],x.prototype,"appearance",void 0),__decorate$2([t({value:"",type:String,reflect:!0})],x.prototype,"placeholder",void 0),__decorate$2([t({value:"false",type:String,reflect:!0})],x.prototype,"spellcheck",void 0),x=__decorate$2([e],x);const w=x.vDOM;var __decorate$1=function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};let N=class IoString extends c{static get Style(){return"\n      :host {\n        cursor: text;\n        user-select: text;\n        -webkit-user-select: text;\n        -webkit-touch-callout: default;\n      }\n      :host[placeholder]:empty:before {\n        content: attr(placeholder);\n        visibility: visible;\n        color: var(--io_colorInput);\n        padding: 0 calc(var(--io_spacing) + var(--io_borderWidth));\n        opacity: 0.5;\n      }\n    "}_setFromTextNode(){const t=this.textNode;"string"==typeof this.value&&t!==String(this.value)&&this.inputValue(t)}_tryParseFromTextNode(){const t=this.textNode;try{const e=JSON.parse(t.replace(/[\t\n\r ]+/g," "));this.inputValue(e)}catch(e){console.warn("IoString: Cannot parse value",t),console.error(e),this._setFromTextNode()}}onBlur(t){super.onBlur(t),this._setFromTextNode(),this.scrollTop=0,this.scrollLeft=0}onPointerdown(t){this.addEventListener("pointermove",this.onPointermove),this.addEventListener("pointerup",this.onPointerup)}onPointermove(t){}onPointerup(t){this.removeEventListener("pointermove",this.onPointermove),this.removeEventListener("pointerup",this.onPointerup),document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length))}onKeydown(t){const e=window.getSelection().getRangeAt(0),o=e.startOffset,i=e.endOffset,n=this.childNodes[0]?this.childNodes[0].length:0,r=e.startContainer===e.endContainer&&(e.startContainer===this.childNodes[0]||e.startContainer===this);"Enter"===t.key?(t.preventDefault(),t.shiftKey?this._tryParseFromTextNode():this._setFromTextNode()):"ArrowLeft"===t.key?(t.ctrlKey||r&&o===i&&0===o)&&(t.preventDefault(),this.focusTo("left")):"ArrowUp"===t.key?(t.ctrlKey||r&&o===i&&0===o)&&(t.preventDefault(),this.focusTo("up")):"ArrowRight"===t.key?(t.ctrlKey||r&&o===i&&o===n)&&(t.preventDefault(),this.focusTo("right")):"ArrowDown"===t.key&&(t.ctrlKey||r&&o===i&&o===n)&&(t.preventDefault(),this.focusTo("down"))}onKeyup(t){if(super.onKeyup(t),this.live){const t=this.getCaretPosition();this._setFromTextNode(),this.setCaretPosition(t)}}init(){this.disabledChanged()}disabledChanged(){this.disabled?this.removeAttribute("contenteditable"):this.setAttribute("contenteditable",!0)}changed(){this.textNode=String(this.value).replace(new RegExp(" ","g"),"Â ")}valueChanged(){"string"!=typeof this.value?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")}static vDOM};__decorate$1([t(!1)],N.prototype,"live",void 0),__decorate$1([t("")],N.prototype,"value",void 0),__decorate$1([t({value:"text",type:String,reflect:!0})],N.prototype,"type",void 0),__decorate$1([t("textbox")],N.prototype,"role",void 0),__decorate$1([t({value:"inset",reflect:!0})],N.prototype,"appearance",void 0),__decorate$1([t({value:"",type:String,reflect:!0})],N.prototype,"placeholder",void 0),__decorate$1([t({value:"false",type:String,reflect:!0})],N.prototype,"spellcheck",void 0),N=__decorate$1([e],N);const _=N.vDOM;var __decorate=function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};let S=class IoSwitch extends d{static get Style(){return"\n      :host {\n        position: relative;\n        width: calc(1.5 * var(--io_fieldHeight));\n        overflow: visible;\n      }\n      :host:before {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        visibility: visible;\n        top: var(--io_spacing);\n        left: 0;\n        width: 100%;\n        height: var(--io_lineHeight);\n        border-radius: var(--io_lineHeight);\n        border: var(--io_border);\n        border-color: var(--io_borderColorInset);\n        background-color: var(--io_bgColorInput);\n        box-shadow: var(--io_shadowInset);\n        transition: background-color 0.4s;\n      }\n      :host:after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        visibility: visible;\n        top: calc(var(--io_borderWidth) + var(--io_spacing));\n        left: var(--io_borderWidth);\n        height: calc(var(--io_lineHeight) - calc(2 * var(--io_borderWidth)));\n        width: calc(var(--io_lineHeight) - calc(2 * var(--io_borderWidth)));\n        background-color: var(--io_bgColorDimmed);\n        box-shadow: var(--io_shadowOutset);\n        border: var(--io_border);\n        border-color: var(--io_borderColorOutset);\n        border-radius: var(--io_lineHeight);\n        transition-timing-function: ease-in-out;\n        transition: left 0.25s;\n      }\n      :host[value]:after {\n        background-color: var(--io_bgColorBlue);\n        left: calc(100% - calc(var(--io_lineHeight) - var(--io_borderWidth)));\n      }\n      :host:focus:before {\n        border-color: var(--io_colorBlue);\n        outline: 1px auto var(--io_colorBlue);\n        outline: 1px auto -webkit-focus-ring-color;\n      }\n      :host:focus {\n        outline: 0;\n        border-color: transparent;\n      }\n    "}init(){this.setAttribute("aria-checked",String(!!this.value))}valueChanged(){this.setAttribute("aria-checked",String(!!this.value)),"boolean"!=typeof this.value?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")}};S=__decorate([e],S);const P=S.vDOM;export{d as IoBoolean,u as IoButton,c as IoInputBase,x as IoNumber,m as IoNumberLadderSingleton,f as IoNumberLadderStep,N as IoString,S as IoSwitch,p as ioBoolean,v as ioButton,h as ioInputBase,w as ioNumber,b as ioNumberLadderStep,_ as ioString,P as ioSwitch};
