import{IoBoolean as e,IoButton as t,IoField as i,IoNumber as a,IoNumberLadderSingleton as l,IoNumberLadderStep as o,IoString as u,IoSwitch as n}from"./index.js";import{IconsetSingleton as r}from"io-icons";const c=new e;c.style.display="none",document.body.appendChild(c);class IoBooleanTest{run(){describe("IoBoolean.test",(()=>{it("Should have core API functions defined",(()=>{expect(c.toggle).to.be.a("function")})),it("Should initialize properties correctly",(()=>{expect(c.value).to.equal(!1),expect(c.true).to.equal("true"),expect(c.false).to.equal("false"),expect(c.role).to.equal("checkbox"),expect(c._reactiveProperties.get("value")).to.eql({binding:void 0,init:void 0,reflect:!0,type:Boolean,value:!1}),expect(c._reactiveProperties.get("true")).to.eql({binding:void 0,init:void 0,reflect:!1,type:String,value:"true"}),expect(c._reactiveProperties.get("false")).to.eql({binding:void 0,init:void 0,reflect:!1,type:String,value:"false"})})),it("has correct default attributes",(()=>{expect(c.getAttribute("role")).to.equal("checkbox"),expect(c.getAttribute("value")).to.equal(null),expect(c.getAttribute("aria-checked")).to.equal("false")})),it("has correct default innerHTML",(()=>{expect(c.innerHTML).to.equal("<span>false</span>")})),it("should set innerText to match value property",(()=>{expect(c.innerText).to.equal(c.false),c.toggle(),expect(c.innerText).to.equal(c.true),c.true="yes",c.false="no",expect(c.innerText).to.equal("yes"),c.toggle(),expect(c.innerText).to.equal("no"),c.value=!1,c.true="true",c.false="false"})),it("should not render innerHTML if no value string is computed",(()=>{c.true="",c.false="",expect(c.innerHTML).to.equal(""),c.toggle(),expect(c.innerHTML).to.equal(""),c.toggle(),c.true="true",c.false="false"})),it("has reactive attributes",(()=>{c.value=!1,expect(c.getAttribute("value")).to.equal(null),c.value=!0,expect(c.getAttribute("value")).to.equal(""),c.value=!1})),it("has a11y attributes",(()=>{c.value=!1,expect(c.getAttribute("aria-checked")).to.equal("false"),c.value=!0,expect(c.getAttribute("aria-checked")).to.equal("true"),c.value=!1}))}))}}const s=new t;s.style.display="none",document.body.appendChild(s);class IoButtonTest{run(){describe("IoButton.test",(()=>{it("Should initialize properties correctly",(()=>{expect(s.action).to.equal(void 0),expect(s.value).to.equal(void 0)})),it("has correct default attributes",(()=>{expect(s.getAttribute("role")).to.equal("button"),expect(s.getAttribute("pressed")).to.equal(null),expect(s.getAttribute("aria-pressed")).to.equal("false")})),it("has correct default innerHTML",(()=>{expect(s.innerHTML).to.equal("")})),it("should set innerText to match label property",(()=>{expect(s.innerText).to.equal(""),s.label="click me",expect(s.innerText).to.equal("click me"),s.label=""})),it("should set icon to match icon property",(()=>{s.icon="io:io_logo",expect(s.innerHTML).to.equal(`<io-icon size="small" value="${s.icon}">${r.getIcon(s.icon)}</io-icon>`),s.icon="",expect(s.innerHTML).to.equal("")})),it("has reactive attributes",(()=>{s.pressed=!1,expect(s.getAttribute("aria-pressed")).to.equal("false"),s.pressed=!0,expect(s.getAttribute("aria-pressed")).to.equal("true"),s.pressed=!1}))}))}}const p=new i;p.style.display="none",document.body.appendChild(p);class IoFieldTest{run(){describe("IoField.test",(()=>{it("Should have core API functions defined",(()=>{expect(p.getCaretPosition).to.be.a("function"),expect(p.setCaretPosition).to.be.a("function")})),it("Should initialize properties correctly",(()=>{expect(p.value).to.equal(""),expect(p.selected).to.equal(!1),expect(p._reactiveProperties.get("value")).to.eql({binding:void 0,init:void 0,reflect:!1,type:void 0,value:""}),expect(p._reactiveProperties.get("selected")).to.eql({binding:void 0,init:void 0,reflect:!0,type:Boolean,value:!1}),expect(p.spellcheck).to.equal(!1)})),it("has correct default attributes",(()=>{expect(p.getAttribute("icon")).to.equal(null),expect(p.getAttribute("stroke")).to.equal(null),expect(p.getAttribute("value")).to.equal(null),expect(p.getAttribute("selected")).to.equal(null)})),it("has correct default innerHTML",(()=>{expect(p.innerHTML).to.equal("")})),it("has reactive attributes",(()=>{expect(p.getAttribute("selected")).to.equal(null),p.selected=!0,expect(p.getAttribute("selected")).to.equal(""),p.selected=!1}))}))}}const x=new a;x.style.display="none",document.body.appendChild(x);class IoNumberTest{run(){describe("IoNumber.test",(()=>{it("Should initialize properties correctly",(()=>{expect(x.value).to.equal(0),expect(x.conversion).to.equal(1),expect(x.step).to.equal(1e-4),expect(x.min).to.equal(-Infinity),expect(x.max).to.equal(Infinity),expect(x.ladder).to.equal(!1),expect(x.pattern).to.equal('pattern="-?[0-9]*?[0-9]*"'),expect(x.inputMode).to.equal("text"),expect(x.role).to.equal("textbox"),expect(x.spellcheck).to.equal(!1),expect(x._reactiveProperties.get("conversion")).to.eql({binding:void 0,init:void 0,reflect:!1,type:Number,value:1}),expect(x._reactiveProperties.get("step")).to.eql({binding:void 0,init:void 0,reflect:!1,type:Number,value:1e-4}),expect(x._reactiveProperties.get("min")).to.eql({binding:void 0,init:void 0,reflect:!1,type:Number,value:-Infinity}),expect(x._reactiveProperties.get("max")).to.eql({binding:void 0,init:void 0,reflect:!1,type:Number,value:Infinity})})),it("has correct default attributes",(()=>{expect(x.getAttribute("value")).to.equal("0"),expect(x.getAttribute("role")).to.equal("textbox"),expect(x.getAttribute("pattern")).to.equal('pattern="-?[0-9]*?[0-9]*"'),expect(x.getAttribute("inputmode")).to.equal("text"),expect(x.getAttribute("spellcheck")).to.equal("false"),expect(x.getAttribute("positive")).to.equal(""),expect(x.getAttribute("aria-valuenow")).to.equal("0"),expect(x.getAttribute("aria-valuemin")).to.equal("-Infinity"),expect(x.getAttribute("aria-valuemax")).to.equal("Infinity"),expect(x.getAttribute("aria-valuestep")).to.equal("0.0001"),expect(x.getAttribute("aria-invalid")).to.equal(null)})),it("has correct default innerHTML",(()=>{expect(x.innerHTML).to.equal("0")})),it("should set innerText to match value property",(()=>{x.value=0,x.step=1,expect(x.innerText).to.equal("0"),x.step=.1,expect(x.innerText).to.equal("0"),x.value="hello",expect(x.innerText).to.equal("NaN"),x.value=!1,expect(x.innerText).to.equal("NaN"),x.value=null,expect(x.innerText).to.equal("NaN"),x.value=void 0,expect(x.innerText).to.equal("NaN"),x.value=NaN,expect(x.innerText).to.equal("NaN"),x.value=123,expect(x.innerText).to.equal("123"),x.step=1e-4,x.value=0})),it("should set innerText to match value with custom step settings",(()=>{x.step=1e-9,x.value=.012345678,expect(x.innerText).to.equal("0.012345678"),x.step=1e-6,expect(x.innerText).to.equal("0.012346"),x.step=.01,expect(x.innerText).to.equal("0.01"),x.step=1e-4,x.value=0})),it("should set innerText to match value with custom min/max settings",(()=>{x.step=1,x.min=2,x.max=5,x.textNode="10",x._setFromTextNode(),expect(x.value).to.equal(5),x.textNode="0",x._setFromTextNode(),expect(x.value).to.equal(2),x.step=1e-4,x.value=0,x.min=-Infinity,x.max=Infinity})),it("should set innerText to match value with conversion factor",(()=>{x.conversion=.1,x.value=1,expect(x.innerText).to.equal("0.1"),x.conversion=.01,expect(x.innerText).to.equal("0.01"),x.textNode="10",x._setFromTextNode(),expect(x.value).to.equal(1e3),x.value=0,x.conversion=1})),it("has reactive attributes",(()=>{x.value=1,expect(x.getAttribute("value")).to.equal("1"),expect(x.getAttribute("positive")).to.equal(""),x.value=-2,expect(x.getAttribute("value")).to.equal("-2"),expect(x.getAttribute("positive")).to.equal(null),x.value=0,expect(x.getAttribute("value")).to.equal("0"),expect(x.getAttribute("positive")).to.equal("")})),it("has contenteditable attribute",(()=>{expect(x.getAttribute("contenteditable")).to.equal("true")})),it("has a11y attributes",(()=>{x.value="",expect(x.getAttribute("aria-invalid")).to.equal("true"),x.value=0,expect(x.getAttribute("aria-invalid")).to.equal(null),x.value=12,x.min=0,x.max=24,x.step=2,expect(x.getAttribute("aria-valuenow")).to.equal("12"),expect(x.getAttribute("aria-valuemin")).to.equal("0"),expect(x.getAttribute("aria-valuemax")).to.equal("24"),expect(x.getAttribute("aria-valuestep")).to.equal("2"),x.value=0,x.min=-Infinity,x.max=Infinity,x.step=1e-4}))}))}}const d=new a;d.style.display="none",document.body.appendChild(d);const q=l;q.src=d,q.setAttribute("expanded","true"),q.style.display="none";class IoNumberLadderSingletonTest{run(){describe("IoNumberLadder.test",(()=>{const $=e=>q.querySelector(e);it("should set innerText to match value property",(()=>{expect($(".io-up1").value).to.equal(1),expect($(".io-up1").textContent).to.equal("1"),expect($(".io-up2").textContent).to.equal("10"),expect($(".io-up3").textContent).to.equal("100"),expect($(".io-up4").textContent).to.equal("1000"),expect($(".io-down1").value).to.equal(.1),expect($(".io-down1").textContent).to.equal("0.1"),expect($(".io-down2").textContent).to.equal("0.01"),expect($(".io-down3").textContent).to.equal("0.001"),expect($(".io-down4").textContent).to.equal("0.0001")})),it("should set innerText to match value with custom step settings",(()=>{d.step=.2,q.changed(),expect($(".io-up1").value).to.equal(2),expect($(".io-up1").textContent).to.equal("2"),expect($(".io-up2").textContent).to.equal("20"),expect($(".io-up3").textContent).to.equal("200"),expect($(".io-up4").textContent).to.equal("2000"),expect($(".io-down1").value).to.equal(.2),expect($(".io-down1").textContent).to.equal("0.2"),expect($(".io-down2")).to.equal(null),expect($(".io-down3")).to.equal(null),expect($(".io-down4")).to.equal(null),d.step=.02,q.changed(),expect($(".io-down1").textContent).to.equal("0.2"),expect($(".io-down2").textContent).to.equal("0.02"),expect($(".io-down3")).to.equal(null),d.step=1e-4,q.changed()})),it("should set innerText to match value with custom min/max settings",(()=>{d.min=0,d.max=100,q.changed(),expect($(".io-up1").value).to.equal(1),expect($(".io-up1").innerText).to.equal("1"),expect($(".io-up2").innerText).to.equal("10"),expect($(".io-up3").innerText).to.equal("100"),expect($(".io-up4")).to.equal(null),d.max=1e3,q.changed(),expect($(".io-up4").innerText).to.equal("1000"),d.min=-Infinity,d.max=Infinity,q.changed()})),it("should set innerText to match value with conversion factor",(()=>{d.conversion=20,q.changed(),expect($(".io-up2").value).to.equal(10),expect($(".io-up2").innerText).to.equal("200"),d.step=.2,q.changed(),expect($(".io-up2").value).to.equal(20),expect($(".io-up2").innerText).to.equal("400"),d.conversion=1,d.step=1e-4,q.changed()})),it("steps have tabIndex attribute",(()=>{expect($(".io-up1").getAttribute("tabIndex")).to.equal("0"),expect($(".io-down1").getAttribute("tabIndex")).to.equal("0")})),it("has a11y attributes",(()=>{expect(q.getAttribute("role")).to.equal("listbox")})),it("steps have a11y attributes",(()=>{expect($(".io-up1").getAttribute("role")).to.equal("spinbutton"),expect($(".io-up1").getAttribute("aria-label")).to.equal("1"),expect($(".io-up1").getAttribute("aria-valuestep")).to.equal("1"),d.step=.5,q.changed(),expect($(".io-up1").getAttribute("aria-label")).to.equal("5"),d.value=0,d.step=1e-4,q.changed(),expect(q.getAttribute("aria-invalid")).to.equal(null),d.value=NaN,q.changed(),expect(q.getAttribute("aria-invalid")).to.equal("true"),d.value=12,q.changed(),d.min=0,d.max=24,d.step=2,q.changed(),expect(q.getAttribute("aria-valuenow")).to.equal("12"),expect(q.getAttribute("aria-valuemin")).to.equal("0"),expect(q.getAttribute("aria-valuemax")).to.equal("24"),expect(q.getAttribute("aria-valuestep")).to.equal("2"),d.min=-Infinity,d.max=Infinity,d.step=1e-4,q.changed()}))}))}}const v=new o({value:1,label:"1"});v.style.display="none",document.body.appendChild(v);class IoNumberLadderStepTest{run(){describe("IoNumberLadderStep.test",(()=>{it("Should initialize properties correctly",(()=>{expect(v.value).to.equal(1),expect(v.role).to.equal("spinbutton")})),it("has correct default attributes",(()=>{expect(v.getAttribute("value")).to.equal(null),expect(v.getAttribute("role")).to.equal("spinbutton")})),it("has correct default innerHTML",(()=>{v.label="1",expect(v.innerHTML).to.equal("<span>1</span>")})),it("should set innerText to match label property",(()=>{v.label="0",expect(v.textContent).to.equal("0"),v.label="1"}))}))}}class IoStringTest{element=new u;constructor(){this.element.style.display="none",document.body.appendChild(this.element)}run(){describe("IoString.test",(()=>{it("has default values",(()=>{expect(this.element.value).to.equal("")})),it("matches values",(()=>{this.element.value="hello",expect(this.element.textContent).to.equal("hello"),this.element.value=!1,expect(this.element.textContent).to.equal(""),this.element.value=null,expect(this.element.textContent).to.equal(""),this.element.value=void 0,expect(this.element.textContent).to.equal(""),this.element.value=NaN,expect(this.element.textContent).to.equal(""),this.element.value=123,expect(this.element.textContent).to.equal("123"),this.element.value=""})),it("has tabIndex attribute",(()=>{expect(this.element.getAttribute("tabIndex")).to.equal("0")})),it("has contenteditable attribute",(()=>{expect(this.element.getAttribute("contenteditable")).to.equal("true")})),it("has a11y attributes",(()=>{expect(this.element.getAttribute("role")).to.equal("textbox"),this.element.value=0,expect(this.element.getAttribute("aria-invalid")).to.equal("true"),this.element.value="",expect(this.element.getAttribute("aria-invalid")).to.equal(null)})),it("has title attribute",(()=>{this.element.title="Enter text",expect(this.element.getAttribute("title")).to.equal("Enter text"),this.element.title=""}))}))}}class IoSwitchTest{element=new n;constructor(){this.element.style.display="none",document.body.appendChild(this.element)}run(){describe("IoSwitch.test",(()=>{it("has default values",(()=>{expect(this.element.value).to.equal(!1)})),it("has tabIndex attribute",(()=>{expect(this.element.getAttribute("tabIndex")).to.equal("0")})),it("has a11y attributes",(()=>{expect(this.element.getAttribute("role")).to.equal("checkbox"),expect(this.element.getAttribute("aria-label")).to.equal(null)})),it("has value attribute when value is true",(()=>{this.element.value=!1,expect(this.element.hasAttribute("value")).to.equal(!1),expect(this.element.getAttribute("value")).to.equal(null),expect(this.element.getAttribute("aria-checked")).to.equal("false"),this.element.value=!0,expect(this.element.hasAttribute("value")).to.equal(!0),expect(this.element.getAttribute("value")).to.equal(""),expect(this.element.getAttribute("aria-checked")).to.equal("true")})),it("has title attribute",(()=>{this.element.title="click here",expect(this.element.getAttribute("title")).to.equal("click here"),this.element.title="Button"}))}))}}class index_test{run(){(new IoBooleanTest).run(),(new IoButtonTest).run(),(new IoFieldTest).run(),(new IoNumberTest).run(),(new IoNumberLadderSingletonTest).run(),(new IoNumberLadderStepTest).run(),(new IoStringTest).run(),(new IoSwitchTest).run()}}export{index_test as default};
