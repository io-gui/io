{"version":3,"file":"IoNumberLadderSingleton.js","sourceRoot":"","sources":["../../src/elements/IoNumberLadderSingleton.ts"],"names":[],"mappings":"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","sourcesContent":["import { Register, ReactiveProperty, IoElement, IoElementProps, IoOverlaySingleton, ThemeSingleton, span, WithBinding, Property } from 'io-core';\nimport { IoNumber } from './IoNumber.js';\nimport { ioNumberLadderStep } from './IoNumberLadderStep.js';\n\nexport type IoNumberLadderProps = IoElementProps & {\n  src?: IoNumber,\n  expanded?: WithBinding<boolean>,\n};\n\n/**\n * Interactive number ladder.\n * When dragged horizontally, it changes the value in step increments.\n * Dragging speed affects the rate of change exponentially.\n * Up/down arrow keys change the step focus while left/right change the value in step increments.\n * Escape key collapses the ladder and restores the focus to previously focused element.\n * If shift key is pressed, value is rounded to the nearest step incement.\n **/\n@Register\nclass IoNumberLadder extends IoElement {\n  static get Style() {\n    return /* css */`\n      :host {\n        display: flex;\n        flex-direction: column;\n        position: absolute;\n        pointer-events: none;\n        box-shadow: unset;\n        @apply --unselectable;\n      }\n      :host:not([expanded]) {\n        visibility: hidden;\n      }\n      :host > io-number-ladder-step {\n        box-shadow: var(--io_shadow);\n      }\n      :host > .io-up1,\n      :host > .io-up2,\n      :host > .io-up3,\n      :host > .io-up4 {\n        margin-bottom: var(--io_borderWidth);\n        box-shadow: 0px -2px 6px var(--io_shadowColor), 0 -1px 3px var(--io_shadowColor);\n      }\n      :host > .io-down1,\n      :host > .io-down2,\n      :host > .io-down3,\n      :host > .io-down4 {\n        margin-top: var(--io_borderWidth);\n        box-shadow: 0px 2px 6px var(--io_shadowColor), 0 1px 3px var(--io_shadowColor);\n      }\n      :host > .io-up1,\n      :host > .io-down1{\n        z-index: 4;\n      }\n      :host > .io-up2,\n      :host > .io-down2 {\n        z-index: 3;\n      }\n      :host > .io-up3,\n      :host > .io-down3 {\n        z-index: 2;\n      }\n      :host > .io-up4,\n      :host > .io-down4 {\n        z-index: 1;\n      }\n      :host > io-number-ladder-step:focus {\n        background-color: var(--io_bgColorStrong);\n        border-color: var(--io_colorBlue);\n      }\n      :host > .io-number-ladder-empty {\n        height: var(--io_fieldHeight);\n      }\n      :host > .io-number-ladder-center {\n        height: calc(1.5 * var(--io_fieldHeight));\n      }\n    `;\n  }\n  // TODO: rename\n  @ReactiveProperty({value: undefined, type: IoElement, init: null})\n  declare src?: IoNumber;\n\n  @ReactiveProperty({value: false, type: Boolean, reflect: true})\n  declare expanded: boolean;\n\n  @Property('listbox')\n  declare role: string;\n\n  static get Listeners() {\n    return {\n      'ladder-step-change': '_onLadderStepChange',\n      'ladder-step-collapse': 'onLadderStepCollapse',\n      'io-focus-to': 'onIoFocusTo',\n    };\n  }\n  get value() {\n    return this.src ? this.src.value : 0;\n  }\n  get min() {\n    return this.src ? this.src.min : -Infinity;\n  }\n  get max() {\n    return this.src ? this.src.max : Infinity;\n  }\n  get step() {\n    return this.src ? this.src.step : 0.0001;\n  }\n  get conversion() {\n    return this.src ? this.src.conversion : 1;\n  }\n\n  constructor(args: IoNumberLadderProps = {}) { super(args); }\n\n  onIoFocusTo(event: CustomEvent) {\n    const source = event.detail.source;\n    const command = event.detail.command;\n    if (this.src) {\n      if ((command === 'ArrowDown' && source === this.querySelector('.io-up1')) ||\n          (command === 'ArrowUp' && source === this.querySelector('.io-down1'))) {\n        event.stopPropagation();\n        this.src.focus();\n        this.src.setCaretPosition(this.src.textNode!.length);\n      }\n    }\n  }\n  _onLadderStepChange(event: CustomEvent) {\n    const src = this.src;\n    if (src) {\n      const step = event.detail.step;\n      const value = event.detail.round ? (Math.round(this.value / step) * step) : this.value;\n      let newValue = Math.min(this.max, Math.max(this.min, value + step));\n      newValue = Number(newValue.toFixed(5));\n      src.inputValue(newValue);\n    }\n  }\n  onLadderStepCollapse() {\n    this.setProperty('expanded', false);\n  }\n  expandedChanged() {\n    if (this.expanded) {\n      if (this.src) {\n        const rect = this.src.getBoundingClientRect();\n        const selfRect = this.getBoundingClientRect();\n        // NOTE: layerRect fix for Safari zoom.\n        const layerRect = IoOverlaySingleton.getBoundingClientRect();\n        this.style.top = rect.bottom - layerRect.top + 'px';\n        this.style.left = rect.left - layerRect.left + 'px';\n        this.style.marginTop = - (selfRect.height / 2 + ThemeSingleton.lineHeight / 2 + ThemeSingleton.spacing) + 'px';\n      }\n    } else {\n      setTimeout(() => {\n        this.src?.setCaretPosition(this.src.textNode!.length);\n      });\n      this.removeAttribute('style');\n    }\n    this.dispatch('expanded', {value: this.expanded}, true);\n  }\n  changed() {\n    const range = this.max - this.min;\n    const hiddenItem = span({class: 'io-number-ladder-empty'});\n\n    // TODO: unhack\n    let step = this.step / 10000;\n    while (step < .1) step = step * 10;\n\n    const upStep4 = 10000 * step;\n    const upStep3 = 1000 * step;\n    const upStep2 = 100 * step;\n    const upStep1 = 10 * step;\n    const downStep1 = 1 * step;\n    const downStep2 = .1 * step;\n    const downStep3 = .01 * step;\n    const downStep4 = .001 * step;\n\n    const upLabel4 = Number((upStep4 * this.conversion).toFixed(6));\n    const upLabel3 = Number((upStep3 * this.conversion).toFixed(6));\n    const upLabel2 = Number((upStep2 * this.conversion).toFixed(6));\n    const upLabel1 = Number((upStep1 * this.conversion).toFixed(6));\n    const downLabel1 = Number((downStep1 * this.conversion).toFixed(6));\n    const downLabel2 = Number((downStep2 * this.conversion).toFixed(6));\n    const downLabel3 = Number((downStep3 * this.conversion).toFixed(6));\n    const downLabel4 = Number((downStep4 * this.conversion).toFixed(6));\n\n    this.render([\n      (range >= upStep4) ? ioNumberLadderStep({class: 'io-up4', value: upStep4, label: String(upLabel4)}) : hiddenItem,\n      (range >= upStep3) ? ioNumberLadderStep({class: 'io-up3', value: upStep3, label: String(upLabel3)}) : hiddenItem,\n      (range >= upStep2) ? ioNumberLadderStep({class: 'io-up2', value: upStep2, label: String(upLabel2)}) : hiddenItem,\n      (range >= upStep1) ? ioNumberLadderStep({class: 'io-up1', value: upStep1, label: String(upLabel1)}) : hiddenItem,\n      span({class: 'io-number-ladder-center'}),\n      (this.step <= downStep1) ? ioNumberLadderStep({class: 'io-down1', value: downStep1, label: String(downLabel1)}) : hiddenItem,\n      (this.step <= downStep2) ? ioNumberLadderStep({class: 'io-down2', value: downStep2, label: String(downLabel2)}) : hiddenItem,\n      (this.step <= downStep3) ? ioNumberLadderStep({class: 'io-down3', value: downStep3, label: String(downLabel3)}) : hiddenItem,\n      (this.step <= downStep4) ? ioNumberLadderStep({class: 'io-down4', value: downStep4, label: String(downLabel4)}) : hiddenItem,\n    ]);\n\n    this.setAttribute('aria-valuemin', this.min);\n    this.setAttribute('aria-valuemax', this.max);\n    this.setAttribute('aria-valuenow', this.value);\n    this.setAttribute('aria-valuestep', this.step);\n    this.setAttribute('aria-invalid', (typeof this.value !== 'number' || isNaN(this.value))  ? 'true' : false);\n\n    const steps = this.querySelectorAll('io-number-ladder-step');\n    for (let i = steps.length; i--;) {\n      steps[i].setAttribute('aria-valuemin', String(this.min));\n      steps[i].setAttribute('aria-valuemax', String(this.max));\n      steps[i].setAttribute('aria-valuenow', String(this.value));\n      (steps[i] as any).changed();\n    }\n  }\n}\n\nexport const IoNumberLadderSingleton = new IoNumberLadder();\nsetTimeout(() => {\n  IoOverlaySingleton.appendChild(IoNumberLadderSingleton as HTMLElement);\n}, 100);\n"]}