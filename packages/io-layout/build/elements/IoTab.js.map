{"version":3,"file":"IoTab.js","sourceRoot":"","sources":["../../src/elements/IoTab.ts"],"names":[],"mappings":"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","sourcesContent":["import { Register, ReactiveProperty, span, ThemeSingleton } from 'io-core';\nimport { IoField, IoFieldProps, ioField, ioString } from 'io-inputs';\nimport { IoContextEditorSingleton } from 'io-editors';\nimport { IconsetDB, ioIcon } from 'io-icons';\nimport { MenuOptionProps, MenuOption, ioOptionSelect } from 'io-menus';\nimport { IoTabs } from './IoTabs.js';\nimport { IoPanel } from './IoPanel.js';\nimport { Tab } from '../nodes/Tab.js';\nimport { tabDragIconSingleton } from './IoTabDragIcon.js';\n\nconst icons = [];\nfor (const set of Object.keys(IconsetDB)) {\n  for (const icon of Object.keys(IconsetDB[set])) {\n    const id = `${set}:${icon}`;\n    icons.push({value: id, label: icon, icon: id});\n  }\n}\n\n// TODO: consider initializing icon options when needed.\nconst iconOptions = ioOptionSelect({label: 'Select', option: new MenuOption({id: 'iconselect', options: icons as MenuOptionProps[]})});\n\nexport type IoTabProps = IoFieldProps & {\n  tab: Tab,\n};\n\nlet _dragStartX = 0;\nlet _dragStartY = 0;\n\n// TODO: fix and improve keyboard navigation in all cases.\n@Register\nexport class IoTab extends IoField {\n  static get Style() {\n    return /* css */`\n      :host {\n        display: flex;\n        position: relative;\n        height: inherit;\n        min-height: inherit;\n        /* TODO: use vars for this */\n        min-width: calc(var(--io_fieldHeight) * 1.25);\n        margin: 0;\n        margin-right: var(--io_spacing);\n        background-color: var(--io_bgColor) !important;\n        border-bottom-left-radius: 0;\n        border-bottom-right-radius: 0;\n        border-color: var(--io_borderColorLight);\n        padding-right: var(--io_lineHeight);\n      }\n      :host[pressed] {\n        border-color: unset !important;\n        box-shadow: unset !important;\n      }\n      :host[selected] {\n        color: var(--io_colorStrong);\n        background-color: var(--io_bgColorLight) !important;\n        border-color: var(--io_borderColorStrong);\n        border-bottom-color: var(--io_bgColorLight);\n        z-index: 1;\n      }\n      :host[overflow]:not([selected]) > .io-close-icon {\n        display: none;\n      }\n      :host[selected]:focus {\n        color: var(--io_colorWhite);\n        z-index: 2;\n      }\n      :host > .io-icon:not([value=' ']) {\n        margin: 0 var(--io_spacing2) 0 0;\n      }\n      :host > .marker {\n        position: absolute;\n        top: 0;\n        left: 0;\n        height: 100%;\n        background-color: var(--io_bgColorBlue);\n        border-bottom-right-radius: var(--io_borderRadius);\n      }\n      :host > span {\n        padding: 0 var(--io_spacing);\n        overflow: hidden; \n        text-overflow: ellipsis !important;\n      }\n      :host > * {\n        pointer-events: none;\n        display: inline-block;\n        white-space: nowrap;\n      }\n      :host:not(:hover) > .io-close-icon {\n        opacity: 0;\n        transform: scale(0.2);\n        transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1), opacity linear 0.2s;\n      }\n      :host:hover > .io-close-icon {\n        opacity: 1;\n        transform: scale(0.4);\n        transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1), opacity linear 0.2s;\n      }\n      :host > .io-close-icon {\n        position: absolute;\n        right: var(--io_spacing);\n        top: var(--io_spacing);\n        pointer-events: inherit;\n        background: linear-gradient(to right, transparent 0%, var(--io_bgColor) 25%);\n      }\n      :host[selected] > .io-close-icon {\n        background: linear-gradient(to right, transparent 0%, var(--io_bgColorLight) 25%);\n      }\n      :host > .io-close-icon:hover {\n        transform: scale(0.5);\n        fill: var(--io_colorStrong);\n        stroke: var(--io_colorStrong);\n      }\n    `;\n  }\n\n  @ReactiveProperty({type: Tab})\n  declare tab: Tab;\n\n  @ReactiveProperty({type: Boolean, reflect: true})\n  declare overflow: boolean;\n\n  static get Listeners() {\n    return {\n      'click': 'preventDefault',\n      'contextmenu': 'preventDefault',\n    };\n  }\n\n  constructor(args: IoTabProps) { super(args); }\n\n  onResized() {\n    const span = this.querySelector('span')!;\n    this.overflow = span.scrollWidth > span.clientWidth;\n  }\n  onTouchmove(event: TouchEvent) {\n    event.preventDefault();\n  }\n  preventDefault(event: Event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  onPointerdown(event: PointerEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.setPointerCapture(event.pointerId);\n    _dragStartX = event.clientX;\n    _dragStartY = event.clientY;\n    super.onPointerdown(event);\n    if (event.buttons === 2) {\n      this.expandContextEditor();\n    } else {\n      this.focus();\n    }\n  }\n  onPointermove(event: PointerEvent) {\n    event.preventDefault();\n    if (event.buttons !== 1) return;\n    const panel = this.parentElement!.parentElement as IoPanel;\n    if (!tabDragIconSingleton.dragging) {\n      const dx = Math.abs(_dragStartX - event.clientX);\n      const dy = Math.abs(_dragStartY - event.clientY);\n      if (dx > 10 || dy > 10) {\n        tabDragIconSingleton.setProperties({\n          tab: this.tab,\n          dragging: true,\n          dropSource: panel,\n          dropTarget: null,\n          dropIndex: -1,\n        });\n        tabDragIconSingleton.style.top = event.clientY + 'px';\n        tabDragIconSingleton.style.left = event.clientX + 'px';\n      }\n      return;\n    }\n    tabDragIconSingleton.style.top = event.clientY + 'px';\n    tabDragIconSingleton.style.left = event.clientX + 'px';\n\n    const x = event.clientX;\n    const y = event.clientY;\n    const m = ThemeSingleton.spacing;\n    const tabsContainers = document.querySelectorAll('io-tabs');\n    for (let i = 0; i < tabsContainers.length; i++) {\n      const tabsContainer = tabsContainers[i] as IoTabs;\n      const targetPanel = tabsContainer.parentElement as IoPanel;\n      const tcr = tabsContainer.getBoundingClientRect();\n      if (y >= tcr.top && y <= tcr.bottom && x >= tcr.left && x <= tcr.right) {\n        const tabs = tabsContainer.querySelectorAll('io-tab');\n        if (tabs.length === 0) {\n          tabDragIconSingleton.setProperties({\n            dropTarget: targetPanel,\n            splitDirection: 'none',\n            dropIndex: 0,\n          });\n          return;\n        }\n        for (let j = 0; j < tabs.length; j++) {\n          const tab = tabs[j] as IoTab;\n          const tr = tab.getBoundingClientRect();\n          const isLast = j === tabs.length - 1;\n          // TODO: consider hovering empty tab space.\n          if (y >= tr.top - m && y <= tr.bottom + m && x >= tr.left - m && (x <= tr.right + m || isLast && x <= tcr.right)) {\n            const side = x < tr.left + tr.width / 2 ? 'left' : 'right';\n            const dropIndex = side === 'left' ? j : j + 1;\n            tabDragIconSingleton.setProperties({\n              dropTarget: targetPanel,\n              splitDirection: 'none',\n              dropIndex: dropIndex,\n            });\n            return;\n          }\n        }\n      }\n    }\n\n    const panels = document.querySelectorAll('io-panel');\n    for (let i = 0; i < panels.length; i++) {\n      const targetPanel = panels[i] as IoPanel;\n      const pr = targetPanel.getBoundingClientRect();\n      if (y >= pr.top && y <= pr.bottom && x >= pr.left && x <= pr.right) {\n        // get xy relative to panel center\n        const rx = (x - pr.left - pr.width / 2) / pr.width * 2;\n        const ry = (y - pr.top - pr.height / 2) / pr.height * 2;\n        let direction = 'none';\n\n        if (Math.abs(rx) < 0.5 && Math.abs(ry) < 0.5) {\n          direction = 'center';\n        } else if (ry > 0 && Math.abs(ry) > Math.abs(rx)) {\n          direction = 'bottom';\n        } else if (ry < 0 && Math.abs(ry) > Math.abs(rx)) {\n          direction = 'top';\n        } else if (rx > 0 && Math.abs(rx) > Math.abs(ry)) {\n          direction = 'right';\n        } else if (rx < 0 && Math.abs(rx) > Math.abs(ry)) {\n          direction = 'left';\n        }\n\n        tabDragIconSingleton.setProperties({\n          dropTarget: targetPanel,\n          splitDirection: direction,\n          dropIndex: -1,\n        });\n        return;\n      }\n    }\n  }\n  onPointerup(event: PointerEvent) {\n    event.preventDefault();\n    super.onPointerup(event);\n    this.releasePointerCapture(event.pointerId);\n    if (tabDragIconSingleton.dragging) {\n      const source = tabDragIconSingleton.dropSource;\n      const target = tabDragIconSingleton.dropTarget;\n      const index = tabDragIconSingleton.dropIndex;\n      const direction = tabDragIconSingleton.splitDirection;\n\n      if (target && index !== -1) {\n        if (source && source !== target) {\n          source.removeTab(this.tab);\n        }\n        target.addTab(this.tab, index);\n      } else if (source && target && direction !== 'none') {\n        target.moveTabToSplit(source, this.tab, direction);\n      }\n\n      tabDragIconSingleton.setProperties({\n        dragging: false,\n        dropSource: null,\n        dropTarget: null,\n        splitDirection: 'none',\n        dropIndex: -1,\n      });\n    } else {\n      this.onClick();\n    }\n  }\n  onPointercancel(event: PointerEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    super.onPointercancel(event);\n    tabDragIconSingleton.setProperties({\n      dragging: false,\n      dropSource: null,\n      dropTarget: null,\n      splitDirection: 'none',\n      dropIndex: -1,\n    });\n  }\n  onPointerleave(event: PointerEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n  onClick() {\n    this.dispatch('io-edit-tab', {tab: this.tab, key: 'Select'}, true);\n  }\n  onDeleteClick() {\n    this.dispatch('io-edit-tab', {tab: this.tab, key: 'Backspace'}, true);\n  }\n  expandContextEditor() {\n    IoContextEditorSingleton.expand({\n      source: this,\n      direction: 'down',\n      value: this.tab,\n      properties: ['id', 'label', 'icon'],\n      orientation: 'horizontal',\n      config: new Map([\n        [Object, [\n          ['id', ioField({inert: true})],\n          ['label', ioString({live: true})],\n          ['icon', iconOptions],\n        ]],\n      ]),\n    });\n  }\n  onKeydown(event: KeyboardEvent) {\n    if (event.shiftKey && ['Backspace', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'Home', 'End'].includes(event.key)) {\n      event.preventDefault();\n      this.dispatch('io-edit-tab', {tab: this.tab, key: event.key}, true);\n    } else if (event.shiftKey && event.key === 'Enter') {\n      this.expandContextEditor();\n    } else {\n      super.onKeydown(event);\n    }\n  }\n  tabMutated() {\n    this.changed();\n  }\n  changed() {\n    this.setAttribute('selected', this.tab.selected);\n    this.render([\n      this.tab.selected ? span({class: 'marker'}) : null,\n      ioIcon({class: 'io-icon', value: this.tab.icon || ' '}),\n      span({class: 'label'}, this.tab.label),\n      ioIcon({value: 'io:close', size: 'small', class: 'io-close-icon', '@click': this.onDeleteClick, '@pointerdown': this.preventDefault}),\n    ]);\n  }\n}\n\nexport const ioTab = function(arg0: IoTabProps) {\n  return IoTab.vConstructor(arg0);\n};\n"]}