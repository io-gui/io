class ChangeQueue{hasChanged=!1;dispatching=!1;constructor(e){this.changes=[],this.node=e,this.dispatch=this.dispatch.bind(this)}queue(e,t,o){const i=this.changes.findIndex((t=>t.property===e));-1===i?this.changes.push({property:e,value:t,oldValue:o}):t===this.changes[i].oldValue?this.changes.splice(i,1):this.changes[i].value=t}dispatch(){if(!0!==this.dispatching){for(this.dispatching=!0,this.hasChanged=!1;this.changes.length;){const e=this.changes[0];this.changes.splice(0,1);const t=e.property;e.value!==e.oldValue&&(this.hasChanged=!0,this.node[t+"Changed"]&&this.node[t+"Changed"](e),this.node.dispatchEvent(t+"-changed",e))}this.hasChanged&&(this.node.changed(),this.node.dispatchEvent("object-mutated",{object:this.node})),this.dispatching=!1}}dispose(){this.changes.length=0,delete this.node,delete this.changes}}const hardenListenerDefinition=e=>Array.isArray(e)?e:[e],listenerFromDefinition=(e,t)=>{const o=t[0],i=t[1],n="string"==typeof o?e[o]:o;return i?[n,i]:[n]};class EventDispatcher{node;isEventTarget;protoListeners={};propListeners={};addedListeners={};constructor(e){this.node=e,this.isEventTarget=e instanceof EventTarget,this.setProtoListeners(e)}setProtoListeners(e){for(const t in e._protochain?.listeners){for(let o=0;o<e._protochain.listeners[t].length;o++){const i=listenerFromDefinition(e,e._protochain.listeners[t][o]);this.protoListeners[t]=[i]}if(this.isEventTarget&&this.protoListeners[t]){const e=this.protoListeners[t][0];EventTarget.prototype.addEventListener.call(this.node,t,e[0],e[1])}}}applyPropListeners(e){const t={};for(const o in e){if(!o.startsWith("@"))continue;const i=o.slice(1),n=hardenListenerDefinition(e[o]),r=listenerFromDefinition(this.node,n);t[i]=[r]}const o=this.propListeners;for(const e in o)if(!t[e]){if(this.isEventTarget){const t=o[e][0];EventTarget.prototype.removeEventListener.call(this.node,e,t[0],t[1])}delete o[e]}for(const e in t){if(this.isEventTarget){const i=t[e][0];if(o[e]){const t=o[e][0];(t!==i||i[1]&&JSON.stringify(t[1])!==JSON.stringify(i[1]))&&EventTarget.prototype.removeEventListener.call(this.node,e,t[0],t[1])}EventTarget.prototype.addEventListener.call(this.node,e,i[0],i[1])}o[e]=t[e]}}addEventListener(e,t,o){this.addedListeners[e]||(this.addedListeners[e]=[]);if(-1!==this.addedListeners[e].findIndex((e=>e[0]===t)))return;const i=o?[t,o]:[t];this.addedListeners[e].push(i),this.isEventTarget&&EventTarget.prototype.addEventListener.call(this.node,e,t,o)}removeEventListener(e,t,o){if(this.addedListeners[e]){if(t){const i=this.addedListeners[e].findIndex((e=>e[0]===t));-1!==i&&(this.addedListeners[e].splice(i,1),this.isEventTarget&&EventTarget.prototype.removeEventListener.call(this.node,e,t,o))}else{for(let t=0;t<this.addedListeners[e].length;t++)if(this.isEventTarget){const o=this.addedListeners[e][t];EventTarget.prototype.removeEventListener.call(this.node,e,o[0],o[1])}this.addedListeners[e].length=0}0===this.addedListeners[e].length&&delete this.addedListeners[e]}}dispatchEvent(e,t,o=!0,i=this.node){if(i instanceof EventTarget)EventTarget.prototype.dispatchEvent.call(i,new CustomEvent(e,{detail:t,bubbles:o,composed:!0,cancelable:!0}));else{const o={detail:t,target:i,path:[i]};if(this.protoListeners[e])for(let t=0;t<this.protoListeners[e].length;t++){this.protoListeners[e][t][0].call(i,o)}if(this.propListeners[e]){this.propListeners[e][0][0].call(i,o)}if(this.addedListeners[e])for(let t=0;t<this.addedListeners[e].length;t++){this.addedListeners[e][t][0].call(i,o)}}}dispose(){for(const e in this.protoListeners){if(this.isEventTarget)for(let t=0;t<this.protoListeners[e].length;t++){const o=this.protoListeners[e][t];EventTarget.prototype.removeEventListener.call(this.node,e,o[0],o[1])}this.protoListeners[e].length=0,delete this.protoListeners[e]}for(const e in this.propListeners){if(this.isEventTarget){const t=this.propListeners[e][0];EventTarget.prototype.removeEventListener.call(this.node,e,t[0],t[1])}this.propListeners[e].length=0,delete this.propListeners[e]}for(const e in this.addedListeners){if(this.isEventTarget)for(let t=this.addedListeners[e].length;t--;){const o=this.addedListeners[e][t];EventTarget.prototype.removeEventListener.call(this.node,e,o[0],o[1])}this.addedListeners[e].length=0,delete this.addedListeners[e]}delete this.node,delete this.protoListeners,delete this.propListeners,delete this.addedListeners}}const bothAreNaNs=function(e,t){return"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)};class Binding{node;property="";targets=[];targetProperties=new WeakMap;constructor(e,t){this.node=e,this.property=t,this.onSourceChanged=this.onSourceChanged.bind(this),this.onTargetChanged=this.onTargetChanged.bind(this),this.node.addEventListener(`${this.property}-changed`,this.onSourceChanged)}set value(e){this.node[this.property]=e}get value(){return this.node[this.property]}toJSON(){const e={};for(let t=0;t<this.targets.length;t++){const o=this.targets[t],i=this.getTargetProperties(o);e[o.constructor.name]=i}return{node:this.node.constructor.name,property:this.property,targets:this.targets.map((e=>e.constructor.name)),targetProperties:e}}getTargetProperties(e){return this.targetProperties.has(e)||this.targetProperties.set(e,[]),this.targetProperties.get(e)}addTarget(e,t){-1===this.targets.indexOf(e)&&this.targets.push(e);const o=this.getTargetProperties(e);if(-1===o.indexOf(t)){o.push(t);const i=e._properties.get(t);i.binding&&i.binding!==this&&i.binding.removeTarget(e,t),i.binding=this,e.addEventListener(`${t}-changed`,this.onTargetChanged),e.setProperty(t,this.node[this.property],!0)}}removeTarget(e,t){const o=this.getTargetProperties(e);if(t){const i=o.indexOf(t);o.splice(i,1);e._properties.get(t).binding=void 0,e.removeEventListener(`${t}-changed`,this.onTargetChanged)}else{for(let t=o.length;t--;){const i=o[t];e._properties.get(i).binding=void 0,e.removeEventListener(`${i}-changed`,this.onTargetChanged)}o.length=0}0===o.length&&this.targets.splice(this.targets.indexOf(e),1)}onTargetChanged(e){const t=this.node[this.property],o=e.detail.value;if(t!==o){if(bothAreNaNs(o,t))return;this.node.setProperty(this.property,o)}}onSourceChanged(e){const t=e.detail.value;for(let e=this.targets.length;e--;){const o=this.targets[e],i=this.getTargetProperties(o);for(let e=i.length;e--;){const n=i[e],r=o[n];if(r!==t){if(bothAreNaNs(t,r))continue;o.setProperty(n,t)}}}}dispose(){this.node.removeEventListener(`${this.property}-changed`,this.onSourceChanged);for(let e=this.targets.length;e--;)this.removeTarget(this.targets[e]);this.targets.length=0,delete this.node,delete this.property,delete this.targets,delete this.targetProperties}}class ProtoProperty{value;type;binding;reflect;init;constructor(e){if(null==e)this.value=e;else if("function"==typeof e)this.type=e;else if(e instanceof Binding)this.value=e.value,this.binding=e;else if(e&&e.constructor===Object){const t=e;this.value=void 0!==t.value?t.value:void 0,this.type=void 0!==t.type?t.type:void 0,t.binding instanceof Binding&&(this.binding=t.binding,this.value=this.binding.value),void 0!==t.reflect&&(this.reflect=t.reflect),void 0!==t.init&&(this.init=t.init)}else e&&e.constructor===Object||(this.value=e)}assign(e){void 0!==e.value&&(this.value=e.value),void 0!==e.type&&(this.type=e.type),void 0!==e.reflect&&(this.reflect=e.reflect),void 0!==e.init&&(this.init=e.init),void 0!==e.binding&&(this.binding=e.binding)}toJSON(){const e={value:this.value,type:this.type,reflect:this.reflect,init:this.init,binding:this.binding};return e.value&&"object"==typeof e.value&&(e.value=e.value.constructor.name),e.type&&"function"==typeof e.type&&(e.type=e.type.name),e}}function decodeInitArgument(e,t){if("this"===e)return t;if("string"!=typeof e||!e.startsWith("this."))return e;{const o=e.split(".");let i=t;for(let e=1;e<o.length;e++)i=i[o[e]];if(i)return i}}class PropertyInstance{value=void 0;type;binding;reflect=!1;init=void 0;constructor(e,t){if(this.value=t.value,this.type=t.type,this.binding=t.binding,void 0!==t.reflect&&(this.reflect=t.reflect),void 0!==t.init&&(this.init=t.init),this.binding instanceof Binding)this.value=this.binding.value;else if((void 0===this.value||null===this.value)&&null!==this.init)if(this.type===Boolean)this.value=!1;else if(this.type===String)this.value="";else if(this.type===Number)this.value=0;else if("function"==typeof this.type)if(void 0!==this.init)if(this.init instanceof Array){const t=this.init.map((t=>decodeInitArgument(t,e)));this.value=new this.type(...t)}else if(this.init instanceof Object){const t={};Object.keys(this.init).forEach((o=>{t[o]=decodeInitArgument(this.init[o],e)})),this.value=new this.type(t)}else{const t=decodeInitArgument(this.init,e);this.value=new this.type(t)}else this.value=new this.type}}const e=new WeakMap,t=[String,Number,Boolean,Date,RegExp,Map,Set,WeakMap,WeakSet];function isNonIoNodeConstructor(e){if("function"!=typeof e)return!1;let o=e.prototype;for(;o;){if(t.includes(e))return!1;if("IoNodeMixinConstructor"===o.constructor.name)return!1;if(o===Object.prototype)return!0;o=Object.getPrototypeOf(o)}return!1}function isNonIoNodeObject(e){return"object"==typeof e&&null!==e&&!e._isIoNode}function isIoNodeObjectConstructor(e){if("function"!=typeof e)return!1;let t=e.prototype;for(;t;){if("IoNodeMixinConstructor"===t.constructor.name)return!0;t=Object.getPrototypeOf(t)}return!1}class ProtoChain{constructors=[];properties={};listeners={};styles="";handlers=[];observedObjectProperties=[];observedIoNodeProperties=[];constructor(e){let t=e.prototype;for(;t&&e!==HTMLElement&&e!==Object&&e!==Array;)this.constructors.push(e),this.addHandlers(t),this.addStyles(e.Style),t=Object.getPrototypeOf(t),e=t.constructor;let o="";for(let t=this.constructors.length;t--;)e=this.constructors[t],this.addPropertiesFromDecorators(e),o=this.addStaticProperties(e.Properties,o),this.addListeners(e.Listeners);this.observedObjectProperties=this.getObservedObjectProperties(),this.observedIoNodeProperties=this.getObservedIoNodeProperties()}addPropertiesFromDecorators(t){const o=e.get(t);if(o)for(const e in o){const t=new ProtoProperty(o[e]);this.properties[e]||(this.properties[e]=t),this.properties[e].assign(t)}}addStaticProperties(e={},t=""){const o={};for(const t in e)o[t]=new ProtoProperty(e[t]);const i=JSON.stringify(o);if(i!==t)for(const n in e)this.properties[n]?this.properties[n].assign(o[n]):this.properties[n]=o[n],t=i;return t}addListeners(e){for(const t in e)if(e[t]){const o=hardenListenerDefinition(e[t]),i=this.listeners[t]=this.listeners[t]||[],n=i.findIndex((e=>e[0]===o[0]));-1!==n?i[n][1]?i[n][1]=Object.assign(i[n][1],o[1]):o[1]&&(i[n][1]=o[1]):i.push(o)}}addStyles(e){e&&-1===this.styles.indexOf(e)&&(this.styles=e+"\n"+this.styles)}addHandlers(e){const t=Object.getOwnPropertyNames(e);for(let o=0;o<t.length;o++){const i=t[o];if(/^on[A-Z]/.test(i)||/^_on[A-Z]/.test(i)||i.endsWith("Changed")||i.endsWith("Mutated")){const t=Object.getOwnPropertyDescriptor(e,i);if(void 0===t||t.get||t.set)continue;"function"==typeof e[i]&&-1===this.handlers.indexOf(i)&&this.handlers.push(i)}}}getObservedObjectProperties(){const e=[];for(const t in this.properties){const o=this.properties[t].value,i=this.properties[t].type;(isNonIoNodeObject(o)||isNonIoNodeConstructor(i))&&e.push(t)}return e}getObservedIoNodeProperties(){const e=[];for(const t in this.properties){const o=this.properties[t].value,i=this.properties[t].type;(o?._isIoNode||isIoNodeObjectConstructor(i))&&e.push(t)}return e}validateProperties(){for(const e in this.properties){const t=this.properties[e];if(-1!==[String,Number,Boolean].indexOf(t.type))(t.type===Boolean&&void 0!==t.value&&"boolean"!=typeof t.value||t.type===Number&&void 0!==t.value&&"number"!=typeof t.value||t.type===String&&void 0!==t.value&&"string"!=typeof t.value)&&console.warn(`Property "${e}" in ProtoChain: Incorrect value type for ${t.type} property!`);else{const o=null===t.value,i=void 0===t.value;"function"!=typeof t.type||t.value instanceof t.type||o||i||console.warn(`Property "${e}" in ProtoChain: Incorrect value type for ${t.type} property!`)}}}autobindHandlers(e){for(let t=this.handlers.length;t--;)Object.defineProperty(e,this.handlers[t],{value:e[this.handlers[t]].bind(e),writable:!0,configurable:!0})}}const Autobind=function(e,t,o){const i=o.value;return{configurable:!0,enumerable:!1,get(){if(this===e.prototype||Object.prototype.hasOwnProperty.call(this,t))return i;const o=i.bind(this);return Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!1,value:o}),o},set(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!0,value:e})}}};function Register(e){e.prototype.Register(e)}const Property=function(t){return(o,i)=>{const n=o.constructor,r=e.get(n)||{};e.set(n,r),r[i]=t}};var __decorate$9=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};function IoNodeMixin(e){return class IoNodeMixinConstructor extends e{static get Properties(){return{reactivity:{value:"immediate",type:String}}}constructor(e={},...t){super(...t),this._isIoElement&&Object.defineProperty(this,"$",{value:{},writable:!0,enumerable:!1}),this._protochain.autobindHandlers(this),Object.defineProperty(this,"_changeQueue",{enumerable:!1,configurable:!0,value:new ChangeQueue(this)}),Object.defineProperty(this,"_properties",{enumerable:!1,configurable:!0,value:new Map}),Object.defineProperty(this,"_bindings",{enumerable:!1,configurable:!0,value:new Map}),Object.defineProperty(this,"_eventDispatcher",{enumerable:!1,configurable:!0,value:new EventDispatcher(this)});for(const e in this._protochain.properties)Object.defineProperty(this,e,{get:function(){return this._properties.get(e).value},set:function(t){this.setProperty(e,t)},configurable:!0,enumerable:!0});for(const e in this._protochain.properties){const t=new PropertyInstance(this,this._protochain.properties[e]);this._properties.set(e,t),t.binding&&t.binding.addTarget(this,e),t.value?._isIoNode&&t.value.addEventListener("object-mutated",this.onPropertyMutated)}this.applyProperties(e),this._protochain.observedObjectProperties.length&&window.addEventListener("object-mutated",this.onPropertyMutated),this.init()}applyProperties(e){for(const t in e)this._properties.has(t)&&this.setProperty(t,e[t],!0);this._eventDispatcher.applyPropListeners(e),this.dispatchQueue()}setProperties(e){for(const t in e)this._properties.has(t)&&this.setProperty(t,e[t],!0);this.dispatchQueue()}setProperty(e,t,o=!1){const i=this._properties.get(e),n=i.value;if(t!==n){const r=t instanceof Binding?t:null;if(r){const t=i.binding;return r!==t?(t&&t.removeTarget(this,e),void r.addTarget(this,e)):void 0}i.value=t,t!==n&&(t?._isIoNode&&t.addEventListener("object-mutated",this.onPropertyMutated),n?._isIoNode&&n.removeEventListener("object-mutated",this.onPropertyMutated)),n!==t&&(this.queue(e,t,n),this.dispatchQueue(o))}}inputValue(e){if(this.value!==e||"object"==typeof this.value){const t=this.value;this.setProperty("value",e),this.dispatchEvent("value-input",{value:e,oldValue:t},!1)}}changed(){}init(){}queue(e,t,o){"none"!==this.reactivity&&this._changeQueue.queue(e,t,o)}dispatchQueue(e=!1){"debounced"===this.reactivity||e||this._changeQueue.dispatching?this.debounce(this._changeQueue.dispatch):"immediate"===this.reactivity&&this._changeQueue.dispatch()}throttle(e,t=void 0){throttle(this,e,t,0)}debounce(e,t=void 0,o=1){throttle(this,e,t,o)}onPropertyMutated(e){const t=e.detail.object,o=[...new Set([...this._protochain.observedObjectProperties,...this._protochain.observedIoNodeProperties])];for(let e=0;e<o.length;e++){const i=o[e];if(this._properties.get(i).value===t)return void("function"==typeof this[i+"Mutated"]&&this.throttle(this[i+"Mutated"]))}}bind(e){return this._bindings.has(e)||this._bindings.set(e,new Binding(this,e)),this._bindings.get(e)}unbind(e){const t=this._bindings.get(e);t&&(t.dispose(),this._bindings.delete(e));const o=this._properties.get(e);o?.binding?.removeTarget(this,e)}addEventListener(e,t,o){this._eventDispatcher.addEventListener(e,t,o)}removeEventListener(e,t,o){this._eventDispatcher.removeEventListener(e,t,o)}dispatchEvent(e,t=void 0,o=!1,i){this._eventDispatcher.dispatchEvent(e,t,o,i)}dispose(){this._disposed||(this._bindings.forEach(((e,t)=>{e.dispose(),this._bindings.delete(t)})),delete this._bindings,this._protochain.observedObjectProperties.length&&window.removeEventListener("object-mutated",this.onPropertyMutated),delete this._protochain,this._changeQueue.dispose(),delete this._changeQueue,this._properties.forEach(((e,t)=>{e.binding?.removeTarget(this,t),e.value?._isIoNode&&e.value.removeEventListener("object-mutated",this.onPropertyMutated)})),this._eventDispatcher.dispose(),delete this._eventDispatcher,delete this._properties,Object.defineProperty(this,"_disposed",{value:!0}))}Register(e){Object.defineProperty(e,"_isIoNode",{enumerable:!1,value:!0}),Object.defineProperty(e.prototype,"_isIoNode",{enumerable:!1,value:!0}),Object.defineProperty(e.prototype,"_protochain",{value:new ProtoChain(e)})}}}let o=class IoNode extends(IoNodeMixin(Object)){};o=__decorate$9([Register],o);const i=[],n=[],r=[],s=new WeakMap,a=new WeakMap;let l=n,h=s;async function nextQueue(){return new Promise((e=>{l.push(e),h.set(e,{arg:void 0,timeout:Date.now()+1,node:void 0})}))}function throttle(e,t,o=void 0,n=1){if(0===n){if(-1===i.indexOf(t)){i.push(t);try{t(o)}catch(e){console.error(e)}return}n=1}-1===l.indexOf(t)&&l.push(t),h.has(t)?h.get(t).arg=o:h.set(t,{node:e,arg:o,timeout:Date.now()+n})}requestAnimationFrame((function animate(){i.length=0;const e=l,t=h;l=l===n?r:n,h=h===s?a:s;const o=Date.now();for(let i=0;i<e.length;i++){const n=e[i],r=t.get(n);if(t.delete(n),void 0===r&&console.warn(n),r.timeout>o)-1===l.indexOf(n)&&l.push(n),h.set(n,r);else if(!r.node?._disposed)try{void 0!==r.arg?n(r.arg):n()}catch(e){console.error(e)}}e.length=0,requestAnimationFrame(animate)}));var __decorate$8=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};const c={},d=new RegExp("(( --[\\s\\S]*?): {([\\s\\S]*?)})","gi"),p=new RegExp("(@apply\\s.*?;)","gi"),u=new ResizeObserver((e=>{for(const t of e)t.target.onResized()})),g=Array.isArray,clense=(e,t)=>t?"string"==typeof t[0]?[...e,t]:[...e,...t]:e,buildTree=()=>e=>{return"object"!=typeof(t=e[1])||g(t)?buildTree()([e[0],{},e[1]]):{name:e[0],props:e[1],children:g(e[2])?e[2].reduce(clense,[]).map(buildTree()):e[2]};var t},constructElement=function(e){const t=window.customElements?window.customElements.get(e.name):null;if(t&&t._isIoElement)return new t(e.props);const o=document.createElement(e.name);return applyNativeElementProps(o,e.props),o},disposeElementDeep=function(e){requestAnimationFrame((()=>{const t=[...e.querySelectorAll("*"),e];for(let e=t.length;e--;)"function"==typeof t[e].dispose?t[e].dispose():t[e]._eventDispatcher&&(t[e]._eventDispatcher.dispose(),delete t[e]._eventDispatcher)}))},f=document.createElement;document.createElement=function(e,t){if(e.startsWith("io-")){const o=customElements.get(e);return o?new o:f.apply(this,[e,t])}return f.apply(this,[e,t])};const applyNativeElementProps=function(e,t){for(const o in t){const i=t[o];if("style"===o)for(const t in i)e.style.setProperty(t,i[t]);else"class"===o?e.className=i:e[o]=i;"name"===o&&e.setAttribute("name",i),"src"===o&&e.setAttribute("src",i)}e._eventDispatcher||Object.defineProperty(e,"_eventDispatcher",{enumerable:!1,configurable:!0,value:new EventDispatcher(e)}),e._eventDispatcher.applyPropListeners(t)};let v=class IoElement extends(IoNodeMixin(HTMLElement)){static get Style(){return"\n      :host {\n        box-sizing: border-box;\n        display: block;\n      }\n      :host[hidden] {\n        display: none;\n      }\n      :host[disabled] {\n        pointer-events: none;\n        opacity: 0.5;\n      }\n      :host:focus {\n        border-color: var(--io_colorBlue);\n        outline: 1px auto var(--io_colorBlue);\n        outline: 1px auto -webkit-focus-ring-color;\n      }\n      :host[aria-invalid] {\n        border: var(--io_borderFail);\n      }\n    "}constructor(...e){super(...e);for(const e in this._protochain.properties){const t=this._properties.get(e),o=t.value;null!=o&&t.reflect&&this.setAttribute(e,o)}}connectedCallback(){"function"==typeof this.onResized&&u.observe(this)}disconnectedCallback(){"function"==typeof this.onResized&&u.unobserve(this)}setProperty(e,t,o=!1){super.setProperty(e,t,o);this._properties.get(e).reflect&&this._isIoElement&&this.setAttribute(e,t)}template(e,t,o){const i=buildTree()(["first",e]).children;(t=t||this)===this&&(this.$={}),this.traverse(i,t,o)}traverse(e,t,o){const i=t.children;for(;i.length>e.length;){const e=i[i.length-1];t.removeChild(e),o||disposeElementDeep(e)}for(let n=0;n<i.length;n++){const r=i[n];if(r.localName!==e[n].name||o){const i=r,s=constructElement(e[n]);t.insertBefore(s,i),t.removeChild(i),o||disposeElementDeep(i)}else r.removeAttribute("className"),r._isIoElement?r.applyProperties(e[n].props):applyNativeElementProps(r,e[n].props)}if(i.length<e.length){const o=document.createDocumentFragment();for(let t=i.length;t<e.length;t++){const i=constructElement(e[t]);o.appendChild(i)}t.appendChild(o)}for(let t=0;t<e.length;t++){const n=i[t];e[t].props.$&&(this.$[e[t].props.$]=n),void 0!==e[t].children&&("string"==typeof e[t].children?(this._flattenTextNode(n),n._textNode.nodeValue=String(e[t].children)):"object"==typeof e[t].children&&this.traverse(e[t].children,n,o))}}static _vDOMFactory;Register(e){super.Register(e);const t=e.name.replace(/([a-z])([A-Z,0-9])/g,"$1-$2").toLowerCase();Object.defineProperty(e,"localName",{value:t}),Object.defineProperty(e.prototype,"localName",{value:t}),Object.defineProperty(e,"_isIoElement",{enumerable:!1,value:!0}),Object.defineProperty(e.prototype,"_isIoElement",{enumerable:!1,value:!0}),Object.defineProperty(window,e.name,{value:e}),window.customElements.define(t,e);let o="";const i=e.prototype._protochain.styles.match(d);if(i)for(let e=0;e<i.length;e++){const t=i[e].split(": {"),n=t[0].replace(" --","--"),r=t[1].replace(/}/g,"").trim().replace(/^ +/gm,"");c[n]=r,o+=i[e].replace(" --",".").replace(": {"," {")}let n=e.prototype._protochain.styles.replace(d,"");const r=n.match(p);if(r)for(let e=0;e<r.length;e++){const t=r[e].split("@apply ")[1].replace(";","");c[t]?n=n.replace(r[e],c[t]):console.warn("IoElement: cound not find mixin:",t)}n=o+n.replace(new RegExp(":host","g"),t);const s=document.createElement("style");s.innerHTML=n,s.setAttribute("id","io-style-"+t.replace("io-","")),document.head.appendChild(s),Object.defineProperty(e,"_vDOMFactory",{value:function(e,o){return void 0!==e?void 0!==o?[t,e,o]:[t,e]:[t]}})}_flattenTextNode(e){if(0===e.childNodes.length&&e.appendChild(document.createTextNode("")),"#text"!==e.childNodes[0].nodeName&&(e.innerHTML="",e.appendChild(document.createTextNode(""))),e._textNode=e.childNodes[0],e.childNodes.length>1){const t=e.textContent;for(let t=e.childNodes.length;t--;)0!==t&&e.removeChild(e.childNodes[t]);e._textNode.nodeValue=t}}get textNode(){return this._flattenTextNode(this),this._textNode.nodeValue}set textNode(e){this._flattenTextNode(this),this._textNode.nodeValue=String(e)}applyProperties(e){if(super.applyProperties(e),e.style)for(const t in e.style)this.style[t]=e.style[t]}setAttribute(e,t){!0===t?HTMLElement.prototype.setAttribute.call(this,e,""):!1===t||""===t?this.removeAttribute(e):"string"!=typeof t&&"number"!=typeof t||this.getAttribute(e)!==String(t)&&HTMLElement.prototype.setAttribute.call(this,e,String(t))}labelChanged(){this.label?this.setAttribute("aria-label",this.label):this.removeAttribute("aria-label")}disabledChanged(){this.disabled?this.setAttribute("aria-disabled",this.disabled):this.removeAttribute("aria-disabled")}};__decorate$8([Property({value:"",type:String,reflect:!0})],v.prototype,"tabindex",void 0),__decorate$8([Property({value:!1,type:Boolean,reflect:!0})],v.prototype,"contenteditable",void 0),__decorate$8([Property({value:"",type:String,reflect:!0})],v.prototype,"class",void 0),__decorate$8([Property({value:"",type:String,reflect:!0})],v.prototype,"role",void 0),__decorate$8([Property({value:"",type:String,reflect:!0})],v.prototype,"label",void 0),__decorate$8([Property({value:"",type:String,reflect:!0})],v.prototype,"name",void 0),__decorate$8([Property({value:"",type:String,reflect:!0})],v.prototype,"title",void 0),__decorate$8([Property({value:"",type:String,reflect:!0})],v.prototype,"id",void 0),__decorate$8([Property({value:!1,type:Boolean,reflect:!0})],v.prototype,"hidden",void 0),__decorate$8([Property({value:!1,type:Boolean,reflect:!0})],v.prototype,"disabled",void 0),v=__decorate$8([Register],v);const b=v._vDOMFactory,y={};["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","head","header","hgroup","h1","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"].forEach((e=>{y[e]=function(t,o){return void 0!==t?void 0!==o?[e,t,o]:[e,t]:[e]}}));const{a:m,abbr:_,acronym:w,address:P,applet:C,area:x,article:E,aside:S,audio:L,b:O,base:R,basefont:k,bdi:I,bdo:j,big:A,blockquote:N,body:M,br:T,button:H,canvas:D,caption:F,center:B,cite:z,code:W,col:U,colgroup:$,data:V,datalist:J,dd:G,del:Y,details:Q,dfn:q,dialog:K,dir:X,div:Z,dl:ee,dt:te,em:oe,embed:ie,fieldset:ne,figcaption:re,figure:se,font:ae,footer:le,form:he,frame:ce,frameset:de,head:pe,header:ue,hgroup:ge,h1:fe,hr:ve,html:be,i:ye,iframe:me,img:_e,input:we,ins:Pe,kbd:Ce,keygen:xe,label:Ee,legend:Se,li:Le,link:Oe,main:Re,map:ke,mark:Ie,menu:je,menuitem:Ae,meta:Ne,meter:Me,nav:Te,noframes:He,noscript:De,object:Fe,ol:Be,optgroup:ze,option:We,output:Ue,p:$e,param:Ve,picture:Je,pre:Ge,progress:Ye,q:Qe,rp:qe,rt:Ke,ruby:Xe,s:Ze,samp:et,script:tt,section:ot,select:it,small:nt,source:rt,span:st,strike:at,strong:lt,style:ht,sub:ct,summary:dt,sup:pt,svg:ut,table:gt,tbody:ft,td:vt,template:bt,textarea:yt,tfoot:mt,th:_t,thead:wt,time:Pt,title:Ct,tr:xt,track:Et,tt:St,u:Lt,ul:Ot,video:Rt,wbr:kt}=y;var __decorate$7=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};const It={};let jt=class IoIconset extends o{registerIcons(e,t){const o=document.createElement("div");o.innerHTML=t,o.querySelectorAll("[id]").forEach((t=>{It[e]=It[e]||{},It[e][t.id]=t.outerHTML}))}getIcon(e){const t=It[e.split(":")[0]];if(t){const o=e.split(":")[1];if(t[o]){return`<svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">${t[o].replace(' id="',' class="icon-id-')}</svg>`}}return'<svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"></svg>'}};jt=__decorate$7([Register],jt);const At=new jt;At.registerIcons("io",'\n<svg>\n<g id="io">\n  <ellipse fill="#83A61E" cx="5.4" cy="12.1" rx="3.4" ry="3.4"/>\n  <path fill="#646464" d="M16.3,17.7c-3.1,0-5.6-2.6-5.6-5.6s2.6-5.6,5.6-5.6s5.6,2.6,5.6,5.6S19.3,17.7,16.3,17.7z M16.3,8.8\n    c-1.8,0-3.3,1.5-3.3,3.2s1.5,3.2,3.3,3.2s3.3-1.5,3.3-3.2S18.1,8.8,16.3,8.8z"/>\n</g>\n<g id="io_logo">\n  <path fill="#646464" d="M19.5,12.7c0.3-0.3,0.3-0.9,0-1.2l-0.7-0.7l-2.6-2.6c-0.3-0.3-0.3-0.9,0-1.2c0.3-0.3,0.9-0.3,1.2,0l3.8,3.8\n    c0.7,0.7,0.7,1.8,0,2.6l-3.8,3.8c-0.3,0.3-0.9,0.3-1.2,0c-0.3-0.3-0.3-0.9,0-1.2"/>\n  <path fill="#646464" d="M4.3,12.7c-0.3-0.3-0.3-0.9,0-1.2L5,10.8l2.6-2.6c0.3-0.3,0.3-0.9,0-1.2C7.3,6.7,6.7,6.7,6.4,7l-3.8,3.8\n    c-0.7,0.7-0.7,1.8,0,2.6l3.8,3.8c0.3,0.3,0.9,0.3,1.2,0s0.3-0.9,0-1.2"/>\n  <ellipse fill="#83A61E" cx="8.4" cy="12.1" rx="1.7" ry="1.7"/>\n  <path fill="#646464" d="M13.9,14.9c-1.6,0-2.8-1.2-2.8-2.8s1.2-2.8,2.8-2.8s2.8,1.2,2.8,2.8S15.4,14.9,13.9,14.9z M13.9,10.4\n    c-0.9,0-1.7,0.7-1.7,1.7c0,0.9,0.7,1.7,1.7,1.7c0.9,0,1.7-0.7,1.7-1.7C15.5,11.2,14.8,10.4,13.9,10.4z"/>\n</g>\n</svg>');var __decorate$6=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};const Nt=new class EmulatedLocalStorage{constructor(){Object.defineProperty(this,"store",{value:new Map}),Object.defineProperty(this,"warned",{value:!1,writable:!0})}get permitted(){try{return"true"===self.localStorage.getItem("IoStorage:user-permitted")}catch(e){console.warn("IoStorage: Cannot access localStorage. Check browser privacy settings!")}return!1}set permitted(e){try{e?(console.log("IoStorage: localStorage permission granted."),this.store.set("IoStorage:user-permitted",String(e)),this.store.forEach(((e,t)=>{self.localStorage.setItem(t,String(e)),this.store.delete(t)}))):(console.log("IoStorage: localStorage permission revoked."),self.localStorage.setItem("IoStorage:user-permitted",String(e)),new Map(Object.entries(self.localStorage)).forEach(((e,t)=>{this.store.set(t,e)})),self.localStorage.clear())}catch(e){console.warn("IoStorage: Cannot access localStorage. Check browser privacy settings!")}}setItem(e,t){const o="object"==typeof t?JSON.stringify(t):String(t);"IoStorage:user-permitted"!==e?this.permitted?self.localStorage.setItem(e,o):(this.store.set(e,o),this.warned||this.permitted||(console.warn("IoStorage: localStorage permission not set."),this.warned=!0)):this.permitted="true"===t}getItem(e){return this.permitted?self.localStorage.getItem(e):this.store.has(e)?this.store.get(e):null}removeItem(e){if(this.permitted)return self.localStorage.removeItem(e);this.store.delete(e)}clear(){if(this.permitted)return self.localStorage.clear();this.store.clear()}},Mt={local:new Map,hash:new Map,none:new Map};let Tt={};function genObjectStorageID(e){const t=JSON.stringify(e);let o=0;for(let e=0;e<t.length;e++)o=Math.imul(31,o)+t.charCodeAt(e)|0;return"io-local-state-"+String(o)}let Ht=class IoStorageNode extends o{constructor(e){const t=e.storage||"none";if(Mt[t].has(e.key))return Mt[t].get(e.key);{const o=e.default||e.value;switch(e.storage){case"hash":{const t=function getValueFromHash(e){if(Tt=parseHash(self.location.hash),Tt[e])try{return JSON.parse(Tt[e])}catch(t){return Tt[e]}}(e.key);if(void 0!==t)try{e.value=JSON.parse(t)}catch(o){e.value=t}break}case"local":{const t=Nt.getItem("IoStorage:"+e.key);t&&(e.value=JSON.parse(t));break}}return void 0===e.value&&(e.value=o),super(Object.assign({default:o},e)),"__proto__"!==e.key&&Mt[t].set(e.key,this),this.binding=this.bind("value"),this.binding.dispose=()=>{this._clearStorage()},this}}dispose(){this._clearStorage(),super.dispose()}_clearStorage(){switch(this.storage){case"hash":this.removeValueToHash();break;case"local":Nt.removeItem("IoStorage:"+this.key)}const e=this.storage;Mt[e].delete(this.key)}valueChanged(){switch(this.storage){case"hash":this.saveValueToHash();break;case"local":null===this.value||void 0===this.value||this.value===this.default?Nt.removeItem("IoStorage:"+this.key):Nt.setItem("IoStorage:"+this.key,JSON.stringify(this.value))}}removeValueToHash(){Tt=parseHash(self.location.hash),delete Tt[this.key];let e="";for(const t in Tt)e+=t+"="+Tt[t]+"&";e?(e=e.slice(0,-1),self.location.hash=e):history.replaceState("",document.title,self.location.pathname+self.location.search)}saveValueToHash(){Tt=parseHash(self.location.hash);const e=this.value;void 0!==e&&""!==e&&e!==this.default?"string"==typeof e?isNaN(e)?Tt[this.key]=e:Tt[this.key]='"'+e+'"':Tt[this.key]=JSON.stringify(e):delete Tt[this.key];let t="";for(const e in Tt)t+=e+"="+Tt[e]+"&";t?(t=t.slice(0,-1),self.location.hash=t):history.replaceState("",document.title,self.location.pathname+self.location.search)}};__decorate$6([Property({value:"",type:String})],Ht.prototype,"key",void 0),__decorate$6([Property({value:void 0})],Ht.prototype,"value",void 0),__decorate$6([Property({value:void 0})],Ht.prototype,"default",void 0),__decorate$6([Property({value:"none",type:String})],Ht.prototype,"storage",void 0),Ht=__decorate$6([Register],Ht);const Dt=Object.assign((e=>new Ht(e).binding),{permit(){Nt.permitted=!0},unpermit(){Nt.permitted=!1}});function parseHash(e){return e.substring(1).split("&").reduce((function(e,t){const o=t.split("=");return o[0]&&o[1]&&(e[o[0]]=o[1].replace(/%22/g,'"').replace(/%20/g," ")),e}),{})}function updateAllFromHash(){Tt=parseHash(self.location.hash);for(const e in Tt)if(Mt.hash.has(e)){const t=Mt.hash.get(e);try{t.value=JSON.parse(Tt[e])}catch(o){t.value=Tt[e]}}}self.addEventListener("hashchange",updateAllFromHash,!1),updateAllFromHash();var __decorate$5=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};const Ft="v0.10",Bt=document.createElement("style");Bt.setAttribute("id","io-theme-variables-"+Ft),document.head.appendChild(Bt);class Color{r;g;b;a;constructor(e,t,o,i){this.r=e,this.g=t,this.b=o,this.a=i}toCss(){const e=Math.floor(255*this.r),t=Math.floor(255*this.g),o=Math.floor(255*this.b);return void 0!==this.a&&1!==this.a?`rgba(${e}, ${t}, ${o}, ${this.a})`:`rgb(${e}, ${t}, ${o})`}}const zt={spacing:2,spacing2:0,spacing3:0,spacing5:0,spacing8:0,lineHeight:20,fontSize:14,fieldHeight:0,fieldHeight2:0,fieldHeight3:0,fieldHeight4:0,fieldHeight5:0,fieldHeight6:0,fieldHeight7:0,fieldHeight8:0,fieldHeight9:0,fieldHeight10:0,fieldHeight11:0,fieldHeight12:0,borderRadius:2,borderRadius2:0,borderWidth:1,borderColor:new Color(0,0,0,.2),borderColorLight:new Color(1,1,1,.8),borderColorDark:new Color(0,0,0,.4),bgColor:new Color(.85,.85,.85,1),bgColorStrong:new Color(.9,.9,.9,1),bgColorDimmed:new Color(.8,.8,.8,1),bgColorRed:new Color(1,.5,.3,1),bgColorGreen:new Color(.2,.9,.3,1),bgColorBlue:new Color(.2,.5,.9,1),bgColorField:new Color(.95,.96,.95,1),color:new Color(.25,.25,.2,1),colorStrong:new Color(0,0,0,1),colorDimmed:new Color(.6,.6,.6,1),colorRed:new Color(1,.2,0,1),colorGreen:new Color(0,.6,.1,1),colorBlue:new Color(.2,.3,1,1),colorWhite:new Color(1,1,1,1),colorField:new Color(0,.05,.02,1),gradientColorStart:new Color(.9,.9,.9,1),gradientColorEnd:new Color(.75,.75,.75,1),shadowColor:new Color(0,0,0,.2)},Wt={spacing:2,spacing2:0,spacing3:0,spacing5:0,spacing8:0,lineHeight:20,fontSize:14,fieldHeight:0,fieldHeight2:0,fieldHeight3:0,fieldHeight4:0,fieldHeight5:0,fieldHeight6:0,fieldHeight7:0,fieldHeight8:0,fieldHeight9:0,fieldHeight10:0,fieldHeight11:0,fieldHeight12:0,borderRadius:2,borderRadius2:0,borderWidth:1,borderColor:new Color(1,1,1,.5),borderColorLight:new Color(1,1,1,.3),borderColorDark:new Color(0,0,0,1),bgColor:new Color(.2,.2,.2,1),bgColorStrong:new Color(.15,.15,.15,1),bgColorDimmed:new Color(.25,.25,.25,1),bgColorRed:new Color(.7,.2,.1,1),bgColorGreen:new Color(.1,.5,.2,1),bgColorBlue:new Color(0,.3,.65,1),bgColorField:new Color(.02,.02,.02,1),color:new Color(.6,.6,.6,1),colorStrong:new Color(.86,.86,.86,1),colorDimmed:new Color(.3,.3,.3,1),colorRed:new Color(1,.4,.4,1),colorGreen:new Color(.4,.95,.3,1),colorBlue:new Color(.6,.9,1,1),colorWhite:new Color(1,1,1,1),colorField:new Color(.65,.7,.68,1),gradientColorStart:new Color(.45,.45,.45,1),gradientColorEnd:new Color(.2,.2,.2,1),shadowColor:new Color(0,0,0,.2)},Ut=Dt({value:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",storage:"local",key:"theme-"+Ft}),$t=Dt({value:{},storage:"local",key:"io-themes-"+Ft});let Vt=class IoTheme extends o{static get Properties(){const e={};for(const t in zt){const o=zt[t];e[t]=o instanceof Object?{value:o,type:Color}:o}return e}init(){this.registerTheme("light",zt),this.registerTheme("dark",Wt),this.themeIDChanged()}registerTheme(e,t){this.themeDefaults[e]=t,this.setProperty("themeDefaults",JSON.parse(JSON.stringify(this.themeDefaults)),!0),$t.value[e]=$t.value[e]||t,$t.value=JSON.parse(JSON.stringify($t.value))}reset(){$t.value=JSON.parse(JSON.stringify(this.themeDefaults)),this.themeIDChanged()}themeIDChanged(){const e=$t.value[this.themeID];for(const t in e)e[t]instanceof Object&&'["r","g","b","a"]'===JSON.stringify(Object.keys(e[t]))&&(e[t]=new Color(e[t].r,e[t].g,e[t].b,e[t].a));this.setProperties(e)}onPropertyMutated(e){super.onPropertyMutated(e),this.changed(),this.dispatchEvent("object-mutated",{object:this})}changed(){this.fieldHeight=this.lineHeight+2*(this.spacing+this.borderWidth),this.fieldHeight2=2*this.fieldHeight,this.fieldHeight3=3*this.fieldHeight,this.fieldHeight4=4*this.fieldHeight,this.fieldHeight5=5*this.fieldHeight,this.fieldHeight6=6*this.fieldHeight,this.fieldHeight7=7*this.fieldHeight,this.fieldHeight8=8*this.fieldHeight,this.fieldHeight9=9*this.fieldHeight,this.fieldHeight10=10*this.fieldHeight,this.fieldHeight11=11*this.fieldHeight,this.fieldHeight12=12*this.fieldHeight,this.spacing2=2*this.spacing,this.spacing3=3*this.spacing,this.spacing5=5*this.spacing,this.spacing8=8*this.spacing,this.borderRadius2=this.borderRadius+this.spacing;const e=Array.from(Object.keys(zt)).reduce(((e,t)=>($t.value[this.themeID][t]=this[t],"object"==typeof this[t]?`${e}--io_${t}: ${this[t].toCss()};\n    `:`${e}--io_${t}: ${this[t]}px;\n    `)),"");Bt.innerHTML=`body {\n  ${e}\n}\n\n  body {\n    --io_border: var(--io_borderWidth) solid var(--io_borderColor);\n    --io_borderColorInset: var(--io_borderColorDark) var(--io_borderColorLight) var(--io_borderColorLight) var(--io_borderColorDark);\n    --io_borderColorOutset: var(--io_borderColorLight) var(--io_borderColorDark) var(--io_borderColorDark) var(--io_borderColorLight);\n    --io_gradientOutset: linear-gradient(180deg, var(--io_gradientColorStart), var(--io_gradientColorEnd) 100%);\n    --io_gradientInset: linear-gradient(0deg, var(--io_gradientColorStart), var(--io_gradientColorEnd) 150%);\n    --io_shadow: 2px 2px 6px var(--io_shadowColor), 1px 1px 1px var(--io_shadowColor);\n    --io_shadowInset: 1px 1px 1px inset var(--io_shadowColor);\n    --io_shadowOutset: 1px 1px 2px var(--io_shadowColor);\n  }\n`,this.debounce(this.onSaveTheme,void 0,100)}onSaveTheme(){$t.value=JSON.parse(JSON.stringify($t.value))}};__decorate$5([Property({type:Object})],Vt.prototype,"themeDefaults",void 0),__decorate$5([Property({type:String,binding:Ut})],Vt.prototype,"themeID",void 0),__decorate$5([Property("debounced")],Vt.prototype,"reactivity",void 0),Vt=__decorate$5([Register],Vt);const Jt=new Vt;var __decorate$4=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};let Gt=class IoField extends v{static get Style(){return"\n      --ioField: {\n        display: flex;\n\n        cursor: pointer;\n        user-select: none;\n        -webkit-touch-callout: none;\n\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n\n        height: var(--io_fieldHeight);\n        line-height: var(--io_lineHeight);\n\n        font-size: var(--io_fontSize);\n        border: var(--io_border);\n        border-radius: var(--io_borderRadius);\n        border-color: transparent;\n        color: var(--io_colorField);\n        background-color: var(--io_bgColorField);\n        padding-top: var(--io_spacing);\n        padding-bottom: var(--io_spacing);\n        padding-left: var(--io_spacing);\n        padding-right: var(--io_spacing);\n        transition: background-color 0.25s;\n      }\n      :host {\n        @apply --ioField;\n      }\n      :host[appearance=neutral] {\n        color: var(--io_color);\n        background-color: transparent;\n      }\n      :host[appearance=inset] {\n        border-color: var(--io_borderColorInset);\n        padding-top: calc(var(--io_spacing) + 0.05em);\n        padding-bottom: calc(var(--io_spacing) - 0.05em);\n      }\n      :host[appearance=outset] {\n        border-color: var(--io_borderColorOutset);\n        background-image: var(--io_gradientOutset);\n      }\n      :host.red,\n      :host[invalid] {\n        color: var(--io_colorWhite);\n        background-color: var(--io_bgColorRed);\n        border-color: var(--io_colorRed);\n      }\n      :host.green {\n        color: var(--io_colorWhite);\n        background-color: var(--io_bgColorGreen);\n        border-color: var(--io_colorGreen);\n      }\n\n      :host.blue,\n      :host[selected] {\n        color: var(--io_colorWhite);\n        background-color: var(--io_bgColorBlue);\n        border-color: var(--io_colorBlue);\n      }\n      :host:focus {\n        text-overflow: inherit;\n      }\n      :host[placeholder]:empty:before {\n        content: attr(placeholder);\n        visibility: visible;\n        color: var(--io_colorField);\n        padding: 0 calc(var(--io_spacing) + var(--io_borderWidth));\n        opacity: 0.5;\n      }\n      :host[appearance=inset] io-icon {\n        margin-top: -0.05em;\n        margin-bottom: 0.05em;\n      }\n    "}static get Listeners(){return{"focus-to":"_onFocusTo",focus:"_onFocus",pointerdown:"_onPointerdown",click:"_onClick"}}_onFocus(e){this.addEventListener("blur",this._onBlur),this.addEventListener("keydown",this._onKeydown),this.addEventListener("keyup",this._onKeyup)}_onBlur(e){this.removeEventListener("blur",this._onBlur),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("keyup",this._onKeyup)}_onPointerdown(e){this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerleave",this._onPointerleave),this.addEventListener("pointerup",this._onPointerup)}_onPointermove(e){}_onPointerleave(e){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerleave",this._onPointerleave),this.removeEventListener("pointerup",this._onPointerup)}_onPointerup(e){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerleave",this._onPointerleave),this.removeEventListener("pointerup",this._onPointerup),this.focus()}_onClick(){this.dispatchEvent("io-field-clicked",{value:this.value},!0)}_onKeydown(e){"Enter"===e.key||" "===e.key?(e.preventDefault(),this._onClick()):"ArrowLeft"===e.key?(e.preventDefault(),this.focusTo("left")):"ArrowUp"===e.key?(e.preventDefault(),this.focusTo("up")):"ArrowRight"===e.key?(e.preventDefault(),this.focusTo("right")):"ArrowDown"===e.key&&(e.preventDefault(),this.focusTo("down"))}_onKeyup(e){}_onFocusTo(e){const t=e.composedPath()[0],o=e.detail.dir,i=e.detail.rect;if(i.center={x:i.x+i.width/2,y:i.y+i.height/2},t!==this){let n=t,r=Infinity,s=Infinity;const a=this.querySelectorAll('[tabindex="0"]:not([disabled])');for(let e=a.length;e--;){if(!a[e].offsetParent)continue;if("visible"!==window.getComputedStyle(a[e]).visibility)continue;const t=a[e].getBoundingClientRect();switch(t.center={x:t.x+t.width/2,y:t.y+t.height/2},o){case"right":if(t.left>=i.right-1){const o=Math.abs(t.left-i.right),l=Math.abs(t.center.y-i.center.y);o<r||l<s/3?(n=a[e],r=o,s=l):o===r&&l<s&&(n=a[e],s=l)}break;case"left":if(t.right<=i.left+1){const o=Math.abs(t.right-i.left),l=Math.abs(t.center.y-i.center.y);o<r||l<s/3?(n=a[e],r=o,s=l):o===r&&l<s&&(n=a[e],s=l)}break;case"down":if(t.top>=i.bottom-1){const o=Math.abs(t.center.x-i.center.x),l=Math.abs(t.top-i.bottom);l<s||o<r/3?(n=a[e],r=o,s=l):l===s&&o<r&&(n=a[e],r=o)}break;case"up":if(t.bottom<=i.top+1){const o=Math.abs(t.center.x-i.center.x),l=Math.abs(t.bottom-i.top);l<s||o<r/3?(n=a[e],r=o,s=l):l===s&&o<r&&(n=a[e],r=o)}}}n!==t&&(n.focus(),e.stopPropagation())}}focusTo(e){const t=this.getBoundingClientRect();this.dispatchEvent("focus-to",{dir:e,rect:t},!0)}getCaretPosition(){let e=0;const t=window.getSelection();if(t&&t.rangeCount){const o=t.getRangeAt(0),i=o.toString().length,n=o.cloneRange();n.selectNodeContents(this),n.setEnd(o.endContainer,o.endOffset),e=n.toString().length-i}return e}setCaretPosition(e){if(!e)return;const t=window.getSelection();if(t){const o=document.createRange();o.setStart(this.firstChild,e),o.collapse(!0),t.removeAllRanges(),t.addRange(o)}}changed(){let e="";this.label?e=this.label:this.value&&"object"==typeof this.value?e=`${this.value.constructor.name}`+(this.value instanceof Array?`(${this.value.length})`:""):void 0!==this.value&&(e=String(this.value)),this.template([this.icon?["io-icon",{icon:this.icon,stroke:this.stroke}]:null,["io-label",{label:e}]])}};__decorate$4([Property("0")],Gt.prototype,"tabindex",void 0),__decorate$4([Property(void 0)],Gt.prototype,"value",void 0),__decorate$4([Property({value:"",reflect:!0})],Gt.prototype,"icon",void 0),__decorate$4([Property({value:"flush",reflect:!0})],Gt.prototype,"appearance",void 0),__decorate$4([Property({value:!1,type:Boolean,reflect:!0})],Gt.prototype,"stroke",void 0),__decorate$4([Property({value:!1,type:Boolean,reflect:!0})],Gt.prototype,"selected",void 0),__decorate$4([Property({value:!1,type:Boolean,reflect:!0})],Gt.prototype,"invalid",void 0),__decorate$4([Property({value:"",type:String,reflect:!0})],Gt.prototype,"placeholder",void 0),Gt=__decorate$4([Register],Gt);const Yt=Gt._vDOMFactory,Qt={saturate:"\n  #ifndef saturate\n    #define saturate(v) clamp(v, 0., 1.)\n  #endif\n",translate:"\n  vec2 translate(vec2 samplePosition, vec2 xy){\n    return samplePosition - vec2(xy.x, xy.y);\n  }\n  vec2 translate(vec2 samplePosition, float x, float y){\n    return samplePosition - vec2(x, y);\n  }\n",circle:"\n  float circle(vec2 samplePosition, float radius){\n    return saturate((length(samplePosition) - radius) * uPxRatio);\n  }\n",rectangle:"\n  float rectangle(vec2 samplePosition, vec2 halfSize){\n    vec2 edgeDistance = abs(samplePosition) - halfSize;\n    float outside = length(max(edgeDistance, 0.));\n    float inside = min(max(edgeDistance.x, edgeDistance.y), 0.);\n    return 1.0 - saturate((outside + inside) * 1000000.0);\n  }\n",paintDerivativeGrid2D:"\n  float paintDerivativeGrid2D(vec2 samplePosition, vec2 gridWidth, float lineWidth) {\n    vec2 sp = samplePosition / gridWidth;\n    float fractx = abs(fract(sp.x - 0.5) - 0.5) * 2.0;\n    float fracty = abs(fract(sp.y - 0.5) - 0.5) * 2.0;\n\n    float sx = ((sp.x - 0.5) - 0.5) * 2.0;\n    float sy = ((sp.y - 0.5) - 0.5) * 2.0;\n    \n    float absx = abs(max(dFdx(sx), dFdy(sx)));\n    float absy = abs(max(dFdy(sy), dFdx(sy)));\n\n    float fadeX = 1.0 - dFdx(sx);\n    float fadeY = 1.0 - dFdy(sx);\n    if (fadeX <= 0.0 || fadeY <= 0.0) return 1.0;\n\n    float linex = fractx / absx - (0.5 * max(uPxRatio, 2.0) * lineWidth - 1.0) - 0.5;\n    float liney = fracty / absy - (0.5 * max(uPxRatio, 2.0) * lineWidth - 1.0) - 0.5;\n\n    return (1.0 - saturate(min(linex, liney)));\n  }\n",lineVertical:"\n  float lineVertical(vec2 samplePosition, float lineWidth) {\n    return (abs(samplePosition.x) * 2.0 > lineWidth) ? 0.0 : 1.0;\n  }\n",lineHorizontal:"\n  float lineHorizontal(vec2 samplePosition, float lineWidth) {\n    return (abs(samplePosition.y) * 2.0 > lineWidth) ? 0.0 : 1.0;\n  }\n",lineCross2d:"\n  float lineCross2d(vec2 samplePosition, float lineWidth) {\n    return (min(abs(samplePosition.x), abs(samplePosition.y)) * 2.0 > lineWidth) ? 0.0 : 1.0;\n  }\n",checker:"\n  float checker(vec2 samplePosition, float size) {\n    vec2 checkerPos = floor(samplePosition / size);\n    float checkerMask = mod(checkerPos.x + mod(checkerPos.y, 2.0), 2.0);\n    return checkerMask;\n  }\n",checkerX:"\n  float checkerX(vec2 samplePosition, float size) {\n    vec2 checkerPos = floor(samplePosition / size);\n    float checkerMask = mod(checkerPos.x, 2.0);\n    return checkerMask;\n  }\n",checkerY:"\n  float checkerY(vec2 samplePosition, float size) {\n    vec2 checkerPos = floor(samplePosition / size);\n    float checkerMask = mod(checkerPos.y, 2.0);\n    return checkerMask;\n  }\n",compose:"\n  vec3 compose(vec3 dst, vec4 src) {\n    return mix(dst, src.rgb, src.a);\n  }\n",paintHorizontalLine:"\n  vec3 paintHorizontalLine(vec3 dstCol, vec2 p, vec3 color) {\n    float lineShape = lineHorizontal(p, io_borderWidth);\n    return compose(dstCol, vec4(color, lineShape));\n  }\n",hue2rgb:"\n  vec3 hue2rgb(float hue) {\n    hue = fract(hue);\n    float R = abs(hue * 6. - 3.) - 1.;\n    float G = 2. - abs(hue * 6. - 2.);\n    float B = 2. - abs(hue * 6. - 4.);\n    return saturate(vec3(R,G,B));\n  }\n",hsv2rgb:"\n  vec3 hsv2rgb(vec3 hsv) {\n    vec3 rgb = hue2rgb(hsv.r);\n    return ((rgb - 1.) * hsv.g + 1.) * hsv.b;\n  }\n",hsl2rgb:"\n  vec3 hsl2rgb(vec3 hsl) {\n    vec3 rgb = hue2rgb(hsl.x);\n    float C = (1. - abs(2. * hsl.z - 1.)) * hsl.y;\n    return (rgb - 0.5) * C + hsl.z;\n  }\n"};var __decorate$3=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};const qt=document.createElement("canvas"),Kt=qt.getContext("webgl",{antialias:!1,premultipliedAlpha:!1});Kt.getExtension("OES_standard_derivatives"),Kt.enable(Kt.BLEND),Kt.blendFunc(Kt.SRC_ALPHA,Kt.ONE_MINUS_SRC_ALPHA),Kt.disable(Kt.DEPTH_TEST);const Xt=Kt.createBuffer();Kt.bindBuffer(Kt.ARRAY_BUFFER,Xt),Kt.bufferData(Kt.ARRAY_BUFFER,new Float32Array([-1,1,0,-1,-1,0,1,-1,0,1,1,0]),Kt.STATIC_DRAW),Kt.bindBuffer(Kt.ARRAY_BUFFER,null);const Zt=Kt.createBuffer();Kt.bindBuffer(Kt.ARRAY_BUFFER,Zt),Kt.bufferData(Kt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Kt.STATIC_DRAW),Kt.bindBuffer(Kt.ARRAY_BUFFER,null);const eo=Kt.createBuffer();Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,eo),Kt.bufferData(Kt.ELEMENT_ARRAY_BUFFER,new Uint16Array([3,2,1,3,1,0]),Kt.STATIC_DRAW),Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,null),Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,eo);const to=new WeakMap;let oo,io=class IoGl extends v{static get Style(){return"\n      :host {\n        position: relative;\n        overflow: hidden !important;\n        user-select: none;\n      }\n      :host > canvas {\n        position: absolute;\n        pointer-events: none;\n        image-rendering: pixelated;\n      }\n    "}#e=!1;#t;#o;#i;#n;static get Vert(){return"\n      attribute vec3 position;\n      attribute vec2 uv;\n      varying vec2 vUv;\n\n      void main(void) {\n        vUv = uv;\n        gl_Position = vec4(position, 1.0);\n      }\n\n"}static get GlUtils(){return`\n      ${Qt.saturate}\n      ${Qt.translate}\n      ${Qt.circle}\n      ${Qt.rectangle}\n      ${Qt.paintDerivativeGrid2D}\n      ${Qt.lineVertical}\n      ${Qt.lineHorizontal}\n      ${Qt.lineCross2d}\n      ${Qt.checker}\n      ${Qt.checkerX}\n      ${Qt.checkerY}\n      ${Qt.compose}\n      ${Qt.paintHorizontalLine}\n    `}static get Frag(){return"\n      void main(void) {\n        gl_FragColor = uColor;\n      }\n\n"}initPropertyUniform(e,t){switch(t.value.constructor){case Boolean:return"uniform int "+e+";\n";case Number:return"uniform float "+e+";\n";case Array:return this.#i[e]=t.value.length,"uniform vec"+t.value.length+" "+e+";\n";case Color:return this.#i[e]=4,"uniform vec4 "+e+";\n"}return""}initShader(){let e="\n    #extension GL_OES_standard_derivatives : enable\n    precision highp float;\n";this.theme._properties.forEach(((t,o)=>{e+=this.initPropertyUniform("io_"+o,t)})),e+="\n",this._properties.forEach(((t,o)=>{const i="u"+o.charAt(0).toUpperCase()+o.slice(1);e+=this.initPropertyUniform(i,t)})),e+=this.constructor.prototype._glUtils;const t=Kt.createShader(Kt.VERTEX_SHADER);if(Kt.shaderSource(t,this.constructor.Vert),Kt.compileShader(t),!Kt.getShaderParameter(t,Kt.COMPILE_STATUS)){const e=Kt.getShaderInfoLog(t);console.error("IoGl [Vertex Shader] "+this.localName+" error:"),console.warn(e)}const o=Kt.createShader(Kt.FRAGMENT_SHADER);if(Kt.shaderSource(o,e+this.constructor.Frag),Kt.compileShader(o),!Kt.getShaderParameter(o,Kt.COMPILE_STATUS)){const e=Kt.getShaderInfoLog(o);console.error("IoGl [Frament Shader] "+this.localName+" error:"),console.warn(e)}const i=Kt.createProgram();return Kt.attachShader(i,t),Kt.attachShader(i,o),i}constructor(e={}){super(e),this.#t=document.createElement("canvas"),this.appendChild(this.#t),this.#o=this.#t.getContext("2d",{alpha:!0}),this.#i={},this.theme._properties.forEach(((e,t)=>{e.type===Color&&(this.#i["io_"+t]=4)})),this._properties.forEach(((e,t)=>{const o="u"+t.charAt(0).toUpperCase()+t.slice(1);e.type===Array&&(this.#i[o]=e.value.length)})),to.has(this.constructor)?this.#n=to.get(this.constructor):(this.#n=this.initShader(),to.set(this.constructor,this.#n)),Kt.linkProgram(this.#n);const t=Kt.getAttribLocation(this.#n,"position");Kt.bindBuffer(Kt.ARRAY_BUFFER,Xt),Kt.vertexAttribPointer(t,3,Kt.FLOAT,!1,0,0),Kt.enableVertexAttribArray(t);const o=Kt.getAttribLocation(this.#n,"uv");Kt.bindBuffer(Kt.ARRAY_BUFFER,Zt),Kt.vertexAttribPointer(o,2,Kt.FLOAT,!1,0,0),Kt.enableVertexAttribArray(o),this.updateThemeUniforms()}onResized(){const e=window.devicePixelRatio,t=this.getBoundingClientRect(),o=window.getComputedStyle(this),i=parseInt(o.borderRightWidth)+parseInt(o.borderLeftWidth),n=parseInt(o.borderTopWidth)+parseInt(o.borderBottomWidth),r=Math.max(0,Math.floor(t.width-i)),s=Math.max(0,Math.floor(t.height-n));(r!==this.size[0]||s!==this.size[1]||e!==this.pxRatio)&&(this.#t.style.width=Math.floor(r)+"px",this.#t.style.height=Math.floor(s)+"px",this.#e=!0,this.setProperties({size:[r,s],pxRatio:e}))}get ctx(){return this.#o}themeMutated(){this.updateThemeUniforms(),this.throttle(this._onRender)}changed(){this.throttle(this._onRender)}_onRender(){const e=Math.floor(this.size[0]*this.pxRatio),t=Math.floor(this.size[1]*this.pxRatio);e&&t&&(this.setShaderProgram(),this._properties.forEach(((e,t)=>{const o="u"+t.charAt(0).toUpperCase()+t.slice(1);this.updatePropertyUniform(o,e)})),this.#e&&(this.#t.width=e,this.#t.height=t,this.#e=!1),qt.width=e,qt.height=t,Kt.viewport(0,0,e,t),this.transparent&&(Kt.clearColor(0,0,0,0),Kt.clear(Kt.COLOR_BUFFER_BIT),this.#o.clearRect(0,0,e,t)),Kt.drawElements(Kt.TRIANGLES,6,Kt.UNSIGNED_SHORT,0),this.#o.drawImage(qt,0,0))}setShaderProgram(){oo!==this.#n&&(oo=this.#n,Kt.useProgram(this.#n))}updatePropertyUniform(e,t){this.setShaderProgram(),this.setUniform(e,t.value)}updateThemeUniforms(){this.theme._properties.forEach(((e,t)=>{this.updatePropertyUniform("io_"+t,e)}))}setUniform(e,t){const o=Kt.getUniformLocation(this.#n,e);if(null===o)return;let i,n=typeof t;switch(t instanceof Array&&(n="array"),n){case"boolean":Kt.uniform1i(o,t?1:0);break;case"number":Kt.uniform1f(o,t??1);break;case"object":case"array":switch(i=[0,1,2,3],"object"==typeof t&&(void 0!==t.x?i=["x","y","z","w"]:void 0!==t.r?i=["r","g","b","a"]:void 0!==t.h?i=["h","s","v","a"]:void 0!==t.c&&(i=["c","m","y","k"])),this.#i[e]){case 2:if(void 0===t){Kt.uniform2f(o,0,0);break}Kt.uniform2f(o,t[i[0]]??1,t[i[1]]??1);break;case 3:if(void 0===t){Kt.uniform3f(o,0,0,0);break}Kt.uniform3f(o,t[i[0]]??1,t[i[1]]??1,t[i[2]]??1);break;case 4:if(void 0===t){Kt.uniform4f(o,0,0,0,0);break}Kt.uniform4f(o,t[i[0]]??1,t[i[1]]??1,t[i[2]]??1,t[i[3]]??1)}}}Register(e){super.Register(e);let t="";const o=e.prototype._protochain.constructors;for(let e=o.length;e--;){const i=o[e],n=Object.getOwnPropertyDescriptor(i,"GlUtils");n&&n.get&&(t+=i.GlUtils)}Object.defineProperty(e.prototype,"_glUtils",{enumerable:!1,value:t})}};__decorate$3([Property({type:o,value:Jt})],io.prototype,"theme",void 0),__decorate$3([Property({type:Array,init:[0,0]})],io.prototype,"size",void 0),__decorate$3([Property({type:Array,init:[1,1,1,1]})],io.prototype,"color",void 0),__decorate$3([Property({type:Boolean,value:!1})],io.prototype,"transparent",void 0),__decorate$3([Property({type:Number,value:1})],io.prototype,"pxRatio",void 0),__decorate$3([Property("debounced")],io.prototype,"reactivity",void 0),io=__decorate$3([Register],io);const no=io._vDOMFactory;var __decorate$2=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};let ro=class IoIcon extends v{static get Style(){return"\n      --ioIcon: {\n        display: inline-block;\n        width: var(--io_lineHeight);\n        height: var(--io_lineHeight);\n        min-width: var(--io_lineHeight);\n        line-height: var(--io_lineHeight);\n        font-size: var(--io_fontSize);\n        text-align: center;\n        fill: var(--io_color);\n      }\n      :host {\n        @apply --ioIcon;\n      }\n      :host:not([icon]) {\n        display: none;\n      }\n      :host[stroke] {\n        stroke: var(--io_colorStrong);\n        stroke-width: var(--io_borderWidth);\n      }\n      :host > svg {\n        height: 100%;\n      }\n      :host > svg > g {\n        transform-origin: 0px 0px;\n      }\n    "}iconChanged(){-1!==this.icon.search(":")?this.innerHTML=At.getIcon(this.icon):this.textNode=this.icon}};__decorate$2([Property({value:"",type:String,reflect:!0})],ro.prototype,"icon",void 0),__decorate$2([Property({value:!1,type:Boolean,reflect:!0})],ro.prototype,"stroke",void 0),ro=__decorate$2([Register],ro);const so=ro._vDOMFactory;var __decorate$1=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};let ao=class IoLabel extends v{static get Style(){return"\n      --ioLabel: {\n        display: inline-block;\n        height: var(--io_lineHeight);\n        line-height: var(--io_lineHeight);\n        font-size: var(--io_fontSize);\n        padding: 0 var(--io_spacing);\n      }\n      :host {\n        @apply --ioLabel;\n      }\n      :host:not([label]) {\n        display: none;\n      }\n    "}labelChanged(){super.labelChanged(),this.textNode=this.label}};ao=__decorate$1([Register],ao);const lo=ao._vDOMFactory;var __decorate=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};let ho=null;window.addEventListener("focusin",(()=>{ho=document.activeElement}),{capture:!1}),window.addEventListener("blur",(()=>{setTimeout((()=>{document.activeElement===document.body&&(ho=null)}))}),{capture:!0});let co=class IoOverlay extends v{static get Style(){return"\n      :host {\n        display: block;\n        position: fixed;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        z-index: 100000;\n        user-select: none;\n        overflow: hidden;\n        pointer-events: none;\n        touch-action: none;\n        background: transparent;\n      }\n      :host[expanded] {\n        pointer-events: all;\n      }\n      :host > * {\n        position: absolute !important;\n        touch-action: none;\n        box-shadow: var(--io_shadow);\n      }\n    "}static get Listeners(){return{pointerdown:["stopPropagation",{passive:!1}],pointermove:["stopPropagation",{passive:!1}],pointerup:"_onPointerup",contextmenu:"_onContextmenu",focusin:"_onFocusIn",scroll:"_onScroll",wheel:["_onScroll",{passive:!1}],mousedown:["stopPropagation",{passive:!1}],mousemove:["stopPropagation",{passive:!1}],mouseup:["stopPropagation",{passive:!1}],touchstart:["stopPropagation",{passive:!1}],touchmove:["stopPropagation",{passive:!1}],touchend:["stopPropagation",{passive:!1}],keydown:["stopPropagation",{passive:!1}],keyup:["stopPropagation",{passive:!1}]}}constructor(e={}){super(e),Object.defineProperty(this,"x",{value:0,writable:!0}),Object.defineProperty(this,"y",{value:0,writable:!0})}stopPropagation(e){e.stopPropagation()}onResized(){this.expanded=!1}_onPointerup(e){e.composedPath()[0]===this&&this.throttle(this._onCollapse)}_onCollapse(){this.expanded=!1}_onContextmenu(e){e.preventDefault()}_onFocusIn(e){e.stopPropagation()}_onScroll(e){e.composedPath()[0]===this&&this.throttle(this._onCollapse)}nudgeDown(e,t,o,i,n){t=Math.max(0,Math.min(t,window.innerWidth-i.width));const r=o+i.height<window.innerHeight;return!(!r&&!n)&&(r||(o=window.innerHeight-i.height),e.style.left=t+"px",e.style.top=o+"px",!0)}nudgeUp(e,t,o,i,n){t=Math.max(0,Math.min(t,window.innerWidth-i.width));const r=o-i.height>0;return!(!r&&!n)&&(r||(o=0),e.style.left=t+"px",e.style.top=o-i.height+"px",!0)}nudgeRight(e,t,o,i,n){const r=t+i.width<window.innerWidth;return!(!r&&!n)&&(r||(t=window.innerWidth-i.width),e.style.left=t+"px",e.style.top=Math.min(o,window.innerHeight-i.height)+"px",!0)}nudgeLeft(e,t,o,i,n){const r=t-i.width>0;return!(!r&&!n)&&(r||(t=0),e.style.left=t-i.width+"px",e.style.top=Math.min(o,window.innerHeight-i.height)+"px",!0)}nudgePointer(e,t,o,i){return e.style.left=Math.max(0,Math.min(t,window.innerWidth-i.width))+"px",e.style.top=Math.max(0,Math.min(o,window.innerHeight-i.height))+"px",!0}setElementPosition(e,t,o){const i=e.getBoundingClientRect(),n=o.left,r=o.top,s=o.right,a=o.bottom,l=window.innerHeight-a,h=window.innerWidth-s;switch(t){case"pointer":this.nudgePointer(e,this.x+5,this.y+5,i);break;case"up":this.nudgeUp(e,n,r,i)||this.nudgeDown(e,n,a,i)||this.nudgeUp(e,n,r,i,r>l)||this.nudgeDown(e,n,a,i,r<=l);break;case"left":this.nudgeLeft(e,n,r,i)||this.nudgeRight(e,s,r,i)||this.nudgeLeft(e,n,r,i,n>h)||this.nudgeRight(e,s,r,i,n<=h);break;case"down":this.nudgeDown(e,n,a,i)||this.nudgeUp(e,n,r,i)||this.nudgeDown(e,n,a,i,l>r)||this.nudgeUp(e,n,r,i,l<=r);break;default:this.nudgeRight(e,s,r,i)||this.nudgeLeft(e,n,r,i)||this.nudgeRight(e,s,r,i,h>n)||this.nudgeLeft(e,n,r,i,h<=n)}}appendChild(e){super.appendChild(e),e.addEventListener("expanded-changed",this.onChildExpanded),this.onChildExpanded()}removeChild(e){super.removeChild(e),e.removeEventListener("expanded-changed",this.onChildExpanded),this.onChildExpanded()}onChildExpanded(){this.throttle(this.onChildExpandedDelayed)}onChildExpandedDelayed(){for(let e=this.children.length;e--;)if(this.children[e].expanded)return void(this.expanded=!0);this.throttle(this._onCollapse)}expandedChanged(){if(!this.expanded){for(let e=this.children.length;e--;)this.children[e].expanded=!1;ho&&ho.focus()}}};__decorate([Property({value:!1,type:Boolean,reflect:!0})],co.prototype,"expanded",void 0),co=__decorate([Register],co);const po=new co;document.body.appendChild(po);
/** @License
 * Copyright ©2025 Aleksandar (Aki) Rodic
 *
 * The MIT License
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
const uo="MIT";export{Autobind,Binding,ChangeQueue,Color,Wt as DARK_THEME,EventDispatcher,v as IoElement,Gt as IoField,io as IoGl,ro as IoIcon,It as IoIconsetDB,At as IoIconsetSingleton,ao as IoLabel,o as IoNode,IoNodeMixin,po as IoOverlaySingleton,Dt as IoStorage,Ht as IoStorageNode,Vt as IoTheme,Jt as IoThemeSingleton,uo as LICENSE,zt as LIGHT_THEME,Property,PropertyInstance,ProtoChain,ProtoProperty,Register,m as a,_ as abbr,w as acronym,P as address,C as applet,applyNativeElementProps,x as area,E as article,S as aside,L as audio,O as b,R as base,k as basefont,I as bdi,j as bdo,A as big,N as blockquote,M as body,T as br,buildTree,H as button,D as canvas,F as caption,B as center,z as cite,W as code,U as col,$ as colgroup,V as data,J as datalist,G as dd,Y as del,Q as details,q as dfn,K as dialog,X as dir,disposeElementDeep,Z as div,ee as dl,te as dt,oe as em,ie as embed,ne as fieldset,re as figcaption,se as figure,ae as font,le as footer,he as form,ce as frame,de as frameset,genObjectStorageID,Qt as glsl,fe as h1,hardenListenerDefinition,pe as head,ue as header,ge as hgroup,ve as hr,be as html,ye as i,me as iframe,_e as img,we as input,Pe as ins,b as ioElement,Yt as ioField,no as ioGl,so as ioIcon,lo as ioLabel,Ce as kbd,xe as keygen,Ee as label,Se as legend,Le as li,Oe as link,listenerFromDefinition,Re as main,ke as map,Ie as mark,je as menu,Ae as menuitem,Ne as meta,Me as meter,Te as nav,nextQueue,He as noframes,De as noscript,Fe as object,Be as ol,ze as optgroup,We as option,Ue as output,$e as p,Ve as param,Je as picture,Ge as pre,Ye as progress,e as propertyDecorators,Qe as q,qe as rp,Ke as rt,Xe as ruby,Ze as s,et as samp,tt as script,ot as section,it as select,nt as small,rt as source,st as span,at as strike,lt as strong,ht as style,ct as sub,dt as summary,pt as sup,ut as svg,gt as table,ft as tbody,vt as td,bt as template,yt as textarea,mt as tfoot,_t as th,wt as thead,Pt as time,Ct as title,xt as tr,Et as track,St as tt,Lt as u,Ot as ul,Rt as video,kt as wbr};
