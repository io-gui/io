import{Register as e,IoElement as o,ThemeSingleton as t,Theme as i,Storage as r,div as n,pre as a,code as l}from"io-gui";import{ioInspector as s}from"io-editors";import{ioBoolean as d,ioButton as c,ioNumber as p,ioString as m,ioSwitch as h,ioField as g}from"io-inputs";import{ioNumberSlider as u,ioNumberSliderRange as v,ioSlider as b,ioSlider2d as f,ioSliderRange as w}from"io-sliders";import{ioIcon as y}from"io-icons";import{MenuOption as _,ioOptionSelect as I}from"io-menus";import{ioColorRgba as x,ioColorSlider as C,ioColorSwatch as E,ioColorPicker as S}from"io-colors";function lerp(e,o,t){return e+(o-e)*t}class IoStyleContainer extends o{static get Style(){return"\n      :host {\n        display: contents;\n        font-family: monospace;\n      }\n      :host io-field {\n        color: var(--io_colorStrong) !important;\n      }\n      :host io-property-link > span {\n        color: var(--io_colorGreen) !important;\n      }\n      :host io-string[appearance=inset] {\n        color: var(--io_colorRed) !important;\n        padding-left: var(--io_fieldHeight) !important;\n        padding-right: var(--io_fieldHeight) !important;\n        border-radius: var(--io_fieldHeight) 0 var(--io_fieldHeight) 0;\n        background: var(--white-noise-bg) !important;\n      }\n      :host io-number[appearance=inset] {\n        color: var(--io_colorBlue) !important;\n        padding-left: var(--io_fieldHeight) !important;\n        padding-right: var(--io_fieldHeight) !important;\n        transform: skew(-15deg);\n        margin-left: var(--io_spacing2);\n        margin-right: var(--io_spacing2);\n        background: var(--white-noise-bg) !important;\n      }\n    "}static get ReactiveProperties(){return{theme:{type:i,value:t}}}constructor(){super(),this.generateWhiteNoise()}themeMutated(){this.generateWhiteNoise()}generateWhiteNoise(){const e=document.createElement("canvas"),o=e.getContext("2d");e.width=128,e.height=128;const i=o.createImageData(e.width,e.height),r=i.data,n=t.bgColor,a=t.bgColorStrong;for(let e=0;e<r.length;e+=4){const o=Math.random();r[e]=255*lerp(n.r,a.r,o),r[e+1]=255*lerp(n.g,a.g,o),r[e+2]=255*lerp(n.b,a.b,o),r[e+3]=255}o.putImageData(i,0,0);const l=e.toDataURL();document.documentElement.style.setProperty("--white-noise-bg",`url(${l})`)}}e(IoStyleContainer);const k=IoStyleContainer.vConstructor,D=new _({options:[{id:"native",options:[{id:"div",value:n("div content")}]},{id:"io-icons",options:[{id:"io-icon:check",value:y({value:"io:check"})},{id:"io-icon:close",value:y({value:"io:close"})},{id:"io-icon:circle",value:y({value:"io:circle"})}]},{id:"io-inputs",options:[{id:"io-boolean",value:d()},{id:"io-button",value:c({label:"Button"})},{id:"io-number",value:p()},{id:"io-string",value:m()},{id:"io-switch",value:h()}]},{id:"io-sliders",options:[{id:"io-number-slider",value:u()},{id:"io-number-slider-range",value:v()},{id:"io-slider",value:b()},{id:"io-slider-2d",value:f()},{id:"io-slider-range",value:w()}]},{id:"io-colors",options:[{id:"io-color-rgba",value:x()},{id:"io-color-slider:r",value:C({channel:"r"})},{id:"io-color-slider:g",value:C({channel:"g"})},{id:"io-color-slider:b",value:C({channel:"b"})},{id:"io-color-slider:sv",value:C({channel:"sv"})},{id:"io-color-swatch",value:E()},{id:"io-color-picker",value:S()}]}],selectedID:r({key:"element-demo",storage:"local",value:"io-slider"})});class IoElementInspectorDemo extends o{static get Style(){return"\n    :host {\n      display: flex;\n      flex: 0 1 auto;\n      min-width: 350px;\n      max-width: 500px;\n      flex-direction: column;\n      align-self: flex-start;\n      background-color: var(--io_bgColorStrong);\n      padding: var(--io_spacing3);\n    }\n    :host > io-option-select {\n      margin-bottom: var(--io_spacing2);\n    }\n    :host > .element-wrap {\n      border: var(--io_border);\n      border-color: var(--io_borderColorStrong);\n      background-color: var(--io_bgColorLight);\n      padding: var(--io_spacing3);\n    }\n    :host > pre > #element-html {\n      overflow-x: auto;\n      scrollbar-width: none;\n      font-size: 0.65em !important;\n    }\n    :host > io-property-editor {\n      border: var(--io_border);\n      border-color: var(--io_borderColorStrong);\n      background-color: var(--io_bgColorLight);\n      border-top: none;\n      padding: 0 var(--io_spacing2);\n    }\n    :host io-property-editor > div.row {\n      border-bottom: var(--io_border);\n      padding: var(--io_spacing2) 0;\n    }\n    :host io-property-editor > div.row:last-child {\n      border-bottom: none;\n    }\n    :host io-property-editor > div.row > span {\n      width: 130px;\n      text-align: right;\n    }\n    :host io-property-editor > div.row > io-number {\n      min-width: 60px;\n    }\n    :host io-property-editor > div.row > io-string {\n      min-width: 120px;\n    }\n    :host code {\n      color: var(--io_color);\n    }\n    "}static get ReactiveProperties(){return{selected:D.bind("selectedID")}}ready(){this.selectedChanged()}onElementMutated(){this.selectedChanged()}selectedChanged(){const e=this.querySelector(".element-wrap")?.children[0];if(e&&e.removeEventListener("io-object-mutation",this.onElementMutated),this.selected){const e=D.findItemById(this.selected).value;this.render([I({value:this.bind("selected"),option:D,selectBy:"id"}),n({class:"element-wrap"},[e]),a([l({id:"element-html",style:{display:"block",whiteSpace:"pre-wrap"}})]),k([s({id:"inspector"})])]);const o=this.querySelector(".element-wrap").children[0];o.addEventListener("io-object-mutation",this.onElementMutated);const t=this.$.inspector;t.value!==o&&(t.value=o);this.$["element-html"].innerHTML=function formatHtml(e,o=2){const t=" ".repeat(o);let i="",r=0;const n=e.replace(/>\s+</g,"><");return n.split(/(<[^>]*>)/).forEach((e=>{e.trim()&&(e.startsWith("</")?(r--,i+=t.repeat(r)+e+"\n"):e.startsWith("<")&&!e.endsWith("/>")?(i+=t.repeat(r)+e+"\n",r++):e.startsWith("<")&&e.endsWith("/>")?i+=t.repeat(r)+e+"\n":i+=t.repeat(r)+e.trim()+"\n")})),i.trim().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}(o.outerHTML)}else this.render([g({value:"Element property not set."})])}}e(IoElementInspectorDemo);const H=IoElementInspectorDemo.vConstructor;export{IoElementInspectorDemo,H as ioElementInspectorDemo};
