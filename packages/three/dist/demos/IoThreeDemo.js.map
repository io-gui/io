{"version":3,"file":"IoThreeDemo.js","sourceRoot":"","sources":["../../src/demos/IoThreeDemo.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,IAAI,CAAC,EAAE,GAAG,EAAE,gBAAgB,EAAE,MAAM,cAAc,CAAA;AACvF,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,gBAAgB,CAAA;AAChD,OAAO,EAAE,UAAU,EAAE,cAAc,EAAE,MAAM,eAAe,CAAA;AAC1D,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,MAAM,eAAe,CAAA;AAC5D,OAAO,EAAE,OAAO,EAAE,MAAM,gBAAgB,CAAA;AAExC,OAAO,EAAE,qBAAqB,EAAE,MAAM,gCAAgC,CAAA;AACtE,OAAO,EAAE,mBAAmB,EAAE,MAAM,8BAA8B,CAAA;AAClE,OAAO,EAAE,aAAa,EAAE,MAAM,uBAAuB,CAAA;AACrD,OAAO,EAAE,sBAAsB,EAAE,MAAM,iCAAiC,CAAA;AACxE,OAAO,EAAE,yBAAyB,EAAE,MAAM,oCAAoC,CAAA;AAC9E,OAAO,EAAE,kBAAkB,EAAE,MAAM,6BAA6B,CAAA;AAChE,OAAO,EAAE,mCAAmC,EAAE,MAAM,8CAA8C,CAAA;AAClG,OAAO,EAAE,iBAAiB,EAAE,MAAM,2BAA2B,CAAA;AAC7D,OAAO,EAAE,qBAAqB,EAAE,MAAM,gCAAgC,CAAA;AACtE,OAAO,EAAE,qBAAqB,EAAE,MAAM,gCAAgC,CAAA;AACtE,OAAO,EAAE,2BAA2B,EAAE,MAAM,sCAAsC,CAAA;AAClF,OAAO,EAAE,sCAAsC,EAAE,MAAM,kDAAkD,CAAA;AACzG,OAAO,EAAE,wBAAwB,EAAE,MAAM,mCAAmC,CAAA;AAC5E,OAAO,EAAE,gCAAgC,EAAE,MAAM,4CAA4C,CAAA;AAC7F,OAAO,EAAE,yBAAyB,EAAE,MAAM,8BAA8B,CAAA;AACxE,OAAO,EAAE,iBAAiB,EAAE,MAAM,kCAAkC,CAAA;AAEpE,MAAM,OAAO,GAAG,CAAC,CAAA;AAEjB,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC;IACtB,QAAQ,EAAE;QACR;YACE,WAAW,EAAE,YAAY;YACzB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,WAAW;oBACjB,IAAI,EAAE;wBACJ,EAAC,EAAE,EAAE,mBAAmB,EAAC;qBAC1B;iBACF;gBACD;oBACE,WAAW,EAAE,UAAU;oBACvB,QAAQ,EAAE;wBACR;4BACE,WAAW,EAAE,YAAY;4BACzB,QAAQ,EAAE;gCACR,EAAC,IAAI,EAAE;wCACL,EAAC,EAAE,EAAE,KAAK,EAAC;qCACZ,EAAC;gCACF,EAAC,IAAI,EAAE;wCACL,EAAC,EAAE,EAAE,OAAO,EAAC;qCACd,EAAC;6BACH;yBACF;wBACD;4BACE,WAAW,EAAE,YAAY;4BACzB,QAAQ,EAAE;gCACR,EAAC,IAAI,EAAE;wCACL,EAAC,EAAE,EAAE,MAAM,EAAC;qCACb,EAAC;gCACF,EAAC,IAAI,EAAE;wCACL,EAAC,EAAE,EAAE,aAAa,EAAC;wCACnB,EAAC,EAAE,EAAE,aAAa,EAAC;qCACpB,EAAC;6BACH;yBACF;qBACF;iBACF;gBACD;oBACE,IAAI,EAAE,WAAW;oBACjB,IAAI,EAAE;wBACJ,EAAC,EAAE,EAAE,mBAAmB,EAAC;qBAC1B;iBACF;aACF;SACF;KACF;CACF,CAAC,CAAA;AAEF,MAAM,cAAc,GAAG,IAAI,UAAU,CAAC;IACpC,OAAO,EAAE;QACP,EAAC,EAAE,EAAE,iBAAiB,EAAE,OAAO,EAAE;gBAC/B,EAAC,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,aAAa,EAAC;gBACpC,EAAC,EAAE,EAAE,8BAA8B,EAAE,KAAK,EAAE,mCAAmC,EAAC;gBAChF,EAAC,EAAE,EAAE,aAAa,EAAE,KAAK,EAAE,kBAAkB,EAAC;aAC/C,EAAC;QACF,EAAC,EAAE,EAAE,YAAY,EAAE,OAAO,EAAE;gBAC1B,EAAC,EAAE,EAAE,oBAAoB,EAAE,KAAK,EAAE,iBAAiB,EAAC;gBACpD,EAAC,EAAE,EAAE,gBAAgB,EAAE,KAAK,EAAE,qBAAqB,EAAC;gBACpD,EAAC,EAAE,EAAE,gBAAgB,EAAE,KAAK,EAAE,qBAAqB,EAAC;aACrD,EAAC;QACF,EAAC,EAAE,EAAE,YAAY,EAAE,OAAO,EAAE;gBAC1B,EAAC,EAAE,EAAE,iBAAiB,EAAE,KAAK,EAAE,sBAAsB,EAAC;gBACtD,EAAC,EAAE,EAAE,oBAAoB,EAAE,KAAK,EAAE,yBAAyB,EAAC;gBAC5D,EAAC,EAAE,EAAE,sBAAsB,EAAE,KAAK,EAAE,2BAA2B,EAAC;gBAChE,EAAC,EAAE,EAAE,iCAAiC,EAAE,KAAK,EAAE,sCAAsC,EAAC;gBACtF,EAAC,EAAE,EAAE,mBAAmB,EAAE,KAAK,EAAE,wBAAwB,EAAC;gBAC1D,EAAC,EAAE,EAAE,2BAA2B,EAAE,KAAK,EAAE,gCAAgC,EAAC;aAC3E,EAAC;QACF,EAAC,EAAE,EAAE,oBAAoB,EAAE,KAAK,EAAE,yBAAyB,EAAC;QAC5D,EAAC,EAAE,EAAE,gBAAgB,EAAE,KAAK,EAAE,qBAAqB,EAAC;QACpD,EAAC,EAAE,EAAE,cAAc,EAAE,KAAK,EAAE,mBAAmB,EAAC;KACjD;IACD,UAAU,EAAE,CAAC,CAAC,EAAC,GAAG,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,oBAAoB,EAAC,CAAC;CAC9E,CAAC,CAAA;AAEF,MAAM,oBAAoB,GAAG,IAAI,OAAO,EAAmC,CAAA;AAE3E,MAAM,OAAO,WAAY,SAAQ,SAAS;IACxC,MAAM,KAAK,KAAK;QACd,OAAO,SAAS,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KA+Bf,CAAA;IACH,CAAC;IAKD,4BAA4B;QAC1B,MAAM,cAAc,GAAG,cAAc,CAAC,YAAY,CAAC,cAAc,CAAC,UAAU,CAAC,CAAA;QAE7E,IAAI,CAAC,cAAc,EAAE,CAAC;YACpB,OAAO,CAAC,IAAI,CAAC,2BAA2B,EAAE,cAAc,CAAC,UAAU,CAAC,CAAA;YACpE,OAAM;QACR,CAAC;QAED,MAAM,mBAAmB,GAAG,cAAc,CAAC,KAAK,CAAA;QAChD,MAAM,kBAAkB,GAAG,oBAAoB,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAA;QAExE,IAAI,kBAAkB,EAAE,CAAC;YACvB,IAAI,CAAC,eAAe,GAAG,kBAAkB,CAAA;QAC3C,CAAC;aAAM,CAAC;YACN,MAAM,OAAO,GAAG,IAAI,mBAAmB,EAAE,CAAA;YACzC,oBAAoB,CAAC,GAAG,CAAC,mBAAmB,EAAE,OAAO,CAAC,CAAA;YACtD,IAAI,CAAC,eAAe,GAAG,OAAO,CAAA;QAChC,CAAC;IACH,CAAC;IAED,KAAK;QACH,cAAc,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,IAAI,CAAC,4BAA4B,CAAC,CAAA;QACrF,IAAI,CAAC,4BAA4B,EAAE,CAAA;QAEnC,IAAI,CAAC,MAAM,CAAC;YACV,QAAQ,CAAC;gBACP,QAAQ,EAAE;oBACR,eAAe,CAAC,EAAC,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,KAAK,EAAC,CAAC;oBACtG,eAAe,CAAC,EAAC,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,OAAO,EAAC,CAAC;oBAC1G,eAAe,CAAC,EAAC,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,MAAM,EAAC,CAAC;oBACxG,eAAe,CAAC,EAAC,EAAE,EAAE,aAAa,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,aAAa,EAAC,CAAC;oBACtH,eAAe,CAAC,EAAC,EAAE,EAAE,aAAa,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,OAAO,EAAC,CAAC;oBAEhH,GAAG,CAAC,EAAC,EAAE,EAAE,mBAAmB,EAAC,EAAE;wBAC7B,GAAG,CAAC,EAAC,KAAK,EAAE,QAAQ,EAAC,EAAE;4BACrB,GAAG,CAAC,EAAC,KAAK,EAAE,QAAQ,EAAC,EAAE;gCACrB,OAAO,CAAC,EAAC,KAAK,EAAC,iBAAiB,EAAC,CAAC;gCAClC,cAAc,CAAC,EAAC,MAAM,EAAE,cAAc,EAAE,QAAQ,EAAE,IAAI,EAAC,CAAC;6BACzD,CAAC;4BACF,iBAAiB,CAAC,EAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAC,CAAC;yBAC1D,CAAC;qBACH,CAAC;iBAEH;gBACD,KAAK,EAAE,CAAC,CAAC,EAAC,GAAG,EAAE,mBAAmB,OAAO,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC;gBAC7E,aAAa,EAAE,IAAI,UAAU,CAAC;oBAC5B,EAAE,EAAE,eAAe;oBACnB,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE;wBACP,EAAC,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE;gCACvC,EAAC,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,MAAM,EAAC;gCACjC,EAAC,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAC;gCACzB,EAAC,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAC;gCAC3B,EAAC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAC;gCAC1B,EAAC,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,MAAM,EAAC;gCACjC,EAAC,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,MAAM,EAAC;gCACjC,EAAC,EAAE,EAAE,mBAAmB,EAAE,IAAI,EAAE,MAAM,EAAC;6BACxC,EAAC;qBACH;iBACF,CAAC;aACH,CAAC;SACH,CAAC,CAAA;IACJ,CAAC;CACF;AAjES;IADP,gBAAgB,CAAC,EAAC,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC;oDACd;AAkEtC,QAAQ,CAAC,WAAW,CAAC,CAAA;AACrB,MAAM,CAAC,MAAM,WAAW,GAAG,WAAW,CAAC,YAAY,CAAA","sourcesContent":["import { Register, IoElement, Storage as $, div, ReactiveProperty } from '@io-gui/core'\nimport { ioLayout, Split } from '@io-gui/layout'\nimport { MenuOption, ioOptionSelect } from '@io-gui/menus'\nimport { ioThreeViewport, ThreeApplet } from '@io-gui/three'\nimport { ioField } from '@io-gui/inputs'\n\nimport { ComputeTextureExample } from '../examples/compute_texture.js'\nimport { VolumePerlinExample } from '../examples/volume_perlin.js'\nimport { CameraExample } from '../examples/camera.js'\nimport { AnimationGroupsExample } from '../examples/animation_groups.js'\nimport { AnimationKeyframesExample } from '../examples/animation_keyframes.js'\nimport { CameraArrayExample } from '../examples/camera_array.js'\nimport { CameraLogarithmicDepthBufferExample } from '../examples/camera_logarithmicdepthbuffer.js'\nimport { GeometriesExample } from '../examples/geometries.js'\nimport { GeometryColorsExample } from '../examples/geometry_colors.js'\nimport { GeometryConvexExample } from '../examples/geometry_convex.js'\nimport { AnimationRetargetingExample } from '../examples/animation_retargeting.js'\nimport { AnimationRetargetingReadyplayerExample } from '../examples/animation_retargeting_readyplayer.js'\nimport { AnimationBackdropExample } from '../examples/animation_backdrop.js'\nimport { AnimationSkinningBlendingExample } from '../examples/animation_skinning_blending.js'\nimport { WebGPUBackdropAreaExample } from '../examples/backdrop_area.js'\nimport { ioThreeProperties } from '../elements/IoThreeProperties.js'\n\nconst version = 3\n\nconst split = new Split({\n  children: [\n    {\n      orientation: 'horizontal',\n      children: [\n        {\n          flex: '1 0 380px',\n          tabs: [\n            {id: 'ExampleProperties'},\n          ],\n        },\n        {\n          orientation: 'vertical',\n          children: [\n            {\n              orientation: 'horizontal',\n              children: [\n                {tabs: [\n                  {id: 'Top'},\n                ]},\n                {tabs: [\n                  {id: 'Front'},\n                ]},\n              ]\n            },\n            {\n              orientation: 'horizontal',\n              children: [\n                {tabs: [\n                  {id: 'Left'},\n                ]},\n                {tabs: [\n                  {id: 'Perspective'},\n                  {id: 'SceneCamera'},\n                ]},\n              ]\n            },\n          ]\n        },\n        {\n          flex: '1 0 380px',\n          tabs: [\n            {id: 'ExampleProperties'},\n          ],\n        }\n      ]\n    }\n  ]\n})\n\nconst exampleOptions = new MenuOption({\n  options: [\n    {id: 'Camera Examples', options: [\n      {id: 'Camera', value: CameraExample},\n      {id: 'CameraLogarithmicDepthBuffer', value: CameraLogarithmicDepthBufferExample},\n      {id: 'CameraArray', value: CameraArrayExample},\n    ]},\n    {id: 'Geometries', options: [\n      {id: 'GeometryPrimitives', value: GeometriesExample},\n      {id: 'GeometryColors', value: GeometryColorsExample},\n      {id: 'GeometryConvex', value: GeometryConvexExample},\n    ]},\n    {id: 'Animations', options: [\n      {id: 'AnimationGroups', value: AnimationGroupsExample},\n      {id: 'AnimationKeyframes', value: AnimationKeyframesExample},\n      {id: 'AnimationRetargeting', value: AnimationRetargetingExample},\n      {id: 'AnimationRetargetingReadyplayer', value: AnimationRetargetingReadyplayerExample},\n      {id: 'AnimationBackdrop', value: AnimationBackdropExample},\n      {id: 'AnimationSkinningBlending', value: AnimationSkinningBlendingExample},\n    ]},\n    {id: 'WebGPUBackdropArea', value: WebGPUBackdropAreaExample},\n    {id: 'ComputeTexture', value: ComputeTextureExample},\n    {id: 'VolumePerlin', value: VolumePerlinExample},\n  ],\n  selectedID: $({key: 'example', storage: 'hash', value: 'AnimationKeyframes'})\n})\n\nconst initializzedExamples = new WeakMap<typeof ThreeApplet, ThreeApplet>()\n\nexport class IoThreeDemo extends IoElement {\n  static get Style() {\n    return /* css */`\n      :host {\n        display: flex;\n        flex: 1 1 auto;\n        flex-direction: column;\n        background-color: #f00;\n        max-width: 100%;\n        max-height: 100%;\n      }\n      :host  .row {\n        display: flex;\n        flex: 1 1 auto;\n        flex-direction: row;\n      }\n      :host  .column {\n        display: flex;\n        flex: 1 1 auto;\n        flex-direction: column;\n      }\n      :host  .property-editor {\n        position: relative;\n        display: flex;\n        flex: 1 1 auto;\n        flex-direction: column;\n      }\n      :host .property-editor > io-property-editor {\n        position: absolute;\n        min-width: 240px;\n        top: 0;\n        right: 0;\n      }\n    `\n  }\n\n  @ReactiveProperty({type: ThreeApplet, init: null})\n  declare selectedExample: ThreeApplet\n\n  selectedExampleOptionChanged() {\n    const selectedOption = exampleOptions.findItemById(exampleOptions.selectedID)\n\n    if (!selectedOption) {\n      console.warn('Selected option not found', exampleOptions.selectedID)\n      return\n    }\n\n    const selectedConstructor = selectedOption.value\n    const initializedExample = initializzedExamples.get(selectedConstructor)\n\n    if (initializedExample) {\n      this.selectedExample = initializedExample\n    } else {\n      const example = new selectedConstructor()\n      initializzedExamples.set(selectedConstructor, example)\n      this.selectedExample = example\n    }\n  }\n\n  ready() {\n    exampleOptions.addEventListener('option-selected', this.selectedExampleOptionChanged)\n    this.selectedExampleOptionChanged()\n\n    this.render([\n      ioLayout({\n        elements: [\n          ioThreeViewport({id: 'Top', applet: this.bind('selectedExample'), playing: true, cameraSelect: 'top'}),\n          ioThreeViewport({id: 'Front', applet: this.bind('selectedExample'), playing: true, cameraSelect: 'front'}),\n          ioThreeViewport({id: 'Left', applet: this.bind('selectedExample'), playing: true, cameraSelect: 'left'}),\n          ioThreeViewport({id: 'Perspective', applet: this.bind('selectedExample'), playing: true, cameraSelect: 'perspective'}),\n          ioThreeViewport({id: 'SceneCamera', applet: this.bind('selectedExample'), playing: true, cameraSelect: 'scene'}),\n\n          div({id: 'ExampleProperties'}, [\n            div({class: 'column'}, [\n              div({class: 'column'}, [\n                ioField({label:'Select Example:'}),\n                ioOptionSelect({option: exampleOptions, selectBy: 'id'}),\n              ]),\n              ioThreeProperties({applet: this.bind('selectedExample')})\n            ])\n          ])\n\n        ],\n        split: $({key: `viewport-split-v${version}`, storage: 'local', value: split}),\n        addMenuOption: new MenuOption({\n          id: 'addMenuOption',\n          mode: 'none',\n          options: [\n            {id: 'Viewports', mode: 'none', options: [\n              {id: 'SceneCamera', mode: 'none'},\n              {id: 'Top', mode: 'none'},\n              {id: 'Front', mode: 'none'},\n              {id: 'Left', mode: 'none'},\n              {id: 'Perspective', mode: 'none'},\n              {id: 'SceneCamera', mode: 'none'},\n              {id: 'ExampleProperties', mode: 'none'},\n            ]},\n          ],\n        }),\n      })\n    ])\n  }\n}\nRegister(IoThreeDemo)\nexport const ioThreeDemo = IoThreeDemo.vConstructor\n"]}