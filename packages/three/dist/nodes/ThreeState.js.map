{"version":3,"file":"ThreeState.js","sourceRoot":"","sources":["../../src/nodes/ThreeState.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,gBAAgB,EAAE,MAAM,cAAc,CAAA;AAC/D,OAAO,EAAE,KAAK,EAAkB,MAAM,cAAc,CAAA;AAG7C,IAAM,UAAU,GAAhB,MAAM,UAAW,SAAQ,IAAI;IAK3B,QAAQ,GAA0B,IAAI,CAAA;IAEtC,KAAK,GAAW,CAAC,CAAA;IACjB,MAAM,GAAW,CAAC,CAAA;IAEjB,kBAAkB,GAAW,CAAC,CAAC,CAAA;IAEvC,eAAe,CAAC,KAAa,EAAE,MAAc;QAC3C,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,EAAE,CAAC;YACnD,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC;gBACxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;gBAClB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;gBACpB,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,MAAM,CAAC,CAAA;YAC/B,CAAC;QACH,CAAC;IAEH,CAAC;IACD,qBAAqB;QACnB,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,KAAK,IAAI,CAAA;IAC9D,CAAC;IACD,qBAAqB,CAAC,QAAwB;QAC5C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAA;IAC1B,CAAC;IACD,6DAA6D;IAC7D,SAAS,CAAC,KAAa,EAAE,MAAc,IAAG,CAAC;IAE3C,OAAO,CAAC,IAAY,EAAE,KAAa;QACjC,IAAI,IAAI,CAAC,kBAAkB,KAAK,IAAI;YAAE,OAAM;QAC5C,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAA;QAC9B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAA;IACvB,CAAC;IACD,6DAA6D;IAC7D,SAAS,CAAC,KAAa,IAAG,CAAC;CAC5B,CAAA;AAnCS;IADP,gBAAgB,CAAC,EAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC;yCACxB;AAHT,UAAU;IADtB,QAAQ;GACI,UAAU,CAsCtB","sourcesContent":["import { Register, Node, ReactiveProperty } from '@io-gui/core'\nimport { Scene, WebGPURenderer } from 'three/webgpu'\n\n@Register\nexport class ThreeState extends Node {\n\n  @ReactiveProperty({type: Scene, init: null})\n  declare scene: Scene\n\n  public renderer: WebGPURenderer | null = null\n\n  public width: number = 0\n  public height: number = 0\n\n  private _lastAnimatedFrame: number = -1\n\n  setViewportSize(width: number, height: number) {\n    if (this.width !== width || this.height !== height) {\n      if (!!width && !!height) {\n        this.width = width\n        this.height = height\n        this.onResized(width, height)\n      }\n    }\n\n  }\n  isRendererInitialized() {\n    return !!this.renderer && this.renderer.initialized === true\n  }\n  onRendererInitialized(renderer: WebGPURenderer) {\n    this.renderer = renderer\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onResized(width: number, height: number) {}\n\n  animate(time: number, delta: number) {\n    if (this._lastAnimatedFrame === time) return\n    this._lastAnimatedFrame = time\n    this.onAnimate(delta)\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onAnimate(delta: number) {}\n}"]}