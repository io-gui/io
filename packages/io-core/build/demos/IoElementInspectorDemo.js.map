{"version":3,"file":"IoElementInspectorDemo.js","sourceRoot":"","sources":["../../src/demos/IoElementInspectorDemo.ts"],"names":[],"mappings":"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","sourcesContent":["//@ts-nocheck\nimport { Register, IoElement, div, Storage as $, pre, code } from 'io-core'\nimport { ioInspector } from 'io-editors'\nimport { ioField, ioNumber, ioString, ioBoolean, ioSwitch, ioButton } from 'io-inputs'\nimport { ioSlider, ioSliderRange, ioSlider2d, ioNumberSlider, ioNumberSliderRange } from 'io-sliders'\nimport { ioIcon } from 'io-icons'\nimport { ioOptionSelect, MenuOption } from 'io-menus'\nimport { ioColorRgba, ioColorSlider, ioColorSwatch, ioColorPicker } from 'io-colors'\nimport { ioStyleContainer } from './IoStyleContainer.js'\n\n// TODO: Implement IDs in menu options. use ID for selection\nconst option = new MenuOption({\n  options: [{\n    id: 'native',\n    options: [\n      {id: 'div', value: div('div content')},\n    ]\n  }, {\n    id: 'io-icons',\n    options: [\n      {id: 'io-icon:check', value: ioIcon({value: 'io:check'})},\n      {id: 'io-icon:close', value: ioIcon({value: 'io:close'})},\n      {id: 'io-icon:circle', value: ioIcon({value: 'io:circle'})},\n    ]\n  }, {\n    id: 'io-inputs',\n    options: [\n      {id: 'io-boolean', value: ioBoolean()},\n      {id: 'io-button', value: ioButton({label: 'Button'})},\n      {id: 'io-number', value: ioNumber()},\n      {id: 'io-string', value: ioString()},\n      {id: 'io-switch', value: ioSwitch()},\n    ]\n  }, {\n    id: 'io-sliders',\n    options: [\n      {id: 'io-number-slider', value: ioNumberSlider()},\n      {id: 'io-number-slider-range', value: ioNumberSliderRange()},\n      {id: 'io-slider', value: ioSlider()},\n      {id: 'io-slider-2d', value: ioSlider2d()},\n      {id: 'io-slider-range', value: ioSliderRange()},\n    ]\n  }, {\n    id: 'io-colors',\n    options: [\n      {id: 'io-color-rgba', value: ioColorRgba()},\n      {id: 'io-color-slider:r', value: ioColorSlider({channel: 'r'})},\n      {id: 'io-color-slider:g', value: ioColorSlider({channel: 'g'})},\n      {id: 'io-color-slider:b', value: ioColorSlider({channel: 'b'})},\n      {id: 'io-color-slider:sv', value: ioColorSlider({channel: 'sv'})},\n      {id: 'io-color-swatch', value: ioColorSwatch()},\n      {id: 'io-color-picker', value: ioColorPicker()},\n    ]\n  }],\n  selectedID: $({key: 'element-demo', storage: 'local', value: 'io-slider'})\n})\n\nexport class IoElementInspectorDemo extends IoElement {\n  static get Style() {\n    return /* css */`\n    :host {\n      display: flex;\n      flex: 0 1 auto;\n      min-width: 350px;\n      max-width: 500px;\n      flex-direction: column;\n      align-self: flex-start;\n      background-color: var(--io_bgColorStrong);\n      padding: var(--io_spacing3);\n    }\n    :host > io-option-select {\n      margin-bottom: var(--io_spacing2);\n    }\n    :host > .element-wrap {\n      border: var(--io_border);\n      border-color: var(--io_borderColorStrong);\n      background-color: var(--io_bgColorLight);\n      padding: var(--io_spacing3);\n    }\n    :host > pre > #element-html {\n      overflow-x: auto;\n      scrollbar-width: none;\n      font-size: 0.65em !important;\n    }\n    :host > io-property-editor {\n      border: var(--io_border);\n      border-color: var(--io_borderColorStrong);\n      background-color: var(--io_bgColorLight);\n      border-top: none;\n      padding: 0 var(--io_spacing2);\n    }\n    :host io-property-editor > div.row {\n      border-bottom: var(--io_border);\n      padding: var(--io_spacing2) 0;\n    }\n    :host io-property-editor > div.row:last-child {\n      border-bottom: none;\n    }\n    :host io-property-editor > div.row > span {\n      width: 130px;\n      text-align: right;\n    }\n    :host io-property-editor > div.row > io-number {\n      min-width: 60px;\n    }\n    :host io-property-editor > div.row > io-string {\n      min-width: 120px;\n    }\n    :host code {\n      color: var(--io_color);\n    }\n    `\n  }\n  static get ReactiveProperties() {\n    return {\n      selected: option.bind('selectedID'),\n    }\n  }\n  ready() {\n    this.selectedChanged()\n  }\n  onElementMutated() {\n    this.selectedChanged()\n  }\n  selectedChanged() {\n    const oldElement = this.querySelector('.element-wrap')?.children[0]\n    if (oldElement) oldElement.removeEventListener('io-object-mutation', this.onElementMutated)\n\n    if (this.selected) {\n      const vElement = option.findItemById(this.selected).value\n      this.render([\n        ioOptionSelect({\n          value: this.bind('selected'),\n          option: option,\n          selectBy: 'id'\n        }),\n        div({class: 'element-wrap'}, [vElement]),\n        pre([\n          code({id: 'element-html', style: {display: 'block', whiteSpace: 'pre-wrap'}}),\n        ]),\n        ioStyleContainer([\n          ioInspector({id: 'inspector'}),\n        ]),\n      ])\n      const element = this.querySelector('.element-wrap').children[0]\n      element.addEventListener('io-object-mutation', this.onElementMutated)\n      const inspector = this.$['inspector']\n      if (inspector.value !== element) {\n        inspector.value = element\n      }\n      const elementHtml = this.$['element-html']\n      elementHtml.innerHTML = formatHtml(element.outerHTML)\n    } else {\n      this.render([\n        ioField({value: 'Element property not set.'}),\n      ])\n    }\n  }\n}\nRegister(IoElementInspectorDemo)\n\nfunction formatHtml(html, indentSize = 2) {\n  const indent = ' '.repeat(indentSize)\n  let result = ''\n  let level = 0\n  const cleanHtml = html.replace(/>\\s+</g, '><')\n  const tokens = cleanHtml.split(/(<[^>]*>)/)\n  tokens.forEach(token => {\n    if (token.trim()) {\n      if (token.startsWith('</')) {\n        level--\n        result += indent.repeat(level) + token + '\\n'\n      } else if (token.startsWith('<') && !token.endsWith('/>')) {\n        result += indent.repeat(level) + token + '\\n'\n        level++\n      } else if (token.startsWith('<') && token.endsWith('/>')) {\n        result += indent.repeat(level) + token + '\\n'\n      } else {\n        result += indent.repeat(level) + token.trim() + '\\n'\n      }\n    }\n  })\n  return result.trim().replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;')\n}\n\nexport const ioElementInspectorDemo = IoElementInspectorDemo.vConstructor\n"]}