{"version":3,"file":"TodoItem.js","sourceRoot":"","sources":["../../../src/demos/todomvc/TodoItem.ts"],"names":[],"mappings":"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","sourcesContent":["import { IoElement, Register, input, label, li, div, button, ReactiveProperty, IoElementProps } from 'io-core';\nimport { TodoItemModel } from './TodoItemModel.js';\nimport { TodoListModel } from './TodoListModel.js';\n\ntype TodoItemProps = IoElementProps & {\n  item?: TodoItemModel;\n  model?: TodoListModel;\n};\n\nexport class TodoItem extends IoElement {\n  static get Style() {\n    return /* css */`\n    :host {\n      display: contents;\n    }\n    `;\n  }\n\n  @ReactiveProperty({type: TodoItemModel})\n  declare item: TodoItemModel;\n\n  @ReactiveProperty({type: TodoListModel})\n  declare model: TodoListModel;\n\n  @ReactiveProperty({value: false})\n  declare editing: boolean;\n\n  private $input!: HTMLInputElement;\n  private _originalTitle!: string;\n\n  constructor(args: TodoItemProps = {}) { super(args); }\n\n  itemMutated() {\n    this.changed();\n  }\n\n  changed() {\n    this.render([\n      li({class: 'todo ' + (this.item.completed ? 'completed ' : '') + (this.editing ? 'editing' : '')}, [\n        div({class: 'view'}, [\n          input({type: 'checkbox', class: 'toggle', checked: this.item.completed, '@click': this.item.toggle}),\n          label({'@dblclick': this.onStartEdit}, this.item.title),\n          button({class: 'destroy', '@click': this.item.delete}),\n        ]),\n        input({id: 'input-' + this.item.title, class: 'edit', value: this.item.title, '@blur': this.onBlur, '@keyup': this.onInputKey})\n      ])\n    ]);\n    this.$input = this.querySelector('input.edit') as HTMLInputElement;\n  }\n\n  onStartEdit() {\n    this.editing = true;\n    this._originalTitle = this.item.title;\n    this.$input.focus();\n  }\n\n  onBlur() {\n    const title = String(this.$input.value).trim();\n    if (title) {\n      this.item.title = title;\n    } else {\n      this.item.title = this._originalTitle;\n    }\n    this.editing = false;\n  }\n\n  onInputKey(event: CustomEvent) {\n    const keyboardEvent = event.detail as KeyboardEvent;\n    if (['Enter', 'Escape'].includes(keyboardEvent.key)) {\n      this.$input.blur();\n    }\n  }\n}\nRegister(TodoItem);\n\nexport const todoItem = function(arg0: TodoItemProps) {\n  return TodoItem.vConstructor(arg0);\n};"]}