{"version":3,"file":"IoChangeVisualization.js","sourceRoot":"","sources":["../../src/demos/IoChangeVisualization.ts"],"names":[],"mappings":"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","sourcesContent":["//@ts-nocheck\nimport { IoElement, Register, div, span, h4, p, NODES } from 'io-core';\nimport { ioCollapsible } from 'io-navigation';\nimport { ioIcon } from 'io-icons';\n\nconst nodeMap = new Map();\n\nconst MAX_CHILDREN = 24;\n\nconst roots = {\n  id: 'roots',\n  children: []\n};\n\nlet counter = 0;\nfunction initNodeInfo(node) {\n  if (nodeMap.has(node)) {\n    return nodeMap.get(node);\n  } else {\n    const nodeInfo = {\n      id: `node-${counter++}`,\n      node: node,\n      children: []\n    };\n    nodeMap.set(node, nodeInfo);\n    return nodeInfo;\n  }\n}\n\nNODES.active.forEach(node => {\n  const nodeInfo = initNodeInfo(node);\n  if (node._parents.length === 0) {\n    if (roots.children.length < MAX_CHILDREN) {\n      roots.children.push(nodeInfo);\n    }\n  } else {\n    node._parents.forEach(parent => {\n      const parentInfo = initNodeInfo(parent);\n      if (parentInfo.children.length < MAX_CHILDREN) {\n        parentInfo.children.push(nodeInfo);\n      }\n    });\n  }\n});\n\nconst canvas = document.createElement('canvas');\ncanvas.width = 256;\ncanvas.height = 256;\ncanvas.style.position = 'absolute';\ncanvas.style.bottom = '0';\ncanvas.style.right = '0';\ncanvas.style.zIndex = '1000';\ncanvas.style.pointerEvents = 'none';\ndocument.body.appendChild(canvas);\n\nconst canvasCenter = { x: canvas.width / 2, y: canvas.height / 2 };\nconst scale = Math.min(canvas.width, canvas.height) / 60;\n\nconst ctx = canvas.getContext('2d');\n\nfunction render() {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.fillStyle = 'black';\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  const nodeCount = Object.keys(nodes).length;\n  if (nodeCount === 0) {\n    // Draw debug text if no nodes\n    ctx.fillStyle = 'red';\n    ctx.font = '12px Arial';\n    ctx.fillText('No nodes to render', 10, 20);\n    return;\n  }\n\n  // Draw connections first (so they appear behind nodes)\n  Object.values(nodes).forEach(node => {\n      node.connections.forEach(connection => {\n          const fromX = canvasCenter.x + connection.nodeA.position.x * scale;\n          const fromY = canvasCenter.y + connection.nodeA.position.y * scale;\n          const toX = canvasCenter.x + connection.nodeB.position.x * scale;\n          const toY = canvasCenter.y + connection.nodeB.position.y * scale;\n\n          ctx.strokeStyle = connection.color;\n          ctx.lineWidth = 2;\n          ctx.beginPath();\n          ctx.moveTo(fromX, fromY);\n          ctx.lineTo(toX, toY);\n          ctx.stroke();\n      });\n  });\n\n  // Draw nodes\n  Object.values(nodes).forEach(node => {\n      const x = canvasCenter.x + node.position.x * scale;\n      const y = canvasCenter.y + node.position.y * scale;\n      const radius = node.radius * scale;\n\n\n      ctx.fillStyle = node.color;\n      ctx.beginPath();\n      ctx.arc(x, y, radius, 0, Math.PI * 2);\n      ctx.fill();\n  });\n}\n\nclass SimulatedNode {\n  constructor(name, position, node) {\n      this.name = name;\n      this.position = position;\n      this.children = [];\n      this.parent = null;\n      this.node = node; // Reference to the actual io-core node\n      this.createVisual();\n      this.setupEventListeners();\n  }\n\n  createVisual() {\n      this.radius = 0.5; // Increased from 0.5 to make nodes more visible\n      this.color = '#2196F3';\n      this.originalColor = '#2196F3';\n      this.connections = [];\n  }\n\n  // Helper method to interpolate between hex colors\n  lerpColor(color1, color2, progress) {\n      const hex1 = parseInt(color1.replace('#', ''), 16);\n      const hex2 = parseInt(color2.replace('#', ''), 16);\n\n      const r1 = (hex1 >> 16) & 255;\n      const g1 = (hex1 >> 8) & 255;\n      const b1 = hex1 & 255;\n\n      const r2 = (hex2 >> 16) & 255;\n      const g2 = (hex2 >> 8) & 255;\n      const b2 = hex2 & 255;\n\n      const r = Math.round(r1 + (r2 - r1) * progress);\n      const g = Math.round(g1 + (g2 - g1) * progress);\n      const b = Math.round(b1 + (b2 - b1) * progress);\n\n      return `#${((r << 16) | (g << 8) | b).toString(16).padStart(6, '0')}`;\n  }\n\n  setupEventListeners() {\n      if (this.node) {\n          this.node.addEventListener('io-object-mutation', () => {\n              this.animateMutation();\n          });\n      }\n  }\n\n  animateMutation() {\n      const originalColor = this.originalColor;\n      const mutationColor = '#FFFF00'; // Yellow\n\n      this.animateColor(originalColor, mutationColor, 150, () => {\n          this.animateColor(mutationColor, originalColor, 800);\n      });\n  }\n\n  animateColor(from, to, duration, callback) {\n      const startTime = Date.now();\n      const animate = () => {\n          const elapsed = Date.now() - startTime;\n          const progress = Math.min(elapsed / duration, 1);\n\n          this.color = this.lerpColor(from, to, progress);\n\n          if (progress < 1) {\n              requestAnimationFrame(animate);\n          } else if (callback) {\n              callback();\n          }\n      };\n      animate();\n  }\n\n\n  addChild(child) {\n      this.children.push(child);\n      child.parent = this;\n      return this.createConnection(child);\n  }\n\n  createConnection(child) {\n      const connection = {\n          nodeA: this,\n          nodeB: child,\n          color: '#666666'\n      };\n      this.connections.push(connection);\n      return connection;\n  }\n}\n\nfunction calculateRadialPositions(treeData) {\n  const positions = {};\n  const levelRadius = 4;\n  const levelSpacing = 3;\n  const minNodeSpacing = 0.8;\n  const clusterSeparation = 25; // Distance between cluster centers\n\n  // First, position each top-level cluster (roots children) in a circle\n  const topLevelClusters = treeData.children || [];\n  const clusterCenters = {};\n\n  topLevelClusters.forEach((cluster, index) => {\n      const angle = (index / topLevelClusters.length) * Math.PI * 2;\n      const centerX = Math.cos(angle) * clusterSeparation;\n      const centerY = Math.sin(angle) * clusterSeparation;\n\n\n      clusterCenters[cluster.id] = { x: centerX, y: centerY };\n  });\n\n  function positionNode(node, level = 0, parentAngle = 0, availableAngle = Math.PI * 2, siblingIndex = 0, siblingCount = 1, clusterCenter = { x: 0, y: 0 }) {\n      // Skip positioning for roots since it won't be rendered\n      if (node.id !== 'roots') {\n          const radius = level * levelRadius + levelSpacing;\n\n          let angle;\n          if (level === 0) {\n              angle = 0;\n          } else {\n              if (level === 1) {\n                  angle = (siblingIndex / siblingCount) * Math.PI * 2;\n              } else {\n                  const angleStep = availableAngle / siblingCount;\n                  angle = parentAngle - availableAngle / 2 + angleStep * (siblingIndex + 0.5);\n              }\n          }\n\n          // Position relative to cluster center - step by step debugging\n          const cosAngle = Math.cos(angle);\n          const sinAngle = Math.sin(angle);\n          const localX = radius * cosAngle * 2;\n          const localY = radius * sinAngle * 2;\n          const x = clusterCenter.x + localX;\n          const y = clusterCenter.y + localY;\n\n\n          positions[node.id] = { x, y, z: 0 };\n      }\n\n      if (node.children && node.children.length > 0) {\n          // For roots children, treat them as level 0 (root level) with their own cluster center\n          const effectiveLevel = node.id === 'roots' ? -1 : level;\n          const currentClusterCenter = node.id === 'roots' ? { x: 0, y: 0 } :\n              (clusterCenters[node.id] || clusterCenter);\n\n\n          const childRadius = (effectiveLevel + 1) * levelRadius + levelSpacing;\n          const minAngleForSpacing = minNodeSpacing / childRadius;\n          const minTotalAngle = minAngleForSpacing * node.children.length;\n\n          let childAngleSpan;\n          if (effectiveLevel === -1) { // roots children get full circle\n              childAngleSpan = Math.PI * 2;\n          } else {\n              const maxAngleFromParent = Math.min(availableAngle * 0.9, Math.PI);\n              childAngleSpan = Math.max(minTotalAngle, Math.min(maxAngleFromParent, Math.PI * 0.6));\n          }\n\n          node.children.forEach((child, index) => {\n              const childLevel = node.id === 'roots' ? 0 : level + 1;\n              const childAngle = node.id === 'roots' ? 0 : parentAngle;\n              const childClusterCenter = node.id === 'roots' ?\n                  (clusterCenters[child.id] || { x: 0, y: 0 }) : currentClusterCenter;\n\n              positionNode(child, childLevel, childAngle, childAngleSpan, index, node.children.length, childClusterCenter);\n          });\n      }\n  }\n\n  positionNode(treeData);\n  return positions;\n}\n\nclass ForceDirectedLayout {\n  constructor(nodes, connections) {\n      this.nodes = nodes;\n      this.connections = connections;\n      this.forces = {};\n      this.velocities = {};\n      this.damping = 0.7;\n      this.repulsionStrength = 4;\n      this.attractionStrength = 0.05;\n      this.centerAttractionStrength = 0.01;\n      this.linkLength = 2;\n      this.maxVelocity = 1;\n      this.running = false;\n      this.coolingRate = 0.99;\n      this.temperature = 0.1;\n      this.minTemperature = 0.1;\n\n      Object.keys(nodes).forEach(id => {\n          this.forces[id] = { x: 0, y: 0 };\n          this.velocities[id] = { x: 0, y: 0 };\n      });\n  }\n\n  calculateRepulsionForces() {\n      const nodeIds = Object.keys(this.nodes);\n\n      // Reset forces\n      nodeIds.forEach(id => {\n          this.forces[id].x = 0;\n          this.forces[id].y = 0;\n      });\n\n      // Calculate repulsion between all node pairs\n      for (let i = 0; i < nodeIds.length; i++) {\n          for (let j = i + 1; j < nodeIds.length; j++) {\n              const nodeA = this.nodes[nodeIds[i]];\n              const nodeB = this.nodes[nodeIds[j]];\n\n              const dx = nodeA.position.x - nodeB.position.x;\n              const dy = nodeA.position.y - nodeB.position.y;\n              const distanceSquared = dx * dx + dy * dy + 0.01;\n              const distance = Math.sqrt(distanceSquared);\n\n              const force = (this.repulsionStrength * this.temperature) / (distanceSquared * distance);\n              const fx = (dx / distance) * force;\n              const fy = (dy / distance) * force;\n\n              this.forces[nodeIds[i]].x += fx;\n              this.forces[nodeIds[i]].y += fy;\n              this.forces[nodeIds[j]].x -= fx;\n              this.forces[nodeIds[j]].y -= fy;\n          }\n      }\n  }\n\n  calculateAttractionForces() {\n      this.connections.forEach(connection => {\n          const nodeA = connection.nodeA;\n          const nodeB = connection.nodeB;\n\n          const dx = nodeB.position.x - nodeA.position.x;\n          const dy = nodeB.position.y - nodeA.position.y;\n          const distance = Math.sqrt(dx * dx + dy * dy);\n\n          // Adjust link length based on node connectivity\n          let linkLength = this.linkLength;\n          const nodeAChildren = nodeA.children.length;\n          const nodeBChildren = nodeB.children.length;\n\n          if (nodeAChildren > 0) {\n              linkLength *= 1 + nodeAChildren ** 0.25;\n          }\n          if (nodeBChildren > 0) {\n              linkLength *= 1 + nodeBChildren ** 0.25;\n          }\n          const force = this.attractionStrength * this.temperature * (distance ** 2 - linkLength);\n          const fx = (dx / distance) * force;\n          const fy = (dy / distance) * force;\n\n          this.forces[nodeA.name].x += fx;\n          this.forces[nodeA.name].y += fy;\n          this.forces[nodeB.name].x -= fx;\n          this.forces[nodeB.name].y -= fy;\n      });\n  }\n\n  updatePositions() {\n      Object.keys(this.nodes).forEach(id => {\n          const node = this.nodes[id];\n\n          // Skip roots since it's not in the simulation\n          if (id === 'roots') {\n              return;\n          }\n\n          this.velocities[id].x += this.forces[id].x;\n          this.velocities[id].y += this.forces[id].y;\n\n          // Clamp velocity to maximum\n          const velocity = Math.sqrt(this.velocities[id].x ** 2 + this.velocities[id].y ** 2);\n          if (velocity > this.maxVelocity) {\n              this.velocities[id].x = (this.velocities[id].x / velocity) * this.maxVelocity;\n              this.velocities[id].y = (this.velocities[id].y / velocity) * this.maxVelocity;\n          }\n\n          this.velocities[id].x *= this.damping;\n          this.velocities[id].y *= this.damping;\n\n          const newX = node.position.x + this.velocities[id].x;\n          const newY = node.position.y + this.velocities[id].y;\n\n\n          node.position.x = newX;\n          node.position.y = newY;\n      });\n  }\n\n\n  calculateCenterAttractionForces() {\n      Object.keys(this.nodes).forEach(id => {\n          const node = this.nodes[id];\n\n          // Skip roots since it's not in the simulation\n          if (id === 'roots') {\n              return;\n          }\n\n          // Calculate distance from center (0, 0)\n          const dx = -node.position.x;\n          const dy = -node.position.y;\n          const distance = Math.sqrt(dx * dx + dy * dy) + 0.01;\n\n          // Apply gentle attraction towards center\n          const force = this.centerAttractionStrength * this.temperature * distance;\n          const fx = (dx / distance) * force;\n          const fy = (dy / distance) * force;\n\n          this.forces[id].x += fx;\n          this.forces[id].y += fy;\n      });\n  }\n\n  step() {\n      this.calculateRepulsionForces();\n      this.calculateAttractionForces();\n      this.calculateCenterAttractionForces();\n      this.updatePositions();\n\n      // Cool down the system\n      if (this.temperature > this.minTemperature) {\n          this.temperature *= this.coolingRate;\n      }\n  }\n\n  start() {\n      this.running = true;\n      this.temperature = 1.0; // Reset temperature when starting\n      this.simulate();\n  }\n\n  stop() {\n      this.running = false;\n  }\n\n  reset() {\n      this.temperature = 1.0;\n      Object.keys(this.nodes).forEach(id => {\n          this.forces[id] = { x: 0, y: 0 };\n          this.velocities[id] = { x: 0, y: 0 };\n      });\n  }\n\n  simulate() {\n      if (!this.running) return;\n      this.step();\n      requestAnimationFrame(() => this.simulate());\n  }\n}\n\nfunction createNodesFromTree(treeData, positions) {\n  const nodes = {};\n\n  function createNode(nodeData) {\n      // Skip roots from visual representation\n      if (nodeData.id !== 'roots') {\n          const position = positions[nodeData.id];\n          const actualNode = nodeData.node; // Get the actual io-core node reference\n          const simulatedNode = new SimulatedNode(nodeData.id, position, actualNode);\n          nodes[nodeData.id] = simulatedNode;\n      }\n\n      if (nodeData.children) {\n          nodeData.children.forEach(child => createNode(child));\n      }\n  }\n\n  createNode(treeData);\n  return nodes;\n}\n\nfunction connectNodes(treeData, nodes) {\n  const allConnections = [];\n\n  function connect(nodeData) {\n      // Skip roots connections - only connect from its children onwards\n      if (nodeData.id !== 'roots') {\n          const parentNode = nodes[nodeData.id];\n          if (nodeData.children && parentNode) {\n              nodeData.children.forEach(childData => {\n                  const childNode = nodes[childData.id];\n                  if (childNode) {\n                      const connection = parentNode.addChild(childNode);\n                      allConnections.push(connection);\n                  }\n              });\n          }\n      }\n\n      if (nodeData.children) {\n          nodeData.children.forEach(childData => {\n              connect(childData);\n          });\n      }\n  }\n  connect(treeData);\n  return allConnections;\n}\n\nconst positions = calculateRadialPositions(roots);\nconst nodes = createNodesFromTree(roots, positions);\nconst connections = connectNodes(roots, nodes);\n\nconst forceLayout = new ForceDirectedLayout(nodes, connections);\nforceLayout.start();\n\nconst animate = () => {\n  render();\n  requestAnimationFrame(animate);\n};\nrequestAnimationFrame(animate);\n\nexport class IoChangeVisualization extends IoElement {\n  static get Style() {\n    return /* css */`\n    :host {\n      flex: 1 1 auto;\n      overflow: hidden;\n    }\n    :host > io-collapsible {\n      position: absolute;\n      display: inline-block;\n      max-width: 250px;\n      margin: var(--io_spacing2);\n    }\n    :host h4 {\n      font-size: calc(var(--io_fontSize) * 1.1);\n      margin: var(--io_spacing) 0;\n      padding: 0 var(--io_spacing);\n    }\n    :host p {\n      font-size: calc(var(--io_fontSize) * 1);\n      margin: var(--io_spacing2) 0;\n      padding: var(--io_spacing);\n    }\n    :host span {\n      font-size: calc(var(--io_fontSize) * 1.2);\n      height: var(--io_lineHeight);\n      margin-left: var(--io_spacing2);\n      vertical-align: top;\n    }\n    `;\n  }\n\n  ready() {\n    this.render([\n      ioCollapsible({\n        label: 'Legend',\n        elements: [\n          h4('Io-GUI Node Network Visualization'),\n          p('Interactive visualization of the node relationship network using force-directed layout.'),\n          div({class: 'legend-item'}, [\n            ioIcon({class: 'legend-color', value: 'io:circle_fill', style: {fill: '#2196F3'}}),\n            span('Node'),\n          ]),\n        ]\n      }),\n    ]);\n  }\n}\nRegister(IoChangeVisualization);\n\nexport const ioChangeVisualization = function(arg0) {\n  return IoChangeVisualization.vConstructor(arg0);\n};\n"]}