{"version":3,"file":"menu-options.js","sourceRoot":"","sources":["../../src/models/menu-options.ts"],"names":[],"mappings":"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","sourcesContent":["import { IoNodeMixin, IoNodeArgs, Property, Register } from 'io-gui';\nimport { MenuItem, MenuItemArgsLoose } from './menu-item.js';\n// TODO: document!\n\nfunction _isNaN(value: any) {\n  return typeof value === 'number' && isNaN(value);\n}\n\nfunction _isSelectable(value: string) {\n  return value === 'select' || value === 'scroll';\n}\n\n@Register\nexport class MenuOptions extends IoNodeMixin(Array) {\n\n  @Property(undefined)\n  declare first: any;\n\n  @Property(undefined)\n  declare last: any;\n\n  @Property(undefined)\n  declare scroll: any;\n\n  @Property('')\n  declare path: string;\n\n  @Property(',')\n  declare delimiter: string;\n\n  push(...items: MenuItem[]) {\n    for (let i = 0; i < items.length; i++) {\n      const item = items[i];\n      debug: if (!(item instanceof MenuItem)) {\n        console.warn('MenuOptions.push: item is not a MenuItem!');\n      }\n      if (item instanceof MenuItem) {\n        debug: if (this.find((otherItem: MenuItem) => otherItem.label === item.label)) {\n          console.warn(`MenuOptions.addItems: duplicate label \"${item.label}\"`);\n        }\n        item.addEventListener('selected-changed', this._onItemSelectedChanged);\n        item.addEventListener('path-changed', this._onSubOptionsPathChanged);\n        super.push(item);\n      }\n    }\n  }\n\n  getItem(value: any, deep = false) {\n    for (let i = 0; i < this.length; i++) {\n      if (this[i].value === value) return this[i];\n      if (deep && this[i].options) {\n        const item = this[i].options.getItem(value, deep);\n        if (item) return item;\n      }\n    }\n    return null;\n  }\n\n  constructor(args: MenuItemArgsLoose[] = [], properties: IoNodeArgs = {}) {\n    const _args: MenuItem[] = [];\n    for (let i = 0; i < args.length; i++) {\n      if (args[i] instanceof MenuItem) {\n        _args.push(args[i] as MenuItem);\n      } else {\n        _args.push(new MenuItem(args[i]));\n      }\n    }\n\n    super(properties, ..._args);\n\n    if (this.path !== '') this.pathChanged();\n    if (this.first !== undefined) this.firstChanged();\n    for (let i = 0; i < this.length; i++) {\n      const item = this[i];\n      debug: {\n        if (!(item instanceof MenuItem)) {\n          console.warn('MenuOptions.constructor: item is not a MenuItem!');\n        }\n        // TODO check if same item is at other index\n        if (this.find((otherItem: MenuItem) => otherItem !== item && otherItem.label === item.label)) {\n          console.warn(`MenuOptions.addItems: duplicate label \"${item.label}\"`);\n        }\n      }\n      item.addEventListener('selected-changed', this._onItemSelectedChanged);\n      item.addEventListener('path-changed', this._onSubOptionsPathChanged);\n      if (item.selected && item.mode === 'select') {\n        this.updatePaths(item);\n        continue;\n      }\n    }\n  }\n\n  // TODO: consider preventing built-in Array functions like push, pop, etc.\n  protected addItems(items: MenuItemArgsLoose[]) {\n    for (let i = 0; i < items.length; i++) {\n      let item: MenuItem;\n      if (items[i] instanceof MenuItem) {\n        item = items[i] as MenuItem;\n      } else {\n        item = new MenuItem(items[i]);\n      }\n      debug: if (this.find((otherItem: MenuItem) => otherItem.label === item.label)) {\n        console.warn(`MenuOptions.addItems: duplicate label \"${item.label}\"`);\n      }\n      this.push(item);\n      item.addEventListener('selected-changed', this._onItemSelectedChanged);\n      item.addEventListener('path-changed', this._onSubOptionsPathChanged);\n    }\n  }\n\n  pathChanged() {\n    const path = this.path ? [...this.path.split(this.delimiter)] : [];\n    if (this.length && path.length) {\n      const first = path.shift();\n      const item = this.find((item: MenuItem) => (item.label === first));\n      if (item) {\n        debug: if (!_isSelectable(item.mode)) {\n          console.warn('MenuOptions.pathChanged: Path set to non-selectable MenuItem!');\n        }\n        if (_isSelectable(item.mode)) {\n          if (item.options) {\n            item.options.path = path.join(this.delimiter);\n          }\n          item.selected = true;\n        }\n      } else {\n        debug: console.warn(`MenuOptions.pathChanged: cannot find item for specified path \"${this.path}\"!`);\n        for (let i = 0; i < this.length; i++) {\n          if (_isSelectable(this[i].mode)) this[i].selected = false;\n        }\n      }\n    } else {\n      for (let i = 0; i < this.length; i++) {\n        if (_isSelectable(this[i].mode)) this[i].selected = false;\n      }\n    }\n  }\n\n  firstChanged() {\n    if (this.first !== undefined) {\n      const item = this.find((item: MenuItem) => ((item.value === this.first && item.mode === 'select') || (_isNaN(item.value) && _isNaN(this.first))));\n      if (item) {\n        item.selected = true;\n      }\n      debug: if (item === undefined) {\n        console.warn(`MenuOptions.firstChanged: cannot find pickable item for specified first value \"${this.first}\"!`);\n      }\n    } else {\n      for (let i = 0; i < this.length; i++) {\n        if (this[i].mode === 'select') this[i].selected = false;\n      }\n    }\n  }\n\n  lastChanged() {\n    debug: if (this.last !== undefined) {\n      const path = this.path ? [...this.path.split(this.delimiter)] : [];\n      if (path.length) {\n        let label = path.shift();\n        let item = this.find((item: MenuItem) => (item.selected === true && item.label === label && (item.mode === 'select' || item.mode === 'scroll')));\n        let options = item?.options || undefined;\n        while (path.length && options) {\n          label = path.shift();\n          item = options.find((item: MenuItem) => (item.selected === true && item.label === label && (item.mode === 'select' || item.mode === 'scroll')));\n          options = item?.options || undefined;\n        }\n        if (item === undefined) {\n          console.warn(`MenuOptions.lastChanged: cannot find item for specified last value \"${this.last}\"!`);\n        } else if (\n          (item.value !== this.last && !(_isNaN(item.value) && _isNaN(this.last))) &&\n          (item.value !== this.scroll && !(_isNaN(item.value) && _isNaN(this.scroll)))\n        ) {\n          // TODO: test this?\n          console.warn(`MenuOptions.lastChanged: last property value \"${this.last}\" diverged from item specified by path!`);\n          console.log(this.path, this.last);\n        }\n      } else {\n        console.warn(`MenuOptions.lastChanged: last property value set \"${this.last}\" but path is empty!`);\n      }\n    }\n  }\n\n  updatePaths(item?: MenuItem) {\n    const path: string[] = [];\n    let walker: MenuItem | undefined = (item?.mode === 'select' || item?.mode === 'scroll') ? item : undefined;\n    let lastSelected: MenuItem | undefined = item?.mode === 'select' ? item : undefined;\n    let lastAnchor: MenuItem | undefined = item?.mode === 'scroll' ? item : undefined;\n\n    const hasSelected = this.find((item: MenuItem) => item.mode === 'select' && item.selected);\n    const hasAnchor = this.find((item: MenuItem) => item.mode === 'scroll' && item.selected);\n    if (!walker && (hasSelected || hasAnchor)) return;\n\n    while (walker) {\n      path.push(walker.label);\n      if (walker.mode === 'select') lastSelected = walker;\n      if (walker.mode === 'scroll') lastAnchor = walker;\n      walker = walker.options?.find((item: MenuItem) => (item.mode === 'select' || item.mode === 'scroll') && item.selected);\n    }\n\n    // TODO: when binding two menu elements to both `first` and `path` properties, it is important that we\n    // update the `path` property before the `first`. Otherwise, the menu binding will be broken!\n    // TODO: create a test for this edge-case.\n    this.setProperties({\n      path: path.join(this.delimiter),\n      first: item?.mode === 'select' ? item.value : undefined,\n      last: lastSelected !== undefined ? lastSelected.value : undefined,\n      scroll: lastAnchor !== undefined ? lastAnchor.value : undefined,\n    });\n  }\n\n  _onItemSelectedChanged(event: CustomEvent) {\n    const item = event.target as unknown as MenuItem;\n    if (_isSelectable(item.mode)) {\n      if (item.selected) {\n        for (let i = 0; i < this.length; i++) {\n          if (this[i] !== item && _isSelectable(this[i].mode)) {\n            this[i].selected = false;\n          }\n        }\n        this.updatePaths(item);\n        this.dispatchEvent('item-selected', {item: item});\n      } else {\n        this.updatePaths();\n      }\n    }\n  }\n\n  _onSubOptionsPathChanged(event: CustomEvent) {\n    const item = event.target as unknown as MenuItem;\n    item.selected ? this.updatePaths(item) : this.updatePaths();\n  }\n\n  selectDefault() {\n    for (let i = 0; i < this.length; i++) {\n      if (_isSelectable(this[i].mode)) {\n        if (this[i].hasmore) {\n          const selected = this[i].options.selectDefault();\n          if (selected) return true;\n        } else {\n          this[i].selected = true;\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  bind(prop: string) {\n    debug: if (prop === 'last' || prop === 'scroll') {\n      console.warn('MenuPath: Binding to `last` or `scroll` property is not recommended!');\n    }\n    return super.bind(prop);\n  }\n\n  dispose() {\n    for (let i = 0; i < this.length; i++) {\n      this[i].removeEventListener('selected-changed', this._onItemSelectedChanged);\n      this[i].removeEventListener('path-changed', this._onSubOptionsPathChanged);\n    }\n    super.dispose();\n  }\n}"]}