{"version":3,"file":"io-menu-item.js","sourceRoot":"","sources":["../src/io-menu-item.ts"],"names":[],"mappings":"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","sourcesContent":["import { Register, Property, IoOverlaySingleton as Overlay, IoField } from 'io-gui';\nimport { MenuItem } from './models/menu-item.js';\nimport { IoMenuOptions } from './io-menu-options.js';\n\nconst MenuElementTags = ['io-menu-item', 'io-menu-hamburger', 'io-option-menu'];\nconst MenuElementTagsSelector = MenuElementTags.join(', ');\n/**\n * It displays `option.icon`, `option.label` and `option.hint` property and it creates expandable `IoMenuOptions` from the `option.options` array. Options are expand in the direction specified by `direction` property. If `selectable` property is set, selecting an option sets its `value` to the entire menu tree and `selected` atribute is set on menu items whose `option.value` matches selected value.\n **/\n\n// TODO: fix and improve keyboard navigation in all cases.\n@Register\nexport class IoMenuItem extends IoField {\n  static get Style() {\n    return /* css */`\n      :host {\n        display: flex;\n        user-select: none;\n      }\n      :host > * {\n        pointer-events: none;\n        text-overflow: ellipsis;\n      }\n      :host > .label {\n        flex: 1 1 auto;\n        padding: 0 var(--io_spacing2);\n      }\n      :host > .hint {\n        flex: 0 1 auto;\n        opacity: 0.25;\n        padding: 0 var(--io_spacing2);\n      }\n      :host > .hasmore {\n        opacity: 0.5;\n      }\n    `;\n  }\n\n  @Property({type: MenuItem})\n  declare item: MenuItem;\n\n  @Property({value: false, reflect: true})\n  declare expanded: boolean;\n\n  @Property({value: 'right', reflect: true})\n  declare direction: string;\n\n  @Property({value: 1000, reflect: true})\n  declare depth: number;\n\n  declare $options?: IoMenuOptions;\n\n  static get Listeners(): any {\n    return {\n      'click': 'preventDefault',\n    };\n  }\n  preventDefault(event: Event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  get hasmore() {\n    return this.item.hasmore && this.depth > 0;\n  }\n  get inlayer() {\n    return !!this.$parent && !!this.$parent.inlayer;\n  }\n  get $parent() {\n    return this.parentElement;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // TODO: remove event listeners and find a better way to handle this.\n    Overlay.addEventListener('pointermove', this._onOverlayPointermove);\n    Overlay.addEventListener('pointerup', this._onOverlayPointerup);\n    if (this.$options) Overlay.appendChild(this.$options as unknown as HTMLElement);\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    Overlay.removeEventListener('pointermove', this._onOverlayPointermove);\n    Overlay.removeEventListener('pointerup', this._onOverlayPointerup);\n    if (this.$options && this.$options.inlayer) Overlay.removeChild(this.$options as unknown as HTMLElement);\n  }\n  _onOverlayPointermove(event: PointerEvent) {\n    if (!this.inlayer && this.expanded) this._onPointermove(event);\n  }\n  _onOverlayPointerup(event: PointerEvent) {\n    if (!this.inlayer && this.expanded) this._onPointerupAction(event);\n  }\n  _onClick() {\n    const item = this.item;\n    if (this.hasmore) {\n      if (!this.expanded) this.expanded = true;\n    } else if (item.mode === 'toggle') {\n      item.selected = !item.selected;\n    } else {\n      if (item.action) {\n        item.action.apply(null, [item.value]);\n      }\n      if (item.mode === 'select') {\n        if (item.hasmore && item.options && this.depth <= 0) {\n          item.options.selectDefault();\n        } else {\n          item.selected = true;\n        }\n      } else if (item.mode === 'scroll') {\n        item.selected = true;\n      } else if (item.mode === 'link') {\n        window.open(item.value, '_blank');\n      }\n      this.dispatchEvent('item-clicked', item, true);\n      this.throttle(this._onCollapse);\n    }\n  }\n  _onItemClicked(event: PointerEvent) {\n    const item = event.composedPath()[0];\n    if (item !== (this as any)) {\n      event.stopImmediatePropagation();\n      this.dispatchEvent('item-clicked', event.detail, true);\n    }\n    if (this.expanded) this.throttle(this._onCollapse);\n  }\n  _onPointerdown(event: PointerEvent) {\n    event.stopPropagation();\n    event.preventDefault(); // Prevents focus\n    this.setPointerCapture(event.pointerId);\n    this.addEventListener('pointermove', this._onPointermove);\n    this.addEventListener('pointerup', this._onPointerup);\n    this._onPointerdownAction(event);\n  }\n  _onPointerdownAction(event: PointerEvent) {\n    // TODO: why is this needed?\n    if (this.expanded || event.pointerType === 'mouse' || this.inlayer) {\n      this.focus();\n      if (this.item.options) this.expanded = true;\n    }\n\n    // hovered = this;\n    // hoveredParent = this.parentElement;\n    // TODO: Safari temp fix for event.movement = 0\n    this._x = event.clientX;\n    this._y = event.clientY;\n  }\n  _onPointermove(event: PointerEvent) {\n    event.stopPropagation();\n    this._onPointermoveAction(event);\n  }\n  _onPointermoveAction(event: PointerEvent) {\n    // TODO: why is this needed?\n    if (!this.expanded && event.pointerType === 'touch' && !this.inlayer) return;\n\n    const clipped = !!this.$parent && !!this.$parent.style.height;\n\n    if (event.pointerType === 'touch' && clipped) return;\n\n    // TODO: Safari temp fix for event.movement = 0\n    const movementX = event.clientX - this._x;\n    const movementY = event.clientY - this._y;\n    this._x = event.clientX;\n    this._y = event.clientY;\n\n    Overlay.x = event.clientX;\n    Overlay.y = event.clientY;\n    clearTimeout(this._timeoutOpen);\n    hovered = this._gethovered(event);\n    if (hovered) {\n      const v = Math.abs(movementY) - Math.abs(movementX);\n      const h = hovered.parentElement.horizontal;\n      if (prevHovered?.parentElement !== hovered.parentElement) {\n        this._expandHovered();\n      } else if (h ? v < -0.25 : v > 0.25) {\n        this._expandHovered();\n      } else {\n        this._timeoutOpen = setTimeout(() => {\n          this._expandHovered();\n        }, 100);\n      }\n      prevHovered = hovered;\n    }\n  }\n  _onPointerup(event: PointerEvent) {\n    event.stopPropagation();\n    this.removeEventListener('pointermove', this._onPointermove);\n    this.removeEventListener('pointerup', this._onPointerup);\n    this._onPointerupAction(event);\n  }\n  _onPointerupAction(event: PointerEvent, skipCollapse = false) {\n    const item = this._gethovered(event);\n    if (item) {\n      item.focus();\n      item._onClick(event);\n    } else if (!skipCollapse) {\n      this.throttle(this._onCollapseRoot);\n    }\n    hovered = undefined;\n    prevHovered = undefined;\n  }\n  _gethovered(event: PointerEvent) {\n    const items = getMenuDescendants(getMenuRoot(this));\n    const hovered: IoMenuElementType[] = [];\n    for (let i = items.length; i--;) {\n      if (isPointerAboveIoMenuItem(event, items[i])) {\n        hovered.push(items[i]);\n      }\n    }\n    if (hovered.length) {\n      hovered.sort((a: IoMenuElementType, b: IoMenuElementType) => {\n        return a.depth < b.depth ? 1 : a.depth > b.depth ? -1 : 0;\n      });\n      return hovered[hovered.length - 1];\n    }\n    return undefined;\n  }\n  _expandHovered() {\n    if (hovered) {\n      hovered.focus();\n      if (hovered.hasmore) {\n        if (hovered.$options) {\n          const descendants = getMenuDescendants(hovered.$options);\n          for (let i = descendants.length; i--;) {\n            descendants[i].expanded = false;\n          }\n        }\n        hovered.expanded = true;\n      }\n      if (hovered.$parent) {\n        // Collapse all sibiling io-menu-item elements\n        const items = hovered.$parent.querySelectorAll(MenuElementTagsSelector);\n        for (let i = items.length; i--;) {\n          if (items[i] !== hovered) items[i].expanded = false;\n        }\n      }\n    }\n  }\n  _onKeydown(event: KeyboardEvent) {\n    if (event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault();\n      this._onClick();\n      return;\n    } else if (event.key === 'Escape') {\n      event.preventDefault();\n      this.throttle(this._onCollapseRoot);\n      return;\n    }\n\n    let command = '';\n    if (this.direction === 'left' || this.direction === 'right') {\n      if (event.key === 'ArrowUp') command = 'prev';\n      if (event.key === 'ArrowRight') command = 'in';\n      if (event.key === 'ArrowDown') command = 'next';\n      if (event.key === 'ArrowLeft') command = 'out';\n    } else {\n      if (event.key === 'ArrowUp') command = 'out';\n      if (event.key === 'ArrowRight') command = 'next';\n      if (event.key === 'ArrowDown') command = 'in';\n      if (event.key === 'ArrowLeft') command = 'prev';\n    }\n    if (this.inlayer && event.key === 'Tab') command = 'next';\n\n    const siblings = this.$parent ? [...this.$parent.children] : [];\n    const index = siblings.indexOf(this);\n    if (command) {\n    // if (command && (this.inlayer || this.expanded)) {\n      event.preventDefault();\n      switch (command) {\n        case 'prev': {\n          const prev = siblings[(index + siblings.length - 1) % (siblings.length)];\n          this.expanded = false;\n          if (prev) {\n            if (prev.hasmore) prev.expanded = true;\n            prev.focus();\n          }\n          break;\n        }\n        case 'next': {\n          const next = siblings[(index + 1) % (siblings.length)];\n          this.expanded = false;\n          if (next) {\n            if (next.hasmore) next.expanded = true;\n            next.focus();\n          }\n          break;\n        }\n        case 'in':\n          if (this.$options && this.$options.children.length) this.$options.children[0].focus();\n          break;\n        case 'out':\n          this.expanded = false;\n          if (this.$parent && this.$parent.$parent) {\n            this.$parent.$parent.focus();\n          }\n          break;\n        default:\n          break;\n      }\n    } else {\n      super._onKeydown(event);\n    }\n  }\n  _onCollapse() {\n    this.expanded = false;\n  }\n  _onCollapseRoot() {\n    getMenuRoot(this as unknown as IoMenuItem).expanded = false;\n  }\n  expandedChanged() {\n    if (this.expanded && this.depth > 0) {\n\n      if (this.item.options && this.$options === undefined) {\n        this.$options = new IoMenuOptions({\n          expanded: this.bind('expanded'),\n          inlayer: true,\n          depth: this.depth - 1,\n          options: this.item.options,\n          direction: this.direction,\n          $parent: this,\n        });\n      }\n\n      // Colapse all siblings and their ancestors\n      const $allitems = getMenuDescendants(getMenuRoot(this));\n      const $ancestoritems = getMenuAncestors(this);\n      const $descendants = getMenuDescendants(this);\n\n      for (let i = $allitems.length; i--;) {\n        if ($allitems[i] !== this && $ancestoritems.indexOf($allitems[i]) === -1 && $descendants.indexOf($allitems[i]) === -1) {\n          $allitems[i].expanded = false;\n        }\n      }\n    }\n\n    if (this.$options) {\n      if (this.expanded) {\n        if (this.$options.parentElement !== Overlay) Overlay.appendChild(this.$options as unknown as HTMLElement);\n        this.$options.addEventListener('item-clicked', this._onItemClicked);\n      } else {\n        this.$options.removeEventListener('item-clicked', this._onItemClicked);\n      }\n      const $descendants = getMenuDescendants(this.$options);\n      for (let i = $descendants.length; i--;) $descendants[i].expanded = false;\n    }\n  }\n  itemChanged() {\n    this.setProperties({\n      selected: this.item.bind('selected'),\n      disabled: this.item.bind('disabled'),\n    });\n  }\n  changed() {\n    if (this.$options !== undefined && this.item.options) {\n      this.$options.options = this.item.options;\n    }\n    const icon = this.icon || this.item.icon;\n\n    this.setAttribute('hidden', this.item.hidden);\n    this.setAttribute('hasmore', this.hasmore);\n    this.template([\n      this.hasmore && this.direction === 'left' ? ['io-icon', {class: 'hasmore', icon: 'menu:triangle_left'}] : null,\n      this.hasmore && this.direction === 'up' ? ['io-icon', {class: 'hasmore', icon: 'menu:triangle_up'}] : null,\n      icon ? ['io-icon', {icon: icon}] : null,\n      this.item.label ? ['span', {class: 'label'}, this.item.label] : null,\n      this.item.hint ? ['span', {class: 'hint'}, this.item.hint] : null,\n      this.hasmore && this.direction === 'right' ? ['io-icon', {class: 'hasmore', icon: 'menu:triangle_right'}] : null,\n      this.hasmore && this.direction === 'down' ? ['io-icon', {class: 'hasmore', icon: 'menu:triangle_down'}] : null,\n    ]);\n  }\n}\n\ntype IoMenuElementType = IoMenuItem | IoMenuOptions;\n\nexport function getMenuDescendants(element: IoMenuElementType): IoMenuElementType[] {\n  const descendants = [];\n  if (element.$options) {\n    if (element.expanded) {\n      descendants.push(element.$options);\n      const items = element.$options.querySelectorAll(MenuElementTagsSelector);\n      for (let i = items.length; i--;) {\n        descendants.push(items[i]);\n        if (items[i].expanded) descendants.push(...getMenuDescendants(items[i]));\n      }\n    }\n  } else {\n    const items = element.querySelectorAll(MenuElementTagsSelector);\n    for (let i = items.length; i--;) {\n      descendants.push(items[i]);\n      if (items[i].expanded) descendants.push(...getMenuDescendants(items[i]));\n    }\n  }\n  return descendants;\n}\n\nexport function getMenuAncestors(element: IoMenuElementType) {\n  const ancestors = [];\n  let item = element;\n  while (item && item.$parent) {\n    item = item.$parent;\n    if (item) ancestors.push(item);\n  }\n  return ancestors;\n}\n\nexport function getMenuRoot(element: IoMenuElementType) {\n  let first = element;\n  while (first && first.$parent) {\n    first = first.$parent;\n  }\n  return first;\n}\n\nfunction isPointerAboveIoMenuItem(event: PointerEvent, element: IoMenuElementType) {\n  if (MenuElementTags.indexOf(element.localName) !== -1) {\n    if (!element.disabled && !element.hidden) {\n      if (!element.inlayer || (element.parentElement.expanded && Overlay.expanded)) {\n        const bw = 1; // TODO: temp hack to prevent picking items below through margin(1px) gaps.\n        const r = element.getBoundingClientRect();\n        const x = event.clientX;\n        const y = event.clientY;\n        const hovered = (r.top <= y+bw && r.bottom >= y-bw && r.left <= x+bw && r.right >= x-bw );\n        return hovered;\n      }\n    }\n  }\n  return null;\n}\n\nlet hovered: IoMenuElementType | undefined;\nlet prevHovered: IoMenuElementType | undefined;\n"]}