{"version":3,"file":"MenuOption.js","sourceRoot":"","sources":["../../src/nodes/MenuOption.ts"],"names":[],"mappings":"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","sourcesContent":["import { Node, Register, ReactiveProperty, WithBinding, NodeArray } from 'io-core';\n\nexport type MenuOptionMode = 'select' | 'toggle' | 'none';\n\nexport type MenuOptionProps = {\n  id?: string,\n  value?: any,\n  label?: string,\n  icon?: string,\n  hint?: string,\n  action?: (value?: any) => void,\n  mode?: MenuOptionMode,\n  disabled?: boolean,\n  selected?: WithBinding<boolean>,\n  selectedID?: WithBinding<string>,\n  selectedIDImmediate?: WithBinding<string>,\n  path?: WithBinding<string>,\n  options?: Array<string | number | boolean | null | undefined | MenuOptionProps>\n};\n\n@Register\nexport class MenuOption extends Node {\n\n  @ReactiveProperty({value: '', type: String})\n  declare id: string;\n\n  @ReactiveProperty({value: undefined})\n  declare value: any;\n\n  @ReactiveProperty({value: '', type: String})\n  declare label: string;\n\n  @ReactiveProperty({value: '', type: String})\n  declare icon: string;\n\n  @ReactiveProperty({value: '', type: String})\n  declare hint: string;\n\n  @ReactiveProperty({value: false, type: Boolean})\n  declare disabled: boolean;\n\n  @ReactiveProperty()\n  declare action?: (value?: any) => void;\n\n  @ReactiveProperty({value: 'select', type: String})\n  declare mode: MenuOptionMode;\n\n  @ReactiveProperty({value: false, type: Boolean})\n  declare selected: boolean;\n\n  @ReactiveProperty({value: '', type: String})\n  declare selectedIDImmediate: string;\n\n  @ReactiveProperty({value: '', type: String})\n  declare selectedID: string;\n\n  @ReactiveProperty({value: '', type: String})\n  declare path: string;\n\n  @ReactiveProperty({type: NodeArray, init: 'this'})\n  declare options: NodeArray<MenuOption>;\n\n  static get Listeners() {\n    return {\n      'option-selected-changed': 'onOptionSelectedChanged',\n    };\n  }\n\n  constructor(args: string | number | boolean | null | undefined | MenuOptionProps) {\n\n    if (typeof args === 'string' || typeof args === 'number' || typeof args === 'boolean' || args === null || args === undefined) {\n      args = {\n        id: String(args),\n        value: args,\n      };\n    }\n\n    args = { ...args };\n    args.id = args.id ?? 'null'; // TODO: Reconsider.\n    args.label = args.label ?? args.id;\n    args.value = args.value ?? args.id;\n    args.options = args.options ?? [];\n    args.options = args.options.map(option => (option instanceof MenuOption) ? option : new MenuOption(option));\n\n    const hardenedOptions = args.options as MenuOption[];\n    const selectedOptions = hardenedOptions.filter(option => option.mode === 'select' && option.selected);\n    for (let i = 1; i < selectedOptions.length; i++) {\n      debug: console.warn('Duplicate selected options with mode \"select\" found!', selectedOptions);\n      selectedOptions[i].selected = false;\n    }\n\n    super(args as MenuOptionProps);\n  }\n  getAllOptions() {\n    const options: MenuOption[] = [this];\n    for (let i = 0; i < this.options.length; i++) {\n      options.push(...this.options[i].getAllOptions());\n    }\n    debug: {\n      const ids = new Set();\n      for (let i = 0; i < options.length; i++) {\n        if (ids.has(options[i].id)) console.warn(`Duplicate id \"${options[i].id}\"`, this);\n        ids.add(options[i].id);\n      }\n    }\n    return options;\n  }\n  findItemByValue(value: any) {\n    const allItems = this.getAllOptions();\n    for (let i = 0; i < allItems.length; i++) {\n      if (allItems[i].value === value) return allItems[i];\n    }\n    return null;\n  }\n  findItemById(id: string) {\n    const allItems = this.getAllOptions();\n    for (let i = 0; i < allItems.length; i++) {\n      if (allItems[i].id === id) return allItems[i];\n    }\n    return null;\n  }\n  selectDefault() {\n    let walker: MenuOption | undefined = this.mode === 'select' ? this : undefined;\n    while (walker) {\n      const next = walker.options.find(option => option.mode === 'select');\n      if (walker.mode === 'select' && next) {\n        walker = next;\n      } else {\n        break;\n      }\n    }\n    if (walker) walker.selected = true;\n  }\n  selectedChanged() {\n    if (this.selected === false) {\n      this.unselectSuboptions();\n    }\n    this.dispatch('option-selected-changed', {option: this}, true);\n  }\n  selectedIDChanged() {\n    const option = this.findItemById(this.selectedID);\n    if (option) {\n      option.selected = true;\n      this.dispatch('option-selected', {option: option}, false);\n    }\n  }\n  selectedIDImmediateChanged() {\n    if (this.selectedIDImmediate) {\n      this.selected = true;\n      const option = this.options.find(option => option.id === this.selectedIDImmediate);\n      if (option) option.selected = true;\n    }\n    this.updatePaths();\n  }\n  getSelectedIDImmediate() {\n    let selected = '';\n    for (let i = 0; i < this.options.length; i++) {\n      const item = this.options[i];\n      if (item.selected && item.id && item.mode === 'select') {\n        selected = item.id;\n        break;\n      }\n    }\n    return selected;\n  }\n  setSelectedIDImmediate(id: string) {\n    // TODO Test and reconsider withInternalOperation\n    this.options.withInternalOperation(() => {\n      for (let i = 0; i < this.options.length; i++) {\n        const item = this.options[i];\n        if (item.id === id) {\n          item.selected = true;\n        } else {\n          item.selected = false;\n        }\n      }\n    });\n    this.options.dispatchMutation();\n  }\n  onOptionSelectedChanged(event: CustomEvent) {\n    // TODO: Instead of this check, use event.stopPropagation() once implemented in EventDispatcher.\n    if (this.options.indexOf(event.detail.option) === -1) return;\n    if (event.detail.option === this) return;\n    const selectedOption = event.detail.option;\n    if (selectedOption.selected) {\n      for (let i = 0; i < this.options.length; i++) {\n        const option = this.options[i] as MenuOption;\n        if (option !== selectedOption && option.mode === 'select' && selectedOption.mode === 'select') {\n          option.selected = false;\n        }\n      }\n    }\n    const hasSelected = this.options.some(option => option.selected && option.mode === 'select');\n    if (hasSelected) {\n      // this.updatePaths();\n    } else {\n      this.setProperties({\n        selectedID: '',\n        selectedIDImmediate: '',\n        path: '',\n      });\n    }\n  }\n  unselectSuboptions() {\n    for (let i = 0; i < this.options.length; i++) {\n      const option = this.options[i];\n      if (option.mode === 'select') {\n        option.selected = false;\n        option.unselectSuboptions();\n      }\n    }\n  }\n  updatePaths() {\n    const path: string[] = [];\n    if (this.mode !== 'select' || !this.selected) {\n      this.path = '';\n      return;\n    }\n\n    let selectedIDImmediate = this.getSelectedIDImmediate();\n    let walker = selectedIDImmediate ? this.options.find(option => option.mode === 'select' && option.selected && option.id === selectedIDImmediate) : undefined;\n    if (!walker) return;\n\n    while (walker) {\n      path.push(walker.id);\n      selectedIDImmediate = walker.getSelectedIDImmediate();\n      walker = selectedIDImmediate ? walker.options.find(option => option.mode === 'select' && option.selected && option.id === selectedIDImmediate) : undefined;\n    }\n    this.path = path.join(',');\n  }\n  pathChanged() {\n    const path = this.path ? [...this.path.split(',')] : [];\n    if (path.length) this.selectedID = path[path.length - 1];\n  }\n  optionsMutated(event: CustomEvent) {\n    // console.log('optionsMutated', this.id, this.options.length);\n    const selectedIDImmediate = this.getSelectedIDImmediate();\n    if (this.mode === 'select' && selectedIDImmediate && this.options.length) {\n      this.setProperties({\n        // selected: !!selectedIDImmediate,\n        selectedIDImmediate: selectedIDImmediate,\n      });\n    }\n    this.updatePaths();\n    this.dispatchMutation();\n  }\n  toJSON(): MenuOptionProps {\n    return {\n      id: this.id,\n      value: this.value,\n      label: this.label,\n      icon: this.icon,\n      hint: this.hint,\n      disabled: this.disabled,\n      // action: N/A for serialization\n      mode: this.mode,\n      options: this.options.map(option => option.toJSON()),\n    };\n  }\n  fromJSON(json: MenuOptionProps) {\n    this.setProperties({\n      id: json.id,\n      value: json.value ?? undefined,\n      label: json.label ?? json.id,\n      icon: json.icon ?? '',\n      hint: json.hint ?? '',\n      disabled: json.disabled ?? false,\n      // action: N/A for serialization\n      mode: json.mode ?? 'select',\n      selected: json.selected ?? false,\n      options: json.options?.map(option => new MenuOption(option)) ?? [],\n    });\n    return this;\n  }\n  changed() {\n    debug: {\n      if (['select', 'toggle', 'none'].indexOf(this.mode) === -1) {\n        console.warn(`Unknown \"mode\" property \"${this.mode}\"!`, this);\n      }\n      if (this.selected && ['select', 'toggle'].indexOf(this.mode) === -1) {\n        console.warn('\"selected\" property is only valid when mode is \"select\" or \"toggle\"!', this);\n      }\n      if (!this.id) {\n        console.warn('\"id\" property is required!', this);\n      }\n      if (this.action && typeof this.action !== 'function') {\n        console.warn(`Invalid type \"${typeof this.action}\" of \"action\" property!`, this);\n      }\n    }\n  }\n  dispose() {\n    this.options.length = 0; // TODO: test magic!\n    super.dispose();\n  }\n}"]}