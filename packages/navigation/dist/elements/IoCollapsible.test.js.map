{"version":3,"file":"IoCollapsible.test.js","sourceRoot":"","sources":["../../src/elements/IoCollapsible.test.ts"],"names":[],"mappings":"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","sourcesContent":["//@ts-nocheck\nimport { describe, it, expect, beforeEach, afterEach } from 'vitest'\nimport { nextQueue } from '@io-gui/core'\nimport { IoCollapsible, ioCollapsible } from '@io-gui/navigation'\n\ndescribe('IoCollapsible', () => {\n  let container: HTMLElement\n  let collapsible: IoCollapsible\n\n  beforeEach(() => {\n    container = document.createElement('div')\n    container.style.display = 'none'\n    document.body.appendChild(container)\n  })\n\n  afterEach(() => {\n    if (collapsible) collapsible.remove()\n    container.remove()\n  })\n\n  describe('Construction', () => {\n    it('should be defined', () => {\n      expect(IoCollapsible).toBeDefined()\n    })\n\n    it('should have default property values', () => {\n      collapsible = new IoCollapsible()\n      container.appendChild(collapsible)\n\n      expect(collapsible.elements).toEqual([])\n      expect(collapsible.label).toBe('')\n      expect(collapsible.direction).toBe('column')\n      expect(collapsible.icon).toBe('')\n      expect(collapsible.expanded).toBe(false)\n      expect(collapsible.role).toBe('region')\n    })\n\n    it('should accept constructor arguments', () => {\n      const elements = [{ tag: 'div', props: { id: 'content' } }]\n      collapsible = new IoCollapsible({\n        elements,\n        label: 'Test Label',\n        direction: 'row',\n        icon: 'test-icon',\n        expanded: true\n      })\n      container.appendChild(collapsible)\n\n      expect(collapsible.elements).toBe(elements)\n      expect(collapsible.label).toBe('Test Label')\n      expect(collapsible.direction).toBe('row')\n      expect(collapsible.icon).toBe('test-icon')\n      expect(collapsible.expanded).toBe(true)\n    })\n\n    it('should have Style getter', () => {\n      expect(IoCollapsible.Style).toBeDefined()\n      expect(typeof IoCollapsible.Style).toBe('string')\n      expect(IoCollapsible.Style).toContain(':host')\n      expect(IoCollapsible.Style).toContain('io-collapsible-content')\n    })\n  })\n\n  describe('Rendering', () => {\n    it('should render io-boolean toggle', async () => {\n      collapsible = new IoCollapsible({ label: 'Toggle' })\n      container.appendChild(collapsible)\n\n      await nextQueue()\n\n      const toggle = collapsible.querySelector('io-boolean')\n      expect(toggle).toBeTruthy()\n    })\n\n    it('should render content container', async () => {\n      collapsible = new IoCollapsible({ expanded: true, elements: [{ tag: 'span' }] })\n      container.appendChild(collapsible)\n\n      await nextQueue()\n\n      const contentDiv = collapsible.querySelector('.io-collapsible-content')\n      expect(contentDiv).toBeTruthy()\n    })\n\n    it('should pass label to io-boolean', async () => {\n      collapsible = new IoCollapsible({ label: 'Section Title' })\n      container.appendChild(collapsible)\n\n      await nextQueue()\n\n      const toggle = collapsible.querySelector('io-boolean')\n      expect(toggle?.true).toBe('Section Title')\n      expect(toggle?.false).toBe('Section Title')\n    })\n\n    it('should pass icon to io-boolean', async () => {\n      collapsible = new IoCollapsible({ icon: 'custom-icon' })\n      container.appendChild(collapsible)\n\n      await nextQueue()\n\n      const toggle = collapsible.querySelector('io-boolean')\n      expect(toggle?.icon).toBe('custom-icon')\n    })\n  })\n\n  describe('Expanded state', () => {\n    it('should render elements when expanded', async () => {\n      collapsible = new IoCollapsible({\n        expanded: true,\n        elements: [\n          { tag: 'span', props: { id: 'child1' } },\n          { tag: 'div', props: { id: 'child2' } }\n        ]\n      })\n      container.appendChild(collapsible)\n\n      await nextQueue()\n\n      const contentDiv = collapsible.querySelector('.io-collapsible-content')\n      expect(contentDiv?.querySelector('#child1')).toBeTruthy()\n      expect(contentDiv?.querySelector('#child2')).toBeTruthy()\n    })\n\n    it('should not render elements when collapsed', async () => {\n      collapsible = new IoCollapsible({\n        expanded: false,\n        elements: [\n          { tag: 'span', props: { id: 'child1' } }\n        ]\n      })\n      container.appendChild(collapsible)\n\n      await nextQueue()\n\n      const contentDiv = collapsible.querySelector('.io-collapsible-content')\n      expect(contentDiv?.children.length).toBe(0)\n    })\n\n    it('should toggle elements visibility when expanded changes', async () => {\n      collapsible = new IoCollapsible({\n        expanded: false,\n        elements: [{ tag: 'span', props: { id: 'child' } }]\n      })\n      container.appendChild(collapsible)\n\n      await nextQueue()\n\n      let contentDiv = collapsible.querySelector('.io-collapsible-content')\n      expect(contentDiv?.children.length).toBe(0)\n\n      collapsible.expanded = true\n      await nextQueue()\n\n      contentDiv = collapsible.querySelector('.io-collapsible-content')\n      expect(contentDiv?.querySelector('#child')).toBeTruthy()\n\n      collapsible.expanded = false\n      await nextQueue()\n\n      contentDiv = collapsible.querySelector('.io-collapsible-content')\n      expect(contentDiv?.children.length).toBe(0)\n    })\n\n    it('should reflect expanded attribute', () => {\n      collapsible = new IoCollapsible({ expanded: false })\n      container.appendChild(collapsible)\n\n      expect(collapsible.getAttribute('expanded')).toBeNull()\n\n      collapsible.expanded = true\n      expect(collapsible.getAttribute('expanded')).toBe('')\n\n      collapsible.expanded = false\n      expect(collapsible.getAttribute('expanded')).toBeNull()\n    })\n  })\n\n  describe('Direction', () => {\n    it('should default to column direction', async () => {\n      collapsible = new IoCollapsible()\n      container.appendChild(collapsible)\n\n      expect(collapsible.direction).toBe('column')\n      expect(collapsible.getAttribute('direction')).toBe('column')\n    })\n\n    it('should support row direction', async () => {\n      collapsible = new IoCollapsible({ direction: 'row' })\n      container.appendChild(collapsible)\n\n      expect(collapsible.direction).toBe('row')\n      expect(collapsible.getAttribute('direction')).toBe('row')\n    })\n\n    it('should reflect direction attribute', () => {\n      collapsible = new IoCollapsible({ direction: 'column' })\n      container.appendChild(collapsible)\n\n      expect(collapsible.getAttribute('direction')).toBe('column')\n\n      collapsible.direction = 'row'\n      expect(collapsible.getAttribute('direction')).toBe('row')\n    })\n  })\n\n  describe('Toggle binding', () => {\n    it('should bind expanded to io-boolean value', async () => {\n      collapsible = new IoCollapsible({ expanded: false, label: 'Test' })\n      container.appendChild(collapsible)\n\n      await nextQueue()\n\n      const toggle = collapsible.querySelector('io-boolean')\n      expect(toggle).toBeTruthy()\n      expect(toggle.value).toBe(false)\n\n      collapsible.expanded = true\n      await nextQueue()\n\n      expect(toggle.value).toBe(true)\n    })\n\n    it('should update expanded when io-boolean value changes', async () => {\n      collapsible = new IoCollapsible({ expanded: false, label: 'Test' })\n      container.appendChild(collapsible)\n\n      await nextQueue()\n\n      const toggle = collapsible.querySelector('io-boolean')\n      expect(toggle).toBeTruthy()\n      toggle.value = true\n\n      expect(collapsible.expanded).toBe(true)\n    })\n  })\n\n  describe('Accessibility', () => {\n    it('should have role=\"region\"', () => {\n      collapsible = new IoCollapsible()\n      container.appendChild(collapsible)\n\n      expect(collapsible.role).toBe('region')\n    })\n  })\n\n  describe('Factory function', () => {\n    it('should export ioCollapsible factory function', () => {\n      expect(typeof ioCollapsible).toBe('function')\n    })\n\n    it('should create virtual constructor from factory', () => {\n      const vdom = ioCollapsible({ label: 'Test', expanded: true })\n\n      expect(vdom).toBeDefined()\n      expect(vdom.tag).toBe('io-collapsible')\n      expect(vdom.props?.label).toBe('Test')\n      expect(vdom.props?.expanded).toBe(true)\n    })\n  })\n})\n"]}