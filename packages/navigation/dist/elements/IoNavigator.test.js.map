{"version":3,"file":"IoNavigator.test.js","sourceRoot":"","sources":["../../src/elements/IoNavigator.test.ts"],"names":[],"mappings":"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","sourcesContent":["//@ts-nocheck\nimport { describe, it, expect, beforeEach, afterEach } from 'vitest'\nimport { nextQueue } from '@io-gui/core'\nimport { MenuOption } from '@io-gui/menus'\nimport { IoNavigator, ioNavigator, IoSelector } from '@io-gui/navigation'\n\ndescribe('IoNavigator', () => {\n  let container: HTMLElement\n  let navigator: IoNavigator\n  let option: MenuOption\n\n  beforeEach(() => {\n    container = document.createElement('div')\n    container.style.display = 'none'\n    document.body.appendChild(container)\n\n    option = new MenuOption({\n      id: 'root',\n      options: [\n        { id: 'page1', label: 'Page 1' },\n        { id: 'page2', label: 'Page 2' },\n        { id: 'page3', label: 'Page 3', options: [\n          { id: 'page3-1', label: 'Page 3.1' },\n          { id: 'page3-2', label: 'Page 3.2' },\n        ]},\n      ]\n    })\n  })\n\n  afterEach(() => {\n    if (navigator) navigator.remove()\n    container.remove()\n  })\n\n  describe('Construction', () => {\n    it('should be defined', () => {\n      expect(IoNavigator).toBeDefined()\n    })\n\n    it('should have default property values', async () => {\n      navigator = new IoNavigator({ option })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      expect(navigator.elements).toEqual([])\n      expect(navigator.widget).toBeNull()\n      expect(navigator.menu).toBe('left')\n      expect(navigator.depth).toBe(Infinity)\n      expect(navigator.select).toBe('shallow')\n      expect(navigator.caching).toBe('none')\n      expect(navigator.anchor).toBe('')\n    })\n\n    it('should accept constructor arguments', () => {\n      const elements = [{ tag: 'div', props: { id: 'page1' } }]\n      navigator = new IoNavigator({\n        option,\n        elements,\n        menu: 'top',\n        depth: 2,\n        select: 'deep',\n        caching: 'reactive'\n      })\n      container.appendChild(navigator)\n\n      expect(navigator.menu).toBe('top')\n      expect(navigator.depth).toBe(2)\n      expect(navigator.select).toBe('deep')\n      expect(navigator.caching).toBe('reactive')\n      expect(navigator.elements).toBe(elements)\n    })\n\n    it('should have Style getter', () => {\n      expect(IoNavigator.Style).toBeDefined()\n      expect(typeof IoNavigator.Style).toBe('string')\n      expect(IoNavigator.Style).toContain(':host')\n    })\n  })\n\n  describe('Menu positions', () => {\n    it('should render io-menu-options for top menu', async () => {\n      navigator = new IoNavigator({ option, elements: [], menu: 'top' })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      expect(navigator.querySelector('io-menu-options')).toBeTruthy()\n      expect(navigator.querySelector('io-menu-tree')).toBeNull()\n      expect(navigator.querySelector('io-selector')).toBeTruthy()\n    })\n\n    it('should render io-menu-tree for left menu', async () => {\n      navigator = new IoNavigator({ option, elements: [], menu: 'left' })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      expect(navigator.querySelector('io-menu-tree')).toBeTruthy()\n      expect(navigator.querySelector('io-menu-options')).toBeNull()\n      expect(navigator.querySelector('io-selector')).toBeTruthy()\n    })\n\n    it('should render io-menu-tree for right menu', async () => {\n      navigator = new IoNavigator({ option, elements: [], menu: 'right' })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      expect(navigator.querySelector('io-menu-tree')).toBeTruthy()\n      expect(navigator.querySelector('io-menu-options')).toBeNull()\n      expect(navigator.querySelector('io-selector')).toBeTruthy()\n    })\n\n    it('should reflect menu attribute', () => {\n      navigator = new IoNavigator({ option, elements: [], menu: 'left' })\n      container.appendChild(navigator)\n\n      expect(navigator.getAttribute('menu')).toBe('left')\n\n      navigator.menu = 'right'\n      expect(navigator.getAttribute('menu')).toBe('right')\n\n      navigator.menu = 'top'\n      expect(navigator.getAttribute('menu')).toBe('top')\n    })\n\n    it('should place selector after menu-tree for right position', async () => {\n      navigator = new IoNavigator({ option, elements: [], menu: 'right' })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      const children = Array.from(navigator.children)\n      expect(children[0].tagName.toLowerCase()).toBe('io-selector')\n      expect(children[1].tagName.toLowerCase()).toBe('io-menu-tree')\n    })\n\n    it('should place menu-tree before selector for left position', async () => {\n      navigator = new IoNavigator({ option, elements: [], menu: 'left' })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      const children = Array.from(navigator.children)\n      expect(children[0].tagName.toLowerCase()).toBe('io-menu-tree')\n      expect(children[1].tagName.toLowerCase()).toBe('io-selector')\n    })\n  })\n\n  describe('Select modes', () => {\n    it('should use selectedIDImmediate for shallow select', async () => {\n      option.selectDefault()\n      navigator = new IoNavigator({ option, elements: [], select: 'shallow' })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      const selector = navigator.querySelector('io-selector') as IoSelector\n      expect(selector.selected).toBe(option.selectedIDImmediate)\n    })\n\n    it('should use selectedID for deep select', async () => {\n      option.selectDefault()\n      navigator = new IoNavigator({ option, elements: [], select: 'deep' })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      const selector = navigator.querySelector('io-selector') as IoSelector\n      expect(selector.selected).toBe(option.selectedID)\n    })\n\n    it('should use \"*\" for all select', async () => {\n      navigator = new IoNavigator({ option, elements: [], select: 'all' })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      const selector = navigator.querySelector('io-selector') as IoSelector\n      expect(selector.selected).toBe('*')\n    })\n\n    it('should use empty string for none select', async () => {\n      navigator = new IoNavigator({ option, elements: [], select: 'none' })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      const selector = navigator.querySelector('io-selector') as IoSelector\n      expect(selector.selected).toBe('')\n    })\n  })\n\n  describe('Elements and caching', () => {\n    it('should pass elements to io-selector', async () => {\n      const elements = [\n        { tag: 'div', props: { id: 'page1' } },\n        { tag: 'span', props: { id: 'page2' } }\n      ]\n      navigator = new IoNavigator({ option, elements })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      const selector = navigator.querySelector('io-selector') as IoSelector\n      expect(selector.elements).toBe(elements)\n    })\n\n    it('should pass caching mode to io-selector', async () => {\n      navigator = new IoNavigator({ option, elements: [], caching: 'proactive' })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      const selector = navigator.querySelector('io-selector') as IoSelector\n      expect(selector.caching).toBe('proactive')\n    })\n  })\n\n  describe('Anchor binding', () => {\n    it('should bind anchor to io-selector', async () => {\n      navigator = new IoNavigator({ option, elements: [], anchor: 'section1' })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      const selector = navigator.querySelector('io-selector') as IoSelector\n      expect(selector.anchor).toBe('section1')\n\n      navigator.anchor = 'section2'\n      await nextQueue()\n\n      expect(selector.anchor).toBe('section2')\n    })\n  })\n\n  describe('Depth property', () => {\n    it('should pass depth to menu components', async () => {\n      navigator = new IoNavigator({ option, elements: [], menu: 'left', depth: 2 })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      const menuTree = navigator.querySelector('io-menu-tree')\n      expect(menuTree?.depth).toBe(2)\n    })\n  })\n\n  describe('Option mutation', () => {\n    it('should re-render when option is mutated', async () => {\n      option.selectDefault()\n      navigator = new IoNavigator({ option, elements: [], select: 'shallow' })\n      container.appendChild(navigator)\n\n      await nextQueue()\n\n      const selector = navigator.querySelector('io-selector') as IoSelector\n      const initialSelected = selector.selected\n\n      option.options[1].selected = true\n      navigator.optionMutated()\n      await nextQueue()\n\n      expect(selector.selected).not.toBe(initialSelected)\n    })\n  })\n\n  describe('Factory function', () => {\n    it('should export ioNavigator factory function', () => {\n      expect(typeof ioNavigator).toBe('function')\n    })\n\n    it('should create virtual constructor from factory', () => {\n      const vdom = ioNavigator({ option, menu: 'top' })\n\n      expect(vdom).toBeDefined()\n      expect(vdom.tag).toBe('io-navigator')\n      expect(vdom.props?.menu).toBe('top')\n    })\n  })\n})\n"]}