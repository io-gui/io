{"version":3,"file":"IoNavigator.js","sourceRoot":"","sources":["../../src/elements/IoNavigator.ts"],"names":[],"mappings":"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","sourcesContent":["import { IoElement, VDOMElement, ReactiveProperty, IoElementProps, WithBinding, Register } from '@io-gui/core'\nimport { MenuOption, ioMenuOptions, ioMenuTree } from '@io-gui/menus'\nimport { CachingType, ioSelector } from './IoSelector.js'\n\nexport type MenuPositionType = 'top' | 'left' | 'right'\nexport type SelectType = 'shallow' | 'deep' | 'all' | 'none'\n\nexport type IoNavigatorProps = IoElementProps & {\n  option?: MenuOption\n  elements?: VDOMElement[]\n  widget?: VDOMElement\n  menu?: MenuPositionType\n  depth?: number\n  select?: SelectType\n  caching?: CachingType\n  anchor?: WithBinding<string>\n}\n\n@Register\nexport class IoNavigator extends IoElement {\n  static get Style() {\n    return /* css */`\n      :host {\n        display: flex;\n        flex-direction: column;\n        flex: 1 1 auto;\n      }\n      :host[menu=left],\n      :host[menu=right] {\n        flex-direction: row;\n      }\n      :host > io-menu-tree {\n        align-self: stretch;\n        flex: 0 0 auto;\n        min-width: 10em;\n        border: var(--io_border);\n        overflow-y: auto;\n        border-radius: 0;\n      }\n      :host[menu=left] > io-menu-tree {\n        border-width: 0 var(--io_borderWidth) 0 0;\n      }\n      :host[menu=left] > io-menu-tree {\n        border-width: 0 var(--io_borderWidth) 0 0;\n      }\n      :host > io-menu-options {\n        border: none;\n        border-bottom: var(--io_border);\n        border-radius: 0;\n      }\n    `\n  }\n\n  @ReactiveProperty({type: Array, init: null})\n  declare elements: VDOMElement[]\n\n  @ReactiveProperty({type: MenuOption})\n  declare option: MenuOption\n\n  @ReactiveProperty(null)\n  declare widget: VDOMElement | null\n\n  @ReactiveProperty({value: 'left', type: String, reflect: true})\n  declare menu: MenuPositionType\n\n  @ReactiveProperty({value: Infinity, type: Number})\n  declare depth: number\n\n  @ReactiveProperty({value: 'shallow', type: String})\n  declare select: SelectType\n\n  @ReactiveProperty({value: 'none', type: String})\n  declare caching: CachingType\n\n  @ReactiveProperty({value: '', type: String})\n  declare anchor: string\n\n  optionMutated() {\n    this.changed()\n  }\n\n  changed() {\n    const sharedMenuConfig = {\n      option: this.option,\n      widget: this.widget,\n      depth: this.depth\n    }\n\n    // TODO: add widget and test collapse!!\n    let selected = ''\n    if (this.select === 'shallow') selected = this.option.selectedIDImmediate\n    if (this.select === 'deep') selected = this.option.selectedID\n    if (this.select === 'all') selected = '*'\n    if (this.select === 'none') selected = ''\n\n    if (this.menu === 'top') {\n      this.render([\n        ioMenuOptions({horizontal: true, ...sharedMenuConfig}),\n        ioSelector({selected: selected, anchor: this.bind('anchor'), caching: this.caching, elements: this.elements}),\n      ])\n    } else if (this.menu === 'left') {\n      this.render([\n        ioMenuTree({...sharedMenuConfig}),\n        ioSelector({selected: selected, anchor: this.bind('anchor'), caching: this.caching, elements: this.elements}),\n      ])\n    } else if (this.menu === 'right') {\n      this.render([\n        ioSelector({selected: selected, anchor: this.bind('anchor'), caching: this.caching,elements: this.elements}),\n        ioMenuTree({...sharedMenuConfig}),\n      ])\n    }\n  }\n}\n\nexport const ioNavigator = function(arg0?: IoNavigatorProps) {\n  return IoNavigator.vConstructor(arg0)\n}"]}