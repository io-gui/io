import{ReactiveProperty as e,Register as t,IoElement as o,HTML_ELEMENTS as n,div as i,span as r,Storage as a,Property as s,Node as l,IoGl as c,Theme as d,Color as p}from"io-gui";import{ioNumber as u,ioBoolean as h,ioString as g,ioSwitch as f,ioField as v,IoButton as m,ioButton as b}from"io-inputs";import{ioOptionSelect as y,MenuOptions as w}from"io-menus";import{ioNumberSlider as _}from"io-sliders";import{ioColorRgba as O}from"io-colors";var __decorate$6=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};let N=class IoVector extends o{static vConstructor;static get Style(){return"\n      :host {\n        display: flex;\n        flex: 1 1 auto;\n        min-width: var(--io_fieldHeight5);\n        width: var(--io_fieldHeight8);\n      }\n      :host > io-number {\n        flex: 1 1 auto;\n      }\n      :host > *:not(:last-child) {\n        margin-right: var(--io_spacing);\n      }\n      :host > io-boolicon {\n        flex-shrink: 0;\n        padding: var(--io_spacing);\n      }\n    "}_ratios={};_onNumberPointerDown(e){const t=e.composedPath()[0].id;if(this._ratios={},this.linked&&0!==this.value[t])for(const e of this.keys)this._ratios[e]=this.value[e]/this.value[t]}_onNumberValueInput(e){const t=e.composedPath()[0].id,o=e.detail.value,n=e.detail.oldValue,i=this.value;if(i[t]=o,this.linked)for(const e of this.keys)e!==t&&this._ratios[e]&&(i[e]=i[t]*this._ratios[e]);if(!this.value._isNode){const e=this.linked?{object:this.value}:{object:this.value,property:t,value:i,oldValue:n};this.dispatchEvent("object-mutated",e,!1,window)}}valueChanged(){this.keys.length=0,this.keys.push(...Object.keys(this.value).filter((e=>"number"==typeof this.value[e])))}valueMutated(){this.debounce(this.changed)}changed(){const e=[];for(const t of this.keys)void 0!==this.value[t]&&e.push(u({id:t,value:this.value[t],conversion:this.conversion,step:this.step,min:this.min,max:this.max,ladder:this.ladder,"@pointerdown":this._onNumberPointerDown,"@value-input":this._onNumberValueInput}));e.push(this.getSlotted()),this.render(e)}getSlotted(){return this.linkable?h({value:this.bind("linked"),true:"io:link",false:"io:unlink"}):null}};__decorate$6([e({type:Object})],N.prototype,"value",void 0),__decorate$6([e(1)],N.prototype,"conversion",void 0),__decorate$6([e(.001)],N.prototype,"step",void 0),__decorate$6([e(-Infinity)],N.prototype,"min",void 0),__decorate$6([e(Infinity)],N.prototype,"max",void 0),__decorate$6([e(!1)],N.prototype,"linkable",void 0),__decorate$6([e(!1)],N.prototype,"linked",void 0),__decorate$6([e(!0)],N.prototype,"ladder",void 0),__decorate$6([e({type:Array})],N.prototype,"keys",void 0),N=__decorate$6([t],N);const x=N.vConstructor,C=["$","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","DOCUMENT_POSITION_DISCONNECTED","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_CONTAINS","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC","onbeforecopy","onbeforecut","onbeforepaste","onsearch","onfullscreenchange","onfullscreenerror","onwebkitfullscreenchange","onwebkitfullscreenerror","namespaceURI","onbeforexrselect","onabort","onbeforeinput","onbeforematch","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontentvisibilityautostatechange","oncontextlost","oncontextmenu","oncontextrestored","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwebkitanimationend","onwebkitanimationiteration","onwebkitanimationstart","onwebkittransitionend","onwheel","onauxclick","ongotpointercapture","onlostpointercapture","onpointerdown","onpointermove","onpointerrawupdate","onpointerup","onpointercancel","onpointerover","onpointerout","onpointerenter","onpointerleave","onselectstart","onselectionchange","onanimationend","onanimationiteration","onanimationstart","ontransitionrun","ontransitionstart","ontransitionend","ontransitioncancel","oncopy","oncut","onpaste","oncommand","onscrollend","onscrollsnapchange","onscrollsnapchangin","onscrollsnapchanging","onafterprint","onbeforeprint","onbeforeunload","onhashchange","onlanguagechange","onmessage","onmessageerror","onoffline","ononline","onpagehide","onpageshow","onpopstate","onrejectionhandled","onstorage","onunhandledrejection","onunload","onenterpictureinpicture","onreadystatechange","onpointerlockchange","onpointerlockerror","onfreeze","onprerenderingchange","onresume","onvisibilitychange","onleavepictureinpicture"];function getAllPropertyNames(e){const t=[];let o=e;do{if(Object.getOwnPropertyNames(o).forEach((o=>{-1!==t.indexOf(o)||"function"==typeof e[o]||C.includes(o)||t.push(o)})),o.constructor===Node)break}while(o=Object.getPrototypeOf(o));return t}const k=new Map([[Object,{Hidden:[new RegExp(/^_/)]}],[Node,{Main:["textContent"],Input:["lang","translate","dir","inert","accessKey","draggable","writingSuggestions","spellcheck","autocapitalize","editContext","contentEditable","enterKeyHint","inputMode","virtualKeyboardPolicy"],Hierarchy:["isConnected","ownerDocument","parentNode","parentElement","childNodes","firstChild","lastChild","previousSibling","nextSibling","children","firstElementChild","lastElementChild","childElementCount","previousElementSibling","nextElementSibling","elementTiming"],Layout:["scrollTop","scrollLeft","scrollWidth","scrollHeight","clientTop","clientLeft","clientWidth","clientHeight","currentCSSZoom","offsetParent","offsetTop","offsetLeft","offsetWidth","offsetHeight"],Aria:["role","ariaAtomic","ariaAutoComplete","ariaBusy","ariaBrailleLabel","ariaBrailleRoleDescription","ariaChecked","ariaColCount","ariaColIndex","ariaColSpan","ariaCurrent","ariaDescription","ariaDisabled","ariaExpanded","ariaHasPopup","ariaHidden","ariaInvalid","ariaKeyShortcuts","ariaLabel","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRelevant","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText","ariaColIndexText","ariaRowIndexText","ariaActiveDescendantElement","ariaControlsElements","ariaDescribedByElements","ariaDetailsElements","ariaErrorMessageElements","ariaFlowToElements","ariaLabelledByElements"],Hidden:[]}]]);function getEditorGroups(e,t=new Map){const o={Main:[]};function aggregateGroups(t){for(const[n,i]of t)if(e instanceof n)for(const e in i){o[e]=o[e]||[],o[e].push(...i[e]);for(const t in o)if(t!==e)for(const n of i[e])o[t].includes(n)&&o[t].splice(o[t].indexOf(n),1)}}aggregateGroups(k),aggregateGroups(t);const n={Main:[]};for(const t of getAllPropertyNames(e)){let e=!1;for(const i of Object.keys(o)){n[i]=n[i]||[];for(const r of o[i])r!==t?r instanceof RegExp&&r.test(t)&&(n[i].push(t),e=!0):(n[i].push(t),e=!0)}e||n.Main.push(t)}return n}function registerEditorGroups(e,t){const o=k.get(e)||{};for(const e in t){o[e]=o[e]||[],o[e].push(...t[e]);for(const n in o)if(n!==e)for(const i of t[e])o[n].includes(i)&&o[n].splice(o[n].indexOf(i),1)}k.set(e,o)}const E=new Map([]);function getEditorWidget(e,t=new Map){function getWidget(t){let o=null;for(const[n,i]of t)e instanceof n&&(o=i);return o}let o=getWidget(E);return o=getWidget(t)||o,o}function registerEditorWidget(e,t){E.set(e,t)}var __decorate$5=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};let M=class IoPropertyEditor extends o{static vConstructor;static get Style(){return"\n    :host {\n      display: flex;\n      flex-direction: column;\n      color: var(--io_colorInput);\n      background-color: var(--io_bgColor);\n      border-radius: calc(var(--io_borderRadius) + var(--io_spacing));\n      font-size: var(--io_fontSize);\n    }\n    :host > .row {\n      display: flex;\n      flex-direction: row;\n      margin: var(--io_spacing);\n      padding: var(--io_spacing) 0;\n      border-radius: var(--io_borderRadius);\n      margin-bottom: 0;\n      background-color: var(--io_bgColorDimmed);\n    }\n    :host > .row:last-of-type {\n      margin-bottom: var(--io_spacing);\n    }\n    :host > .row > span {\n      margin: var(--io_spacing);\n      margin-left: var(--io_spacing2);\n      line-height: var(--io_lineHeight);\n      height: var(--io_lineHeight);\n      text-wrap: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n    :host > .row > span:after {\n      display: inline-block;\n      margin-left: var(--io_spacing);\n      opacity: 0.5;\n      content: ':';\n    }\n    :host io-object {\n      margin-right: var(--io_spacing);\n    }\n    "}_onValueInput(e){e.stopImmediatePropagation();const t=e.target.id;if(void 0!==t){const o=e.detail.value,n=e.detail.oldValue;if(this.value[t]=o,!this.value._isNode){const e={object:this.value,property:t,value:o,oldValue:n};this.dispatchEvent("object-mutated",e,!1,window)}}}valueMutated(){this.debounce(this.changed)}changed(){const e=getEditorConfig(this.value,this.config),t=getEditorGroups(this.value,this.groups),o=getEditorWidget(this.value,this.widgets),s=[],l=[];if(this.properties.length)s.push(...this.properties);else{if(o){const e={tag:o.tag,props:Object.assign({value:this.value},o.props),children:o.children};l.push(e)}s.push(...t.Main)}const c=getAllPropertyNames(this.value);for(let t=0;t<s.length;t++)if(c.includes(s[t])){const o=s[t],a=this.value[o],c=e[o].tag,d=e[o].props||{},p={id:o,value:a,"@value-input":this._onValueInput};let u;Object.assign(p,d),n.includes(c)&&"string"==typeof a&&(u=a),"io-object"!==c&&"io-property-editor"!==c||(p.config=p.config||this.config,p.groups=p.groups||this.groups),l.push(i({class:"row"},[this.labeled?r(o):null,{tag:c,props:p,children:u}]))}const d=function genIdentifier(e){let t="io-object-collapse-state-"+e.constructor.name;t+="-"+(e.guid||e.uuid||e.id||"");const o=JSON.stringify(Object.keys(e));let n=0;for(let e=0;e<o.length;e++)n=(n<<5)-n+o.charCodeAt(e),n|=0;return n=(-n).toString(16),t+="-"+n,t}(this.value);if(!this.properties.length)for(const e in t)"Main"!==e&&"Hidden"!==e&&t[e].length&&l.push(j({label:e,expanded:a({value:!1,storage:"local",key:d+"-"+e}),value:this.value,properties:t[e],config:this.config}));this.render(l)}toJSON(){return Object.assign({},super.toJSON(),this)}};__decorate$5([e("debounced")],M.prototype,"reactivity",void 0),__decorate$5([e({type:Object})],M.prototype,"value",void 0),__decorate$5([e({type:Array})],M.prototype,"properties",void 0),__decorate$5([e(!0)],M.prototype,"labeled",void 0),__decorate$5([e({type:Map})],M.prototype,"config",void 0),__decorate$5([e({type:Map})],M.prototype,"groups",void 0),__decorate$5([e({type:Map})],M.prototype,"widgets",void 0),M=__decorate$5([t],M);const S=M.vConstructor;var __decorate$4=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};let I=class IoObject extends o{static vConstructor;static get Style(){return'\n    :host {\n      display: flex;\n      flex-direction: column;\n      color: var(--io_colorInput);\n      background-color: var(--io_bgColor);\n      border-radius: calc(var(--io_borderRadius) + var(--io_spacing));\n    }\n    :host > io-boolean {\n      padding: var(--io_spacing) var(--io_spacing2);\n      align-self: stretch;\n    }\n    :host > io-boolean:before {\n      display: inline-block;\n      width: 0.75em;\n      content: "▸"\n    }\n    :host > io-boolean[value]:before {\n      content: "▾";\n    }\n    :host > io-property-editor {\n      margin: var(--io_spacing);\n      border: var(--io_border);\n      border-color: var(--io_borderColorInset);\n    }\n    '}changed(){const e=this.label||this.value.constructor.name,t=[];t.push(h({appearance:"neutral",true:e,false:e,value:this.bind("expanded")})),this.expanded&&t.push(S({value:this.value,properties:this.properties,config:this.config,groups:this.groups,widgets:this.widgets,labeled:this.labeled})),this.render(t),this.setAttribute("aria-expanded",String(this.expanded))}};__decorate$4([e()],I.prototype,"value",void 0),__decorate$4([e({type:Array})],I.prototype,"properties",void 0),__decorate$4([e(!0)],I.prototype,"labeled",void 0),__decorate$4([e("")],I.prototype,"label",void 0),__decorate$4([e({value:!1,reflect:!0})],I.prototype,"expanded",void 0),__decorate$4([e({type:Map})],I.prototype,"config",void 0),__decorate$4([e({type:Map})],I.prototype,"groups",void 0),__decorate$4([e({type:Map})],I.prototype,"widgets",void 0),__decorate$4([s("region")],I.prototype,"role",void 0),I=__decorate$4([t],I);const j=I.vConstructor;function optionMenu(e){for(let t=0;t<e.length;t++)null===e[t]&&(e[t]={value:null,id:"Null"});return y({options:(new w).fromJSON(e)})}const P=new Map([[Object,[[String,g()],[Number,u({step:.01})],[Boolean,f()],[Object,j()],[null,v({disabled:!0})],[void 0,v({disabled:!0})]]],[Array,[[Number,u({step:.01})]]],[window.Node,[["tabIndex",y({options:(new w).fromJSON([{value:"",id:"None"},"-1","0","1","2","3"])})],["innerHTML",g({disabled:!0,style:{maxWidth:"10em"}})],["outerHTML",g({disabled:!0,style:{maxWidth:"10em"}})],["autocapitalize",y({options:(new w).fromJSON(["off","sentences","words","characters",{value:"",id:"None"}])})],["writingSuggestions",y({options:(new w).fromJSON(["true","false"])})],["dir",y({options:(new w).fromJSON(["ltr","rtl","auto",{value:"",id:"None"}])})],["virtualKeyboardPolicy",y({options:(new w).fromJSON(["manual","auto",{value:"",id:"None"}])})],["enterKeyHint",y({options:(new w).fromJSON(["enter","done","go","next","previous","search","send",{value:"",id:"None"}])})],["contentEditable",y({options:(new w).fromJSON(["true","false","plaintext-only","inherit"])})],["inputMode",y({options:(new w).fromJSON(["decimal","email","numeric","tel","search","url","text",{value:"",id:"None"}])})],["lang",y({options:(new w).fromJSON([{value:"",id:"None"},"ab","aa","af","ak","sq","am","ar","an","hy","as","av","ae","ay","az","bm","ba","eu","be","bn","bh","bi","bs","br","bg","my","ca","ch","ce","ny","zh","zh-ans","zh-ant","cv","kw","co","cr","hr","cs","da","dv","nl","dz","en","eo","et","ee","fo","fj","fi","fr","ff","gl","gd","ka","de","el","kl","gn","gu","ht","ha","he","hz","hi","ho","hu","is","io","ig","id in","ia","ie","iu","ik","ga","it","ja","jv","kn","kr","ks","kk","km","ki","rw","rn","ky","kv","kg","ko","ku","kj","lo","la","lv","li","ln","lt","lu","lg","lb","gv","mk","mg","ms","ml","mt","mi","mr","mh","mo","mn","na","nv","ng","nd","ne","no","nb","nn","oc","oj","cu","or","om","os","pi","ps","fa","pl","pt","pa","qu","rm","ro","ru","se","sm","sg","sa","sr","sh","st","tn","sn","ii","sd","si","ss","sk","sl","so","nr","es","su","sw","sv","tl","ty","tg","ta","tt","te","th","bo","ti","to","ts","tr","tk","tw","ug","uk","ur","uz","ve","vi","vo","wa","cy","wo","fy","xh","yi","ji","yo","za","zu"])})],["role",y({options:(new w).fromJSON(["alert","alertdialog","application","article","banner","button","cell","checkbox","columnheader","combobox","complementary","contentinfo","definition","dialog","directory","document","feed","figure","form","grid","gridcell","group","heading","img","link","list","listbox","listitem","log","main","marquee","math","menu","menubar","menuitem","menuitemcheckbox","menuitemradio","navigation","none","note","option","presentation","progressbar","radio","radiogroup","region","row","rowgroup","rowheader","scrollbar","search","searchbox","separator","slider","spinbutton","status","switch","tab","table","tablist","tabpanel","term","textbox","timer","toolbar","tooltip","tree","treegrid","treeitem"])})],["ariaAtomic",optionMenu(["true","false",null])],["ariaAutoComplete",y({options:(new w).fromJSON(["inline","list","both","none"])})],["ariaBusy",optionMenu(["true","false",null])],["ariaBrailleLabel",g()],["ariaBrailleRoleDescription",g()],["ariaChecked",optionMenu(["true","false","mixed",null])],["ariaColCount",optionMenu([...[...Array(32)].map(((e,t)=>t+1)),null])],["ariaColIndex",optionMenu([...[...Array(32)].map(((e,t)=>t+1)),null])],["ariaColSpan",optionMenu([...[...Array(32)].map(((e,t)=>t+1)),null])],["ariaCurrent",optionMenu(["true","false","page","step","location","date","time",null])],["ariaDescription",g()],["ariaDisabled",optionMenu(["true","false",null])],["ariaExpanded",optionMenu(["true","false",null])],["ariaHasPopup",optionMenu(["true","false","menu","listbox","tree","grid","dialog",null])],["ariaHidden",optionMenu(["true","false",null])],["ariaInvalid",optionMenu(["true","false","grammar","spelling",null])],["ariaKeyShortcuts",g()],["ariaLabel",g()],["ariaLevel",optionMenu([...[...Array(32)].map(((e,t)=>t+1)),null])],["ariaLive",y({options:(new w).fromJSON(["assertive","polite","off"])})],["ariaModal",optionMenu(["true","false",null])],["ariaMultiLine",optionMenu(["true","false",null])],["ariaMultiSelectable",optionMenu(["true","false",null])],["ariaOrientation",y({options:(new w).fromJSON(["horizontal","vertical","undefined"])})],["ariaPlaceholder",g()],["ariaPosInSet",optionMenu([...[...Array(32)].map(((e,t)=>t+1)),null])],["ariaPressed",optionMenu(["true","false","mixed",null])],["ariaReadOnly",optionMenu(["true","false",null])],["ariaRequired",optionMenu(["true","false",null])],["ariaRelevant",y({options:(new w).fromJSON(["additions","all","removals","text"])})],["ariaRoleDescription",g()],["ariaRowCount",optionMenu([...[...Array(32)].map(((e,t)=>t+1)),null])],["ariaRowIndex",optionMenu([...[...Array(32)].map(((e,t)=>t+1)),null])],["ariaRowSpan",optionMenu([...[...Array(32)].map(((e,t)=>t+1)),null])],["ariaSelected",optionMenu(["true","false",null])],["ariaSetSize",optionMenu([...[...Array(32)].map(((e,t)=>t+1)),null])],["ariaSort",y({options:(new w).fromJSON(["none","ascending","descending","other"])})],["ariaValueMax",optionMenu([...[...Array(32)].map(((e,t)=>t+1)),null])],["ariaValueMin",optionMenu([...[...Array(32)].map(((e,t)=>t+1)),null])],["ariaValueNow",optionMenu([...[...Array(32)].map(((e,t)=>t+1)),null])],["ariaValueText",g()],["ariaColIndexText",g()],["ariaRowIndexText",g()]]],[Element,[]],[HTMLElement,[]],[l,[["reactivity",y({options:(new w).fromJSON(["none","debounced","immediate"])})]]],[o,[["reactivity",y({options:(new w).fromJSON(["none","debounced","immediate"])})]]],[c,[["size",x({step:1})],["color",x({step:1})]]],[d,[[Number,_({step:1,min:0,max:20})],["themeID",y({options:(new w).fromJSON(["light","dark"])})],["spacing2",v({disabled:!0})],["spacing3",v({disabled:!0})],["spacing5",v({disabled:!0})],["spacing8",v({disabled:!0})],["fieldHeight",v({disabled:!0})],["fieldHeight2",v({disabled:!0})],["fieldHeight3",v({disabled:!0})],["fieldHeight4",v({disabled:!0})],["fieldHeight5",v({disabled:!0})],["fieldHeight6",v({disabled:!0})],["fieldHeight7",v({disabled:!0})],["fieldHeight8",v({disabled:!0})],["fieldHeight9",v({disabled:!0})],["fieldHeight10",v({disabled:!0})],["fieldHeight11",v({disabled:!0})],["fieldHeight12",v({disabled:!0})],["borderRadius2",v({disabled:!0})],[p,O()]]]]);function getEditorConfig(e,t=new Map){const o=new Map;for(const[t,n]of P)if(e instanceof t)for(const[e,t]of n)o.set(e,t);for(const[n,i]of t)if(e instanceof n)for(const[e,t]of i)o.set(e,t);const n={};for(const t of getAllPropertyNames(e)){const i=e[t];for(const[e,r]of o){let o;"function"==typeof e&&i instanceof e||"function"==typeof e&&i?.constructor===e?o=r:"string"==typeof e&&t===e?"object"==typeof i&&null!==i&&"io-field"===r.tag||(o=r):(e instanceof RegExp&&e.test(t)||null===e&&null===i||void 0===e&&void 0===i)&&(o=r),o&&(n[t]=o)}}return n}function registerEditorConfig(e,t){const o=P.get(e)||[];for(const[e,n]of t){const t=o.find((t=>t[0]===e));t?t[1]=n:o.push([e,n])}P.set(e,o)}P.forEach(((e,t)=>{const o=Object.getOwnPropertyDescriptors(t.prototype);for(const[t,n]of Object.entries(o)){const o=!1!==n.writable,i=void 0!==n.get,r=void 0!==n.set;if(i&&!r||!o){const o=e.find((e=>e[0]===t));o?(o.length=0,o.push(t,v({disabled:!0}))):e.push([t,v({disabled:!0})])}}}));var __decorate$3=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};let T=class IoPropertyLink extends m{static vConstructor;static get Style(){return"\n    :host {\n      display: flex;\n    }\n    :host > span {\n      color: var(--io_colorBlue);\n      flex: 0 1 auto;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n    :host:hover > span {\n      text-decoration: underline;\n    }\n    "}valueMutated(){this.changed()}changed(){let e="";if(e=this.value instanceof Array?`${this.value.constructor.name} (${this.value.length})`:`${this.value.constructor.name}`,this.showName){const t=this.value.name;t&&(e+=` "${t}"`)}this.render([r(e)])}};__decorate$3([e()],T.prototype,"value",void 0),__decorate$3([e({value:!1,type:Boolean})],T.prototype,"showName",void 0),__decorate$3([e({value:"neutral",type:String,reflect:!0})],T.prototype,"appearance",void 0),T=__decorate$3([t],T);const R=T.vConstructor;var __decorate$2=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};let D=class IoBreadcrumbs extends o{static vConstructor;static get Style(){return"\n    :host {\n      display: flex;\n      overflow: hidden;\n    }\n    :host > div {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      flex: 1 1 auto;\n      border: var(--io_border);\n      border-color: var(--io_borderColorInset);\n      border-radius: var(--io_borderRadius);\n      background-color: var(--io_bgColorInput);\n      overflow: hidden;\n    }\n    :host > io-button {\n      padding-left: var(--io_spacing);\n      padding-right: var(--io_spacing);\n      margin: var(--io_borderWidth);\n      flex: 0 0 auto;\n    }\n    :host:not([search]) > io-button.clear-button {\n      display: none;\n    }\n    :host > div > io-property-link:last-of-type {\n      flex-shrink: 0;\n    }\n    :host > div > io-property-link:last-of-type > span {\n      flex-shrink: 0;\n      text-overflow: clip;\n    }\n    :host > div > io-property-link:not(:first-of-type):before {\n      content: '>';\n      padding-right: calc(var(--io_fontSize) / 2);\n      color: var(--io_colorStrong);\n      opacity: 0.5;\n    }\n    :host > .search-input {\n      flex: 0 0 auto;\n      overflow: hidden;\n      min-width: calc(var(--io_fieldHeight) + var(--io_borderWidth) * 2);\n      height: calc(var(--io_fieldHeight) + var(--io_borderWidth) * 2);\n      margin-left: var(--io_spacing);\n    }\n    :host > .search-input:empty::before {\n      content: '🔍';\n      font-size: 0.9em;\n    }\n    "}valueChanged(){this._crumbs.length=0,this._crumbs.push(this.value)}selectedChanged(){const e=this._crumbs.indexOf(this.selected);-1!==e?this._crumbs.length=e+1:this._crumbs.push(this.selected)}onClearSearch(){this.search=""}changed(){const e=[];this._crumbs.length>1&&e.push(b({icon:"io:arrow_left",class:"back-button",value:this._crumbs[this._crumbs.length-2]}));const t=i();t.children=[];for(let e=Math.max(0,this._crumbs.length-2);e<this._crumbs.length;e++)t.children.push(R({value:this._crumbs[e],showName:e===this._crumbs.length-1}));e.push(t,b({icon:"io:close",class:"clear-button",action:this.onClearSearch}),g({id:"search",class:"search-input",value:this.bind("search"),live:!0})),this.render(e)}};__decorate$2([e({type:Object})],D.prototype,"value",void 0),__decorate$2([e({type:Object})],D.prototype,"selected",void 0),__decorate$2([e({type:String,reflect:!0})],D.prototype,"search",void 0),__decorate$2([s(Array)],D.prototype,"_crumbs",void 0),D=__decorate$2([t],D);const A=D.vConstructor;var __decorate$1=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};let H=class IoInspector extends o{static vConstructor;static get Style(){return"\n    :host {\n      display: flex;\n      flex-direction: column;\n      align-items: stretch;\n      flex: 0 1 calc(var(--io_lineHeight) * 17.5);\n      padding: var(--io_spacing);\n      background-color: var(--io_bgColor);\n      border-radius: calc(var(--io_borderRadius) + var(--io_spacing));\n    }\n    :host > io-breadcrumbs {\n      margin: 0 var(--io_spacing);\n    }\n    :host > span {\n      padding: var(--io_spacing) var(--io_spacing3);\n      color: var(--io_colorStrong);\n    }\n    :host io-property-editor > .row > span {\n      min-width: 6em;\n      text-align: right;\n    }\n    "}static get Listeners(){return{"io-button-clicked":"onLinkClicked"}}onLinkClicked(e){e.stopPropagation();const t=e.detail.value,o=e.composedPath()[0];t&&"object"==typeof t&&("io-property-link"!==o.localName&&"back-button"!==o.className||this.setProperty("selected",t))}valueChanged(){this.selected=this.value}selectedChanged(){this.search=""}selectedMutated(){clearTimeout(this._cfgTimeout),this._cfgTimeout=setTimeout((()=>{this._onChange()}),100)}changed(){this._onChangedThrottled()}_onChangedThrottled(){this.throttle(this._onChange)}_onChange(){const e=[A({value:this.value,selected:this.bind("selected"),search:this.bind("search")})],t=new Map(this.config);t.has(Object)||t.set(Object,[]),t.get(Object).push([Object,R({showName:!0})]);const o=[];if(this.search)for(const[e]of getAllPropertyNames(this.selected))e.toLowerCase().includes(this.search.toLowerCase())&&o.push(e);this.search&&0===o.length?e.push(r(`No results found for "${this.search}"`)):e.push(S({value:this.selected,config:t,groups:this.groups,widgets:this.widgets,properties:o})),this.render(e)}};__decorate$1([e()],H.prototype,"value",void 0),__decorate$1([e()],H.prototype,"selected",void 0),__decorate$1([e("")],H.prototype,"search",void 0),__decorate$1([e({type:Map})],H.prototype,"config",void 0),__decorate$1([e({type:Map})],H.prototype,"groups",void 0),__decorate$1([e({type:Map})],H.prototype,"widgets",void 0),H=__decorate$1([t],H);const L=H.vConstructor;var __decorate=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};let J=class IoMatrix extends N{static vConstructor;static get Style(){return'\n      :host {\n        display: grid;\n        align-self: stretch;\n        justify-self: stretch;\n        grid-gap: var(--io_spacing);\n      }\n      :host > *:not(:last-child) {\n        margin-right: 0;\n      }\n      :host[columns="4"] {\n        grid-template-columns: repeat(4, 1fr);\n      }\n      :host[columns="3"] {\n        grid-template-columns: repeat(3, 1fr);\n      }\n      :host[columns="2"] {\n        grid-template-columns: repeat(2, 1fr);\n      }\n    '}_onNumberValueInput(e){const t=e.composedPath()[0].id,o=e.detail.value,n=e.detail.oldValue;if(this.value[t]=o,!this.value._isNode){const e={object:this.value,property:t,value:o,oldValue:n};this.dispatchEvent("object-mutated",e,!1,window)}}valueChanged(){4===this.value.length&&this.setProperties({keys:["0","1","2","3"],columns:2}),9===this.value.length&&this.setProperties({keys:["0","1","2","3","4","5","6","7","8"],columns:3}),16===this.value.length&&this.setProperties({keys:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],columns:4})}};__decorate([e({type:Array,init:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]})],J.prototype,"value",void 0),__decorate([e({value:4,reflect:!0})],J.prototype,"columns",void 0),J=__decorate([t],J);const z=J.vConstructor;export{D as IoBreadcrumbs,H as IoInspector,J as IoMatrix,I as IoObject,M as IoPropertyEditor,N as IoVector,C as SKIPPED_PROPERTIES,getAllPropertyNames,getEditorConfig,getEditorGroups,getEditorWidget,A as ioBreadcrumbs,L as ioInspector,z as ioMatrix,j as ioObject,S as ioPropertyEditor,x as ioVector,registerEditorConfig,registerEditorGroups,registerEditorWidget};
