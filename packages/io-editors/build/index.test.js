import{nextQueue as e,ioText as t}from"io-gui";import{ioNumber as l,ioString as i}from"io-inputs";import{IoPropertyEditor as n}from"./index";const o={number:.5,string:"hello",boolean:!0,null:null,object:{prop:"prop"},array:[1,2,3]};class PropertyEditorTest{element=new n;constructor(){this.element.style.display="none",document.body.appendChild(this.element)}reset(){this.element.labeled=!0,this.element.value={},this.element.config=new Map,this.element.properties=[]}run(){describe("io-property-editor.test",(()=>{it("has default values",(()=>{expect(this.element.labeled).to.equal(!0),expect(JSON.stringify(this.element.value)).to.equal(JSON.stringify({})),expect(JSON.stringify(this.element.properties)).to.equal(JSON.stringify([])),expect(JSON.stringify(this.element.config)).to.equal(JSON.stringify({}))})),it("matches values",(async()=>{this.element.value=o,await e();const n=this.element.toVDOM()[2];expect(n[0][2][0]).to.eql(t("number")),expect(n[0][2][1]).to.eql(l({appearance:"inset","aria-valuemax":"Infinity","aria-valuemin":"-Infinity","aria-valuenow":"0.5","aria-valuestep":"0.01",inputmode:"numeric",pattern:'pattern="[0-9]*"',positive:"",role:"textbox",spellcheck:"false",tabindex:"0",type:"number",value:"0.5"},"0.5")),expect(n[1][2][0]).to.eql(t("string")),expect(n[1][2][1]).to.eql(i({appearance:"inset",role:"textbox",spellcheck:"false",tabindex:"0",type:"text",value:"hello"},"hello")),expect(this.element.children[1].children[1].textContent).to.equal("hello"),expect(this.element.children[1].children[1].localName).to.equal("io-string"),expect(this.element.children[2].children[0].textContent).to.equal("boolean"),expect(this.element.children[2].children[1].textContent).to.equal(""),expect(this.element.children[2].children[1].localName).to.equal("io-switch"),this.reset()}))}))}}class index_test{run(){(new PropertyEditorTest).run()}}export{index_test as default};
