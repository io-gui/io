{"version":3,"file":"IoObject.js","sourceRoot":"","sources":["../../src/elements/IoObject.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,gBAAgB,EAA4C,QAAQ,EAAE,MAAM,SAAS,CAAC;AACpH,OAAO,EAAE,SAAS,EAAE,MAAM,WAAW,CAAC;AACtC,OAAO,EAAE,gBAAgB,EAAE,MAAM,uBAAuB,CAAC;AAgBzD;;IAEI;AAEG,IAAM,QAAQ,GAAd,MAAM,QAAS,SAAQ,SAAS;IACrC,MAAM,KAAK,KAAK;QACd,OAAO,SAAS,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;KAyBf,CAAC;IACJ,CAAC;IA6BD,OAAO;QACL,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC;QACxD,MAAM,SAAS,GAAkB,EAAE,CAAC;QACpC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC;YACvB,UAAU,EAAE,SAAS;YACrB,IAAI,EAAE,KAAK;YACX,KAAK,EAAE,KAAK;YACZ,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;SAAC,CAC9B,CAAC,CAAC;QACH,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,SAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC;gBAC9B,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,OAAO,EAAE,IAAI,CAAC,OAAO;aACtB,CAAC,CAAC,CAAC;QACN,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACvB,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;IAC5D,CAAC;CACF,CAAA;AAhDS;IADP,gBAAgB,EAAE;uCACwB;AAGnC;IADP,gBAAgB,CAAC,EAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC;4CACf;AAGrB;IADP,gBAAgB,CAAC,IAAI,CAAC;yCACE;AAGjB;IADP,gBAAgB,CAAC,EAAE,CAAC;uCACC;AAGd;IADP,gBAAgB,CAAC,EAAC,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;0CACtB;AAGlB;IADP,gBAAgB,CAAC,EAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC;wCACb;AAGrB;IADP,gBAAgB,CAAC,EAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC;wCACb;AAGrB;IADP,gBAAgB,CAAC,EAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC;yCACX;AAGvB;IADP,QAAQ,CAAC,QAAQ,CAAC;sCACE;AAvDV,QAAQ;IADpB,QAAQ;GACI,QAAQ,CA+EpB;;AACD,MAAM,CAAC,MAAM,QAAQ,GAAG,UAAS,IAAoB;IACnD,OAAO,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;AACrC,CAAC,CAAC","sourcesContent":["import { Register, IoElement, ReactiveProperty, IoElementProps, WithBinding, VDOMElement, Property } from 'io-core';\nimport { ioBoolean } from 'io-inputs';\nimport { ioPropertyEditor } from './IoPropertyEditor.js';\nimport { EditorConfig } from '../utils/EditorConfig.js';\nimport { EditorGroups } from '../utils/EditorGroups.js';\nimport { EditorWidgets } from '../utils/EditorWidgets.js';\n\nexport type IoObjectProps = IoElementProps & {\n  value?: Record<string, any> | any[],\n  properties?: string[],\n  labeled?: boolean,\n  label?: string,\n  expanded?: WithBinding<boolean>,\n  config?: EditorConfig,\n  groups?: EditorGroups,\n  widgets?: EditorWidgets,\n};\n\n/**\n * Object property editor. It displays a set of labeled property editors for the `value` object inside io-collapsible element. It can be configured to use custom property editors and display only specified properties.\n **/\n@Register\nexport class IoObject extends IoElement {\n  static get Style() {\n    return /* css */`\n    :host {\n      display: flex;\n      flex-direction: column;\n      color: var(--io_colorInput);\n      background-color: var(--io_bgColor);\n      border-radius: calc(var(--io_borderRadius) + var(--io_spacing));\n    }\n    :host > io-boolean {\n      padding: var(--io_spacing) var(--io_spacing2);\n      align-self: stretch;\n    }\n    :host > io-boolean:before {\n      display: inline-block;\n      width: 0.75em;\n      content: \"▸\"\n    }\n    :host > io-boolean[value]:before {\n      content: \"▾\";\n    }\n    :host > io-property-editor {\n      margin: var(--io_spacing);\n      border: var(--io_border);\n      border-color: var(--io_borderColorInset);\n    }\n    `;\n  }\n\n  @ReactiveProperty()\n  declare value: Record<string, any> | any[];\n\n  @ReactiveProperty({type: Array, init: null})\n  declare properties: string[];\n\n  @ReactiveProperty(true)\n  declare labeled: boolean;\n\n  @ReactiveProperty('')\n  declare label: string;\n\n  @ReactiveProperty({value: false, reflect: true})\n  declare expanded: boolean;\n\n  @ReactiveProperty({type: Map, init: null})\n  declare config: EditorConfig;\n\n  @ReactiveProperty({type: Map, init: null})\n  declare groups: EditorGroups;\n\n  @ReactiveProperty({type: Map, init: null})\n  declare widgets: EditorWidgets;\n\n  @Property('region')\n  declare role: string;\n\n  changed() {\n    const label = this.label || this.value.constructor.name;\n    const vChildren: VDOMElement[] = [];\n    vChildren.push(ioBoolean({\n      appearance: 'neutral',\n      true: label,\n      false: label,\n      value: this.bind('expanded')}\n    ));\n    if (this.expanded) {\n      vChildren.push(ioPropertyEditor({\n        value: this.value,\n        properties: this.properties,\n        config: this.config,\n        groups: this.groups,\n        widgets: this.widgets,\n        labeled: this.labeled,\n      }));\n    }\n    this.render(vChildren);\n    this.setAttribute('aria-expanded', String(this.expanded));\n  }\n}\nexport const ioObject = function(arg0?: IoObjectProps) {\n  return IoObject.vConstructor(arg0);\n};"]}