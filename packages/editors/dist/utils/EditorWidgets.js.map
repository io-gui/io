{"version":3,"file":"EditorWidgets.js","sourceRoot":"","sources":["../../src/utils/EditorWidgets.ts"],"names":[],"mappings":"AAIA,MAAM,sBAAsB,GAAkB,IAAI,GAAG,CAA8B;AACjF,oCAAoC;AACpC,+GAA+G;AAC/G,yBAAyB;CAC1B,CAAC,CAAA;AAEF,MAAM,UAAU,eAAe,CAAC,MAAc,EAAE,gBAA+B,IAAI,GAAG,EAAE;IACtF,KAAK,EAAE,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM,YAAY,MAAM,CAAC,EAAE,CAAC;QAClD,OAAO,CAAC,IAAI,CAAC,0DAA0D,CAAC,CAAA;QACxE,OAAO,IAAI,CAAA;IACb,CAAC;IAED,SAAS,SAAS,CAAC,aAA4B;QAC7C,IAAI,aAAa,GAAG,IAAI,CAAA;QACxB,KAAK,MAAM,CAAC,cAAc,EAAE,eAAe,CAAC,IAAI,aAAa,EAAE,CAAC;YAC9D,IAAI,MAAM,YAAY,cAAc,EAAE,CAAC;gBACrC,aAAa,GAAG,eAAe,CAAA;YACjC,CAAC;QACH,CAAC;QACD,OAAO,aAAa,CAAA;IACtB,CAAC;IAED,IAAI,MAAM,GAAG,SAAS,CAAC,sBAAsB,CAAC,CAAA;IAC9C,MAAM,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,MAAM,CAAA;IAE3C,OAAO,MAAM,CAAA;AACf,CAAC;AAED,MAAM,UAAU,oBAAoB,CAAC,WAA2B,EAAE,MAAmB;IACnF,sBAAsB,CAAC,GAAG,CAAC,WAAW,EAAE,MAAM,CAAC,CAAA;AACjD,CAAC","sourcesContent":["import { AnyConstructor, VDOMElement } from '@io-gui/core'\n\nexport type EditorWidgets = Map<AnyConstructor, VDOMElement>\n\nconst editorWidgetsSingleton: EditorWidgets = new Map<AnyConstructor, VDOMElement>([\n  // TODO: remove outerHTML debug view\n  // [HTMLElement, {tag: 'io-property-editor', props: {properties: ['outerHTML'], config: [['outerHTML', div()]]]\n  // ]), labeled: false}}],\n])\n\nexport function getEditorWidget(object: object, editorWidgets: EditorWidgets = new Map()): VDOMElement | null {\n  debug: if (!object || !(object instanceof Object)) {\n    console.warn('`getEditorGroups` should be used with an Object instance')\n    return null\n  }\n\n  function getWidget(editorWidgets: EditorWidgets) {\n    let matchedWidget = null\n    for (const [constructorKey, widgetCandidate] of editorWidgets) {\n      if (object instanceof constructorKey) {\n        matchedWidget = widgetCandidate\n      }\n    }\n    return matchedWidget\n  }\n\n  let widget = getWidget(editorWidgetsSingleton)\n  widget = getWidget(editorWidgets) || widget\n\n  return widget\n}\n\nexport function registerEditorWidget(constructor: AnyConstructor, widget: VDOMElement) {\n  editorWidgetsSingleton.set(constructor, widget)\n}\n"]}