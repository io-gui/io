{"version":3,"file":"IoBreadcrumbs.js","sourceRoot":"","sources":["../../src/elements/IoBreadcrumbs.ts"],"names":[],"mappings":"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","sourcesContent":["import { Register, IoElement, ReactiveProperty, IoElementProps, WithBinding, div, Property } from 'io-core'\nimport { ioButton, ioString } from 'io-inputs'\nimport { ioPropertyLink } from './IoPropertyLink.js'\n\nexport type IoBreadcrumbsProps = IoElementProps & {\n  value?: Object\n  selected?: WithBinding<Object>\n  search?: WithBinding<string>\n}\n\n/**\n * Breadcrumbs select element.\n * When breadcrumb item is clicked or activated by space/enter key, it sets the value to corresponding option value.\n * Optionally, it can trim the `options` array to selected option index.\n **/\n@Register\nexport class IoBreadcrumbs extends IoElement {\n  static get Style() {\n    return /* css */`\n    :host {\n      display: flex;\n    }\n    :host > div {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      flex: 1 1 auto;\n      border: var(--io_border);\n      border-color: var(--io_borderColorInset);\n      border-radius: var(--io_borderRadius);\n      background-color: var(--io_bgColorInput);\n      overflow: hidden;\n    }\n    :host > io-button {\n      padding-left: var(--io_spacing);\n      padding-right: var(--io_spacing);\n      margin: var(--io_borderWidth);\n      flex: 0 0 auto;\n    }\n    :host:not([search]) > io-button.clear-button {\n      display: none;\n    }\n    :host > div > io-property-link:last-of-type {\n      flex-shrink: 0;\n    }\n    :host > div > io-property-link:last-of-type > span {\n      flex-shrink: 0;\n      text-overflow: clip;\n    }\n    :host > div > io-property-link:not(:first-of-type):before {\n      content: '>';\n      padding-right: calc(var(--io_fontSize) / 2);\n      color: var(--io_colorStrong);\n      opacity: 0.5;\n    }\n    :host > .search-input {\n      flex: 0 0 auto;\n      overflow: hidden;\n      min-width: calc(var(--io_fieldHeight) + var(--io_borderWidth) * 2);\n      height: calc(var(--io_fieldHeight) + var(--io_borderWidth) * 2);\n      margin-left: var(--io_spacing);\n    }\n    :host > .search-input:empty::before {\n      content: 'üîç';\n      font-size: 0.9em;\n    }\n    `\n  }\n  @ReactiveProperty({type: Object, init: null})\n  declare value: Object\n\n  @ReactiveProperty({type: Object, init: null})\n  declare selected: Object\n\n  @ReactiveProperty({type: String, reflect: true})\n  declare search: string\n\n  @Property(Array)\n  declare _crumbs: Array<Object>\n\n  valueChanged() {\n    this._crumbs.length = 0\n    this._crumbs.push(this.value)\n  }\n  selectedChanged() {\n    const index = this._crumbs.indexOf(this.selected)\n    if (index !== -1) {\n      this._crumbs.length = index + 1\n    } else {\n      this._crumbs.push(this.selected)\n    }\n  }\n  onClearSearch() {\n    this.search = ''\n  }\n  changed() {\n    const vChildren = []\n    if (this._crumbs.length > 1) {\n      vChildren.push(ioButton({\n        icon: 'io:arrow_left',\n        class: 'back-button',\n        value: this._crumbs[this._crumbs.length - 2],\n      }))\n    }\n    const crumbs = div()\n    crumbs.children = []\n    for (let i = Math.max(0, this._crumbs.length - 2); i < this._crumbs.length; i++) {\n      crumbs.children.push(ioPropertyLink({\n        value: this._crumbs[i],\n        showName: i === this._crumbs.length - 1,\n      }))\n    }\n    vChildren.push(\n      crumbs,\n      ioButton({icon: 'io:close', class: 'clear-button', action: this.onClearSearch}),\n      ioString({id: 'search', class: 'search-input', value: this.bind('search'), live: true}),\n    )\n    this.render(vChildren)\n  }\n}\nexport const ioBreadcrumbs = function(arg0?: IoBreadcrumbsProps) {\n  return IoBreadcrumbs.vConstructor(arg0)\n}"]}