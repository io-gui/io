{"version":3,"file":"IoObject.js","sourceRoot":"","sources":["../../src/elements/IoObject.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,gBAAgB,EAA4C,QAAQ,EAAE,MAAM,SAAS,CAAA;AACnH,OAAO,EAAE,SAAS,EAAE,MAAM,WAAW,CAAA;AACrC,OAAO,EAAE,gBAAgB,EAAE,MAAM,uBAAuB,CAAA;AAgBxD;;IAEI;AAEG,IAAM,QAAQ,GAAd,MAAM,QAAS,SAAQ,SAAS;IACrC,MAAM,KAAK,KAAK;QACd,OAAO,SAAS,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;KAyBf,CAAA;IACH,CAAC;IA6BD,OAAO;QACL,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAA;QACvD,MAAM,SAAS,GAAkB,EAAE,CAAA;QACnC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC;YACvB,UAAU,EAAE,SAAS;YACrB,IAAI,EAAE,KAAK;YACX,KAAK,EAAE,KAAK;YACZ,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;SAAC,CAC9B,CAAC,CAAA;QACF,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,SAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC;gBAC9B,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,OAAO,EAAE,IAAI,CAAC,OAAO;aACtB,CAAC,CAAC,CAAA;QACL,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAA;QACtB,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAA;IAC3D,CAAC;CACF,CAAA;AAhDS;IADP,gBAAgB,EAAE;uCACuB;AAGlC;IADP,gBAAgB,CAAC,EAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC;4CAChB;AAGpB;IADP,gBAAgB,CAAC,IAAI,CAAC;yCACC;AAGhB;IADP,gBAAgB,CAAC,EAAE,CAAC;uCACA;AAGb;IADP,gBAAgB,CAAC,EAAC,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;0CACvB;AAGjB;IADP,gBAAgB,CAAC,EAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC;wCACd;AAGpB;IADP,gBAAgB,CAAC,EAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC;wCACd;AAGpB;IADP,gBAAgB,CAAC,EAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC;yCACZ;AAGtB;IADP,QAAQ,CAAC,QAAQ,CAAC;sCACC;AAvDT,QAAQ;IADpB,QAAQ;GACI,QAAQ,CA+EpB;;AACD,MAAM,CAAC,MAAM,QAAQ,GAAG,UAAS,IAAoB;IACnD,OAAO,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,CAAA;AACpC,CAAC,CAAA","sourcesContent":["import { Register, IoElement, ReactiveProperty, IoElementProps, WithBinding, VDOMElement, Property } from 'io-core'\nimport { ioBoolean } from 'io-inputs'\nimport { ioPropertyEditor } from './IoPropertyEditor.js'\nimport { EditorConfig } from '../utils/EditorConfig.js'\nimport { EditorGroups } from '../utils/EditorGroups.js'\nimport { EditorWidgets } from '../utils/EditorWidgets.js'\n\nexport type IoObjectProps = IoElementProps & {\n  value?: Record<string, any> | any[]\n  properties?: string[]\n  labeled?: boolean\n  label?: string\n  expanded?: WithBinding<boolean>\n  config?: EditorConfig\n  groups?: EditorGroups\n  widgets?: EditorWidgets\n}\n\n/**\n * Object property editor. It displays a set of labeled property editors for the `value` object inside io-collapsible element. It can be configured to use custom property editors and display only specified properties.\n **/\n@Register\nexport class IoObject extends IoElement {\n  static get Style() {\n    return /* css */`\n    :host {\n      display: flex;\n      flex-direction: column;\n      color: var(--io_colorInput);\n      background-color: var(--io_bgColor);\n      border-radius: calc(var(--io_borderRadius) + var(--io_spacing));\n    }\n    :host > io-boolean {\n      padding: var(--io_spacing) var(--io_spacing2);\n      align-self: stretch;\n    }\n    :host > io-boolean:before {\n      display: inline-block;\n      width: 0.75em;\n      content: \"▸\"\n    }\n    :host > io-boolean[value]:before {\n      content: \"▾\";\n    }\n    :host > io-property-editor {\n      margin: var(--io_spacing);\n      border: var(--io_border);\n      border-color: var(--io_borderColorInset);\n    }\n    `\n  }\n\n  @ReactiveProperty()\n  declare value: Record<string, any> | any[]\n\n  @ReactiveProperty({type: Array, init: null})\n  declare properties: string[]\n\n  @ReactiveProperty(true)\n  declare labeled: boolean\n\n  @ReactiveProperty('')\n  declare label: string\n\n  @ReactiveProperty({value: false, reflect: true})\n  declare expanded: boolean\n\n  @ReactiveProperty({type: Map, init: null})\n  declare config: EditorConfig\n\n  @ReactiveProperty({type: Map, init: null})\n  declare groups: EditorGroups\n\n  @ReactiveProperty({type: Map, init: null})\n  declare widgets: EditorWidgets\n\n  @Property('region')\n  declare role: string\n\n  changed() {\n    const label = this.label || this.value.constructor.name\n    const vChildren: VDOMElement[] = []\n    vChildren.push(ioBoolean({\n      appearance: 'neutral',\n      true: label,\n      false: label,\n      value: this.bind('expanded')}\n    ))\n    if (this.expanded) {\n      vChildren.push(ioPropertyEditor({\n        value: this.value,\n        properties: this.properties,\n        config: this.config,\n        groups: this.groups,\n        widgets: this.widgets,\n        labeled: this.labeled,\n      }))\n    }\n    this.render(vChildren)\n    this.setAttribute('aria-expanded', String(this.expanded))\n  }\n}\nexport const ioObject = function(arg0?: IoObjectProps) {\n  return IoObject.vConstructor(arg0)\n}"]}