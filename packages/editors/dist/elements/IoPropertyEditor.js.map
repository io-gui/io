{"version":3,"file":"IoPropertyEditor.js","sourceRoot":"","sources":["../../src/elements/IoPropertyEditor.ts"],"names":[],"mappings":"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","sourcesContent":["import { IoElement, ReactiveProperty, Register, IoElementProps, ReactiveNode, span, div, HTML_ELEMENTS, VDOMElement } from '@io-gui/core'\nimport { IoField } from '@io-gui/inputs'\nimport { PropertyConfig, PropertyConfigRecord, getEditorConfig } from '../utils/EditorConfig.js'\nimport { PropertyGroups, getEditorGroups, PropertyGroupsRecord, getAllPropertyNames } from '../utils/EditorGroups.js'\nimport { getEditorWidget } from '../utils/EditorWidgets.js'\nimport { ioObject } from './IoObject.js'\n\nexport type IoPropertyEditorProps = IoElementProps & {\n  value?: Record<string, any> | any[]\n  properties?: string[] | null\n  label?: string\n  labeled?: boolean\n  labelWidth?: string\n  config?: PropertyConfig[]\n  groups?: PropertyGroups\n  widget?: VDOMElement | null\n}\n\n/**\n * Object editor. It displays a set of labeled property editors for the `value` object. Labels can be omitted by setting `labeled` property to false.\n **/\n@Register\nexport class IoPropertyEditor extends IoElement {\n  static get Style() {\n    return /* css */`\n    :host {\n      display: flex;\n      flex-direction: column;\n      color: var(--io_colorInput);\n      background-color: var(--io_bgColor);\n      border-radius: calc(var(--io_borderRadius) + var(--io_spacing));\n      font-size: var(--io_fontSize);\n      overflow: auto;\n    }\n    :host > .row {\n      display: flex;\n      flex-direction: row;\n      flex: 1 1 auto;\n      margin: var(--io_spacing);\n      padding: var(--io_spacing) 0;\n      border-radius: var(--io_borderRadius);\n      margin-bottom: 0;\n      background-color: var(--io_bgColorLight);\n    }\n    :host io-property-editor {\n      margin-top: calc(var(--io_spacing) * -1) !important;\n    }\n    :host io-property-editor > .row {\n      /* margin: 0 !important; */\n      padding: 0 !important;\n    }\n    :host > .row:last-of-type {\n      margin-bottom: var(--io_spacing);\n    }\n    :host > .row > span {\n      flex: 0 0 auto;\n      padding: var(--io_borderWidth); /* TODO: verify correctness */\n      margin: var(--io_spacing);\n      margin-left: var(--io_spacing2);\n      line-height: var(--io_lineHeight);\n      height: var(--io_lineHeight);\n      text-wrap: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n    :host > .row > span:after {\n      display: inline-block;\n      margin-left: var(--io_spacing);\n      opacity: 0.5;\n      content: ':';\n    }\n\n    :host > .row > :not(span) {\n      flex-grow: 1;\n    }\n    `\n  }\n\n  // @ReactiveProperty('debounced')\n  // declare reactivity: ReactivityType\n\n  @ReactiveProperty()\n  declare value: object | Array<unknown>\n\n  @ReactiveProperty({type: Array, init: null})\n  declare properties: string[]\n\n  @ReactiveProperty({type: String, value: ''})\n  declare label: string\n\n  @ReactiveProperty(true)\n  declare labeled: boolean\n\n  @ReactiveProperty('80px')\n  declare labelWidth: string\n\n  @ReactiveProperty({type: Array, init: null})\n  declare config: PropertyConfig[]\n\n  @ReactiveProperty({type: Object, init: null})\n  declare groups: PropertyGroups\n\n  @ReactiveProperty({type: Object})\n  declare widget: VDOMElement | undefined | null\n\n  private _config: PropertyConfigRecord | null = null\n  private _groups: PropertyGroupsRecord | null = null\n  private _widget: VDOMElement | null = null\n\n  private _propertyEditors: Record<string, IoField> = {}\n\n  _onValueInput(event: CustomEvent) {\n    event.stopImmediatePropagation()\n    const id = (event.target as HTMLElement).id\n    if (id !== undefined) {\n      (this.value as Record<string, any>)[id] = event.detail.value\n      if (!(this.value as unknown as ReactiveNode)._isNode) {\n        this.dispatchMutation(this.value)\n      }\n    } else {\n      debug: console.warn('IoPropertyEditor: \"value-input\" recieved from an input without a property id')\n    }\n  }\n\n  configChanged() {\n    this.debounce(this.configureDebounced)\n  }\n  groupsChanged() {\n    this.debounce(this.configureDebounced)\n  }\n  widgetChanged() {\n    this.debounce(this.configureDebounced)\n  }\n  valueChanged() {\n    debug: {\n      if ((this.value !== null && typeof this.value !== 'object') && !Array.isArray(this.value)) {\n        console.warn('IoPropertyEditor: value is not an object or array', this, this.value)\n      }\n    }\n    this.debounce(this.configureDebounced)\n  }\n  configureDebounced() {\n    this._propertyEditors = {}\n    if (!this.value || typeof this.value !== 'object') {\n      this._config = null\n      this._groups = null\n      this._widget = null\n      this.render([])\n      return\n    } else {\n      this._config = getEditorConfig(this.value, this.config)\n      this._groups = getEditorGroups(this.value, this.groups)\n      this._widget = this.widget !== undefined ? this.widget : getEditorWidget(this.value)\n\n      const config = this._config\n      const groups = this._groups\n      const widget = this._widget\n\n      if (!config || !groups) return\n\n      const properties = []\n      const vChildren = []\n\n      if (widget) {\n        const widgetWithValue = {\n          tag: widget.tag,\n          // widget: null prevents recursive widget lookup in nested io-property-editors\n          props: Object.assign({value: this.value, widget: null}, widget.props),\n          children: widget.children\n        }\n        vChildren.push(widgetWithValue)\n      }\n      if (this.properties.length) {\n        properties.push(...this.properties)\n      } else {\n        properties.push(...groups.Main)\n      }\n\n      const allProps = getAllPropertyNames(this.value)\n\n      for (let i = 0; i < properties.length; i++) {\n        if (allProps.includes(properties[i])) {\n          const id = properties[i] as keyof typeof this.value\n          const value = this.value[id]\n          const tag = config[id]!.tag\n          const props = config[id]!.props as (IoElementProps | undefined) || {}\n\n          const finalProps: any = {id: id, value: value, '@value-input': this._onValueInput}\n\n          Object.assign(finalProps, props)\n\n          let children: string | undefined = undefined\n          if (HTML_ELEMENTS.includes(tag) && typeof value === 'string') {\n            children = value\n          }\n\n          if (tag === 'io-object' || tag === 'io-property-editor') {\n            finalProps.config = finalProps.config || this.config\n            finalProps.groups = finalProps.groups || this.groups\n          }\n          if (tag === 'io-object') {\n            finalProps.persistentExpand = true\n          }\n          // NOTE: Functions dont have labels. They are displayed as labeled buttons.\n          const isFunction = typeof value === 'function'\n          if (isFunction) {\n            finalProps.action = (value as any).bind(this.value)\n            finalProps.label = finalProps.label || id\n          }\n\n          const isIoObject = tag === 'io-object'\n          if (isIoObject) {\n            finalProps.label = finalProps.label ||id + ': ' + (value as object)?.constructor?.name || String(value)\n          }\n\n          // TODO: Document and reconsider this\n          const label = finalProps.label || id\n          const tooltip = label\n          const hideLabel = finalProps.label === '_hidden_'\n\n          if (finalProps.class) {\n            finalProps.class += ' io-property-editor-field'\n          } else {\n            finalProps.class = 'io-property-editor-field'\n          }\n\n          vChildren.push(div({class: 'row'}, [\n            (this.labeled && !hideLabel && !isFunction && !isIoObject) ? span({style: {width: this.labelWidth}, title: tooltip}, label) : null,\n            {tag: tag, props: finalProps, children: children},\n          ]))\n        } else {\n          debug: console.warn(`IoPropertyEditor: property \"${properties[i]}\" not found in value`)\n        }\n      }\n\n      if (!this.properties.length) {\n        for (const group in groups) {\n\n          if (group !== 'Main' && group !== 'Hidden' && groups[group].length) {\n            vChildren.push(\n              ioObject({\n                label: group,\n                labelWidth: this.labelWidth,\n                persistentExpand: true,\n                value: this.value,\n                widget: null,\n                properties: groups[group],\n                config: this.config,\n              }),\n            )\n          }\n        }\n      }\n\n      this.render(vChildren)\n\n      for ( const child of Object.values(this.$) ) {\n        if (child.classList.contains('io-property-editor-field')) {\n          this._propertyEditors[child.id] = child as IoField\n        }\n      }\n    }\n  }\n  valueMutated() {\n    this.throttle(this.changedThrottled)\n  }\n  changed() {\n    this.throttle(this.changedThrottled)\n  }\n  changedThrottled() {\n    if (!this.value || typeof this.value !== 'object') return\n    for (const id in this._propertyEditors) {\n      if (!(id in this.value)) continue\n      const value = this.value[id as keyof typeof this.value]\n      const editor = this._propertyEditors[id]\n      editor.value = value\n    }\n  }\n  dispose() {\n    super.dispose()\n    this._propertyEditors = {}\n  }\n}\nexport const ioPropertyEditor = function(arg0?: IoPropertyEditorProps) {\n  return IoPropertyEditor.vConstructor(arg0)\n}"]}