{"version":3,"file":"index.js","sources":["../src/elements/IoVectorArray.ts","../src/utils/EditorGroups.ts","../src/utils/EditorWidgets.ts","../src/elements/IoPropertyEditor.ts","../src/elements/IoObject.ts","../src/utils/EditorConfig.ts","../src/elements/IoPropertyLink.ts","../src/elements/IoBreadcrumbs.ts","../src/elements/IoContextEditorSingleton.ts","../src/elements/IoInspector.ts","../src/elements/IoVector.ts","../src/elements/IoMatrix.ts"],"sourcesContent":["import { Register, IoElement, ReactiveProperty, IoElementProps, WithBinding, VDOMElement, Node } from '@io-gui/core'\nimport { ioNumber, ioBoolean } from '@io-gui/inputs'\n\nexport type IoVectorArrayProps = IoElementProps & {\n  value?: number[]\n  conversion?: number\n  step?: number\n  min?: number\n  max?: number\n  linkable?: boolean\n  linked?: WithBinding<boolean>\n  ladder?: boolean\n}\n/**\n * Input element for vector arrays and objects.\n **/\n@Register\nexport class IoVectorArray extends IoElement {\n  static get Style() {\n    return /* css */`\n      :host {\n        display: flex;\n        flex: 1 1 auto;\n      }\n      :host > io-number {\n        flex: 1 1 auto;\n      }\n      :host > *:not(:last-child) {\n        margin-right: var(--io_spacing);\n      }\n      :host > io-boolicon {\n        flex-shrink: 0;\n        padding: var(--io_spacing);\n      }\n    `\n  }\n\n  @ReactiveProperty({type: Array})\n  declare value: number[]\n\n  @ReactiveProperty(1)\n  declare conversion: number\n\n  @ReactiveProperty(0.001)\n  declare step: number\n\n  @ReactiveProperty(-Infinity)\n  declare min: number\n\n  @ReactiveProperty(Infinity)\n  declare max: number\n\n  @ReactiveProperty(false)\n  declare linkable: boolean\n\n  @ReactiveProperty(false)\n  declare linked: boolean\n\n  @ReactiveProperty(true)\n  declare ladder: boolean\n\n  @ReactiveProperty({type: Array, init: null})\n  declare keys: number[]\n\n  private _ratios: any = {}\n\n  _onNumberPointerDown(event: PointerEvent) {\n    const item = event.composedPath()[0] as HTMLElement\n    const id = item.id as keyof typeof this.value\n    this._ratios = {}\n    if (this.linked && this.value[id] !== 0) {\n      const value = this.value as any\n      for (const k of this.keys as [keyof typeof value]) this._ratios[k] = value[k] / value[id]\n    }\n  }\n\n  _onNumberValueInput(event: CustomEvent) {\n    const item = event.composedPath()[0] as HTMLElement\n    const index = Number(item.id);\n    (this.value as any)[index] = event.detail.value\n    if (this.linked) {\n      for (const k of this.keys) {\n        const value = this.value as any\n        if (k !== index && this._ratios[k]) (value as any)[k] = value[index] * this._ratios[k]\n      }\n    }\n    // TODO: this was replaced in earlier commit but not sure why. Nodes should dispatch mutations on their own.\n    if (!(this.value as unknown as Node)._isNode) {\n      this.dispatchMutation(this.value)\n    }\n    // Remove this later if no regressions are spotted and no tests are broken.\n    // this.dispatchMutation(this.value)\n    this.dispatch('value-input', {property: 'value', value: this.value}, false)\n  }\n\n  valueChanged() {\n    this.keys.length = 0\n    this.keys = Array.from(Array(this.value.length).keys())\n    debug: if (this.keys.find(k => [0, 1, 2, 3].indexOf(k) === -1)) {\n      console.warn('IoVectorArray: Unrecognized vector type!')\n    }\n  }\n  valueMutated() {\n    this.debounce(this.changed)\n  }\n  changed() {\n    const vChildren: Array<VDOMElement | null> = []\n    for (const k of this.keys) {\n      if (this.value[k] !== undefined) {\n        vChildren.push(ioNumber({\n          id: String(k), // Consider removing global id collisions\n          value: this.value[k],\n          conversion: this.conversion,\n          step: this.step,\n          min: this.min,\n          max: this.max,\n          ladder: this.ladder,\n          '@pointerdown': this._onNumberPointerDown,\n          '@value-input': this._onNumberValueInput,\n        }))\n      }\n    }\n    vChildren.push(this.linkable ? ioBoolean({value: this.bind('linked') as any, true: 'io:link', false: 'io:unlink'}) : null)\n    this.render(vChildren)\n  }\n}\nexport const ioVectorArray = function(arg0?: IoVectorArrayProps) {\n  return IoVectorArray.vConstructor(arg0)\n}","import { AnyConstructor, Node as IoNode, IoElement } from '@io-gui/core'\n\nexport const SKIPPED_PROPERTIES = [\n  '$',\n  'ELEMENT_NODE','ATTRIBUTE_NODE','TEXT_NODE','CDATA_SECTION_NODE','ENTITY_REFERENCE_NODE','ENTITY_NODE',\n  'PROCESSING_INSTRUCTION_NODE','COMMENT_NODE','DOCUMENT_NODE','DOCUMENT_TYPE_NODE','DOCUMENT_FRAGMENT_NODE',\n  'NOTATION_NODE','DOCUMENT_POSITION_DISCONNECTED','DOCUMENT_POSITION_PRECEDING','DOCUMENT_POSITION_FOLLOWING',\n  'DOCUMENT_POSITION_CONTAINS','DOCUMENT_POSITION_CONTAINED_BY','DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC',  // Event Handlers\n  'onbeforecopy','onbeforecut','onbeforepaste','onsearch','onfullscreenchange',\n  'onfullscreenerror','onwebkitfullscreenchange','onwebkitfullscreenerror','namespaceURI',\n  'onbeforexrselect','onabort','onbeforeinput','onbeforematch','onbeforetoggle','onblur','oncancel','oncanplay',\n  'oncanplaythrough','onchange','onclick','onclose','oncontentvisibilityautostatechange','oncontextlost','oncontextmenu',\n  'oncontextrestored','oncuechange','ondblclick','ondrag','ondragend','ondragenter','ondragleave','ondragover','ondragstart',\n  'ondrop','ondurationchange','onemptied','onended','onerror','onfocus','onformdata','oninput','oninvalid','onkeydown',\n  'onkeypress','onkeyup','onload','onloadeddata','onloadedmetadata','onloadstart','onmousedown','onmouseenter','onmouseleave',\n  'onmousemove','onmouseout','onmouseover','onmouseup','onmousewheel','onpause','onplay','onplaying','onprogress',\n  'onratechange','onreset','onresize','onscroll','onsecuritypolicyviolation','onseeked','onseeking','onselect','onslotchange',\n  'onstalled','onsubmit','onsuspend','ontimeupdate','ontoggle','onvolumechange','onwaiting','onwebkitanimationend',\n  'onwebkitanimationiteration','onwebkitanimationstart','onwebkittransitionend','onwheel','onauxclick','ongotpointercapture',\n  'onlostpointercapture','onpointerdown','onpointermove','onpointerrawupdate','onpointerup','onpointercancel','onpointerover',\n  'onpointerout','onpointerenter','onpointerleave','onselectstart','onselectionchange','onanimationend','onanimationiteration',\n  'onanimationstart','ontransitionrun','ontransitionstart','ontransitionend','ontransitioncancel','oncopy','oncut','onpaste',\n  'oncommand','onscrollend','onscrollsnapchange','onscrollsnapchangin','onscrollsnapchanging','onafterprint','onbeforeprint',\n  'onbeforeunload','onhashchange','onlanguagechange','onmessage','onmessageerror','onoffline','ononline','onpagehide','onpageshow',\n  'onpopstate','onrejectionhandled','onstorage','onunhandledrejection','onunload','onenterpictureinpicture','onreadystatechange',\n  'onpointerlockchange','onpointerlockerror','onfreeze','onprerenderingchange','onresume','onvisibilitychange',\n  'onleavepictureinpicture',\n]\n\nexport function getAllPropertyNames(obj: object): string[] {\n  const allProps: string[] = []\n  let curr = obj\n  do {\n    const props = Object.getOwnPropertyNames(curr)\n    props.forEach((prop) => {\n      if (allProps.indexOf(prop) === -1 && !SKIPPED_PROPERTIES.includes(prop)) {\n        allProps.push(prop)\n      }\n    })\n    if (curr.constructor === Node) break\n    //@ts-ignore no-cond-assign\n  } while ((curr = Object.getPrototypeOf(curr)))\n  return allProps\n}\n\ntype PropertyIdentifier = string | RegExp\nexport type PropertyGroups = Record<string, Array<PropertyIdentifier>>\nexport type PropertyGroupsRecord = Record<string, Array<string>>\nexport type EditorGroups = Map<AnyConstructor, PropertyGroups>\n\nconst editorGroupsSingleton: EditorGroups = new Map<AnyConstructor, PropertyGroups>([\n  [Object, {\n    Hidden: [new RegExp(/^_/), 'constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toString','valueOf','toLocaleString'],\n  }],\n  [Array, {\n    Hidden: [\n      'length', 'constructor', 'at', 'concat', 'copyWithin', 'fill', 'find', 'findIndex', 'findLast', 'findLastIndex', 'lastIndexOf', 'pop', 'push', 'reverse', 'shift', 'unshift', 'slice', 'sort', 'splice', 'includes', 'indexOf', 'join', 'keys', 'entries', 'values', 'forEach', 'filter', 'flat', 'flatMap', 'map', 'every', 'some', 'reduce', 'reduceRight', 'toReversed', 'toSorted', 'toSpliced', 'with', 'toLocaleString', 'toString',\n    ],\n  }],\n  [Node, {\n    Main: [\n      'textContent',\n    ],\n    Input: [\n      'lang','translate','dir','inert','accessKey','draggable','writingSuggestions','spellcheck','autocapitalize','editContext',\n      'contentEditable','enterKeyHint','inputMode','virtualKeyboardPolicy',\n    ],\n    Hierarchy: [\n      'isConnected','ownerDocument','parentNode','parentElement','childNodes','firstChild','lastChild','previousSibling',\n      'nextSibling',\n      'children','firstElementChild','lastElementChild','childElementCount','previousElementSibling',\n      'nextElementSibling','elementTiming',\n    ],\n    Layout: [\n      'scrollTop','scrollLeft','scrollWidth','scrollHeight','clientTop','clientLeft','clientWidth','clientHeight','currentCSSZoom',\n      'offsetParent','offsetTop','offsetLeft','offsetWidth','offsetHeight'\n    ],\n    Aria: [\n      'role','ariaAtomic','ariaAutoComplete','ariaBusy','ariaBrailleLabel','ariaBrailleRoleDescription','ariaChecked','ariaColCount',\n      'ariaColIndex','ariaColSpan','ariaCurrent','ariaDescription','ariaDisabled','ariaExpanded','ariaHasPopup','ariaHidden',\n      'ariaInvalid','ariaKeyShortcuts','ariaLabel','ariaLevel','ariaLive','ariaModal','ariaMultiLine','ariaMultiSelectable',\n      'ariaOrientation','ariaPlaceholder','ariaPosInSet','ariaPressed','ariaReadOnly','ariaRelevant','ariaRequired',\n      'ariaRoleDescription','ariaRowCount','ariaRowIndex','ariaRowSpan','ariaSelected','ariaSetSize','ariaSort','ariaValueMax',\n      'ariaValueMin','ariaValueNow','ariaValueText','ariaColIndexText','ariaRowIndexText','ariaActiveDescendantElement',\n      'ariaControlsElements','ariaDescribedByElements','ariaDetailsElements','ariaErrorMessageElements','ariaFlowToElements',\n      'ariaLabelledByElements',\n    ],\n    Hidden: [],\n  }],\n  [IoNode, {\n    Hidden: [\n      'reactivity',\n    ],\n  }],\n  [IoElement, {\n    Hidden: [\n      'reactivity',\n    ],\n  }],\n])\n\nexport function getEditorGroups(object: object, editorGroups: EditorGroups = new Map()): PropertyGroupsRecord {\n  debug: if (!object || !(object instanceof Object)) {\n    console.warn('`getEditorGroups` should be used with an Object instance')\n    return {}\n  }\n\n  const aggregatedGroups: PropertyGroups = {\n    Main: [],\n  }\n\n  function aggregateGroups(editorGroups: EditorGroups) {\n    for (const [constructorKey, groups] of editorGroups) {\n      if (object instanceof constructorKey) {\n\n        // Reorder keys to match the order in the latest config.\n        const configKeys = Object.keys(groups)\n        const existingKeys = Object.keys(aggregatedGroups)\n\n        // TODO: Test thoroughly.\n        if (configKeys.length > 0 && existingKeys.length > 0) {\n          const reorderedGroups: PropertyGroups = {}\n\n          for (const key of configKeys) {\n            reorderedGroups[key] = aggregatedGroups[key] || []\n          }\n\n          for (const key of existingKeys) {\n            if (!(key in reorderedGroups)) {\n              reorderedGroups[key] = aggregatedGroups[key]\n            }\n          }\n\n          for (const key of existingKeys) {\n            if (configKeys.includes(key)) {\n              delete aggregatedGroups[key]\n            }\n          }\n          Object.assign(aggregatedGroups, reorderedGroups)\n        }\n\n        for (const g in groups) {\n          aggregatedGroups[g] = aggregatedGroups[g] || []\n          aggregatedGroups[g].push(...groups[g])\n          // Remove duplicate identifiers that exist in other groups.\n          for (const ag in aggregatedGroups) {\n            if (ag !== g) {\n              for (const identifier of groups[g]) {\n                if (aggregatedGroups[ag].includes(identifier)) {\n                  aggregatedGroups[ag].splice(aggregatedGroups[ag].indexOf(identifier), 1)\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  aggregateGroups(editorGroupsSingleton)\n  aggregateGroups(editorGroups)\n\n  const groupsRecord: PropertyGroupsRecord = {\n    Main: [],\n  }\n\n  for (const key of getAllPropertyNames(object)) {\n    let included = false\n    const isFunction = typeof object[key as keyof typeof object] === 'function'\n    for (const g of Object.keys(aggregatedGroups)) {\n      groupsRecord[g] = groupsRecord[g] || []\n      for (const identifier of aggregatedGroups[g]) {\n        if (identifier === key) {\n          groupsRecord[g].push(key)\n          included = true\n          continue\n        } else if (identifier instanceof RegExp && identifier.test(key)) {\n          groupsRecord[g].push(key)\n          included = true\n        }\n      }\n    }\n    // Functions are not included in groups unless they are explicitly added.\n    // TODO: Test thoroughly.\n    if (!included && !isFunction) {\n      groupsRecord.Main.push(key)\n    }\n  }\n  // TODO: make sure and test no property belongs to multiple groups.\n  return groupsRecord\n}\n\nexport function registerEditorGroups(constructor: AnyConstructor, groups: PropertyGroups) {\n  const existingGroups = editorGroupsSingleton.get(constructor) || {}\n  for (const group in groups) {\n    existingGroups[group] = existingGroups[group] || []\n    existingGroups[group].push(...groups[group])\n    // Remove duplicate identifiers that exist in other groups.\n    for (const g in existingGroups) {\n      if (g !== group) {\n        for (const identifier of groups[group]) {\n          if (existingGroups[g].includes(identifier)) {\n            existingGroups[g].splice(existingGroups[g].indexOf(identifier), 1)\n          }\n        }\n      }\n    }\n  }\n  editorGroupsSingleton.set(constructor, existingGroups)\n}\n","import { AnyConstructor, VDOMElement } from '@io-gui/core'\n\nexport type EditorWidgets = Map<AnyConstructor, VDOMElement>\n\nconst editorWidgetsSingleton: EditorWidgets = new Map<AnyConstructor, VDOMElement>([\n  // TODO: remove outerHTML debug view\n  // [HTMLElement, {tag: 'io-property-editor', props: {properties: ['outerHTML'], config: [['outerHTML', div()]]]\n  // ]), labeled: false}}],\n])\n\nexport function getEditorWidget(object: object, editorWidgets: EditorWidgets = new Map()): VDOMElement | null {\n  debug: if (!object || !(object instanceof Object)) {\n    console.warn('`getEditorGroups` should be used with an Object instance')\n    return null\n  }\n\n  function getWidget(editorWidgets: EditorWidgets) {\n    let matchedWidget = null\n    for (const [constructorKey, widgetCandidate] of editorWidgets) {\n      if (object instanceof constructorKey) {\n        matchedWidget = widgetCandidate\n      }\n    }\n    return matchedWidget\n  }\n\n  let widget = getWidget(editorWidgetsSingleton)\n  widget = getWidget(editorWidgets) || widget\n\n  return widget\n}\n\nexport function registerEditorWidget(constructor: AnyConstructor, widget: VDOMElement) {\n  editorWidgetsSingleton.set(constructor, widget)\n}\n","import { IoElement, ReactiveProperty, Register, IoElementProps, Node, span, div, Storage as $, HTML_ELEMENTS, VDOMElement } from '@io-gui/core'\nimport { PropertyConfig, PropertyConfigRecord, getEditorConfig } from '../utils/EditorConfig.js'\nimport { EditorGroups, getEditorGroups, PropertyGroupsRecord, getAllPropertyNames } from '../utils/EditorGroups.js'\nimport { EditorWidgets, getEditorWidget } from '../utils/EditorWidgets.js'\nimport { ioObject } from './IoObject.js'\n\nexport type IoPropertyEditorProps = IoElementProps & {\n  value?: Record<string, any> | any[]\n  properties?: string[] | null\n  labeled?: boolean\n  orientation?: 'vertical' | 'horizontal'\n  config?: PropertyConfig[]\n  groups?: EditorGroups\n  widgets?: EditorWidgets\n}\n\n/**\n * Object editor. It displays a set of labeled property editors for the `value` object. Labels can be omitted by setting `labeled` property to false.\n **/\n@Register\nexport class IoPropertyEditor extends IoElement {\n  static get Style() {\n    return /* css */`\n    :host {\n      display: flex;\n      flex-direction: column;\n      color: var(--io_colorInput);\n      background-color: var(--io_bgColor);\n      border-radius: calc(var(--io_borderRadius) + var(--io_spacing));\n      font-size: var(--io_fontSize);\n    }\n    :host[orientation=\"horizontal\"] {\n      flex-direction: row;\n    }\n    :host > .row {\n      display: flex;\n      flex-direction: row;\n      margin: var(--io_spacing);\n      padding: var(--io_spacing) 0;\n      border-radius: var(--io_borderRadius);\n      margin-bottom: 0;\n      background-color: var(--io_bgColorLight);\n    }\n    :host[orientation=\"horizontal\"] > .row {\n      flex-direction: column;\n    }\n    :host > .row:last-of-type {\n      margin-bottom: var(--io_spacing);\n    }\n    :host > .row > span {\n      padding: var(--io_borderWidth); /* TODO: verify correctness */\n      margin: var(--io_spacing);\n      margin-left: var(--io_spacing2);\n      line-height: var(--io_lineHeight);\n      height: var(--io_lineHeight);\n      text-wrap: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n    :host > .row > span:after {\n      display: inline-block;\n      margin-left: var(--io_spacing);\n      opacity: 0.5;\n      content: ':';\n    }\n    :host io-object {\n      margin-right: var(--io_spacing);\n    }\n    `\n  }\n\n  // @ReactiveProperty('debounced')\n  // declare reactivity: ReactivityType\n\n  @ReactiveProperty()\n  declare value: object | Array<any>\n\n  @ReactiveProperty({type: Array, init: null})\n  declare properties: string[]\n\n  @ReactiveProperty(true)\n  declare labeled: boolean\n\n  @ReactiveProperty({type: String, value: 'vertical', reflect: true})\n  declare orientation: 'vertical' | 'horizontal'\n\n  @ReactiveProperty({type: Array, init: null})\n  declare config: PropertyConfig[]\n\n  @ReactiveProperty({type: Map, init: null})\n  declare groups: EditorGroups\n\n  @ReactiveProperty({type: Map, init: null})\n  declare widgets: EditorWidgets\n\n  private _config: PropertyConfigRecord | null = null\n  private _groups: PropertyGroupsRecord | null = null\n  private _widget: VDOMElement | null = null\n\n  init() {\n    this._observedObjectProperties.push('value')\n    window.addEventListener('io-object-mutation', this.onPropertyMutated as unknown as EventListener)\n  }\n\n  _onValueInput(event: CustomEvent) {\n    event.stopImmediatePropagation()\n    const id = (event.target as HTMLElement).id\n    if (id !== undefined) {\n      (this.value as Record<string, any>)[id] = event.detail.value\n      if (!(this.value as Node)._isNode) {\n        this.dispatchMutation(this.value)\n      }\n    } else {\n      debug: console.warn('IoPropertyEditor: \"value-input\" recieved from an input without a property id')\n    }\n  }\n\n  valueMutated(event: CustomEvent) {\n    this.throttle(this.changed)\n  }\n  configChanged() {\n    this.throttle(this.configureThrottled)\n  }\n  groupsChanged() {\n    this.throttle(this.configureThrottled)\n  }\n  widgetChanged() {\n    this.throttle(this.configureThrottled)\n  }\n  valueChanged() {\n    this.throttle(this.configureThrottled)\n  }\n  configureThrottled() {\n    this._config = getEditorConfig(this.value, this.config)\n    this._groups = getEditorGroups(this.value, this.groups)\n    this._widget = getEditorWidget(this.value, this.widgets)\n    this.throttle(this.changed)\n  }\n  changed() {\n    this.debounce(this.changedDebounced)\n  }\n  changedDebounced() {\n    if (!this.value) {\n      this._config = null\n      this._groups = null\n      this._widget = null\n      this.render([])\n      return\n    }\n\n    const config = this._config\n    const groups = this._groups\n    const widget = this._widget\n\n    if (!config || !groups) return\n\n    const properties = []\n    const vChildren = []\n\n    if (this.properties.length) {\n      properties.push(...this.properties)\n    } else {\n      if (widget) {\n        const widgetWithValue = {\n          tag: widget.tag,\n          props: Object.assign({value: this.value}, widget.props),\n          children: widget.children\n        }\n        vChildren.push(widgetWithValue)\n      }\n      properties.push(...groups.Main)\n    }\n\n    const allProps = getAllPropertyNames(this.value)\n\n    for (let i = 0; i < properties.length; i++) {\n      if (allProps.includes(properties[i])) {\n        const id = properties[i] as keyof typeof this.value\n        const value = this.value[id]\n        const isFunction = typeof value === 'function'\n        const tag = config[id]!.tag\n        const props = config[id]!.props as (IoElementProps | undefined) || {}\n\n        const finalProps: any = {id: id, value: value, '@value-input': this._onValueInput}\n\n        Object.assign(finalProps, props)\n\n        let children: string | undefined = undefined\n        if (HTML_ELEMENTS.includes(tag) && typeof value === 'string') {\n          children = value\n        }\n\n        if (tag === 'io-object' || tag === 'io-property-editor') {\n          finalProps.config = finalProps.config || this.config\n          finalProps.groups = finalProps.groups || this.groups\n        }\n        // NOTE: Functions dont have labels. They are displayed as labeled buttons.\n        if (isFunction) {\n          finalProps.action = value\n          finalProps.label = finalProps.label || id\n        }\n        vChildren.push(div({class: 'row'}, [\n          (this.labeled && !isFunction) ? span(id) : null,\n          {tag: tag, props: finalProps, children: children},\n        ]))\n      } else {\n        debug: console.warn(`IoPropertyEditor: property \"${properties[i]}\" not found in value`)\n      }\n    }\n\n    let uuid = genIdentifier(this.value)\n    let storage: 'local' | 'none' = 'local'\n\n    if (!this.properties.length) {\n      for (const group in groups) {\n\n        if (group !== 'Main' && group !== 'Hidden' && groups[group].length) {\n\n          const expanded = group !== 'Advanced' ? true : false\n\n          if (!uuid) {\n            uuid = getTempIdentifier(this.value)\n            storage = 'none'\n          }\n\n          vChildren.push(\n            ioObject({\n              label: group,\n              expanded: $({value: expanded, storage: storage, key: uuid + '-' + group}),\n              value: this.value,\n              properties: groups[group],\n              config: this.config,\n            }),\n          )\n        }\n      }\n    }\n\n    this.render(vChildren)\n  }\n  dispose() {\n    super.dispose()\n    window.removeEventListener('io-object-mutation', this.onPropertyMutated as unknown as EventListener)\n  }\n}\nexport const ioPropertyEditor = function(arg0?: IoPropertyEditorProps) {\n  return IoPropertyEditor.vConstructor(arg0)\n}\n\nfunction genIdentifier(object: any) {\n  const id = object.guid || object.uuid || object.id || object.name\n  if (id) {\n    return 'io-object-collapse-state-' + object.constructor.name + '-' + id\n  }\n}\n\nconst tempIdentifiers = new WeakMap<object, string>()\n\nfunction getTempIdentifier(object: any) {\n  if (!tempIdentifiers.has(object)) {\n    const randomuuid = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)\n    tempIdentifiers.set(object, randomuuid)\n  }\n  return tempIdentifiers.get(object)!\n}","import { Register, IoElement, ReactiveProperty, IoElementProps, WithBinding, VDOMElement, Property } from '@io-gui/core'\nimport { ioBoolean } from '@io-gui/inputs'\nimport { ioPropertyEditor } from './IoPropertyEditor.js'\nimport { PropertyConfig } from '../utils/EditorConfig.js'\nimport { EditorGroups } from '../utils/EditorGroups.js'\nimport { EditorWidgets } from '../utils/EditorWidgets.js'\n\nexport type IoObjectProps = IoElementProps & {\n  value?: Record<string, any> | any[]\n  properties?: string[]\n  labeled?: boolean\n  label?: string\n  expanded?: WithBinding<boolean>\n  config?: PropertyConfig[]\n  groups?: EditorGroups\n  widgets?: EditorWidgets\n}\n\n/**\n * Object property editor. It displays a set of labeled property editors for the `value` object inside io-collapsible element. It can be configured to use custom property editors and display only specified properties.\n **/\n@Register\nexport class IoObject extends IoElement {\n  static get Style() {\n    return /* css */`\n    :host {\n      display: flex;\n      flex-direction: column;\n      color: var(--io_colorInput);\n      background-color: var(--io_bgColor);\n      border-radius: calc(var(--io_borderRadius) + var(--io_spacing));\n    }\n    :host > io-boolean {\n      padding: var(--io_spacing) var(--io_spacing2);\n      align-self: stretch;\n    }\n    :host > io-boolean:before {\n      display: inline-block;\n      width: 0.75em;\n      content: \"‚ñ∏\"\n    }\n    :host > io-boolean[value]:before {\n      content: \"‚ñæ\";\n    }\n    :host > io-property-editor {\n      margin: var(--io_spacing);\n      border: var(--io_border);\n      border-color: var(--io_borderColorInset);\n    }\n    `\n  }\n\n  @ReactiveProperty({type: Object})\n  declare value: Record<string, any> | any[]\n\n  @ReactiveProperty({type: Array, init: null})\n  declare properties: string[] | null\n\n  @ReactiveProperty(true)\n  declare labeled: boolean\n\n  @ReactiveProperty('')\n  declare label: string\n\n  @ReactiveProperty({value: false, reflect: true})\n  declare expanded: boolean\n\n  @ReactiveProperty({type: Array, init: null})\n  declare config: PropertyConfig[]\n\n  @ReactiveProperty({type: Map, init: null})\n  declare groups: EditorGroups\n\n  @ReactiveProperty({type: Map, init: null})\n  declare widgets: EditorWidgets\n\n  @Property('region')\n  declare role: string\n\n  changed() {\n    const label = this.label || this.value.constructor.name\n    const vChildren: VDOMElement[] = []\n    vChildren.push(ioBoolean({\n      appearance: 'neutral',\n      true: label,\n      false: label,\n      value: this.bind('expanded')}\n    ))\n    if (this.expanded) {\n      vChildren.push(ioPropertyEditor({\n        value: this.value,\n        properties: this.properties,\n        config: this.config,\n        groups: this.groups,\n        widgets: this.widgets,\n        labeled: this.labeled,\n      }))\n    }\n    this.render(vChildren)\n    this.setAttribute('aria-expanded', String(this.expanded))\n  }\n}\nexport const ioObject = function(arg0?: IoObjectProps) {\n  return IoObject.vConstructor(arg0)\n}","import { IoElement, IoGl, Theme, Color, AnyConstructor, VDOMElement, Node, } from '@io-gui/core'\nimport { ioString, ioNumber, ioSwitch, ioField, ioButton } from '@io-gui/inputs'\nimport { MenuOption, ioOptionSelect } from '@io-gui/menus'\nimport { ioNumberSlider } from '@io-gui/sliders'\nimport { ioColorRgba } from '@io-gui/colors'\nimport { ioVectorArray } from '../elements/IoVectorArray.js'\nimport { ioObject } from '../elements/IoObject.js'\nimport { getAllPropertyNames } from './EditorGroups.js'\n\ntype PropertyIdentifier = AnyConstructor | string | RegExp | null | undefined\nexport type PropertyConfig = [PropertyIdentifier, VDOMElement]\nexport type PropertyConfigMap = Map<PropertyIdentifier, VDOMElement>\nexport type PropertyConfigRecord = Record<string, VDOMElement>\nexport type EditorConfig = Map<AnyConstructor, PropertyConfig[]>\n\nfunction makeSelect(options: any[]) {\n  for (let i = 0; i < options.length; i++) {\n    if (options[i] === null) {\n      options[i] = {value: null, id: 'Null'}\n    }\n  }\n  const option = new MenuOption({options: options})\n  return ioOptionSelect({option})\n}\n\n\n// class ConfigCache<K1 extends object, K2 extends object, V> {\n//   private map = new WeakMap<K1, WeakMap<K2, V>>()\n\n//   set(key1: K1, key2: K2, value: V): this {\n//     let inner = this.map.get(key1)\n//     if (!inner) {\n//       inner = new WeakMap<K2, V>()\n//       this.map.set(key1, inner)\n//     }\n//     inner.set(key2, value)\n//     return this\n//   }\n\n//   get(key1: K1, key2: K2): V | undefined {\n//     return this.map.get(key1)?.get(key2)\n//   }\n\n//   has(key1: K1, key2: K2): boolean {\n//     return this.map.get(key1)?.has(key2) ?? false\n//   }\n\n//   delete(key1: K1, key2: K2): boolean {\n//     return this.map.get(key1)?.delete(key2) ?? false\n//   }\n// }\n\n// const configCache = new ConfigCache<object, object, PropertyConfigRecord>()\n\n// TODO: Make sure multiple editors dont share the same menu options.\n// TODO: Consider using function to return new view each time editor is configured at runtime.\n\nconst editorConfigSingleton: EditorConfig = new Map<AnyConstructor, PropertyConfig[]>([\n  [Object, [\n    [String, ioString()],\n    [Number, ioNumber({step: 0.01})],\n    [Boolean, ioSwitch()],\n    [Object, ioObject()],\n    [null, ioField({disabled: true})],\n    [undefined, ioField({disabled: true})],\n    [Function, ioButton()],\n  ]],\n  [Array, [\n    [Number, ioNumber({step: 0.01})],\n  ]],\n  [window.Node, [\n    ['tabIndex', ioOptionSelect({option: new MenuOption({options: [{value: '', id: 'None'}, '-1', '0', '1', '2', '3']})})],\n    ['innerHTML', ioString({disabled: true, style: {maxWidth: '10em'}})],//TODO\n    ['outerHTML', ioString({disabled: true, style: {maxWidth: '10em'}})],//TODO\n    ['autocapitalize', ioOptionSelect({option: new MenuOption({options: ['off', 'sentences', 'words', 'characters', {value: '', id: 'None'}]})})],\n    ['writingSuggestions', ioOptionSelect({option: new MenuOption({options: ['true', 'false']})})],\n    ['dir', ioOptionSelect({option: new MenuOption({options: ['ltr','rtl','auto',{value:'', id: 'None'}]})})],\n    ['virtualKeyboardPolicy', ioOptionSelect({option: new MenuOption({options: ['manual','auto',{value:'', id: 'None'}]})})],\n    ['enterKeyHint', ioOptionSelect({option: new MenuOption({options: ['enter','done','go','next','previous','search','send',{value:'', id: 'None'}]})})],\n    ['contentEditable', ioOptionSelect({option: new MenuOption({options: ['true','false','plaintext-only','inherit']})})],\n    ['inputMode', ioOptionSelect({option: new MenuOption({options: ['decimal','email','numeric','tel','search','url','text',{value:'', id: 'None'}]})})],\n    ['lang', ioOptionSelect({option: new MenuOption({options: [\n      {value: '', id: 'None'},\n      'ab','aa','af','ak','sq','am','ar','an','hy','as','av','ae','ay','az','bm','ba','eu','be','bn','bh','bi','bs','br','bg','my','ca','ch','ce',\n      'ny','zh','zh-ans','zh-ant','cv','kw','co','cr','hr','cs','da','dv','nl','dz','en','eo','et','ee','fo','fj','fi','fr','ff','gl','gd',\n      'ka','de','el','kl','gn','gu','ht','ha','he','hz','hi','ho','hu','is','io','ig','id in','ia','ie','iu','ik','ga','it','ja','jv','kn',\n      'kr','ks','kk','km','ki','rw','rn','ky','kv','kg','ko','ku','kj','lo','la','lv','li','ln','lt','lu','lg','lb','gv','mk','mg','ms','ml','mt',\n      'mi','mr','mh','mo','mn','na','nv','ng','nd','ne','no','nb','nn','oc','oj','cu','or','om','os','pi','ps','fa','pl','pt','pa','qu','rm',\n      'ro','ru','se','sm','sg','sa','sr','sh','st','tn','sn','ii','sd','si','ss','sk','sl','so','nr','es','su','sw','sv','tl','ty','tg','ta',\n      'tt','te','th','bo','ti','to','ts','tr','tk','tw','ug','uk','ur','uz','ve','vi','vo','wa','cy','wo','fy','xh','yi','ji','yo','za','zu'\n    ]})})],\n    ['role', ioOptionSelect({option: new MenuOption({options: [\n      'alert','alertdialog','application','article','banner','button','cell','checkbox','columnheader','combobox','complementary',\n      'contentinfo','definition','dialog','directory','document','feed','figure','form','grid','gridcell','group','heading','img',\n      'link','list','listbox','listitem','log','main','marquee','math','menu','menubar','menuitem','menuitemcheckbox','menuitemradio',\n      'navigation','none','note','option','presentation','progressbar','radio','radiogroup','region','row','rowgroup','rowheader',\n      'scrollbar','search','searchbox','separator','slider','spinbutton','status','switch','tab','table','tablist','tabpanel','term',\n      'textbox','timer','toolbar','tooltip','tree','treegrid','treeitem',\n    ]})})],\n    ['ariaAtomic', makeSelect(['true','false',null])],\n    ['ariaAutoComplete', ioOptionSelect({option: new MenuOption({options: ['inline','list','both','none']})})],\n    ['ariaBusy', makeSelect(['true','false',null])],\n    ['ariaBrailleLabel', ioString()],\n    ['ariaBrailleRoleDescription', ioString()],\n    ['ariaChecked', makeSelect(['true','false','mixed',null])],\n    ['ariaColCount', makeSelect([...[...Array(32)].map((_, i) => i + 1),null])],\n    ['ariaColIndex', makeSelect([...[...Array(32)].map((_, i) => i + 1),null])],\n    ['ariaColSpan', makeSelect([...[...Array(32)].map((_, i) => i + 1),null])],\n    ['ariaCurrent', makeSelect(['true','false','page','step','location','date','time',null])],\n    ['ariaDescription', ioString()],\n    ['ariaDisabled', makeSelect(['true','false',null])],\n    ['ariaExpanded', makeSelect(['true','false',null])],\n    ['ariaHasPopup', makeSelect(['true','false','menu','listbox','tree','grid','dialog',null])],\n    ['ariaHidden', makeSelect(['true','false',null])],\n    ['ariaInvalid', makeSelect(['true','false','grammar','spelling',null])],\n    ['ariaKeyShortcuts', ioString()],\n    ['ariaLabel', ioString()],\n    ['ariaLevel', makeSelect([...[...Array(32)].map((_, i) => i + 1),null])],\n    ['ariaLive', ioOptionSelect({option: new MenuOption({options: ['assertive','polite','off']})})],\n    ['ariaModal', makeSelect(['true','false',null])],\n    ['ariaMultiLine', makeSelect(['true','false',null])],\n    ['ariaMultiSelectable', makeSelect(['true','false',null])],\n    ['ariaOrientation', ioOptionSelect({option: new MenuOption({options: ['horizontal','vertical','undefined']})})],\n    ['ariaPlaceholder', ioString()],\n    ['ariaPosInSet', makeSelect([...[...Array(32)].map((_, i) => i + 1),null])],\n    ['ariaPressed', makeSelect(['true','false','mixed',null])],\n    ['ariaReadOnly', makeSelect(['true','false',null])],\n    ['ariaRequired', makeSelect(['true','false',null])],\n    ['ariaRelevant', ioOptionSelect({option: new MenuOption({options: ['additions','all','removals','text']})})],\n    ['ariaRoleDescription', ioString()],\n    ['ariaRowCount', makeSelect([...[...Array(32)].map((_, i) => i + 1),null])],\n    ['ariaRowIndex', makeSelect([...[...Array(32)].map((_, i) => i + 1),null])],\n    ['ariaRowSpan', makeSelect([...[...Array(32)].map((_, i) => i + 1),null])],\n    ['ariaSelected', makeSelect(['true','false',null])],\n    ['ariaSetSize', makeSelect([...[...Array(32)].map((_, i) => i + 1),null])],\n    ['ariaSort', ioOptionSelect({option: new MenuOption({options: ['none','ascending','descending','other']})})],\n    ['ariaValueMax', makeSelect([...[...Array(32)].map((_, i) => i + 1),null])],\n    ['ariaValueMin', makeSelect([...[...Array(32)].map((_, i) => i + 1),null])],\n    ['ariaValueNow', makeSelect([...[...Array(32)].map((_, i) => i + 1),null])],\n    ['ariaValueText', ioString()],\n    ['ariaColIndexText', ioString()],\n    ['ariaRowIndexText', ioString()],\n  ]],\n  [Element, [\n  ]],\n  [HTMLElement, [\n  ]],\n  [Node, [\n    ['reactivity', ioOptionSelect({option: new MenuOption({options: ['none', 'debounced', 'immediate']})})],\n  ]],\n  [IoElement, [\n    ['reactivity', ioOptionSelect({option: new MenuOption({options: ['none', 'debounced', 'immediate']})})],\n  ]],\n  [IoGl, [\n    ['size', ioVectorArray({step: 1})],\n    ['color', ioVectorArray({step: 1})],\n  ]],\n  [Theme, [\n    [Number, ioNumberSlider({step: 1, min: 0, max: 20})],\n    ['themeID', ioOptionSelect({option: new MenuOption({options: ['light','dark']})})],\n    ['spacing2', ioField({disabled: true})],\n    ['spacing3', ioField({disabled: true})],\n    ['spacing5', ioField({disabled: true})],\n    ['spacing8', ioField({disabled: true})],\n    ['fieldHeight', ioField({disabled: true})],\n    [Color, ioColorRgba()],\n  ]]\n])\n\neditorConfigSingleton.forEach((propertyTypes, constructor) => {\n  const descriptors = Object.getOwnPropertyDescriptors(constructor.prototype)\n  for (const [key, descriptor] of Object.entries(descriptors)) {\n    const isWritable = descriptor.writable !== false\n    const hasGetter = descriptor.get !== undefined\n    const hasSetter = descriptor.set !== undefined\n    if ((hasGetter && !hasSetter) || !isWritable) {\n      const hasType = propertyTypes.find(propertyType => propertyType[0] === key)\n      if (hasType) {\n        debug: {\n          console.warn(constructor, `.${key} has getter but no setter or is not writable. Invalidating editor config.`)\n        }\n        (hasType as any).length = 0\n        hasType.push(key, ioField({disabled: true}))\n      } else {\n        propertyTypes.push([key, ioField({disabled: true})])\n      }\n    }\n  }\n})\n\nexport function getEditorConfig(object: object, propertyConfigs: PropertyConfig[]): PropertyConfigRecord {\n  debug: if (!object || !(object instanceof Object)) {\n    console.warn('`getObjectConfig` should be used with an Object instance')\n    return {}\n  }\n\n  // const cachedConfig = configCache.get(object, propertyConfigs)\n  // if (cachedConfig) {\n  //   console.log('cached config', object, propertyConfigs)\n  //   // console.log('cached config value', cachedConfig)\n  //   // return cachedConfig\n  // }\n\n  const aggregatedConfig: PropertyConfigMap = new Map()\n  for (const [constructorKey, propertyTypes] of editorConfigSingleton) {\n    if (object instanceof constructorKey) {\n      for (const [PropertyIdentifier, config] of propertyTypes) {\n        aggregatedConfig.set(PropertyIdentifier, config)\n      }\n    }\n  }\n\n  for (const [PropertyIdentifier, config] of propertyConfigs) {\n    aggregatedConfig.set(PropertyIdentifier, config)\n  }\n\n  const configRecord: PropertyConfigRecord = {}\n\n  for (const key of getAllPropertyNames(object)) {\n    const value = (object as any)[key]\n    for (const [PropertyIdentifier, elementCandidate] of aggregatedConfig) {\n      let element: VDOMElement | undefined\n      if (typeof PropertyIdentifier === 'function' && value instanceof PropertyIdentifier) {\n        element = elementCandidate\n      } else if (typeof PropertyIdentifier === 'function' && value?.constructor === PropertyIdentifier) {\n        element = elementCandidate\n      } else if (typeof PropertyIdentifier === 'string' && key === PropertyIdentifier) {\n        // ignore io-field elements assigned to read-only object properties\n        // TODO: Consider adding a flag to the element to indicate if it should be ignored.\n        if (!(typeof value === 'object' && value !== null && elementCandidate.tag === 'io-field')) {\n          element = elementCandidate\n        }\n      } else if (PropertyIdentifier instanceof RegExp && PropertyIdentifier.test(key)) {\n        element = elementCandidate\n      } else if (PropertyIdentifier === null && value === null) {\n        element = elementCandidate\n      } else if (PropertyIdentifier === undefined && value === undefined) {\n        element = elementCandidate\n      }\n      if (element) {\n        // TODO: Test and document this.\n        element = {...element}\n        if (element.props) {\n          element.props = {...element.props}\n        }\n        configRecord[key] = element\n      }\n    }\n\n    const vElement = configRecord[key]\n\n    debug: {\n      if (vElement.children) {\n        console.warn('EditorConfig: configured element should not have children', vElement)\n      }\n    }\n\n    const props = vElement.props\n    if (props) {\n      for (const [key, value] of Object.entries(props)) {\n        // TODO: Generalize for other objects that should be cloned / unique.\n        if (value instanceof MenuOption) {\n          props[key] = new MenuOption({}).fromJSON(value.toJSON())\n        }\n      }\n    }\n  }\n\n  debug: for (const key of getAllPropertyNames(object)) {\n    if (key === 'textNode') continue\n    const value = (object as any)[key]\n    if (!configRecord[key]) console.warn('No config found for', key, value)\n  }\n\n  // configCache.set(object, propertyConfigs, configRecord)\n\n  return configRecord\n}\n\nexport function registerEditorConfig(constructor: AnyConstructor, propertyTypes: PropertyConfig[]) {\n  const existingConfigs = editorConfigSingleton.get(constructor) || []\n  for (const [PropertyIdentifier, elementCandidate] of propertyTypes) {\n    const existingConfig = existingConfigs.find(config => config[0] === PropertyIdentifier)\n    if (existingConfig) {\n      existingConfig[1] = elementCandidate\n    } else {\n      existingConfigs.push([PropertyIdentifier, elementCandidate])\n    }\n  }\n  editorConfigSingleton.set(constructor, existingConfigs)\n}\n","import { ReactiveProperty, Register, span } from '@io-gui/core'\nimport { IoButton, IoButtonProps } from '@io-gui/inputs'\n\nexport type IoPropertyLinkProps = IoButtonProps & {\n  value?: object\n  showName?: boolean\n}\n\n@Register\nexport class IoPropertyLink extends IoButton {\n  static get Style() {\n    return /* css */`\n    :host {\n      display: flex;\n    }\n    :host > span {\n      color: var(--io_colorBlue);\n      flex: 0 1 auto;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n    :host:hover > span {\n      text-decoration: underline;\n    }\n    `\n  }\n\n  @ReactiveProperty()\n  declare value: object\n\n  @ReactiveProperty({value: false, type: Boolean})\n  declare showName: boolean\n\n  @ReactiveProperty({value: 'neutral', type: String, reflect: true})\n  declare appearance: 'inset' | 'outset' | 'neutral'\n\n  valueMutated() {\n    this.changed()\n  }\n\n  changed() {\n    let label = ''\n    if (this.value instanceof Array) {\n      label = `${this.value.constructor.name} (${this.value.length})`\n    } else {\n      label = `${this.value.constructor.name}`\n    }\n    if (this.showName) {\n      const name = (this.value as any).name || (this.value as any).title || (this.value as any).id\n      if (name) {\n        label += ` \"${name}\"`\n      }\n    }\n    this.render([span(label)])\n  }\n}\n\nexport const ioPropertyLink = function(arg0?: IoPropertyLinkProps) {\n  return IoPropertyLink.vConstructor(arg0)\n}","import { Register, IoElement, ReactiveProperty, IoElementProps, WithBinding, div, Property } from '@io-gui/core'\nimport { ioButton, ioString } from '@io-gui/inputs'\nimport { ioPropertyLink } from './IoPropertyLink.js'\n\nexport type IoBreadcrumbsProps = IoElementProps & {\n  value?: object\n  selected?: WithBinding<object>\n  search?: WithBinding<string>\n}\n\n/**\n * Breadcrumbs select element.\n * When breadcrumb item is clicked or activated by space/enter key, it sets the value to corresponding option value.\n * Optionally, it can trim the `options` array to selected option index.\n **/\n@Register\nexport class IoBreadcrumbs extends IoElement {\n  static get Style() {\n    return /* css */`\n    :host {\n      display: flex;\n    }\n    :host > div {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      flex: 1 1 auto;\n      border: var(--io_border);\n      border-color: var(--io_borderColorInset);\n      border-radius: var(--io_borderRadius);\n      background-color: var(--io_bgColorInput);\n      overflow: hidden;\n    }\n    :host > io-button {\n      padding-left: var(--io_spacing);\n      padding-right: var(--io_spacing);\n      margin: var(--io_borderWidth);\n      flex: 0 0 auto;\n    }\n    :host:not([search]) > io-button.clear-button {\n      display: none;\n    }\n    :host > div > io-property-link:last-of-type {\n      flex-shrink: 0;\n    }\n    :host > div > io-property-link:last-of-type > span {\n      flex-shrink: 0;\n      text-overflow: clip;\n    }\n    :host > div > io-property-link:not(:first-of-type):before {\n      content: '>';\n      padding-right: calc(var(--io_fontSize) / 2);\n      color: var(--io_colorStrong);\n      opacity: 0.5;\n    }\n    :host > .search-input {\n      flex: 0 0 auto;\n      overflow: hidden;\n      min-width: calc(var(--io_fieldHeight) + var(--io_borderWidth) * 2);\n      height: calc(var(--io_fieldHeight) + var(--io_borderWidth) * 2);\n      margin-left: var(--io_spacing);\n    }\n    :host > .search-input:empty::before {\n      content: 'üîç';\n      font-size: 0.9em;\n    }\n    `\n  }\n  @ReactiveProperty({type: Object, init: null})\n  declare value: object\n\n  @ReactiveProperty({type: Object, init: null})\n  declare selected: object\n\n  @ReactiveProperty({type: String, reflect: true})\n  declare search: string\n\n  @Property(Array)\n  declare _crumbs: Array<object>\n\n  valueChanged() {\n    this._crumbs.length = 0\n    this._crumbs.push(this.value)\n  }\n  selectedChanged() {\n    const index = this._crumbs.indexOf(this.selected)\n    if (index !== -1) {\n      this._crumbs.length = index + 1\n    } else {\n      this._crumbs.push(this.selected)\n    }\n  }\n  onClearSearch() {\n    this.search = ''\n  }\n  changed() {\n    const vChildren = []\n    if (this._crumbs.length > 1) {\n      vChildren.push(ioButton({\n        icon: 'io:arrow_left',\n        class: 'back-button',\n        value: this._crumbs[this._crumbs.length - 2],\n      }))\n    }\n    const crumbs = div()\n    crumbs.children = []\n    for (let i = Math.max(0, this._crumbs.length - 2); i < this._crumbs.length; i++) {\n      crumbs.children.push(ioPropertyLink({\n        value: this._crumbs[i],\n        showName: i === this._crumbs.length - 1,\n      }))\n    }\n    vChildren.push(\n      crumbs,\n      ioButton({icon: 'io:close', class: 'clear-button', action: this.onClearSearch}),\n      ioString({id: 'search', class: 'search-input', value: this.bind('search'), live: true}),\n    )\n    this.render(vChildren)\n  }\n}\nexport const ioBreadcrumbs = function(arg0?: IoBreadcrumbsProps) {\n  return IoBreadcrumbs.vConstructor(arg0)\n}","import { IoOverlaySingleton, NudgeDirection, nudge, ReactiveProperty, Register } from '@io-gui/core'\nimport { IoPropertyEditor } from './IoPropertyEditor.js'\nimport { PropertyConfig } from '../utils/EditorConfig.js'\nimport { EditorGroups } from '../utils/EditorGroups.js'\nimport { EditorWidgets } from '../utils/EditorWidgets.js'\n\ninterface IoContextEditorExpandProps {\n  source: HTMLElement\n  direction: NudgeDirection\n  value: any\n  properties?: string[]\n  labeled?: boolean\n  orientation?: 'vertical' | 'horizontal'\n  config?: PropertyConfig[]\n  groups?: EditorGroups\n  widgets?: EditorWidgets\n  onClose?: () => void\n}\n\n@Register\nclass IoContextEditor extends IoPropertyEditor {\n  static get Style() {\n    return /* css */`\n      :host {\n        z-index: 2;\n      }\n      :host:not([expanded]) {\n      visibility: hidden;\n    }\n    `\n  }\n\n  @ReactiveProperty({type: Boolean, value: false, reflect: true})\n  declare expanded: boolean\n\n  declare onClose: null | (() => void)\n\n  static get Listeners() {\n    return {\n      'keydown': 'onKeydown',\n      'io-focus-to': 'onIoFocusTo',\n    }\n  }\n  onKeydown(event: KeyboardEvent) {\n    if (event.key === 'Escape' || event.key === 'Enter') {\n      event.preventDefault()\n      this.expanded = false\n    }\n  }\n  onIoFocusTo(event: CustomEvent) {\n    const source = event.detail.source\n    const cmd = event.detail.command\n    const siblings = Array.from(this.querySelectorAll('[tabindex=\"0\"]')) as HTMLElement[]\n    const index = [...siblings].indexOf(source)\n\n    let cmdOverride = ''\n    if ((this as any).horizontal) {\n      if (cmd === 'ArrowRight') cmdOverride = 'next'\n      if (cmd === 'ArrowLeft') cmdOverride = 'prev'\n    } else {\n      if (cmd === 'ArrowDown') cmdOverride = 'next'\n      if (cmd === 'ArrowUp') cmdOverride = 'prev'\n    }\n\n    if (cmdOverride) {\n      if (cmdOverride === 'next') {\n        siblings[(index + 1) % siblings.length].focus()\n      } else if (cmdOverride === 'prev') {\n        siblings[(index - 1 + siblings.length) % siblings.length].focus()\n      } else if (cmdOverride === 'out') {\n        if ((this as any).$parent) (this as any).$parent.focus()\n      }\n      event.stopPropagation()\n    }\n  }\n  expand(props: IoContextEditorExpandProps) {\n    this.setProperties({\n      value: props.value,\n      properties: props.properties || [],\n      labeled: props.labeled || true,\n      orientation: props.orientation || 'vertical',\n      config: props.config || [],\n      groups: props.groups || new Map(),\n      widgets: props.widgets || new Map(),\n      expanded: true,\n    })\n    this.onClose = props.onClose || null\n    // TODO: nudge: 'none' should open at cursor position like context menu\n    nudge(this, props.source, props.direction)\n    this.debounce(this.onExpand)\n  }\n  onExpand() {\n    (this.querySelector('[tabindex=\"0\"]:not([inert])') as HTMLElement)?.focus()\n    // TODO: keyboard focus navigation\n  }\n  expandedChanged() {\n    if (!this.expanded) {\n      this.setProperties({\n        value: {},\n        properties: [],\n        labeled: true,\n        orientation: 'vertical',\n        config: [],\n        groups: new Map(),\n        widgets: new Map(),\n      })\n      if (this.onClose) {\n        this.onClose()\n        this.onClose = null\n      }\n    }\n  }\n}\n\nexport const IoContextEditorSingleton = new IoContextEditor()\n\nsetTimeout(() => {\n  IoOverlaySingleton.appendChild(IoContextEditorSingleton as HTMLElement)\n}, 100)\n","import { Register, IoElement, ReactiveProperty, IoElementProps, WithBinding, span } from '@io-gui/core'\nimport { ioBreadcrumbs } from './IoBreadcrumbs.js'\nimport { ioPropertyEditor } from './IoPropertyEditor.js'\nimport { EditorConfig, PropertyConfig } from '../utils/EditorConfig.js'\nimport { EditorGroups, getAllPropertyNames } from '../utils/EditorGroups.js'\nimport { EditorWidgets } from '../utils/EditorWidgets.js'\nimport { ioPropertyLink } from './IoPropertyLink.js'\n\nexport type IoInspectorProps = IoElementProps & {\n  value?: Record<string, any> | any[]\n  selected?: WithBinding<Record<string, any> | any[]>\n  search?: WithBinding<string>\n  config?: EditorConfig\n  groups?: EditorGroups\n  widgets?: EditorWidgets\n}\n\nfunction isNestedObject(value: object, selected: object): boolean {\n  if (value === selected) return true\n  if (value instanceof Array) {\n    return value.some(v => isNestedObject(v, selected))\n  }\n  if (value instanceof Object) {\n    return Object.keys(value).some(k => isNestedObject(value[k as keyof typeof value], selected))\n  }\n  return false\n}\n\n/**\n * Object property editor. It displays a set of labeled property editors for the `value` object inside multiple `io-collapsible` elements. It can be configured to use custom property editors and display only specified properties. Properties of type `Object` are displayed as clickable links which can also be navigated in the `io-breadcrumbs` element.\n **/\n@Register\nexport class IoInspector extends IoElement {\n  static get Style() {\n    return /* css */`\n    :host {\n      display: flex;\n      flex-direction: column;\n      align-items: stretch;\n      flex: 0 1 calc(var(--io_lineHeight) * 17.5);\n      padding: var(--io_spacing);\n      background-color: var(--io_bgColor);\n      border-radius: calc(var(--io_borderRadius) + var(--io_spacing));\n    }\n    :host > io-breadcrumbs {\n      margin: 0 var(--io_spacing);\n      z-index: 1;\n    }\n    :host > span {\n      padding: var(--io_spacing) var(--io_spacing3);\n      color: var(--io_colorStrong);\n    }\n    :host io-property-editor > .row > span {\n      min-width: 6em;\n      text-align: right;\n    }\n    `\n  }\n  @ReactiveProperty()\n  declare value: object | Array<any>\n\n  @ReactiveProperty()\n  declare selected: object | Array<any>\n\n  @ReactiveProperty({type: String})\n  declare search: string\n\n  @ReactiveProperty({type: Array, init: null})\n  declare config: PropertyConfig[]\n\n  @ReactiveProperty({type: Map, init: null})\n  declare groups: EditorGroups\n\n  @ReactiveProperty({type: Map, init: null})\n  declare widgets: EditorWidgets\n\n  static get Listeners() {\n    return {\n      'io-button-clicked': 'onLinkClicked',\n    }\n  }\n  init() {\n    this._observedObjectProperties.push('value', 'selected')\n    window.addEventListener('io-object-mutation', this.onPropertyMutated as unknown as EventListener)\n  }\n  onLinkClicked(event: CustomEvent) {\n    event.stopPropagation()\n    const value = event.detail.value\n    const item = event.composedPath()[0] as any\n    if (value && typeof value === 'object') {\n      if (item.localName === 'io-property-link' || item.className === 'back-button') {\n        this.setProperty('selected', value)\n      }\n    }\n  }\n  valueChanged() {\n    this.selected = this.value\n  }\n  valueMutated() {\n    // TODO: Improve this check to update selected to new object if it replaced the previously selected.\n    if (!isNestedObject(this.value, this.selected)) {\n      this.selected = this.value\n    }\n    this.changed()\n  }\n  selectedMutated() {\n    this.changed()\n  }\n  selectedChanged() {\n    this.search = ''\n  }\n  changed() {\n    this.throttle(this.changeThrottled, undefined, 1)\n  }\n  changeThrottled() {\n    const vChildren = [\n      ioBreadcrumbs({value: this.value, selected: this.bind('selected'), search: this.bind('search')}),\n    ]\n\n    const config = [...this.config]\n\n    config.push([Object, ioPropertyLink({showName: true})])\n\n    const properties = []\n    if (this.search) {\n      for (const key of getAllPropertyNames(this.selected)) {\n        if (key.toLowerCase().includes(this.search.toLowerCase())) {\n          properties.push(key)\n        }\n      }\n    }\n\n    if (this.search && properties.length === 0) {\n      vChildren.push(\n        span(`No results found for \"${this.search}\"`),\n      )\n    } else {\n      vChildren.push(\n        ioPropertyEditor({\n          value: this.selected,\n          config: config,\n          groups: this.groups,\n          widgets: this.widgets,\n          properties: properties,\n        }),\n      )\n    }\n\n    this.render(vChildren)\n  }\n  dispose() {\n    super.dispose()\n    window.removeEventListener('io-object-mutation', this.onPropertyMutated as unknown as EventListener)\n  }\n}\nexport const ioInspector = function(arg0?: IoInspectorProps) {\n  return IoInspector.vConstructor(arg0)\n}\n\n\n","import { Register, IoElement, ReactiveProperty, IoElementProps, WithBinding, VDOMElement, Node } from '@io-gui/core'\nimport { ioNumber, ioBoolean } from '@io-gui/inputs'\n\nexport type IoVectorProps = IoElementProps & {\n  value?: {\n    x?: number\n    y?: number\n    z?: number\n    w?: number\n    r?: number\n    g?: number\n    b?: number\n    a?: number\n    u?: number\n    v?: number\n  }\n  conversion?: number\n  step?: number\n  min?: number\n  max?: number\n  linkable?: boolean\n  linked?: WithBinding<boolean>\n  ladder?: boolean\n}\n/**\n * Input element for vector arrays and objects.\n **/\n@Register\nexport class IoVector extends IoElement {\n  static get Style() {\n    return /* css */`\n      :host {\n        display: flex;\n        flex: 1 1 auto;\n      }\n      :host > io-number {\n        flex: 1 1 auto;\n      }\n      :host > *:not(:last-child) {\n        margin-right: var(--io_spacing);\n      }\n      :host > io-boolicon {\n        flex-shrink: 0;\n        padding: var(--io_spacing);\n      }\n    `\n  }\n\n  @ReactiveProperty({type: Object})\n  declare value: {\n    x?: number\n    y?: number\n    z?: number\n    w?: number\n    r?: number\n    g?: number\n    b?: number\n    a?: number\n    u?: number\n    v?: number\n  }\n\n  @ReactiveProperty(1)\n  declare conversion: number\n\n  @ReactiveProperty(0.001)\n  declare step: number\n\n  @ReactiveProperty(-Infinity)\n  declare min: number\n\n  @ReactiveProperty(Infinity)\n  declare max: number\n\n  @ReactiveProperty(false)\n  declare linkable: boolean\n\n  @ReactiveProperty(false)\n  declare linked: boolean\n\n  @ReactiveProperty(true)\n  declare ladder: boolean\n\n  @ReactiveProperty({type: Array, init: null})\n  declare keys: string[]\n\n  private _ratios: any = {}\n\n  _onNumberPointerDown(event: PointerEvent) {\n    const item = event.composedPath()[0] as HTMLElement\n    const id = item.id as keyof typeof this.value\n    this._ratios = {}\n    if (this.linked && this.value[id] !== 0) {\n      const value = this.value as any\n      for (const k of this.keys) this._ratios[k] = value[k] / value[id]\n    }\n  }\n\n  _onNumberValueInput(event: CustomEvent) {\n    const item = event.composedPath()[0] as HTMLElement\n    const id = item.id as keyof typeof this.value;\n    (this.value as any)[id] = event.detail.value\n    if (this.linked) {\n      for (const k of this.keys) {\n        const value = this.value as any\n        if (k !== id && this._ratios[k]) (value as any)[k] = value[id] * this._ratios[k]\n      }\n    }\n    if (!(this.value as Node)._isNode) {\n      this.dispatchMutation(this.value)\n    }\n    this.dispatch('value-input', {property: 'value', value: this.value}, false)\n  }\n\n  valueChanged() {\n    this.keys.length = 0\n    this.keys.push(...Object.keys(this.value).filter(key => typeof (this.value as any)[key] === 'number') as Array<keyof typeof this.value>)\n    debug: if (this.keys.find(k => ['0', '1', '2', '3', 'x', 'y', 'z', 'w', 'r', 'g', 'b', 'a', 'u', 'v'].indexOf(k) === -1)) {\n      console.warn('IoVector: Unrecognized vector type!')\n    }\n  }\n  valueMutated() {\n    this.debounce(this.changed)\n  }\n  changed() {\n    const vChildren: Array<VDOMElement | null> = []\n    for (const k of this.keys as [keyof typeof this.value]) {\n      if (this.value[k] !== undefined) {\n        vChildren.push(ioNumber({\n          id: k,\n          value: this.value[k],\n          conversion: this.conversion,\n          step: this.step,\n          min: this.min,\n          max: this.max,\n          ladder: this.ladder,\n          '@pointerdown': this._onNumberPointerDown,\n          '@value-input': this._onNumberValueInput,\n        }))\n      }\n    }\n    vChildren.push(this.linkable ? ioBoolean({value: this.bind('linked') as any, true: 'io:link', false: 'io:unlink'}) : null)\n    this.render(vChildren)\n  }\n}\nexport const ioVector = function(arg0?: IoVectorProps) {\n  return IoVector.vConstructor(arg0)\n}","import { Register, ReactiveProperty, Node } from '@io-gui/core'\nimport { IoVectorArray, IoVectorArrayProps } from './IoVectorArray.js'\n\nexport type IoMatrixProps = IoVectorArrayProps & {\n  columns?: number\n}\n\n/**\n * Input element for vector arrays dispalayed as 2D matrices. Array `value` can have 4, 9, and 16 elements for 2x2, 3x3 and 4x4 matrices.\n **/\n@Register\nexport class IoMatrix extends IoVectorArray {\n  static get Style() {\n    return /* css */`\n      :host {\n        display: grid;\n        align-self: stretch;\n        justify-self: stretch;\n        grid-gap: var(--io_spacing);\n      }\n      :host > *:not(:last-child) {\n        margin-right: 0;\n      }\n      :host[columns=\"4\"] {\n        grid-template-columns: repeat(4, 1fr);\n      }\n      :host[columns=\"3\"] {\n        grid-template-columns: repeat(3, 1fr);\n      }\n      :host[columns=\"2\"] {\n        grid-template-columns: repeat(2, 1fr);\n      }\n    `\n  }\n\n  @ReactiveProperty({type: Array, init: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]})\n  declare value: number[]\n\n  @ReactiveProperty({value: 4, reflect: true})\n  declare columns: number\n\n  _onNumberValueInput(event: CustomEvent) {\n    const item = event.composedPath()[0] as HTMLElement\n    this.value[item.id as any] = event.detail.value\n    if (!(this.value as unknown as Node)._isNode) {\n      this.dispatchMutation(this.value)\n    }\n    this.dispatch('value-input', {property: 'value', value: this.value}, false)\n  }\n\n  valueChanged() {\n    if (this.value.length === 4) {\n      this.setProperties({\n        keys: [0, 1, 2, 3],\n        columns: 2\n      })\n    }\n    if (this.value.length === 9) {\n      this.setProperties({\n        keys: [0, 1, 2, 3, 4, 5, 6, 7, 8],\n        columns: 3\n      })\n    }\n    if (this.value.length === 16) {\n      this.setProperties({\n        keys: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n        columns: 4\n      })\n    }\n    debug: {\n      if ([4, 9, 16].indexOf(this.value.length) === -1) {\n        console.warn('IoMatrix: Unrecognized matrix type!')\n      }\n      if (this.value.find(v => typeof v !== 'number')) {\n        console.warn('IoMatrix: Unrecognized matrix type!')\n      }\n      if (this.keys.find(k => [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15].indexOf(k) === -1)) {\n        console.warn('IoMatrix: Unrecognized matrix type!')\n      }\n    }\n  }\n}\nexport const ioMatrix = function(arg0?: IoMatrixProps) {\n  return IoMatrix.vConstructor(arg0)\n}"],"names":["IoVectorArray","IoElement","Style","_ratios","_onNumberPointerDown","event","id","composedPath","this","linked","value","k","keys","_onNumberValueInput","item","index","Number","detail","_isNode","dispatchMutation","dispatch","property","valueChanged","length","Array","from","find","indexOf","console","warn","valueMutated","debounce","changed","vChildren","push","ioNumber","String","conversion","step","min","max","ladder","linkable","ioBoolean","bind","true","false","render","__decorateClass","ReactiveProperty","type","prototype","Infinity","init","Register","ioVectorArray","arg0","vConstructor","SKIPPED_PROPERTIES","getAllPropertyNames","obj","allProps","curr","Object","getOwnPropertyNames","forEach","prop","includes","constructor","Node","getPrototypeOf","editorGroupsSingleton","Map","Hidden","RegExp","Main","Input","Hierarchy","Layout","Aria","IoNode","getEditorGroups","object","editorGroups","aggregatedGroups","aggregateGroups","constructorKey","groups","configKeys","existingKeys","reorderedGroups","key","assign","g","ag","identifier","splice","groupsRecord","included","isFunction","test","registerEditorGroups","existingGroups","get","group","set","editorWidgetsSingleton","getEditorWidget","editorWidgets","getWidget","matchedWidget","widgetCandidate","widget","registerEditorWidget","IoPropertyEditor","_config","_groups","_widget","_observedObjectProperties","window","addEventListener","onPropertyMutated","_onValueInput","stopImmediatePropagation","target","throttle","configChanged","configureThrottled","groupsChanged","widgetChanged","getEditorConfig","config","widgets","changedDebounced","properties","widgetWithValue","tag","props","children","i","finalProps","HTML_ELEMENTS","action","label","div","class","labeled","span","uuid","genIdentifier","guid","name","storage","expanded","getTempIdentifier","ioObject","$","dispose","super","removeEventListener","reflect","ioPropertyEditor","tempIdentifiers","WeakMap","has","randomuuid","Math","random","toString","substring","IoObject","appearance","setAttribute","Property","makeSelect","options","option","MenuOption","ioOptionSelect","editorConfigSingleton","ioString","Boolean","ioSwitch","ioField","disabled","Function","ioButton","style","maxWidth","map","_","Element","HTMLElement","IoGl","Theme","ioNumberSlider","Color","ioColorRgba","propertyConfigs","aggregatedConfig","propertyTypes","PropertyIdentifier","configRecord","elementCandidate","element","vElement","entries","fromJSON","toJSON","registerEditorConfig","existingConfigs","existingConfig","descriptors","getOwnPropertyDescriptors","descriptor","isWritable","writable","hasGetter","hasSetter","hasType","propertyType","IoPropertyLink","IoButton","showName","title","ioPropertyLink","IoBreadcrumbs","_crumbs","selectedChanged","selected","onClearSearch","search","icon","crumbs","live","ioBreadcrumbs","IoContextEditor","Listeners","keydown","onKeydown","preventDefault","onIoFocusTo","source","cmd","command","siblings","querySelectorAll","cmdOverride","horizontal","focus","$parent","stopPropagation","expand","setProperties","orientation","onClose","nudge","direction","onExpand","querySelector","expandedChanged","IoContextEditorSingleton","setTimeout","IoOverlaySingleton","appendChild","isNestedObject","some","v","IoInspector","onLinkClicked","localName","className","setProperty","selectedMutated","changeThrottled","toLowerCase","ioInspector","IoVector","filter","ioVector","IoMatrix","columns","ioMatrix"],"mappings":"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"}