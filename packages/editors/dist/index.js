import{ReactiveProperty,IoElement,Register,Node as Node$1,HTML_ELEMENTS,div,span,Property,Storage,IoGl,Theme,Color,IoOverlaySingleton,nudge}from"@io-gui/core";import{ioNumber,ioBoolean,ioString,ioSwitch,ioField,ioButton,IoButton}from"@io-gui/inputs";import{ioOptionSelect,MenuOption}from"@io-gui/menus";import{ioNumberSlider}from"@io-gui/sliders";import{ioColorRgba}from"@io-gui/colors";var __defProp$8=Object.defineProperty,__getOwnPropDesc$8=Object.getOwnPropertyDescriptor,__decorateClass$8=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc$8(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$8(target,key,result),result};let IoVectorArray=class extends IoElement{static get Style(){return"\n      :host {\n        display: flex;\n        flex: 1 1 auto;\n      }\n      :host > io-number {\n        flex: 1 1 auto;\n      }\n      :host > *:not(:last-child) {\n        margin-right: var(--io_spacing);\n      }\n      :host > io-boolicon {\n        flex-shrink: 0;\n        padding: var(--io_spacing);\n      }\n    "}_ratios={};_onNumberPointerDown(event){const id=event.composedPath()[0].id;if(this._ratios={},this.linked&&0!==this.value[id]){const value=this.value;for(const k of this.keys)this._ratios[k]=value[k]/value[id]}}_onNumberValueInput(event){const item=event.composedPath()[0],index=Number(item.id);if(this.value[index]=event.detail.value,this.linked)for(const k of this.keys){const value=this.value;k!==index&&this._ratios[k]&&(value[k]=value[index]*this._ratios[k])}this.value._isNode||this.dispatchMutation(this.value),this.dispatch("value-input",{property:"value",value:this.value},!1)}valueChanged(){this.keys.length=0,this.keys=Array.from(Array(this.value.length).keys()),this.keys.find(k=>-1===[0,1,2,3].indexOf(k))&&console.warn("IoVectorArray: Unrecognized vector type!")}valueMutated(){this.debounce(this.changed)}changed(){const vChildren=[];for(const k of this.keys)void 0!==this.value[k]&&vChildren.push(ioNumber({id:String(k),value:this.value[k],conversion:this.conversion,step:this.step,min:this.min,max:this.max,ladder:this.ladder,disabled:this.disabled,"@pointerdown":this._onNumberPointerDown,"@value-input":this._onNumberValueInput}));vChildren.push(this.linkable?ioBoolean({value:this.bind("linked"),true:"io:link",false:"io:unlink"}):null),this.render(vChildren)}};__decorateClass$8([ReactiveProperty({type:Array})],IoVectorArray.prototype,"value",2),__decorateClass$8([ReactiveProperty(1)],IoVectorArray.prototype,"conversion",2),__decorateClass$8([ReactiveProperty(.001)],IoVectorArray.prototype,"step",2),__decorateClass$8([ReactiveProperty(-Infinity)],IoVectorArray.prototype,"min",2),__decorateClass$8([ReactiveProperty(Infinity)],IoVectorArray.prototype,"max",2),__decorateClass$8([ReactiveProperty(!1)],IoVectorArray.prototype,"linkable",2),__decorateClass$8([ReactiveProperty(!1)],IoVectorArray.prototype,"linked",2),__decorateClass$8([ReactiveProperty(!0)],IoVectorArray.prototype,"ladder",2),__decorateClass$8([ReactiveProperty(!1)],IoVectorArray.prototype,"disabled",2),__decorateClass$8([ReactiveProperty({type:Array,init:null})],IoVectorArray.prototype,"keys",2),IoVectorArray=__decorateClass$8([Register],IoVectorArray);const ioVectorArray=function(arg0){return IoVectorArray.vConstructor(arg0)},SKIPPED_PROPERTIES=["$","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","DOCUMENT_POSITION_DISCONNECTED","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_CONTAINS","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC","onbeforecopy","onbeforecut","onbeforepaste","onsearch","onfullscreenchange","onfullscreenerror","onwebkitfullscreenchange","onwebkitfullscreenerror","namespaceURI","onbeforexrselect","onabort","onbeforeinput","onbeforematch","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontentvisibilityautostatechange","oncontextlost","oncontextmenu","oncontextrestored","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwebkitanimationend","onwebkitanimationiteration","onwebkitanimationstart","onwebkittransitionend","onwheel","onauxclick","ongotpointercapture","onlostpointercapture","onpointerdown","onpointermove","onpointerrawupdate","onpointerup","onpointercancel","onpointerover","onpointerout","onpointerenter","onpointerleave","onselectstart","onselectionchange","onanimationend","onanimationiteration","onanimationstart","ontransitionrun","ontransitionstart","ontransitionend","ontransitioncancel","oncopy","oncut","onpaste","oncommand","onscrollend","onscrollsnapchange","onscrollsnapchangin","onscrollsnapchanging","onafterprint","onbeforeprint","onbeforeunload","onhashchange","onlanguagechange","onmessage","onmessageerror","onoffline","ononline","onpagehide","onpageshow","onpopstate","onrejectionhandled","onstorage","onunhandledrejection","onunload","onenterpictureinpicture","onreadystatechange","onpointerlockchange","onpointerlockerror","onfreeze","onprerenderingchange","onresume","onvisibilitychange","onleavepictureinpicture"];function getAllPropertyNames(obj){const allProps=[];let curr=obj;do{if(Object.getOwnPropertyNames(curr).forEach(prop=>{-1!==allProps.indexOf(prop)||SKIPPED_PROPERTIES.includes(prop)||allProps.push(prop)}),curr.constructor===Node)break}while(curr=Object.getPrototypeOf(curr));return allProps}const editorGroupsSingleton=/* @__PURE__ */new Map([[Object,{Hidden:["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString",new RegExp(/^__/)],Advanced:[new RegExp(/^_(?!_)/)]}],[Array,{Hidden:["length","constructor","at","concat","copyWithin","fill","find","findIndex","findLast","findLastIndex","lastIndexOf","pop","push","reverse","shift","unshift","slice","sort","splice","includes","indexOf","join","keys","entries","values","forEach","filter","flat","flatMap","map","every","some","reduce","reduceRight","toReversed","toSorted","toSpliced","with","toLocaleString","toString"]}],[Node,{Main:["textContent"],Input:["lang","translate","dir","inert","accessKey","draggable","writingSuggestions","spellcheck","autocapitalize","editContext","contentEditable","enterKeyHint","inputMode","virtualKeyboardPolicy"],Hierarchy:["isConnected","ownerDocument","parentNode","parentElement","childNodes","firstChild","lastChild","previousSibling","nextSibling","children","firstElementChild","lastElementChild","childElementCount","previousElementSibling","nextElementSibling","elementTiming"],Layout:["scrollTop","scrollLeft","scrollWidth","scrollHeight","clientTop","clientLeft","clientWidth","clientHeight","currentCSSZoom","offsetParent","offsetTop","offsetLeft","offsetWidth","offsetHeight"],Aria:["role","ariaAtomic","ariaAutoComplete","ariaBusy","ariaBrailleLabel","ariaBrailleRoleDescription","ariaChecked","ariaColCount","ariaColIndex","ariaColSpan","ariaCurrent","ariaDescription","ariaDisabled","ariaExpanded","ariaHasPopup","ariaHidden","ariaInvalid","ariaKeyShortcuts","ariaLabel","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRelevant","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText","ariaColIndexText","ariaRowIndexText","ariaActiveDescendantElement","ariaControlsElements","ariaDescribedByElements","ariaDetailsElements","ariaErrorMessageElements","ariaFlowToElements","ariaLabelledByElements"],Hidden:[]}],[Node$1,{Hidden:["reactivity","_changeQueue","_reactiveProperties","_bindings","_eventDispatcher","_parents","_protochain","_disposed","_isNode","_isIoElement"]}],[IoElement,{Hidden:["reactivity","_changeQueue","_reactiveProperties","_bindings","_eventDispatcher","_parents","_protochain","_disposed","_isNode","_isIoElement"]}]]);function getEditorGroups(object,propertyGroups){if(!(object&&object instanceof Object))return console.warn("`getEditorGroups` should be used with an Object instance"),{};const aggregatedGroups={Main:[]};function aggregateGroups(editorGroups){for(const[constructorKey,groups]of editorGroups)if(object instanceof constructorKey){const configKeys=Object.keys(groups),existingKeys=Object.keys(aggregatedGroups);if(configKeys.length>0&&existingKeys.length>0){const reorderedGroups={};for(const key of configKeys)reorderedGroups[key]=aggregatedGroups[key]||[];for(const key of existingKeys)key in reorderedGroups||(reorderedGroups[key]=aggregatedGroups[key]);for(const key of existingKeys)configKeys.includes(key)&&delete aggregatedGroups[key];Object.assign(aggregatedGroups,reorderedGroups)}for(const g in groups){aggregatedGroups[g]=aggregatedGroups[g]||[];for(const identifier of groups[g])if(!(identifier instanceof RegExp))for(const ag in aggregatedGroups){const idx=aggregatedGroups[ag].indexOf(identifier);-1!==idx&&aggregatedGroups[ag].splice(idx,1)}aggregatedGroups[g].push(...groups[g])}const advanced=aggregatedGroups.Advanced||[];delete aggregatedGroups.Advanced,aggregatedGroups.Advanced=advanced}}aggregateGroups(editorGroupsSingleton),aggregateGroups(/* @__PURE__ */new Map([[Object,propertyGroups]]));const allGroupedNonRegexPropertyNames=[];for(const g of Object.keys(aggregatedGroups))for(const identifier of aggregatedGroups[g])identifier instanceof RegExp||allGroupedNonRegexPropertyNames.push(identifier);const groupsRecord={Main:[]},allPropertyNames=getAllPropertyNames(object),includedProperties=/* @__PURE__ */new Set;for(const g of Object.keys(aggregatedGroups)){groupsRecord[g]=groupsRecord[g]||[];for(const identifier of aggregatedGroups[g])identifier instanceof RegExp||!allPropertyNames.includes(identifier)||(groupsRecord[g].push(identifier),includedProperties.add(identifier))}for(const key of allPropertyNames){if(includedProperties.has(key))continue;const isFunction="function"==typeof object[key];let included=!1;for(const g of Object.keys(aggregatedGroups)){for(const identifier of aggregatedGroups[g])if(identifier instanceof RegExp&&!allGroupedNonRegexPropertyNames.includes(key)&&identifier.test(key)&&!isFunction){groupsRecord[g].push(key),includedProperties.add(key),included=!0;break}if(included)break}included||isFunction||groupsRecord.Advanced?.includes(key)||groupsRecord.Main.push(key)}for(const g of Object.keys(groupsRecord))groupsRecord[g]=[...new Set(groupsRecord[g])];for(const g of Object.keys(groupsRecord))for(const g2 of Object.keys(groupsRecord))if(g!==g2)for(const key of groupsRecord[g])groupsRecord[g2].includes(key)&&console.warn(`Property "${key}" belongs to multiple groups: "${g}" and "${g2}". Removing from "${g}".`);return groupsRecord}function registerEditorGroups(constructor,groups){const existingGroups=editorGroupsSingleton.get(constructor)||{};for(const group in groups)existingGroups[group]=existingGroups[group]||[],existingGroups[group].push(...groups[group]);editorGroupsSingleton.set(constructor,existingGroups)}const editorWidgetsSingleton=/* @__PURE__ */new Map([]);function getEditorWidget(object){if(!(object&&object instanceof Object))return console.warn("`getEditorGroups` should be used with an Object instance"),null;return function getWidget(editorWidgets){let matchedWidget=null;for(const[constructorKey,widgetCandidate]of editorWidgets)object instanceof constructorKey&&(matchedWidget=widgetCandidate);return matchedWidget}(editorWidgetsSingleton)}function registerEditorWidget(constructor,widget){editorWidgetsSingleton.set(constructor,widget)}var __defProp$7=Object.defineProperty,__getOwnPropDesc$7=Object.getOwnPropertyDescriptor,__decorateClass$7=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc$7(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$7(target,key,result),result};let IoPropertyEditor=class extends IoElement{static get Style(){return"\n    :host {\n      display: flex;\n      flex-direction: column;\n      color: var(--io_colorInput);\n      background-color: var(--io_bgColor);\n      border-radius: calc(var(--io_borderRadius) + var(--io_spacing));\n      font-size: var(--io_fontSize);\n      overflow: hidden;\n    }\n    :host > .row {\n      display: flex;\n      flex-direction: row;\n      flex: 1 1 auto;\n      margin: var(--io_spacing);\n      padding: var(--io_spacing) 0;\n      border-radius: var(--io_borderRadius);\n      margin-bottom: 0;\n      background-color: var(--io_bgColorLight);\n    }\n    :host io-property-editor {\n      margin-top: calc(var(--io_spacing) * -1) !important;\n    }\n    :host io-property-editor > .row {\n      /* margin: 0 !important; */\n      padding: 0 !important;\n    }\n    :host > .row:last-of-type {\n      margin-bottom: var(--io_spacing);\n    }\n    :host > .row > span {\n      flex: 0 0 auto;\n      padding: var(--io_borderWidth); /* TODO: verify correctness */\n      margin: var(--io_spacing);\n      margin-left: var(--io_spacing2);\n      line-height: var(--io_lineHeight);\n      height: var(--io_lineHeight);\n      text-wrap: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n    :host > .row > span:after {\n      display: inline-block;\n      margin-left: var(--io_spacing);\n      opacity: 0.5;\n      content: ':';\n    }\n\n    :host > .row > :not(span) {\n      flex-grow: 1;\n    }\n    :host io-object {\n      margin-right: var(--io_spacing);\n    }\n    "}_config=null;_groups=null;_widget=null;_propertyEditors={};_onValueInput(event){event.stopImmediatePropagation();const id=event.target.id;void 0!==id?(this.value[id]=event.detail.value,this.value._isNode||this.dispatchMutation(this.value)):console.warn('IoPropertyEditor: "value-input" recieved from an input without a property id')}configChanged(){this.debounce(this.configureDebounced)}groupsChanged(){this.debounce(this.configureDebounced)}widgetChanged(){this.debounce(this.configureDebounced)}valueChanged(){this.debounce(this.configureDebounced)}configureDebounced(){if(this._propertyEditors={},!this.value||"object"!=typeof this.value)return this._config=null,this._groups=null,this._widget=null,void this.render([]);{this._config=getEditorConfig(this.value,this.config),this._groups=getEditorGroups(this.value,this.groups),this._widget=void 0!==this.widget?this.widget:getEditorWidget(this.value);const config=this._config,groups=this._groups,widget=this._widget;if(!config||!groups)return;const properties=[],vChildren=[];if(widget){const widgetWithValue={tag:widget.tag,props:Object.assign({value:this.value,widget:null},widget.props),children:widget.children};vChildren.push(widgetWithValue)}this.properties.length?properties.push(...this.properties):properties.push(...groups.Main);const allProps=getAllPropertyNames(this.value);for(let i=0;i<properties.length;i++)if(allProps.includes(properties[i])){const id=properties[i],value=this.value[id],tag=config[id].tag,props=config[id].props||{},finalProps={id:id,value:value,"@value-input":this._onValueInput};let children;Object.assign(finalProps,props),HTML_ELEMENTS.includes(tag)&&"string"==typeof value&&(children=value),"io-object"!==tag&&"io-property-editor"!==tag||(finalProps.config=finalProps.config||this.config,finalProps.groups=finalProps.groups||this.groups),"io-object"===tag&&(finalProps.persistentExpand=!0);const isFunction="function"==typeof value;isFunction&&(finalProps.action=value.bind(this.value),finalProps.label=finalProps.label||id);const isIoObject="io-object"===tag;isIoObject&&(finalProps.label=id+": "+(finalProps.label||value?.constructor?.name||String(value)));const label=finalProps.label||id,tooltip=label,hideLabel="_hidden_"===finalProps.label;finalProps.class?finalProps.class+=" io-property-editor-field":finalProps.class="io-property-editor-field",vChildren.push(div({class:"row"},[!this.labeled||hideLabel||isFunction||isIoObject?null:span({style:{width:this.labelWidth},title:tooltip},label),{tag:tag,props:finalProps,children:children}]))}else console.warn(`IoPropertyEditor: property "${properties[i]}" not found in value`);if(!this.properties.length)for(const group in groups)"Main"!==group&&"Hidden"!==group&&groups[group].length&&vChildren.push(ioObject({label:group,labelWidth:this.labelWidth,persistentExpand:!0,value:this.value,properties:groups[group],config:this.config}));console.log("vChildren",JSON.stringify(vChildren,null,2)),this.render(vChildren);for(const child of Object.values(this.$))child.classList.contains("io-property-editor-field")&&(this._propertyEditors[child.id]=child)}}valueMutated(){this.throttle(this.changedThrottled)}changed(){this.throttle(this.changedThrottled)}changedThrottled(){if(this.value&&"object"==typeof this.value)for(const id in this._propertyEditors){if(!(id in this.value))continue;const value=this.value[id];this._propertyEditors[id].value=value}}dispose(){super.dispose(),this._propertyEditors={}}};__decorateClass$7([ReactiveProperty({type:Object,init:null})],IoPropertyEditor.prototype,"value",2),__decorateClass$7([ReactiveProperty({type:Array,init:null})],IoPropertyEditor.prototype,"properties",2),__decorateClass$7([ReactiveProperty({type:String,value:""})],IoPropertyEditor.prototype,"label",2),__decorateClass$7([ReactiveProperty(!0)],IoPropertyEditor.prototype,"labeled",2),__decorateClass$7([ReactiveProperty("80px")],IoPropertyEditor.prototype,"labelWidth",2),__decorateClass$7([ReactiveProperty({type:Array,init:null})],IoPropertyEditor.prototype,"config",2),__decorateClass$7([ReactiveProperty({type:Object,init:null})],IoPropertyEditor.prototype,"groups",2),__decorateClass$7([ReactiveProperty({type:Object})],IoPropertyEditor.prototype,"widget",2),IoPropertyEditor=__decorateClass$7([Register],IoPropertyEditor);const ioPropertyEditor=function(arg0){return IoPropertyEditor.vConstructor(arg0)};var __defProp$6=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__decorateClass$6=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc$6(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$6(target,key,result),result};let IoObject=class extends IoElement{static get Style(){return'\n    :host {\n      display: flex;\n      max-width: 100%;\n      flex-direction: column;\n      color: var(--io_colorInput);\n      background-color: var(--io_bgColor);\n      border-radius: calc(var(--io_borderRadius) + var(--io_spacing));\n    }\n    :host > io-boolean {\n      padding: var(--io_spacing) var(--io_spacing2);\n      align-self: stretch;\n    }\n    :host > io-boolean:before {\n      display: inline-block;\n      width: 0.75em;\n      content: "â–¸"\n    }\n    :host > io-boolean[value]:before {\n      content: "â–¾";\n    }\n    :host > io-property-editor {\n      /* margin: var(--io_spacing); */\n      margin: calc(var(--io_spacing) * 2);\n      margin-top: calc(var(--io_spacing) * 2) !important;\n      margin-left: calc(var(--io_spacing) * 4);\n      border: var(--io_border);\n      border-color: var(--io_borderColorInset);\n    }\n    '}valueChanged(){if(!this.value)return;let uuid=function genIdentifier(object){const id=object.guid||object.uuid||object.id||object.name||object.label;if(id)return"io-object-collapse-state-"+object.constructor.name+"-"+id}(this.value),storage="local";uuid||(uuid=function getTempIdentifier(object){if(!tempIdentifiers.has(object)){const randomuuid=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);tempIdentifiers.set(object,randomuuid)}return tempIdentifiers.get(object)}(this.value),storage="none");const expandedBinding=Storage({value:!1,storage:storage,key:uuid+"-"+this.label}),bindingTargets=expandedBinding.targets,targetIsThis=bindingTargets.has(this);if(bindingTargets.size<1&&!targetIsThis){const targetP=this._reactiveProperties.get("expanded");targetP.binding&&targetP.binding!==expandedBinding&&targetP.binding.removeTarget(this,"expanded"),expandedBinding.addTarget(this,"expanded")}}changed(){const label=this.label||this.value.constructor.name,propCount=Object.keys(this.value).length,vChildren=[];vChildren.push(ioBoolean({appearance:"neutral",true:label,false:label,value:this.bind("expanded"),disabled:0===propCount})),this.expanded&&propCount>0&&vChildren.push(ioPropertyEditor({value:this.value,properties:this.properties,config:this.config,groups:this.groups,widget:this.widget,labeled:this.labeled,labelWidth:this.labelWidth})),this.render(vChildren),this.setAttribute("aria-expanded",String(this.expanded))}};__decorateClass$6([ReactiveProperty({type:Object})],IoObject.prototype,"value",2),__decorateClass$6([ReactiveProperty({type:Array,init:null})],IoObject.prototype,"properties",2),__decorateClass$6([ReactiveProperty({type:String,value:""})],IoObject.prototype,"label",2),__decorateClass$6([ReactiveProperty(!0)],IoObject.prototype,"labeled",2),__decorateClass$6([ReactiveProperty("80px")],IoObject.prototype,"labelWidth",2),__decorateClass$6([ReactiveProperty({value:!1,reflect:!0})],IoObject.prototype,"expanded",2),__decorateClass$6([ReactiveProperty({value:!1})],IoObject.prototype,"persistentExpand",2),__decorateClass$6([ReactiveProperty({type:Array,init:null})],IoObject.prototype,"config",2),__decorateClass$6([ReactiveProperty({type:Object,init:null})],IoObject.prototype,"groups",2),__decorateClass$6([ReactiveProperty({type:Object})],IoObject.prototype,"widget",2),__decorateClass$6([Property("region")],IoObject.prototype,"role",2),IoObject=__decorateClass$6([Register],IoObject);const ioObject=function(arg0){return IoObject.vConstructor(arg0)};const tempIdentifiers=/* @__PURE__ */new WeakMap;function makeSelect(options){for(let i=0;i<options.length;i++)null===options[i]&&(options[i]={value:null,id:"Null"});const option=new MenuOption({options:options});return ioOptionSelect({option:option})}const configCache=new class ConfigCache{map=/* @__PURE__ */new WeakMap;set(key1,key2,value){let inner=this.map.get(key1);return inner||(inner=/* @__PURE__ */new WeakMap,this.map.set(key1,inner)),inner.set(key2,value),this}get(key1,key2){return this.map.get(key1)?.get(key2)}has(key1,key2){return this.map.get(key1)?.has(key2)??!1}delete(key1,key2){return this.map.get(key1)?.delete(key2)??!1}},editorConfigSingleton=/* @__PURE__ */new Map([[Object,[[String,ioString()],[Number,ioNumber({step:.01})],[Boolean,ioSwitch()],[Object,ioObject()],[null,ioField({disabled:!0})],[void 0,ioField({disabled:!0})],[Function,ioButton()]]],[Array,[[Number,ioNumber({step:.01})]]],[window.Node,[["tabIndex",ioOptionSelect({option:new MenuOption({options:[{value:"",id:"None"},"-1","0","1","2","3"]})})],["innerHTML",ioString({disabled:!0,style:{maxWidth:"10em"}})],["outerHTML",ioString({disabled:!0,style:{maxWidth:"10em"}})],["autocapitalize",ioOptionSelect({option:new MenuOption({options:["off","sentences","words","characters",{value:"",id:"None"}]})})],["writingSuggestions",ioOptionSelect({option:new MenuOption({options:["true","false"]})})],["dir",ioOptionSelect({option:new MenuOption({options:["ltr","rtl","auto",{value:"",id:"None"}]})})],["virtualKeyboardPolicy",ioOptionSelect({option:new MenuOption({options:["manual","auto",{value:"",id:"None"}]})})],["enterKeyHint",ioOptionSelect({option:new MenuOption({options:["enter","done","go","next","previous","search","send",{value:"",id:"None"}]})})],["contentEditable",ioOptionSelect({option:new MenuOption({options:["true","false","plaintext-only","inherit"]})})],["inputMode",ioOptionSelect({option:new MenuOption({options:["decimal","email","numeric","tel","search","url","text",{value:"",id:"None"}]})})],["lang",ioOptionSelect({option:new MenuOption({options:[{value:"",id:"None"},"ab","aa","af","ak","sq","am","ar","an","hy","as","av","ae","ay","az","bm","ba","eu","be","bn","bh","bi","bs","br","bg","my","ca","ch","ce","ny","zh","zh-ans","zh-ant","cv","kw","co","cr","hr","cs","da","dv","nl","dz","en","eo","et","ee","fo","fj","fi","fr","ff","gl","gd","ka","de","el","kl","gn","gu","ht","ha","he","hz","hi","ho","hu","is","io","ig","id in","ia","ie","iu","ik","ga","it","ja","jv","kn","kr","ks","kk","km","ki","rw","rn","ky","kv","kg","ko","ku","kj","lo","la","lv","li","ln","lt","lu","lg","lb","gv","mk","mg","ms","ml","mt","mi","mr","mh","mo","mn","na","nv","ng","nd","ne","no","nb","nn","oc","oj","cu","or","om","os","pi","ps","fa","pl","pt","pa","qu","rm","ro","ru","se","sm","sg","sa","sr","sh","st","tn","sn","ii","sd","si","ss","sk","sl","so","nr","es","su","sw","sv","tl","ty","tg","ta","tt","te","th","bo","ti","to","ts","tr","tk","tw","ug","uk","ur","uz","ve","vi","vo","wa","cy","wo","fy","xh","yi","ji","yo","za","zu"]})})],["role",ioOptionSelect({option:new MenuOption({options:["alert","alertdialog","application","article","banner","button","cell","checkbox","columnheader","combobox","complementary","contentinfo","definition","dialog","directory","document","feed","figure","form","grid","gridcell","group","heading","img","link","list","listbox","listitem","log","main","marquee","math","menu","menubar","menuitem","menuitemcheckbox","menuitemradio","navigation","none","note","option","presentation","progressbar","radio","radiogroup","region","row","rowgroup","rowheader","scrollbar","search","searchbox","separator","slider","spinbutton","status","switch","tab","table","tablist","tabpanel","term","textbox","timer","toolbar","tooltip","tree","treegrid","treeitem"]})})],["ariaAtomic",makeSelect(["true","false",null])],["ariaAutoComplete",ioOptionSelect({option:new MenuOption({options:["inline","list","both","none"]})})],["ariaBusy",makeSelect(["true","false",null])],["ariaBrailleLabel",ioString()],["ariaBrailleRoleDescription",ioString()],["ariaChecked",makeSelect(["true","false","mixed",null])],["ariaColCount",makeSelect([...[...Array(32)].map((_,i)=>i+1),null])],["ariaColIndex",makeSelect([...[...Array(32)].map((_,i)=>i+1),null])],["ariaColSpan",makeSelect([...[...Array(32)].map((_,i)=>i+1),null])],["ariaCurrent",makeSelect(["true","false","page","step","location","date","time",null])],["ariaDescription",ioString()],["ariaDisabled",makeSelect(["true","false",null])],["ariaExpanded",makeSelect(["true","false",null])],["ariaHasPopup",makeSelect(["true","false","menu","listbox","tree","grid","dialog",null])],["ariaHidden",makeSelect(["true","false",null])],["ariaInvalid",makeSelect(["true","false","grammar","spelling",null])],["ariaKeyShortcuts",ioString()],["ariaLabel",ioString()],["ariaLevel",makeSelect([...[...Array(32)].map((_,i)=>i+1),null])],["ariaLive",ioOptionSelect({option:new MenuOption({options:["assertive","polite","off"]})})],["ariaModal",makeSelect(["true","false",null])],["ariaMultiLine",makeSelect(["true","false",null])],["ariaMultiSelectable",makeSelect(["true","false",null])],["ariaOrientation",ioOptionSelect({option:new MenuOption({options:["horizontal","vertical","undefined"]})})],["ariaPlaceholder",ioString()],["ariaPosInSet",makeSelect([...[...Array(32)].map((_,i)=>i+1),null])],["ariaPressed",makeSelect(["true","false","mixed",null])],["ariaReadOnly",makeSelect(["true","false",null])],["ariaRequired",makeSelect(["true","false",null])],["ariaRelevant",ioOptionSelect({option:new MenuOption({options:["additions","all","removals","text"]})})],["ariaRoleDescription",ioString()],["ariaRowCount",makeSelect([...[...Array(32)].map((_,i)=>i+1),null])],["ariaRowIndex",makeSelect([...[...Array(32)].map((_,i)=>i+1),null])],["ariaRowSpan",makeSelect([...[...Array(32)].map((_,i)=>i+1),null])],["ariaSelected",makeSelect(["true","false",null])],["ariaSetSize",makeSelect([...[...Array(32)].map((_,i)=>i+1),null])],["ariaSort",ioOptionSelect({option:new MenuOption({options:["none","ascending","descending","other"]})})],["ariaValueMax",makeSelect([...[...Array(32)].map((_,i)=>i+1),null])],["ariaValueMin",makeSelect([...[...Array(32)].map((_,i)=>i+1),null])],["ariaValueNow",makeSelect([...[...Array(32)].map((_,i)=>i+1),null])],["ariaValueText",ioString()],["ariaColIndexText",ioString()],["ariaRowIndexText",ioString()]]],[Element,[]],[HTMLElement,[]],[Node$1,[["reactivity",ioOptionSelect({option:new MenuOption({options:["none","debounced","immediate"]})})]]],[IoElement,[["reactivity",ioOptionSelect({option:new MenuOption({options:["none","debounced","immediate"]})})]]],[IoGl,[["size",ioVectorArray({step:1})],["color",ioVectorArray({step:1})]]],[Theme,[[Number,ioNumberSlider({step:1,min:0,max:20})],["themeID",ioOptionSelect({option:new MenuOption({options:["light","dark"]})})],["spacing2",ioField({disabled:!0})],["spacing3",ioField({disabled:!0})],["spacing5",ioField({disabled:!0})],["spacing8",ioField({disabled:!0})],["fieldHeight",ioField({disabled:!0})],[Color,ioColorRgba()]]]]);function getEditorConfig(object,propertyConfigs){if(!(object&&object instanceof Object))return console.warn("`getObjectConfig` should be used with an Object instance"),{};const cachedConfig=configCache.get(object,propertyConfigs);if(cachedConfig)return cachedConfig;const aggregatedConfig=/* @__PURE__ */new Map;for(const[constructorKey,propertyTypes]of editorConfigSingleton)if(object instanceof constructorKey)for(const[PropertyIdentifier,config]of propertyTypes)aggregatedConfig.set(PropertyIdentifier,config);for(const[PropertyIdentifier,config]of propertyConfigs)aggregatedConfig.set(PropertyIdentifier,config);const configRecord={};for(const key of getAllPropertyNames(object)){const value=object[key];for(const[PropertyIdentifier,elementCandidate]of aggregatedConfig){let element;"function"==typeof PropertyIdentifier&&value instanceof PropertyIdentifier||"function"==typeof PropertyIdentifier&&value?.constructor===PropertyIdentifier?element=elementCandidate:"string"==typeof PropertyIdentifier&&key===PropertyIdentifier?"object"==typeof value&&null!==value&&"io-field"===elementCandidate.tag||(element=elementCandidate):(PropertyIdentifier instanceof RegExp&&PropertyIdentifier.test(key)||null===PropertyIdentifier&&null===value||void 0===PropertyIdentifier&&void 0===value)&&(element=elementCandidate),element&&(element={...element},element.props&&(element.props={...element.props}),configRecord[key]=element)}const vElement=configRecord[key];vElement.children&&console.warn("EditorConfig: configured element should not have children",vElement);const props=vElement.props;if(props)for(const[key2,value2]of Object.entries(props))value2 instanceof MenuOption&&(props[key2]=new MenuOption({}).fromJSON(value2.toJSON()))}for(const key of getAllPropertyNames(object)){if("textNode"===key)continue;const value=object[key];configRecord[key]||console.warn("No config found for",key,value)}return configCache.set(object,propertyConfigs,configRecord),configRecord}function registerEditorConfig(constructor,propertyTypes){const existingConfigs=editorConfigSingleton.get(constructor)||[];for(const[PropertyIdentifier,elementCandidate]of propertyTypes){const existingConfig=existingConfigs.find(config=>config[0]===PropertyIdentifier);existingConfig?existingConfig[1]=elementCandidate:existingConfigs.push([PropertyIdentifier,elementCandidate])}editorConfigSingleton.set(constructor,existingConfigs)}editorConfigSingleton.forEach((propertyTypes,constructor)=>{const descriptors=Object.getOwnPropertyDescriptors(constructor.prototype);for(const[key,descriptor]of Object.entries(descriptors)){const isWritable=!1!==descriptor.writable,hasGetter=void 0!==descriptor.get,hasSetter=void 0!==descriptor.set;if(hasGetter&&!hasSetter||!isWritable){const hasType=propertyTypes.find(propertyType=>propertyType[0]===key);hasType?(console.warn(constructor,`.${key} has getter but no setter or is not writable. Invalidating editor config.`),hasType.length=0,hasType.push(key,ioField({disabled:!0}))):propertyTypes.push([key,ioField({disabled:!0})])}}});var __defProp$5=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__decorateClass$5=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc$5(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$5(target,key,result),result};let IoPropertyLink=class extends IoButton{static get Style(){return"\n    :host {\n      display: flex;\n    }\n    :host > span {\n      color: var(--io_colorBlue);\n      flex: 0 1 auto;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n    :host:hover > span {\n      text-decoration: underline;\n    }\n    "}valueMutated(){this.changed()}changed(){let label="";if(label=this.value instanceof Array?`${this.value.constructor.name} (${this.value.length})`:`${this.value.constructor.name}`,this.showName){const name=this.value.name||this.value.title||this.value.id;name&&(label+=` "${name}"`)}this.render([span(label)])}};__decorateClass$5([ReactiveProperty()],IoPropertyLink.prototype,"value",2),__decorateClass$5([ReactiveProperty({value:!1,type:Boolean})],IoPropertyLink.prototype,"showName",2),__decorateClass$5([ReactiveProperty({value:"neutral",type:String,reflect:!0})],IoPropertyLink.prototype,"appearance",2),IoPropertyLink=__decorateClass$5([Register],IoPropertyLink);const ioPropertyLink=function(arg0){return IoPropertyLink.vConstructor(arg0)};var __defProp$4=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__decorateClass$4=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc$4(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$4(target,key,result),result};let IoBreadcrumbs=class extends IoElement{static get Style(){return"\n    :host {\n      display: flex;\n    }\n    :host > div {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      flex: 1 1 auto;\n      border: var(--io_border);\n      border-color: var(--io_borderColorInset);\n      border-radius: var(--io_borderRadius);\n      background-color: var(--io_bgColorInput);\n      overflow: hidden;\n    }\n    :host > io-button {\n      padding-left: var(--io_spacing);\n      padding-right: var(--io_spacing);\n      margin: var(--io_borderWidth);\n      flex: 0 0 auto;\n    }\n    :host:not([search]) > io-button.clear-button {\n      display: none;\n    }\n    :host > div > io-property-link:last-of-type {\n      flex-shrink: 0;\n    }\n    :host > div > io-property-link:last-of-type > span {\n      flex-shrink: 0;\n      text-overflow: clip;\n    }\n    :host > div > io-property-link:not(:first-of-type):before {\n      content: '>';\n      padding-right: calc(var(--io_fontSize) / 2);\n      color: var(--io_colorStrong);\n      opacity: 0.5;\n    }\n    :host > .search-input {\n      flex: 0 0 auto;\n      overflow: hidden;\n      min-width: calc(var(--io_fieldHeight) + var(--io_borderWidth) * 2);\n      height: calc(var(--io_fieldHeight) + var(--io_borderWidth) * 2);\n      margin-left: var(--io_spacing);\n    }\n    :host > .search-input:empty::before {\n      content: 'ðŸ”';\n      font-size: 0.9em;\n    }\n    "}valueChanged(){this._crumbs.length=0,this._crumbs.push(this.value)}selectedChanged(){const index=this._crumbs.indexOf(this.selected);-1!==index?this._crumbs.length=index+1:this._crumbs.push(this.selected)}onClearSearch(){this.search=""}changed(){const vChildren=[];this._crumbs.length>1&&vChildren.push(ioButton({icon:"io:arrow_left",class:"back-button",value:this._crumbs[this._crumbs.length-2]}));const crumbs=div();crumbs.children=[];for(let i=Math.max(0,this._crumbs.length-2);i<this._crumbs.length;i++)crumbs.children.push(ioPropertyLink({value:this._crumbs[i],showName:i===this._crumbs.length-1}));vChildren.push(crumbs,ioButton({icon:"io:close",class:"clear-button",action:this.onClearSearch}),ioString({id:"search",class:"search-input",value:this.bind("search"),live:!0})),this.render(vChildren)}};__decorateClass$4([ReactiveProperty({type:Object,init:null})],IoBreadcrumbs.prototype,"value",2),__decorateClass$4([ReactiveProperty({type:Object,init:null})],IoBreadcrumbs.prototype,"selected",2),__decorateClass$4([ReactiveProperty({type:String,reflect:!0})],IoBreadcrumbs.prototype,"search",2),__decorateClass$4([Property(Array)],IoBreadcrumbs.prototype,"_crumbs",2),IoBreadcrumbs=__decorateClass$4([Register],IoBreadcrumbs);const ioBreadcrumbs=function(arg0){return IoBreadcrumbs.vConstructor(arg0)};var __defProp$3=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__decorateClass$3=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc$3(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$3(target,key,result),result};let IoContextEditor=class extends IoPropertyEditor{static get Style(){return"\n      :host {\n        z-index: 2;\n      }\n      :host:not([expanded]) {\n      visibility: hidden;\n    }\n    "}static get Listeners(){return{keydown:"onKeydown","io-focus-to":"onIoFocusTo"}}onKeydown(event){"Escape"!==event.key&&"Enter"!==event.key||(event.preventDefault(),this.expanded=!1)}onIoFocusTo(event){const source=event.detail.source,cmd=event.detail.command,siblings=Array.from(this.querySelectorAll('[tabindex="0"]')),index=[...siblings].indexOf(source);let cmdOverride="";this.horizontal?("ArrowRight"===cmd&&(cmdOverride="next"),"ArrowLeft"===cmd&&(cmdOverride="prev")):("ArrowDown"===cmd&&(cmdOverride="next"),"ArrowUp"===cmd&&(cmdOverride="prev")),cmdOverride&&("next"===cmdOverride?siblings[(index+1)%siblings.length].focus():"prev"===cmdOverride?siblings[(index-1+siblings.length)%siblings.length].focus():"out"===cmdOverride&&this.$parent&&this.$parent.focus(),event.stopPropagation())}expand(props){this.setProperties({value:props.value,properties:props.properties||[],labeled:props.labeled||!0,labelWidth:props.labelWidth||"80px",config:props.config||[],groups:props.groups||{},widget:props.widget||void 0,expanded:!0}),this.onClose=props.onClose||null,nudge(this,props.source,props.direction),this.debounce(this.onExpand,void 0,2)}onExpand(){this.querySelector('[tabindex="0"]:not([inert])')?.focus()}expandedChanged(){this.expanded||(this.setProperties({value:{},properties:[],labeled:!0,config:[],groups:{},widget:void 0}),this.onClose&&(this.onClose(),this.onClose=null))}};__decorateClass$3([ReactiveProperty({type:Boolean,value:!1,reflect:!0})],IoContextEditor.prototype,"expanded",2),IoContextEditor=__decorateClass$3([Register],IoContextEditor);const IoContextEditorSingleton=new IoContextEditor;setTimeout(()=>{IoOverlaySingleton.appendChild(IoContextEditorSingleton)},100);var __defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__decorateClass$2=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc$2(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$2(target,key,result),result};function isNestedObject(value,selected){return value===selected||(value instanceof Array?value.some(v=>isNestedObject(v,selected)):value instanceof Object&&Object.keys(value).some(k=>isNestedObject(value[k],selected)))}let IoInspector=class extends IoElement{static get Style(){return"\n    :host {\n      display: flex;\n      flex-direction: column;\n      align-items: stretch;\n      flex: 0 1 calc(var(--io_lineHeight) * 17.5);\n      padding: var(--io_spacing);\n      background-color: var(--io_bgColor);\n      border-radius: calc(var(--io_borderRadius) + var(--io_spacing));\n    }\n    :host > io-breadcrumbs {\n      margin: 0 var(--io_spacing);\n      /* z-index: 1; */\n    }\n    :host > span {\n      padding: var(--io_spacing) var(--io_spacing3);\n      color: var(--io_colorStrong);\n    }\n    :host io-property-editor > .row > span {\n      min-width: 6em;\n      text-align: right;\n    }\n    "}static get Listeners(){return{"io-button-clicked":"onLinkClicked"}}onLinkClicked(event){event.stopPropagation();const value=event.detail.value,item=event.composedPath()[0];value&&"object"==typeof value&&("io-property-link"!==item.localName&&"back-button"!==item.className||this.setProperty("selected",value))}valueChanged(){this.selected=this.value}valueMutated(){isNestedObject(this.value,this.selected)||(this.selected=this.value),this.changed()}selectedMutated(){this.changed()}selectedChanged(){this.search=""}changed(){this.debounce(this.changedDebounced)}changedDebounced(){const vChildren=[ioBreadcrumbs({value:this.value,selected:this.bind("selected"),search:this.bind("search")})],config=[...this.config];config.push([Object,ioPropertyLink({showName:!0})]);const properties=[];if(this.search)for(const key of getAllPropertyNames(this.selected))key.toLowerCase().includes(this.search.toLowerCase())&&properties.push(key);this.search&&0===properties.length?vChildren.push(span(`No results found for "${this.search}"`)):vChildren.push(ioPropertyEditor({value:this.selected,config:config,groups:this.groups,widget:this.widget,properties:properties})),this.render(vChildren)}dispose(){super.dispose(),window.removeEventListener("io-object-mutation",this.onPropertyMutated)}};__decorateClass$2([ReactiveProperty({type:Object,init:null})],IoInspector.prototype,"value",2),__decorateClass$2([ReactiveProperty({type:Object,init:null})],IoInspector.prototype,"selected",2),__decorateClass$2([ReactiveProperty({type:String})],IoInspector.prototype,"search",2),__decorateClass$2([ReactiveProperty({type:Array,init:null})],IoInspector.prototype,"config",2),__decorateClass$2([ReactiveProperty({type:Object,init:null})],IoInspector.prototype,"groups",2),__decorateClass$2([ReactiveProperty({type:Object})],IoInspector.prototype,"widget",2),IoInspector=__decorateClass$2([Register],IoInspector);const ioInspector=function(arg0){return IoInspector.vConstructor(arg0)};var __defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__decorateClass$1=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc$1(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp$1(target,key,result),result};let IoVector=class extends IoElement{static get Style(){return"\n      :host {\n        display: flex;\n        flex: 1 1 auto;\n        max-width: 100%;\n        overflow: hidden;\n      }\n      :host > io-number {\n        flex: 1 1 0;\n      }\n      :host > *:not(:last-child) {\n        margin-right: var(--io_spacing);\n      }\n      :host > io-boolicon {\n        flex-shrink: 0;\n        padding: var(--io_spacing);\n      }\n    "}_ratios={};_onNumberPointerDown(event){const id=event.composedPath()[0].id;if(this._ratios={},this.linked&&0!==this.value[id]){const value=this.value;for(const k of this.keys)this._ratios[k]=value[k]/value[id]}}_onNumberValueInput(event){const id=event.composedPath()[0].id;if(this.value[id]=event.detail.value,this.linked)for(const k of this.keys){const value=this.value;k!==id&&this._ratios[k]&&(value[k]=value[id]*this._ratios[k])}this.value._isNode||this.dispatchMutation(this.value)}valueChanged(){this.keys.length=0,this.keys.push(...Object.keys(this.value).filter(key=>"number"==typeof this.value[key])),this.keys.find(k=>-1===["0","1","2","3","x","y","z","w","r","g","b","a","u","v"].indexOf(k))&&console.warn("IoVector: Unrecognized vector type!")}valueMutated(){this.debounce(this.changed)}changed(){const vChildren=[];for(const k of this.keys)void 0!==this.value[k]&&vChildren.push(ioNumber({id:k,value:this.value[k],conversion:this.conversion,step:this.step,min:this.min,max:this.max,ladder:this.ladder,disabled:this.disabled,"@pointerdown":this._onNumberPointerDown,"@value-input":this._onNumberValueInput}));vChildren.push(this.linkable?ioBoolean({value:this.bind("linked"),true:"io:link",false:"io:unlink"}):null),this.render(vChildren)}};__decorateClass$1([ReactiveProperty({type:Object})],IoVector.prototype,"value",2),__decorateClass$1([ReactiveProperty(1)],IoVector.prototype,"conversion",2),__decorateClass$1([ReactiveProperty(.001)],IoVector.prototype,"step",2),__decorateClass$1([ReactiveProperty(-Infinity)],IoVector.prototype,"min",2),__decorateClass$1([ReactiveProperty(Infinity)],IoVector.prototype,"max",2),__decorateClass$1([ReactiveProperty(!1)],IoVector.prototype,"linkable",2),__decorateClass$1([ReactiveProperty(!1)],IoVector.prototype,"linked",2),__decorateClass$1([ReactiveProperty(!0)],IoVector.prototype,"ladder",2),__decorateClass$1([ReactiveProperty(!1)],IoVector.prototype,"disabled",2),__decorateClass$1([ReactiveProperty({type:Array,init:null})],IoVector.prototype,"keys",2),IoVector=__decorateClass$1([Register],IoVector);const ioVector=function(arg0){return IoVector.vConstructor(arg0)};var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result};let IoMatrix=class extends IoVectorArray{static get Style(){return'\n      :host {\n        display: grid;\n        align-self: stretch;\n        justify-self: stretch;\n        grid-gap: var(--io_spacing);\n        max-width: 100%;\n        overflow: hidden;\n      }\n      :host > *:not(:last-child) {\n        margin-right: 0;\n      }\n      :host[columns="4"] {\n        grid-template-columns: repeat(4, 1fr);\n      }\n      :host[columns="3"] {\n        grid-template-columns: repeat(3, 1fr);\n      }\n      :host[columns="2"] {\n        grid-template-columns: repeat(2, 1fr);\n      }\n    '}_onNumberValueInput(event){const item=event.composedPath()[0];this.value[item.id]=event.detail.value,this.value._isNode||this.dispatchMutation(this.value),this.dispatch("value-input",{property:"value",value:this.value},!1)}valueChanged(){4===this.value.length&&this.setProperties({keys:[0,1,2,3],columns:2}),9===this.value.length&&this.setProperties({keys:[0,1,2,3,4,5,6,7,8],columns:3}),16===this.value.length&&this.setProperties({keys:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],columns:4}),-1===[4,9,16].indexOf(this.value.length)&&console.warn("IoMatrix: Unrecognized matrix type!"),this.value.find(v=>"number"!=typeof v)&&console.warn("IoMatrix: Unrecognized matrix type!"),this.keys.find(k=>-1===[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15].indexOf(k))&&console.warn("IoMatrix: Unrecognized matrix type!")}};__decorateClass([ReactiveProperty({type:Array,init:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]})],IoMatrix.prototype,"value",2),__decorateClass([ReactiveProperty({value:4,reflect:!0})],IoMatrix.prototype,"columns",2),IoMatrix=__decorateClass([Register],IoMatrix);const ioMatrix=function(arg0){return IoMatrix.vConstructor(arg0)};export{IoBreadcrumbs,IoContextEditorSingleton,IoInspector,IoMatrix,IoObject,IoPropertyEditor,IoVector,IoVectorArray,SKIPPED_PROPERTIES,getAllPropertyNames,getEditorConfig,getEditorGroups,getEditorWidget,ioBreadcrumbs,ioInspector,ioMatrix,ioObject,ioPropertyEditor,ioVector,ioVectorArray,registerEditorConfig,registerEditorGroups,registerEditorWidget};
//# sourceMappingURL=index.js.map
