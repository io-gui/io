class ChangeQueue{hasChanged=!1;dispatching=!1;constructor(e){this.changes=[],this.node=e}queue(e,t,n){const o=this.changes.findIndex((t=>t.property===e));-1===o?this.changes.push({property:e,value:t,oldValue:n}):this.changes[o].value=t}dispatch(){if(!0!==this.dispatching){for(this.dispatching=!0,this.hasChanged=!1;this.changes.length;){const e=this.changes[0];this.changes.splice(0,1);const t=e.property;e.value!==e.oldValue&&(this.hasChanged=!0,this.node[t+"Changed"]&&this.node[t+"Changed"](e),this.node.dispatchEvent(t+"-changed",e))}this.hasChanged&&(this.node.changed(),this.node.dispatchEvent("changed"),this.node.dispatchMutationEvent(this.node)),this.dispatching=!1}}dispose(){this.changes.length=0,delete this.node,delete this.changes}}const hardenListenerDeclaration=e=>e instanceof Array?e:[e],assignListenerDeclaration=(e,t)=>{const n=e.findIndex((e=>e[0]===t[0]));-1!==n?e[n][1]?e[n][1]=Object.assign(e[n][1],t[1]):t[1]&&(e[n][1]=t[1]):e.push(t)},listenerFromDefinition=(e,t)=>{const n=["string"==typeof t[0]?e[t[0]]:t[0]];return t[1]&&n.push(t[1]),n};class EventDispatcher{node;isEventTarget;protoListeners={};propListeners={};addedListeners={};constructor(e){this.node=e,this.isEventTarget=e instanceof EventTarget,this.setProtoListeners(e)}setProtoListeners(e){for(const t in e._protochain?.listeners){this.protoListeners[t]=[];for(let n=0;n<e._protochain.listeners[t].length;n++){const o=listenerFromDefinition(e,e._protochain.listeners[t][n]);this.protoListeners[t]=[o]}if(this.isEventTarget&&this.protoListeners[t].length){const e=this.protoListeners[t][0];EventTarget.prototype.addEventListener.call(this.node,t,e[0],e[1])}}}applyPropListeners(e){const t={};for(const n in e)if(n.startsWith("@")){const o=n.slice(1,n.length),i=hardenListenerDeclaration(e[n]),r=listenerFromDefinition(this.node,i);t[o]=[r]}const n=this.propListeners;for(const e in n)if(!t[e]){if(this.isEventTarget){const t=hardenListenerDeclaration(n[e][0]),o=listenerFromDefinition(this.node,t);EventTarget.prototype.removeEventListener.call(this.node,e,o[0],o[1])}delete n[e]}for(const e in t){if(this.isEventTarget){const o=hardenListenerDeclaration(t[e][0]),i=listenerFromDefinition(this.node,o);if(n[e]){const t=hardenListenerDeclaration(n[e][0]),o=listenerFromDefinition(this.node,t);(o!==i||i[1]&&JSON.stringify(o[1])!==JSON.stringify(i[1]))&&(EventTarget.prototype.removeEventListener.call(this.node,e,o[0],o[1]),EventTarget.prototype.addEventListener.call(this.node,e,i[0],i[1]))}else EventTarget.prototype.addEventListener.call(this.node,e,i[0],i[1])}n[e]=t[e]}}addEventListener(e,t,n){this.addedListeners[e]=this.addedListeners[e]||[];-1===this.addedListeners[e].findIndex((e=>e[0]===t))&&(this.addedListeners[e].push(n?[t,n]:[t]),this.isEventTarget&&EventTarget.prototype.addEventListener.call(this.node,e,t,n))}removeEventListener(e,t,n){if(this.addedListeners[e]){if(t){const o=this.addedListeners[e].findIndex((e=>e[0]===t));-1!==o&&(this.addedListeners[e].splice(o,1),this.isEventTarget&&EventTarget.prototype.removeEventListener.call(this.node,e,t,n))}else{for(let t=0;t<this.addedListeners[e].length;t++)if(this.isEventTarget){const n=this.addedListeners[e][t];EventTarget.prototype.removeEventListener.call(this.node,e,n[0],n[1])}this.addedListeners[e].length=0}0===this.addedListeners[e].length&&delete this.addedListeners[e]}}dispatchEvent(e,t,n=!0,o=this.node){const i={detail:t,target:o,path:[o]};if(o instanceof EventTarget)EventTarget.prototype.dispatchEvent.call(o,new CustomEvent(e,{detail:t,bubbles:n,composed:!0,cancelable:!0}));else{if(this.protoListeners[e])for(let t=0;t<this.protoListeners[e].length;t++)this.protoListeners[e][t][0].call(o,i);if(this.propListeners[e]&&this.propListeners[e][0][0].call(o,i),this.addedListeners[e])for(let t=0;t<this.addedListeners[e].length;t++)this.addedListeners[e][t][0].call(o,i)}}dispose(){for(const e in this.protoListeners){if(this.isEventTarget)for(let t=0;t<this.protoListeners[e].length;t++){const n=this.protoListeners[e][t];EventTarget.prototype.removeEventListener.call(this.node,e,n[0],n[1])}this.protoListeners[e].length=0,delete this.protoListeners[e]}for(const e in this.propListeners){if(this.isEventTarget){const t=this.propListeners[e][0];EventTarget.prototype.removeEventListener.call(this.node,e,t[0],t[1])}this.propListeners[e].length=0,delete this.propListeners[e]}for(const e in this.addedListeners){if(this.isEventTarget)for(let t=this.addedListeners[e].length;t--;){const n=this.addedListeners[e][t];EventTarget.prototype.removeEventListener.call(this.node,e,n[0],n[1])}this.addedListeners[e].length=0,delete this.addedListeners[e]}delete this.node,delete this.protoListeners,delete this.propListeners,delete this.addedListeners}}class Binding{node;property="";targets=[];targetProperties=new WeakMap;constructor(e,t){this.node=e,this.property=t,this.node.addEventListener(`${this.property}-changed`,this.onSourceChanged)}set value(e){this.node[this.property]=e}get value(){return this.node[this.property]}toJSON(){return JSON.stringify({property:this.property,targetProperties:this.targetProperties})}addTarget(e,t){e._properties.get(t).binding=this,e.setProperty(t,this.node[this.property],!0);const n=e;-1===this.targets.indexOf(n)&&this.targets.push(n);const o=this.getTargetProperties(n);-1===o.indexOf(t)&&(o.push(t),n.addEventListener(`${t}-changed`,this.onTargetChanged))}removeTarget(e,t){const n=this.getTargetProperties(e);if(t){const o=n.indexOf(t);-1!==o&&n.splice(o,1),e.removeEventListener(`${t}-changed`,this.onTargetChanged),e._properties.get(t).binding=void 0}else{for(let t=n.length;t--;)e.removeEventListener(`${n[t]}-changed`,this.onTargetChanged),e._properties.get(n[t]).binding=void 0;n.length=0}0===n.length&&this.targets.splice(this.targets.indexOf(e),1)}getTargetProperties(e){let t=this.targetProperties.get(e);return t||(t=[],this.targetProperties.set(e,t),t)}onTargetChanged=e=>{const t=this.node[this.property],n=e.detail.value;if(t!==n){if("number"==typeof n&&isNaN(n)&&"number"==typeof t&&isNaN(t))return;this.node.setProperty(this.property,n)}};onSourceChanged=e=>{const t=e.detail.value;for(let e=this.targets.length;e--;){const n=this.targets[e],o=this.getTargetProperties(n);for(let e=o.length;e--;){const i=o[e],r=n[i];if(r!==t){if("number"==typeof t&&isNaN(t)&&"number"==typeof r&&isNaN(r))continue;n.setProperty(i,t)}}}};dispose(){this.node.removeEventListener(`${this.property}-changed`,this.onSourceChanged);for(let e=this.targets.length;e--;)this.removeTarget(this.targets[e]);this.targets.length=0,delete this.node,delete this.property,delete this.targets,delete this.targetProperties}}class ProtoProperty{value;type;binding;reflect;reactive;observe;init;constructor(e){if(null==e)this.value=e;else if("function"==typeof e)this.type=e;else if(e instanceof Binding)this.value=e.value,this.type=void 0!==e.value&&null!==e.value?e.value.constructor:void 0,this.binding=e;else if(e&&e.constructor===Object){const t=e;this.value=void 0!==t.value?t.value:void 0,this.type=void 0!==t.type?t.type:void 0!==t.value&&null!==t.value?t.value.constructor:void 0,t.binding instanceof Binding&&(this.binding=t.binding,this.value=this.binding.value),void 0!==t.reflect&&(this.reflect=t.reflect),void 0!==t.reactive&&(this.reactive=t.reactive),void 0!==t.observe&&(this.observe=t.observe),void 0!==t.init&&(this.init=t.init)}else e&&e.constructor===Object||(this.value=e,this.type=e.constructor)}assign(e){void 0!==e.value&&(this.value=e.value),void 0!==e.type&&(this.type=e.type),void 0!==e.reflect&&(this.reflect=e.reflect),void 0!==e.reactive&&(this.reactive=e.reactive),void 0!==e.observe&&(this.observe=e.observe),void 0!==e.init&&(this.init=e.init),void 0!==e.binding&&(this.binding=e.binding)}}function decodeInitArgument(e,t){if("this"===e)return t;if("string"!=typeof e||!e.startsWith("this."))return e;{const n=e.split(".");let o=t;for(let e=1;e<n.length;e++)o=o[n[e]];if(o)return o}}class PropertyInstance{value=void 0;type;binding;reflect=!1;reactive=!0;observe=!1;init=void 0;constructor(e,t){if(this.value=t.value,this.type=t.type,this.binding=t.binding,void 0!==t.reflect&&(this.reflect=t.reflect),void 0!==t.reactive&&(this.reactive=t.reactive),void 0!==t.observe&&(this.observe=t.observe),void 0!==t.init&&(this.init=t.init),this.binding instanceof Binding)this.value=this.binding.value;else if((void 0===this.value||null===this.value)&&null!==this.init)if(this.type===Boolean)this.value=!1;else if(this.type===String)this.value="";else if(this.type===Number)this.value=0;else if("function"==typeof this.type)if(void 0!==this.init)if(this.init instanceof Array){const t=this.init.map((t=>decodeInitArgument(t,e)));this.value=new this.type(...t)}else if(this.init instanceof Object){const t={};Object.keys(this.init).forEach((n=>{t[n]=decodeInitArgument(this.init[n],e)})),this.value=new this.type(t)}else{const t=decodeInitArgument(this.init,e);this.value=new this.type(t)}else this.value=new this.type}}const e=new WeakMap,Property=function(t){return(n,o)=>{const i=n.constructor,r=e.get(i)||{};e.set(i,r),r[o]=t}};class ProtoChain{constructors=[];functions=[];properties={};listeners={};style="";observedObjectProperties=[];constructor(t){let n=t.prototype;for(;n&&t!==HTMLElement&&t!==Object&&t!==Array;){this.constructors.push(t);const e=Object.getOwnPropertyNames(n);for(let t=0;t<e.length;t++){const o=e[t];if(o.startsWith("_")||o.startsWith("on")){const e=Object.getOwnPropertyDescriptor(n,o);if(void 0===e||e.get||e.set)continue;"function"==typeof n[o]&&-1===this.functions.indexOf(o)&&this.functions.push(o)}}t.Style&&-1===this.style.indexOf(t.Style)&&(this.style=t.Style+"\n"+this.style),n=Object.getPrototypeOf(n),t=n.constructor}let o="";for(let t=this.constructors.length;t--;){let n;if(n=e.get(this.constructors[t]),n)for(const e in n){const t=new ProtoProperty(n[e]);this.properties[e]||(this.properties[e]=t),this.properties[e].assign(t)}n=this.constructors[t].Properties;const i=JSON.stringify(n);if(i!==o)for(const e in n){const t=new ProtoProperty(n[e]);this.properties[e]||(this.properties[e]=t),this.properties[e].assign(t),o=i}const r=this.constructors[t].Listeners;for(const e in r)r[e]&&(this.listeners[e]=this.listeners[e]||[],assignListenerDeclaration(this.listeners[e],hardenListenerDeclaration(r[e])))}for(const e in this.properties)this.properties[e].observe&&this.observedObjectProperties.push(e)}autobindFunctions(e){for(let t=this.functions.length;t--;)Object.defineProperty(e,this.functions[t],{value:e[this.functions[t]].bind(e),writable:!0,configurable:!0})}}var __decorate$P=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};function IoNodeMixin(e){return class extends e{static get Properties(){return{lazy:{value:!1,reactive:!1,reflect:!0}}}constructor(e={},...t){super(...t),this._protochain.autobindFunctions(this),Object.defineProperty(this,"_changeQueue",{enumerable:!1,configurable:!0,value:new ChangeQueue(this)}),Object.defineProperty(this,"_properties",{enumerable:!1,configurable:!0,value:new Map}),Object.defineProperty(this,"_bindings",{enumerable:!1,configurable:!0,value:new Map}),Object.defineProperty(this,"_eventDispatcher",{enumerable:!1,configurable:!0,value:new EventDispatcher(this)});for(const e in this._protochain.properties)Object.defineProperty(this,e,{get:function(){return this._properties.get(e).value},set:function(t){this.setProperty(e,t)},configurable:!0});for(const e in this._protochain.properties){const t=new PropertyInstance(this,this._protochain.properties[e]);this._properties.set(e,t);const n=t.value;null!=n&&t.reflect&&this._isIoElement&&this.setAttribute(e,n),t.binding&&t.binding.addTarget(this,e)}this.applyProperties(e),this._protochain.observedObjectProperties.length&&window.addEventListener("object-mutated",this.onObjectMutated),this.init()}setProperty(e,t,n){const o=this._properties.get(e),i=o.value;if(t!==i){const r=t instanceof Binding?t:null;if(r){const n=o.binding;if(r!==n)return n&&n.removeTarget(this,e),void r.addTarget(this,e);r.value=t=o.value}o.value=t,t instanceof Binding&&console.log(t instanceof Binding),o.reactive&&i!==t&&(this.queue(e,t,i),n||this.dispatchQueue()),o.reflect&&this._isIoElement&&this.setAttribute(e,t)}}applyProperties(e){for(const t in e)this._properties.has(t)&&this.setProperty(t,e[t],!0);this._eventDispatcher.applyPropListeners(e),this.dispatchQueue()}setProperties(e){for(const t in e)this._properties.has(t)&&this.setProperty(t,e[t],!0);this.dispatchQueue()}inputValue(e){if(this.value!==e||"object"==typeof this.value){const t=this.value;this.setProperty("value",e),this.dispatchEvent("value-input",{value:e,oldValue:t},!1)}}changed(){}init(){}queue(e,t,n){this._changeQueue.queue(e,t,n)}dispatchQueue(){this.lazy?this.throttle(this.dispatchQueueSync):this.dispatchQueueSync()}dispatchQueueSync=()=>{this._changeQueue.dispatch()};throttle(e,t=void 0,r=1){!function throttle(e,t,r,s=1){if(0===s&&-1===n.indexOf(t)){n.push(t);try{t(r)}catch(e){console.error(e)}return}-1===o.indexOf(t)&&o.push(t);if(i.has(t)){i.get(t).arg=r}else i.set(t,{node:e,arg:r,timeout:Date.now()+s})}(this,e,t,r)}onObjectMutated=e=>{for(let t=0;t<this._protochain.observedObjectProperties.length;t++){const n=this._protochain.observedObjectProperties[t];if(this._properties.get(n).value===e.detail.object)return void this.throttle(this.objectMutated,n,0)}};objectMutated=e=>{this[e+"Mutated"]&&this[e+"Mutated"](),this.changed(),this.dispatchEvent("changed"),this.dispatchMutationEvent(this)};bind(e){return this._bindings.has(e)||this._bindings.set(e,new Binding(this,e)),this._bindings.get(e)}unbind(e){const t=this._bindings.get(e);t&&(t.dispose(),this._bindings.delete(e));const n=this._properties.get(e);n?.binding?.removeTarget(this,e)}addEventListener(e,t,n){this._eventDispatcher.addEventListener(e,t,n)}removeEventListener(e,t,n){this._eventDispatcher.removeEventListener(e,t,n)}dispatchEvent(e,t={},n=!1,o){this._eventDispatcher.dispatchEvent(e,t,n,o)}dispatchMutationEvent(e){this.dispatchEvent("object-mutated",{object:e},!0,window)}dispose(){this._disposed||(this._bindings.forEach(((e,t)=>{e.dispose(),this._bindings.delete(t)})),delete this._bindings,this._protochain.observedObjectProperties.length&&window.removeEventListener("object-mutated",this.onObjectMutated),delete this._protochain,this._changeQueue.dispose(),delete this._changeQueue,this._properties.forEach(((e,t)=>{e.binding?.removeTarget(this,t)})),this._eventDispatcher.dispose(),delete this._eventDispatcher,delete this._properties,Object.defineProperty(this,"_disposed",{value:!0}))}Register(e){Object.defineProperty(e.prototype,"_protochain",{value:new ProtoChain(e)})}}}function Register(e){e.prototype.Register(e)}let t=class IoNode extends(IoNodeMixin(Object)){};t=__decorate$P([Register],t);const n=[],o=[],i=new WeakMap;requestAnimationFrame((function animate(){requestAnimationFrame(animate),n.length=0;for(let e=o.length;e--;){const t=o[e],n=i.get(t);if(!(n.timeout>Date.now())){o.splice(o.indexOf(t),1),i.delete(t);try{n.node._disposed||(void 0!==n.arg?t(n.arg):t())}catch(e){console.error(e)}}}}));var __decorate$O=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};const r={},s=new RegExp("(( --[\\s\\S]*?): {([\\s\\S]*?)})","gi"),a=new RegExp("(@apply\\s.*?;)","gi"),l=new ResizeObserver((e=>{for(const t of e)t.target.onResized()})),c=Array.isArray,clense=(e,t)=>t?"string"==typeof t[0]?[...e,t]:[...e,...t]:e,buildTree=()=>e=>{return"object"!=typeof(t=e[1])||c(t)?buildTree()([e[0],{},e[1]]):{name:e[0],props:e[1],children:c(e[2])?e[2].reduce(clense,[]).map(buildTree()):e[2]};var t},constructElement=function(e){const t=window.customElements?window.customElements.get(e.name):null;if(t&&t._isIoElement)return new t(e.props);const n=document.createElement(e.name);return applyNativeElementProps(n,e.props),n},disposeElementDeep=function(e){requestAnimationFrame((()=>{const t=[...e.querySelectorAll("*"),e];for(let e=t.length;e--;)"function"==typeof t[e].dispose?t[e].dispose():t[e]._eventDispatcher&&(t[e]._eventDispatcher.dispose(),delete t[e]._eventDispatcher)}))},h=document.createElement;document.createElement=function(e,t){if(e.startsWith("io-")){const n=customElements.get(e);return n?new n:h.apply(this,[e,t])}return h.apply(this,[e,t])};const applyNativeElementProps=function(e,t){for(const n in t){const o=t[n];if("style"===n)for(const t in o)e.style.setProperty(t,o[t]);else"class"===n?e.className=o:e[n]=o;"name"===n&&e.setAttribute("name",o),"src"===n&&e.setAttribute("src",o)}e._eventDispatcher||Object.defineProperty(e,"_eventDispatcher",{enumerable:!1,configurable:!0,value:new EventDispatcher(e)}),e._eventDispatcher.applyPropListeners(t,e)};let d=class IoElement extends(IoNodeMixin(HTMLElement)){static get Style(){return"\n      :host {\n        box-sizing: border-box;\n      }\n      :host[hidden] {\n        display: none;\n      }\n      :host[disabled] {\n        pointer-events: none;\n        opacity: 0.5;\n      }\n      :host:focus {\n        border-color: var(--iotBorderColorSelected);\n        outline: 1px auto var(--iotBorderColorSelected);\n        outline: 1px auto -webkit-focus-ring-color;\n      }\n    "}connectedCallback(){"function"==typeof this.onResized&&l.observe(this)}disconnectedCallback(){"function"==typeof this.onResized&&l.unobserve(this)}template(e,t,n){const o=buildTree()(["first",e]).children;(t=t||this)===this&&this.setProperty("$",{}),this.traverse(o,t,n)}traverse(e,t,n){const o=t.children;for(;o.length>e.length;){const e=o[o.length-1];t.removeChild(e),n||disposeElementDeep(e)}for(let i=0;i<o.length;i++){const r=o[i];if(r.localName!==e[i].name||n){const o=r,s=constructElement(e[i]);t.insertBefore(s,o),t.removeChild(o),n||disposeElementDeep(o)}else r.removeAttribute("className"),r._isIoElement?r.applyProperties(e[i].props):applyNativeElementProps(r,e[i].props)}if(o.length<e.length){const n=document.createDocumentFragment();for(let t=o.length;t<e.length;t++){const o=constructElement(e[t]);n.appendChild(o)}t.appendChild(n)}for(let t=0;t<e.length;t++){const i=o[t];e[t].props.$&&(this.$[e[t].props.$]=i),void 0!==e[t].children&&("string"==typeof e[t].children?(this._flattenTextNode(i),i._textNode.nodeValue=String(e[t].children)):"object"==typeof e[t].children&&this.traverse(e[t].children,i,n))}}Register(e){super.Register(e);const t=e.name.replace(/([a-z])([A-Z,0-9])/g,"$1-$2").toLowerCase();Object.defineProperty(e,"localName",{value:t}),Object.defineProperty(e.prototype,"localName",{value:t}),Object.defineProperty(e,"_isIoElement",{enumerable:!1,value:!0}),Object.defineProperty(e.prototype,"_isIoElement",{enumerable:!1,value:!0}),Object.defineProperty(window,e.name,{value:e}),window.customElements.define(t,e);let n="";const o=e.prototype._protochain.style.match(s);if(o)for(let e=0;e<o.length;e++){const t=o[e].split(": {"),i=t[0].replace(" --","--"),s=t[1].replace(/}/g,"").trim().replace(/^ +/gm,"");r[i]=s,n+=o[e].replace(" --",".").replace(": {"," {")}let i=e.prototype._protochain.style.replace(s,"");const l=i.match(a);if(l)for(let e=0;e<l.length;e++){const t=l[e].split("@apply ")[1].replace(";","");r[t]?i=i.replace(l[e],r[t]):console.warn("IoElement: cound not find mixin:",t)}i=n+i.replace(new RegExp(":host","g"),t);const c=document.createElement("style");c.innerHTML=i,c.setAttribute("id","io-style-"+t.replace("io-","")),document.head.appendChild(c)}_flattenTextNode(e){if(0===e.childNodes.length&&e.appendChild(document.createTextNode("")),"#text"!==e.childNodes[0].nodeName&&(e.innerHTML="",e.appendChild(document.createTextNode(""))),e._textNode=e.childNodes[0],e.childNodes.length>1){const t=e.textContent;for(let t=e.childNodes.length;t--;)0!==t&&e.removeChild(e.childNodes[t]);e._textNode.nodeValue=t}}get textNode(){return this._flattenTextNode(this),this._textNode.nodeValue}set textNode(e){this._flattenTextNode(this),this._textNode.nodeValue=String(e)}applyProperties(e){if(super.applyProperties(e),e.style)for(const t in e.style)this.style[t]=e.style[t]}setAttribute(e,t){!0===t?HTMLElement.prototype.setAttribute.call(this,e,""):!1===t||""===t?this.removeAttribute(e):"string"!=typeof t&&"number"!=typeof t||this.getAttribute(e)!==String(t)&&HTMLElement.prototype.setAttribute.call(this,e,String(t))}labelChanged(){this.label?this.setAttribute("aria-label",this.label):this.removeAttribute("aria-label")}disabledChanged(){this.disabled?this.setAttribute("aria-disabled",this.disabled):this.removeAttribute("aria-disabled")}};__decorate$O([Property({type:Object,reactive:!1})],d.prototype,"$",void 0),__decorate$O([Property({value:"",reflect:!0})],d.prototype,"tabindex",void 0),__decorate$O([Property({value:!1,reflect:!0})],d.prototype,"contenteditable",void 0),__decorate$O([Property({value:"",reflect:!0})],d.prototype,"class",void 0),__decorate$O([Property({value:"",reflect:!0})],d.prototype,"role",void 0),__decorate$O([Property({value:"",reflect:!0})],d.prototype,"label",void 0),__decorate$O([Property({value:"",reflect:!0})],d.prototype,"name",void 0),__decorate$O([Property({value:"",reflect:!0})],d.prototype,"title",void 0),__decorate$O([Property({value:"",reflect:!0})],d.prototype,"id",void 0),__decorate$O([Property({value:!1,reflect:!0})],d.prototype,"hidden",void 0),__decorate$O([Property({value:!1,reflect:!0})],d.prototype,"disabled",void 0),d=__decorate$O([Register],d);var __decorate$N=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};const p=new class EmulatedLocalStorage{constructor(){Object.defineProperty(this,"store",{value:new Map}),Object.defineProperty(this,"warned",{value:!1,writable:!0})}get permitted(){try{return"true"===self.localStorage.getItem("IoStorage:user-permitted")}catch(e){console.warn("IoStorage: Cannot access localStorage. Check browser privacy settings!")}return!1}set permitted(e){try{e?(console.log("IoStorage: localStorage permission granted."),this.store.set("IoStorage:user-permitted",String(e)),this.store.forEach(((e,t)=>{self.localStorage.setItem(t,String(e)),this.store.delete(t)}))):(console.log("IoStorage: localStorage permission revoked."),self.localStorage.setItem("IoStorage:user-permitted",String(e)),new Map(Object.entries(self.localStorage)).forEach(((e,t)=>{this.store.set(t,e)})),self.localStorage.clear())}catch(e){console.warn("IoStorage: Cannot access localStorage. Check browser privacy settings!")}}setItem(e,t){const n="object"==typeof t?JSON.stringify(t):String(t);"IoStorage:user-permitted"!==e?this.permitted?self.localStorage.setItem(e,n):(this.store.set(e,n),this.warned||this.permitted||(console.warn("IoStorage: localStorage permission not set."),this.warned=!0)):this.permitted="true"===t}getItem(e){return this.permitted?self.localStorage.getItem(e):this.store.has(e)?this.store.get(e):null}removeItem(e){if(this.permitted)return self.localStorage.removeItem(e);this.store.delete(e)}clear(){if(this.permitted)return self.localStorage.clear();this.store.clear()}},u={local:new Map,hash:new Map,none:new Map};let g={};function genObjectStorageID(e){const t=JSON.stringify(e);let n=0;for(let e=0;e<t.length;e++)n=Math.imul(31,n)+t.charCodeAt(e)|0;return"io-local-state-"+String(n)}let v=class IoStorageNode extends t{constructor(e){const t=e.storage||"none";if(u[t].has(e.key))return u[t].get(e.key);{const n=e.default||e.value;switch(e.storage){case"hash":{const t=function getValueFromHash(e){if(g=parseHash(self.location.hash),g[e])try{return JSON.parse(g[e])}catch(t){return g[e]}}(e.key);if(void 0!==t)try{e.value=JSON.parse(t)}catch(n){e.value=t}break}case"local":{const t=p.getItem("IoStorage:"+e.key);t&&(e.value=JSON.parse(t));break}}return void 0===e.value&&(e.value=n),super(Object.assign({default:n},e)),"__proto__"!==e.key&&u[t].set(e.key,this),this.binding=this.bind("value"),this.binding.dispose=()=>{this._clearStorage()},this}}dispose(){this._clearStorage(),super.dispose()}_clearStorage(){switch(this.storage){case"hash":this.removeValueToHash();break;case"local":p.removeItem("IoStorage:"+this.key)}const e=this.storage;u[e].delete(this.key)}valueChanged(){switch(this.storage){case"hash":this.saveValueToHash();break;case"local":null===this.value||void 0===this.value||this.value===this.default?p.removeItem("IoStorage:"+this.key):p.setItem("IoStorage:"+this.key,JSON.stringify(this.value))}}removeValueToHash(){g=parseHash(self.location.hash),delete g[this.key];let e="";for(const t in g)e+=t+"="+g[t]+"&";e?(e=e.slice(0,-1),self.location.hash=e):history.replaceState("",document.title,self.location.pathname+self.location.search)}saveValueToHash(){g=parseHash(self.location.hash);const e=this.value;void 0!==e&&""!==e&&e!==this.default?"string"==typeof e?isNaN(e)?g[this.key]=e:g[this.key]='"'+e+'"':g[this.key]=JSON.stringify(e):delete g[this.key];let t="";for(const e in g)t+=e+"="+g[e]+"&";t?(t=t.slice(0,-1),self.location.hash=t):history.replaceState("",document.title,self.location.pathname+self.location.search)}};__decorate$N([Property({value:""})],v.prototype,"key",void 0),__decorate$N([Property({value:void 0})],v.prototype,"value",void 0),__decorate$N([Property({value:void 0})],v.prototype,"default",void 0),__decorate$N([Property({value:"none"})],v.prototype,"storage",void 0),v=__decorate$N([Register],v);const f=Object.assign((e=>new v(e).binding),{permit(){p.permitted=!0},unpermit(){p.permitted=!1}});function parseHash(e){return e.substring(1).split("&").reduce((function(e,t){const n=t.split("=");return n[0]&&n[1]&&(e[n[0]]=n[1].replace(/%22/g,'"').replace(/%20/g," ")),e}),{})}function updateAllFromHash(){g=parseHash(self.location.hash);for(const e in g)if(u.hash.has(e)){const t=u.hash.get(e);try{t.value=JSON.parse(g[e])}catch(n){t.value=g[e]}}}self.addEventListener("hashchange",updateAllFromHash,!1),updateAllFromHash();var __decorate$M=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};const m="v0.8",b=document.createElement("style");b.setAttribute("id","io-theme-variables-"+m),document.head.appendChild(b);class Color{r;g;b;a;constructor(e,t,n,o){this.r=e,this.g=t,this.b=n,this.a=o}}const y={iotSpacing:2,iotSpacing2:4,iotSpacing3:6,iotSpacing4:8,iotLineHeight:20,iotLineHeight2:40,iotLineHeight3:60,iotLineHeight4:80,iotLineHeight8:160,iotFieldHeight:28,iotFieldHeight2:56,iotFieldHeight3:112,iotFieldHeight4:168,iotFieldHeight8:236,iotFieldHeight10:280,iotFieldHeight12:336,iotStrokeWidth:1,iotBorderRadius:2,iotBorderRadius2:4,iotBorderWidth:1,iotBorderWidth2:2,iotFontSize:14,iotBackgroundColor:new Color(.95,.95,.95,1),iotBackgroundColorStrong:new Color(.75,.75,.75,1),iotBackgroundColorDimmed:new Color(.85,.85,.85,1),iotBackgroundColorFaint:new Color(.9,.9,.9,1),iotBackgroundColorField:new Color(.85,.86,.87,1),iotBackgroundColorSelected:new Color(.2,.5,.9,1),iotColor:new Color(.25,.25,.2,1),iotColorStrong:new Color(0,0,0,1),iotColorDimmed:new Color(.34,.34,.25,1),iotColorError:new Color(.95,.5,.3,1),iotColorLink:new Color(.4,.7,.3,1),iotColorField:new Color(0,0,0,1),iotColorSelected:new Color(1,1,1,1),iotBorderColor:new Color(.8,.8,.8,1),iotBorderColorLight:new Color(1,1,1,1),iotBorderColorDark:new Color(.65,.65,.65,1),iotBorderColorSelected:new Color(.8,.9,1,1),iotBorderColorFocus:new Color(.3,.65,1,1),iotGradientColorStart:new Color(.9,.9,.9,1),iotGradientColorEnd:new Color(.75,.75,.75,1),iotShadowColor:new Color(0,0,0,.2)},x={iotSpacing:2,iotSpacing2:4,iotSpacing3:6,iotSpacing4:8,iotLineHeight:20,iotLineHeight2:40,iotLineHeight3:60,iotLineHeight4:80,iotLineHeight8:160,iotFieldHeight:28,iotFieldHeight2:56,iotFieldHeight3:112,iotFieldHeight4:168,iotFieldHeight8:236,iotFieldHeight10:280,iotFieldHeight12:336,iotStrokeWidth:1,iotBorderRadius:2,iotBorderRadius2:4,iotBorderWidth:1,iotBorderWidth2:2,iotFontSize:14,iotBackgroundColor:new Color(.092,.094,.093,1),iotBackgroundColorStrong:new Color(.06,.06,.06,1),iotBackgroundColorDimmed:new Color(.11,.12,.12,1),iotBackgroundColorFaint:new Color(.12,.14,.13,1),iotBackgroundColorField:new Color(.02,.038,.03,1),iotBackgroundColorSelected:new Color(0,.3,.65,1),iotColor:new Color(.76,.77,.78,1),iotColorStrong:new Color(1,1,1,1),iotColorDimmed:new Color(.6,.64,.63,1),iotColorError:new Color(.8,.376,.062,1),iotColorLink:new Color(.78,.9,.6,1),iotColorField:new Color(.65,.7,.68,1),iotColorSelected:new Color(1,1,1,1),iotBorderColor:new Color(.2,.2,.2,1),iotBorderColorLight:new Color(.3,.3,.3,1),iotBorderColorDark:new Color(.06,.06,.06,1),iotBorderColorSelected:new Color(.6,.9,1,1),iotBorderColorFocus:new Color(.3,.65,.75,1),iotGradientColorStart:new Color(.192,.195,.194,1),iotGradientColorEnd:new Color(.08,.083,.082,1),iotShadowColor:new Color(0,0,0,.2)},k=f({value:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",storage:"local",key:"theme-"+m}),_=f({value:{},storage:"local",key:"io-themes-"+m});let w=class IoTheme extends d{static get Properties(){const e={};for(const t in y){const n=y[t];e[t]=n instanceof Object?{value:n,type:Color,observe:!0}:n}return e}init(){this._properties.forEach((e=>{"object"===e.value&&(e.observe=!0)})),this.registerTheme("light",y),this.registerTheme("dark",x),this.themeIDChanged()}registerTheme(e,t){this.themes[e]=t,_.value[e]=t,this.setProperty("themes",JSON.parse(JSON.stringify(this.themes)),!0),_.value=JSON.parse(JSON.stringify(_.value))}_toCss(e){const t=Math.floor(255*e.r),n=Math.floor(255*e.g),o=Math.floor(255*e.b);return void 0!==e.a&&1!==e.a?`rgba(${t}, ${n}, ${o}, ${e.a})`:`rgb(${t}, ${n}, ${o})`}reset(){_.value=JSON.parse(JSON.stringify(this.themes)),this.themeIDChanged()}themeIDChanged(){const e=_.value[this.themeID];for(const t in e)e[t]instanceof Object&&'["r","g","b","a"]'===JSON.stringify(Object.keys(e[t]))&&(e[t]=new Color(e[t].r,e[t].g,e[t].b,e[t].a));this.setProperties(e)}changed(){this.iotFieldHeight=this.iotLineHeight+2*(this.iotSpacing+this.iotBorderWidth),this.iotFieldHeight2=2*this.iotFieldHeight,this.iotFieldHeight3=3*this.iotFieldHeight,this.iotFieldHeight4=4*this.iotFieldHeight,this.iotFieldHeight8=8*this.iotFieldHeight,this.iotFieldHeight10=10*this.iotFieldHeight,this.iotFieldHeight12=12*this.iotFieldHeight,this.iotLineHeight2=2*this.iotLineHeight,this.iotLineHeight3=3*this.iotLineHeight,this.iotLineHeight4=4*this.iotLineHeight,this.iotLineHeight8=8*this.iotLineHeight,this.iotSpacing2=2*this.iotSpacing,this.iotSpacing3=3*this.iotSpacing,this.iotSpacing4=4*this.iotSpacing,this.iotBorderRadius2=2*this.iotBorderRadius,this.iotBorderWidth2=2*this.iotBorderWidth;const e=Array.from(this._properties.keys()).reduce(((e,t)=>t.startsWith("iot")?(_.value[this.themeID][t]=this[t],_.value=JSON.parse(JSON.stringify(_.value)),"object"==typeof this[t]?`${e}--${t}: ${this._toCss(this[t])};\n    `:`${e}--${t}: ${this[t]}px;\n    `):""),"");b.innerHTML=`body {\n  ${e}\n}\n\n  body {\n    --iotBorder: var(--iotBorderWidth) solid var(--iotBorderColor);\n    --iotBorderError: var(--iotBorderWidth) solid var(--iotColorError);\n    --iotBorderColorInset: var(--iotBorderColorDark) var(--iotBorderColorLight) var(--iotBorderColorLight) var(--iotBorderColorDark);\n    --iotBorderColorOutset: var(--iotBorderColorLight) var(--iotBorderColorDark) var(--iotBorderColorDark) var(--iotBorderColorLight);\n    --iotGradientOutset: linear-gradient(180deg, var(--iotGradientColorStart), var(--iotGradientColorEnd) 100%);\n    --iotGradientInset: linear-gradient(0deg, var(--iotGradientColorStart), var(--iotGradientColorEnd) 150%);\n    --iotShadow: 2px 2px 6px var(--iotShadowColor), 1px 1px 1px var(--iotShadowColor);\n    --iotShadowInset: 1px 1px 1px inset var(--iotShadowColor);\n    --iotShadowOutset: 1px 1px 2px var(--iotShadowColor);\n  }\n`,this.dispatchEvent("object-mutated",{object:this},!1,window)}};__decorate$M([Property(Object)],w.prototype,"themes",void 0),__decorate$M([Property({type:String,binding:k})],w.prototype,"themeID",void 0),w=__decorate$M([Register],w);const C=new w;var __decorate$L=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};const S=document.createElement("canvas"),M=S.getContext("webgl",{antialias:!1,premultipliedAlpha:!0});M.getExtension("OES_standard_derivatives"),M.enable(M.BLEND),M.blendFunc(M.SRC_ALPHA,M.ONE_MINUS_SRC_ALPHA),M.disable(M.DEPTH_TEST);const R=M.createBuffer();M.bindBuffer(M.ARRAY_BUFFER,R),M.bufferData(M.ARRAY_BUFFER,new Float32Array([-1,1,0,-1,-1,0,1,-1,0,1,1,0]),M.STATIC_DRAW),M.bindBuffer(M.ARRAY_BUFFER,null);const z=M.createBuffer();M.bindBuffer(M.ARRAY_BUFFER,z),M.bufferData(M.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),M.STATIC_DRAW),M.bindBuffer(M.ARRAY_BUFFER,null);const L=M.createBuffer();M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,L),M.bufferData(M.ELEMENT_ARRAY_BUFFER,new Uint16Array([3,2,1,3,1,0]),M.STATIC_DRAW),M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,null),M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,L);const E=new WeakMap;let P,O=class IoGl extends d{static get Style(){return"\n      :host {\n        position: relative;\n        /* overflow: hidden !important; */\n        /* -webkit-tap-highlight-color: transparent; */\n        user-select: none;\n      }\n      :host > canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        border-radius: calc(var(--iotBorderRadius) - var(--iotBorderWidth));\n        pointer-events: none;\n        image-rendering: pixelated;\n      }\n      :host[aria-invalid] {\n        border: var(--iotBorderError);\n      }\n      :host[aria-invalid] > canvas {\n        opacity: 0.5;\n      }\n      :host:focus > canvas {\n        border-radius: 3px;\n      }\n    "}_needsResize=!1;_canvas;_ctx;static get Vert(){return"\n      attribute vec3 position;\n      attribute vec2 uv;\n      varying vec2 vUv;\n\n      void main(void) {\n        vUv = uv;\n        gl_Position = vec4(position, 1.0);\n      }\n\n"}static get GlUtils(){return"\n      #ifndef saturate\n        #define saturate(v) clamp(v, 0., 1.)\n      #endif\n\n      // Transform functions\n      vec2 translate(vec2 samplePosition, vec2 xy){\n        return samplePosition - vec2(xy.x, xy.y);\n      }\n      vec2 translate(vec2 samplePosition, float x, float y){\n        return samplePosition - vec2(x, y);\n      }\n\n      // SDF functions\n      float circle(vec2 samplePosition, float radius){\n        return saturate((length(samplePosition) - radius) * uPxRatio);\n      }\n      float rectangle(vec2 samplePosition, vec2 halfSize){\n        vec2 edgeDistance = abs(samplePosition) - halfSize;\n        float outside = length(max(edgeDistance, 0.));\n        float inside = min(max(edgeDistance.x, edgeDistance.y), 0.);\n        return saturate((outside + inside) * uPxRatio); // TODO: check\n      }\n      float grid2d(vec2 samplePosition, vec2 gridSize, float lineWidth) {\n        vec2 sp = samplePosition / vec2(gridSize.x, gridSize.y);\n        float linex = (abs(fract(sp.x - 0.5) - 0.5) * 2.0 / abs(max(dFdx(sp.x), dFdy(sp.x))) - lineWidth);\n        float liney = (abs(fract(sp.y - 0.5) - 0.5) * 2.0 / abs(max(dFdy(sp.y), dFdx(sp.y))) - lineWidth);\n        return 1.0 - saturate(min(linex, liney));\n      }\n      float lineVertical(vec2 samplePosition, float lineWidth) {\n        return (abs(samplePosition.x) * 2.0 > lineWidth) ? 0.0 : 1.0;\n      }\n      float lineHorizontal(vec2 samplePosition, float lineWidth) {\n        return (abs(samplePosition.y) * 2.0 > lineWidth) ? 0.0 : 1.0;\n      }\n      float lineCross2d(vec2 samplePosition, float lineWidth) {\n        return (min(abs(samplePosition.x), abs(samplePosition.y)) * 2.0 > lineWidth) ? 0.0 : 1.0;\n      }\n      float checker(vec2 samplePosition, float size) {\n        vec2 checkerPos = floor(samplePosition / size);\n        float checkerMask = mod(checkerPos.x + mod(checkerPos.y, 2.0), 2.0);\n        return checkerMask;\n      }\n      float checkerX(vec2 samplePosition, float size) {\n        vec2 checkerPos = floor(samplePosition / size);\n        float checkerMask = mod(checkerPos.x, 2.0);\n        return checkerMask;\n      }\n      float checkerY(vec2 samplePosition, float size) {\n        vec2 checkerPos = floor(samplePosition / size);\n        float checkerMask = mod(checkerPos.y, 2.0);\n        return checkerMask;\n      }\n      vec3 hue2rgb(float hue) {\n        hue = fract(hue);\n        float R = abs(hue * 6. - 3.) - 1.;\n        float G = 2. - abs(hue * 6. - 2.);\n        float B = 2. - abs(hue * 6. - 4.);\n        return saturate(vec3(R,G,B));\n      }\n      vec3 hsv2rgb(vec3 hsv) {\n        vec3 rgb = hue2rgb(hsv.r);\n        return ((rgb - 1.) * hsv.g + 1.) * hsv.b;\n      }\n      vec3 hsl2rgb(vec3 hsl) {\n        vec3 rgb = hue2rgb(hsl.x);\n        float C = (1. - abs(2. * hsl.z - 1.)) * hsl.y;\n        return (rgb - 0.5) * C + hsl.z;\n      }\n      vec3 cmyk2rgb(vec4 cmyk) {\n        float r = 1. - min(1., cmyk.x * (1. - cmyk.w) + cmyk.w);\n        float g = 1. - min(1., cmyk.y * (1. - cmyk.w) + cmyk.w);\n        float b = 1. - min(1., cmyk.z * (1. - cmyk.w) + cmyk.w);\n        return vec3(r, g, b);\n      }\n      // Compositing functions\n      vec3 compose(vec3 dst, vec4 src) {\n        return mix(dst, src.rgb, src.a);\n      }\n      // Painter Functions\n      vec3 paintHorizontalLine(vec3 dstCol, vec2 p, vec3 color) {\n        float lineShape = lineHorizontal(p, iotStrokeWidth);\n        return compose(dstCol, vec4(color, lineShape));\n      }\n    "}static get Frag(){return"\n      varying vec2 vUv;\n      void main(void) {\n        vec2 position = uSize * vUv;\n        float gridWidth = 8. * uPxRatio;\n        float lineWidth = 1. * uPxRatio;\n        float gridShape = grid2d(position, vec2(gridWidth), lineWidth);\n        gl_FragColor = mix(vec4(vUv, 0.0, 1.0), uColor, gridShape);\n      }\n\n"}initPropertyUniform(e,t){if(t.reactive)switch(t.type){case Boolean:return"uniform int "+e+";\n";case Number:return"uniform float "+e+";\n";case Array:return this._vecLengths[e]=t.value.length,"uniform vec"+t.value.length+" "+e+";\n";case Color:return this._vecLengths[e]=4,"uniform vec4 "+e+";\n"}return""}initShader(){let e="\n    #extension GL_OES_standard_derivatives : enable\n    precision highp float;\n";this.theme._properties.forEach(((t,n)=>{e+=this.initPropertyUniform(n,t)})),e+="\n",this._properties.forEach(((t,n)=>{const o="u"+n.charAt(0).toUpperCase()+n.slice(1);e+=this.initPropertyUniform(o,t)}));for(let t=this._protochain.constructors.length;t--;){const n=this._protochain.constructors[t],o=Object.getOwnPropertyDescriptor(n,"GlUtils");o&&o.get&&(e+=n.GlUtils)}const t=M.createShader(M.VERTEX_SHADER);if(M.shaderSource(t,this.constructor.Vert),M.compileShader(t),!M.getShaderParameter(t,M.COMPILE_STATUS)){const e=M.getShaderInfoLog(t);console.error("IoGl [Vertex Shader] "+this.localName+" error:"),console.warn(e)}const n=M.createShader(M.FRAGMENT_SHADER);if(M.shaderSource(n,e+this.constructor.Frag),M.compileShader(n),!M.getShaderParameter(n,M.COMPILE_STATUS)){const e=M.getShaderInfoLog(n);console.error("IoGl [Frament Shader] "+this.localName+" error:"),console.warn(e)}const o=M.createProgram();return M.attachShader(o,t),M.attachShader(o,n),o}constructor(e={}){super(e),this._vecLengths={},this.theme._properties.forEach(((e,t)=>{e.reactive&&e.type===Color&&(this._vecLengths[t]=4)})),this._properties.forEach(((e,t)=>{const n="u"+t.charAt(0).toUpperCase()+t.slice(1);e.reactive&&e.type===Array&&(this._vecLengths[n]=e.value.length)})),E.has(this.constructor)?this._shader=E.get(this.constructor):(this._shader=this.initShader(),E.set(this.constructor,this._shader)),M.linkProgram(this._shader);const t=M.getAttribLocation(this._shader,"position");M.bindBuffer(M.ARRAY_BUFFER,R),M.vertexAttribPointer(t,3,M.FLOAT,!1,0,0),M.enableVertexAttribArray(t);const n=M.getAttribLocation(this._shader,"uv");M.bindBuffer(M.ARRAY_BUFFER,z),M.vertexAttribPointer(n,2,M.FLOAT,!1,0,0),M.enableVertexAttribArray(n),this._canvas=document.createElement("canvas"),this.appendChild(this._canvas),this._ctx=this._canvas.getContext("2d"),this.updateThemeUniforms()}onResized(){const e=window.devicePixelRatio,t=this.getBoundingClientRect(),n=window.getComputedStyle(this),o=parseInt(n.borderRightWidth)+parseInt(n.borderLeftWidth),i=parseInt(n.borderTopWidth)+parseInt(n.borderBottomWidth),r=Math.max(0,Math.floor(t.width-o)),s=Math.max(0,Math.floor(t.height-i));(r!==this.size[0]||s!==this.size[1]||e!==this.pxRatio)&&(this._canvas.style.width=Math.floor(r)+"px",this._canvas.style.height=Math.floor(s)+"px",this._needsResize=!0,this.setProperties({size:[r,s],pxRatio:e}))}themeMutated(){this.updateThemeUniforms(),this.throttle(this._onRender)}changed(){window.ResizeObserver?this.throttle(this._onRender):setTimeout((()=>{this.onResized(),this.throttle(this._onRender)}))}_onRender(){const e=this.size[0]*this.pxRatio,t=this.size[1]*this.pxRatio;e&&t&&(this.setShaderProgram(),this._properties.forEach(((e,t)=>{const n="u"+t.charAt(0).toUpperCase()+t.slice(1);this.updatePropertyUniform(n,e)})),this._needsResize&&(this._canvas.width=Math.floor(e),this._canvas.height=Math.floor(t),this._needsResize=!1),S.width=e,S.height=t,M.viewport(0,0,e,t),M.drawElements(M.TRIANGLES,6,M.UNSIGNED_SHORT,0),this._ctx.drawImage(S,0,0))}setShaderProgram(){P!==this._shader&&(P=this._shader,M.useProgram(this._shader))}updatePropertyUniform(e,t){this.setShaderProgram(),t.reactive&&this.setUniform(e,t.value)}updateThemeUniforms(){this.theme._properties.forEach(((e,t)=>{this.updatePropertyUniform(t,e)}))}setUniform(e,t){const n=M.getUniformLocation(this._shader,e);let o,i=typeof t;switch(t instanceof Array&&(i="array"),i){case"boolean":M.uniform1i(n,t?1:0);break;case"number":M.uniform1f(n,t??1);break;case"object":case"array":switch(o=[0,1,2,3],"object"==typeof t&&(void 0!==t.x?o=["x","y","z","w"]:void 0!==t.r?o=["r","g","b","a"]:void 0!==t.h?o=["h","s","v","a"]:void 0!==t.c&&(o=["c","m","y","k"])),this._vecLengths[e]){case 2:if(void 0===t){M.uniform2f(n,0,0);break}M.uniform2f(n,t[o[0]]??1,t[o[1]]??1);break;case 3:if(void 0===t){M.uniform3f(n,0,0,0);break}M.uniform3f(n,t[o[0]]??1,t[o[1]]??1,t[o[2]]??1);break;case 4:if(void 0===t){M.uniform4f(n,0,0,0,0);break}M.uniform4f(n,t[o[0]]??1,t[o[1]]??1,t[o[2]]??1,t[o[3]]??1)}}}};__decorate$L([Property({type:Array,init:[0,0]})],O.prototype,"size",void 0),__decorate$L([Property({type:Array,init:[1,1,1,1],observe:!0})],O.prototype,"color",void 0),__decorate$L([Property({value:1})],O.prototype,"pxRatio",void 0),__decorate$L([Property({observe:!0,type:d,value:C})],O.prototype,"theme",void 0),O=__decorate$L([Register],O);var __decorate$K=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let T=null;window.addEventListener("focusin",(()=>{T=document.activeElement}),{capture:!1}),window.addEventListener("blur",(()=>{setTimeout((()=>{document.activeElement===document.body&&(T=null)}))}),{capture:!0});let A=class IoOverlay extends d{static get Style(){return"\n      :host {\n        display: block;\n        visibility: hidden;\n        position: fixed;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        z-index: 100000;\n        user-select: none;\n        overflow: hidden;\n        pointer-events: none;\n        touch-action: none;\n        opacity: 0;\n        transition: opacity 0.5s;\n        background: transparent;\n      }\n      :host[expanded] {\n        pointer-events: all;\n        visibility: visible;\n        opacity: 1;\n        background: rgba(0,0,0,0.1);\n      }\n      :host > * {\n        position: absolute !important;\n        touch-action: none;\n        box-shadow: var(--iotShadow);\n      }\n    "}static get Listeners(){return{pointerdown:"stopPropagation",pointermove:"stopPropagation",pointerup:"_onPointerup",contextmenu:"_onContextmenu",focusin:"_onFocusIn",scroll:"_onScroll",wheel:["_onScroll",{passive:!1}],mousedown:"stopPropagation",mousemove:"stopPropagation",mouseup:"stopPropagation",touchstart:["stopPropagation",{passive:!1}],touchmove:["stopPropagation",{passive:!1}],touchend:"stopPropagation",keydown:"stopPropagation",keyup:"stopPropagation"}}constructor(e={}){super(e),Object.defineProperty(this,"x",{value:0,writable:!0}),Object.defineProperty(this,"y",{value:0,writable:!0})}stopPropagation(e){e.stopPropagation()}onResized(){this.expanded=!1}_onPointerup(e){e.composedPath()[0]===this&&this.throttle(this._onCollapse)}_onCollapse(){this.expanded=!1}_onContextmenu(e){e.preventDefault()}_onFocusIn(e){e.stopPropagation()}_onScroll(e){e.composedPath()[0]===this&&this.throttle(this._onCollapse)}nudgeDown(e,t,n,o,i){t=Math.max(0,Math.min(t,window.innerWidth-o.width));const r=n+o.height<window.innerHeight;return!(!r&&!i)&&(r||(n=window.innerHeight-o.height),e.style.left=t+"px",e.style.top=n+"px",!0)}nudgeUp(e,t,n,o,i){t=Math.max(0,Math.min(t,window.innerWidth-o.width));const r=n-o.height>0;return!(!r&&!i)&&(r||(n=0),e.style.left=t+"px",e.style.top=n-o.height+"px",!0)}nudgeRight(e,t,n,o,i){const r=t+o.width<window.innerWidth;return!(!r&&!i)&&(r||(t=window.innerWidth-o.width),e.style.left=t+"px",e.style.top=Math.min(n,window.innerHeight-o.height)+"px",!0)}nudgeLeft(e,t,n,o,i){const r=t-o.width>0;return!(!r&&!i)&&(r||(t=0),e.style.left=t-o.width+"px",e.style.top=Math.min(n,window.innerHeight-o.height)+"px",!0)}nudgePointer(e,t,n,o){return e.style.left=Math.max(0,Math.min(t,window.innerWidth-o.width))+"px",e.style.top=Math.max(0,Math.min(n,window.innerHeight-o.height))+"px",!0}setElementPosition(e,t,n){const o=e.getBoundingClientRect(),i=n.left,r=n.top,s=n.right,a=n.bottom,l=window.innerHeight-a,c=window.innerWidth-s;switch(t){case"pointer":this.nudgePointer(e,this.x+5,this.y+5,o);break;case"up":this.nudgeUp(e,i,r,o)||this.nudgeDown(e,i,a,o)||this.nudgeUp(e,i,r,o,r>l)||this.nudgeDown(e,i,a,o,r<=l);break;case"left":this.nudgeLeft(e,i,r,o)||this.nudgeRight(e,s,r,o)||this.nudgeLeft(e,i,r,o,i>c)||this.nudgeRight(e,s,r,o,i<=c);break;case"down":this.nudgeDown(e,i,a,o)||this.nudgeUp(e,i,r,o)||this.nudgeDown(e,i,a,o,l>r)||this.nudgeUp(e,i,r,o,l<=r);break;default:this.nudgeRight(e,s,r,o)||this.nudgeLeft(e,i,r,o)||this.nudgeRight(e,s,r,o,c>i)||this.nudgeLeft(e,i,r,o,c<=i)}}appendChild(e){super.appendChild(e),e.addEventListener("expanded-changed",this.onChildExpanded),this.onChildExpanded()}removeChild(e){super.removeChild(e),e.removeEventListener("expanded-changed",this.onChildExpanded),this.onChildExpanded()}onChildExpanded(){this.throttle(this.onChildExpandedDelayed)}onChildExpandedDelayed(){for(let e=this.children.length;e--;)if(this.children[e].expanded)return void(this.expanded=!0);this.throttle(this._onCollapse)}expandedChanged(){if(!this.expanded){for(let e=this.children.length;e--;)this.children[e].expanded=!1;T&&T.focus()}}};__decorate$K([Property({value:!1,reflect:!0})],A.prototype,"expanded",void 0),A=__decorate$K([Register],A);const I=new A;document.body.appendChild(I);var __decorate$J=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};function _isNaN(e){return"number"==typeof e&&isNaN(e)}function _isSelectable(e){return"select"===e||"scroll"===e}let H=class MenuOptions extends(IoNodeMixin(Array)){push(...e){for(let t=0;t<e.length;t++){const n=e[t];n instanceof j&&(n.addEventListener("selected-changed",this._onItemSelectedChanged),n.addEventListener("path-changed",this._onSubOptionsPathChanged),super.push(n))}}getItem(e,t=!1){for(let n=0;n<this.length;n++){if(this[n].value===e)return this[n];if(t&&this[n].options){const o=this[n].options.getItem(e,t);if(o)return o}}return null}constructor(e=[],t={}){const n=[];for(let t=0;t<e.length;t++)e[t]instanceof j?n.push(e[t]):n.push(new j(e[t]));super(t,...n),""!==this.path&&this.pathChanged(),void 0!==this.first&&this.firstChanged();for(let e=0;e<this.length;e++){const t=this[e];t.addEventListener("selected-changed",this._onItemSelectedChanged),t.addEventListener("path-changed",this._onSubOptionsPathChanged),t.selected&&"select"===t.mode&&this.updatePaths(t)}}addItems(e){for(let t=0;t<e.length;t++){let n;n=e[t]instanceof j?e[t]:new j(e[t]),this.push(n),n.addEventListener("selected-changed",this._onItemSelectedChanged),n.addEventListener("path-changed",this._onSubOptionsPathChanged)}}pathChanged(){const e=this.path?[...this.path.split(this.delimiter)]:[];if(this.length&&e.length){const t=e.shift(),n=this.find((e=>e.label===t));if(n)_isSelectable(n.mode)&&(n.options&&(n.options.path=e.join(this.delimiter)),n.selected=!0);else for(let e=0;e<this.length;e++)_isSelectable(this[e].mode)&&(this[e].selected=!1)}else for(let e=0;e<this.length;e++)_isSelectable(this[e].mode)&&(this[e].selected=!1)}firstChanged(){if(void 0!==this.first){const e=this.find((e=>e.value===this.first&&"select"===e.mode||_isNaN(e.value)&&_isNaN(this.first)));e&&(e.selected=!0)}else for(let e=0;e<this.length;e++)"select"===this[e].mode&&(this[e].selected=!1)}lastChanged(){}updatePaths(e){const t=[];let n="select"===e?.mode||"scroll"===e?.mode?e:void 0,o="select"===e?.mode?e:void 0,i="scroll"===e?.mode?e:void 0;const r=this.find((e=>"select"===e.mode&&e.selected)),s=this.find((e=>"scroll"===e.mode&&e.selected));if(n||!r&&!s){for(;n;)t.push(n.label),"select"===n.mode&&(o=n),"scroll"===n.mode&&(i=n),n=n.options?.find((e=>("select"===e.mode||"scroll"===e.mode)&&e.selected));this.setProperties({path:t.join(this.delimiter),first:"select"===e?.mode?e.value:void 0,last:void 0!==o?o.value:void 0,scroll:void 0!==i?i.value:void 0})}}_onItemSelectedChanged(e){const t=e.target;if(_isSelectable(t.mode))if(t.selected){for(let e=0;e<this.length;e++)this[e]!==t&&_isSelectable(this[e].mode)&&(this[e].selected=!1);this.updatePaths(t),this.dispatchEvent("item-selected",{item:t})}else this.updatePaths()}_onSubOptionsPathChanged(e){const t=e.target;t.selected?this.updatePaths(t):this.updatePaths()}selectDefault(){for(let e=0;e<this.length;e++)if(_isSelectable(this[e].mode)){if(!this[e].hasmore)return this[e].selected=!0,!0;if(this[e].options.selectDefault())return!0}return!1}bind(e){return super.bind(e)}dispose(){for(let e=0;e<this.length;e++)this[e].removeEventListener("selected-changed",this._onItemSelectedChanged),this[e].removeEventListener("path-changed",this._onSubOptionsPathChanged);super.dispose()}changed(){this.dispatchEvent("object-mutated",{object:this},!1,window)}};__decorate$J([Property(void 0)],H.prototype,"first",void 0),__decorate$J([Property(void 0)],H.prototype,"last",void 0),__decorate$J([Property(void 0)],H.prototype,"scroll",void 0),__decorate$J([Property("")],H.prototype,"path",void 0),__decorate$J([Property(",")],H.prototype,"delimiter",void 0),H=__decorate$J([Register],H);var __decorate$I=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let j=class MenuItem extends t{get hasmore(){return!!this.options?.length}getSubitem(e){return this.options?.getItem(e)}constructor(e){const t={value:"",label:""};"object"!=typeof e||null===e?(t.value=e,t.label=String(e)):(t.value=e.value,void 0===e.label?"object"==typeof t.value?null===t.value?t.label="null":t.label=`${t.value.constructor.name}`+(t.value instanceof Array?`(${t.value.length})`:""):t.label=String(t.value):t.label=e.label,void 0!==e.icon&&(t.icon=e.icon),void 0!==e.hint&&(t.hint=e.hint),void 0!==e.hidden&&(t.hidden=e.hidden),void 0!==e.disabled&&(t.disabled=e.disabled),void 0!==e.action&&(t.action=e.action),void 0!==e.mode&&(t.mode=e.mode),void 0!==e.selected&&(t.selected=e.selected),void 0!==e.options&&(e.options instanceof H?t.options=e.options:t.options=new H(e.options)),void 0!==t.selected||"select"!==e.mode&&void 0!==e.mode||!t.options||(t.selected=!!t.options.find((e=>e.selected&&"select"===e.mode)))),super(t),this.options&&(this.options.addEventListener("item-selected",this._onSubItemSelected),this.options.addEventListener("path-changed",this._onOptionsPathChanged))}toJSON(){const e={value:this.value,label:this.label,icon:this.icon,hint:this.hint,hidden:this.hidden,disabled:this.disabled};return this.options&&(e.options=this.options),e}_onSubItemSelected(){this.selected=!0}_onOptionsPathChanged(e){this.dispatchEvent("path-changed",e.detail)}optionsChanged(){void 0===this.options?.first&&void 0===this.options?.scroll||"select"!==this.mode||(this.selected=!0)}selectedChanged(){if("select"===this.mode&&!1===this.selected&&this.options){for(let e=0;e<this.options.length;e++)"select"!==this.options[e].mode&&"scroll"!==this.options[e].mode||(this.options[e].selected=!1);this.options.updatePaths()}}changed(){this.dispatchEvent("object-mutated",{object:this},!1,window)}dispose(){this.options&&(this.options.removeEventListener("item-selected",this._onSubItemSelected),this.options.removeEventListener("path-changed",this._onOptionsPathChanged)),super.dispose()}};__decorate$I([Property(void 0)],j.prototype,"value",void 0),__decorate$I([Property("")],j.prototype,"label",void 0),__decorate$I([Property("")],j.prototype,"icon",void 0),__decorate$I([Property("")],j.prototype,"hint",void 0),__decorate$I([Property(!1)],j.prototype,"hidden",void 0),__decorate$I([Property(!1)],j.prototype,"disabled",void 0),__decorate$I([Property(void 0)],j.prototype,"action",void 0),__decorate$I([Property("select")],j.prototype,"mode",void 0),__decorate$I([Property(!1)],j.prototype,"selected",void 0),__decorate$I([Property(void 0)],j.prototype,"options",void 0),j=__decorate$I([Register],j);var __decorate$H=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let N=class IoLabel extends d{static get Style(){return"\n      --ioLabel: {\n        display: inline-block;\n        height: var(--iotLineHeight);\n        line-height: var(--iotLineHeight);\n        font-size: var(--iotFontSize);\n        padding: 0 var(--iotSpacing);\n      }\n      :host {\n        @apply --ioLabel;\n      }\n      :host:not([label]) {\n        display: none;\n      }\n    "}labelChanged(){super.labelChanged(),this.textNode=this.label}};N=__decorate$H([Register],N);var __decorate$G=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let B=class IoField extends d{static get Style(){return"\n      --ioField: {\n        display: flex;\n\n        cursor: pointer;\n        user-select: none;\n        -webkit-touch-callout: none;\n\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n\n        height: var(--iotFieldHeight);\n        line-height: var(--iotLineHeight);\n\n        font-size: var(--iotFontSize);\n        border: var(--iotBorder);\n        border-radius: var(--iotBorderRadius);\n        border-color: transparent;\n        color: var(--iotColorField);\n        background-color: var(--iotBackgroundColorField);\n        padding: var(--iotSpacing) calc(var(--iotSpacing) + 0.5em);\n        transition: background-color 0.25s;\n      }\n      :host {\n        @apply --ioField;\n      }\n      :host[appearance=neutral] {\n        background-color: transparent;\n      }\n      :host[appearance=inset] {\n        border-color: var(--iotBorderColorInset);\n      }\n      :host[appearance=outset] {\n        border-color: var(--iotBorderColorOutset);\n        background-image: var(--iotGradientOutset);\n      }\n      :host[invalid] {\n        color: var(--iotColorError);\n        border: var(--iotBorderError);\n      }\n      :host[selected] {\n        color: var(--iotColorSelected);\n        background-color: var(--iotBackgroundColorSelected);\n        border-color: var(--iotBorderColorSelected);\n      }\n      :host:focus {\n        text-overflow: inherit;\n      }\n      :host[placeholder]:empty:before {\n        content: attr(placeholder);\n        visibility: visible;\n        color: var(--iotColorField);\n        padding: 0 calc(var(--iotSpacing) + var(--iotBorderWidth));\n        opacity: 0.5;\n      }\n    "}static get Listeners(){return{"focus-to":"_onFocusTo",focus:"_onFocus",pointerdown:"_onPointerdown",click:"_onClick"}}_onFocus(e){this.addEventListener("blur",this._onBlur),this.addEventListener("keydown",this._onKeydown),this.addEventListener("keyup",this._onKeyup)}_onBlur(e){this.removeEventListener("blur",this._onBlur),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("keyup",this._onKeyup)}_onPointerdown(e){e.preventDefault(),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerleave",this._onPointerleave),this.addEventListener("pointerup",this._onPointerup)}_onPointermove(e){}_onPointerleave(e){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerleave",this._onPointerleave),this.removeEventListener("pointerup",this._onPointerup)}_onPointerup(e){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerleave",this._onPointerleave),this.removeEventListener("pointerup",this._onPointerup),this.focus()}_onClick(){this.dispatchEvent("io-field-clicked",{value:this.value},!0)}_onKeydown(e){"Enter"===e.key||" "===e.key?(e.preventDefault(),this._onClick()):"ArrowLeft"===e.key?(e.preventDefault(),this.focusTo("left")):"ArrowUp"===e.key?(e.preventDefault(),this.focusTo("up")):"ArrowRight"===e.key?(e.preventDefault(),this.focusTo("right")):"ArrowDown"===e.key&&(e.preventDefault(),this.focusTo("down"))}_onKeyup(e){}_onFocusTo(e){const t=e.composedPath()[0],n=e.detail.dir,o=e.detail.rect;if(o.center={x:o.x+o.width/2,y:o.y+o.height/2},t!==this){let i=t,r=1/0,s=1/0;const a=this.querySelectorAll('[tabindex="0"]:not([disabled])');for(let e=a.length;e--;){if(!a[e].offsetParent)continue;if("visible"!==window.getComputedStyle(a[e]).visibility)continue;const t=a[e].getBoundingClientRect();switch(t.center={x:t.x+t.width/2,y:t.y+t.height/2},n){case"right":if(t.left>=o.right-1){const n=Math.abs(t.left-o.right),l=Math.abs(t.center.y-o.center.y);n<r||l<s/3?(i=a[e],r=n,s=l):n===r&&l<s&&(i=a[e],s=l)}break;case"left":if(t.right<=o.left+1){const n=Math.abs(t.right-o.left),l=Math.abs(t.center.y-o.center.y);n<r||l<s/3?(i=a[e],r=n,s=l):n===r&&l<s&&(i=a[e],s=l)}break;case"down":if(t.top>=o.bottom-1){const n=Math.abs(t.center.x-o.center.x),l=Math.abs(t.top-o.bottom);l<s||n<r/3?(i=a[e],r=n,s=l):l===s&&n<r&&(i=a[e],r=n)}break;case"up":if(t.bottom<=o.top+1){const n=Math.abs(t.center.x-o.center.x),l=Math.abs(t.bottom-o.top);l<s||n<r/3?(i=a[e],r=n,s=l):l===s&&n<r&&(i=a[e],r=n)}}}i!==t&&(i.focus(),e.stopPropagation())}}focusTo(e){const t=this.getBoundingClientRect();this.dispatchEvent("focus-to",{dir:e,rect:t},!0)}getCaretPosition(){let e=0;const t=window.getSelection();if(t&&t.rangeCount){const n=t.getRangeAt(0),o=n.toString().length,i=n.cloneRange();i.selectNodeContents(this),i.setEnd(n.endContainer,n.endOffset),e=i.toString().length-o}return e}setCaretPosition(e){if(!e)return;const t=window.getSelection();if(t){const n=document.createRange();n.setStart(this.firstChild,e),n.collapse(!0),t.removeAllRanges(),t.addRange(n)}}changed(){let e="";e=this.label?this.label:this.value&&"object"==typeof this.value?`${this.value.constructor.name}`+(this.value instanceof Array?`(${this.value.length})`:""):String(this.value),this.template([this.icon?["io-icon",{icon:this.icon,stroke:this.stroke}]:null,["io-label",{label:e}]])}};__decorate$G([Property("0")],B.prototype,"tabindex",void 0),__decorate$G([Property(void 0)],B.prototype,"value",void 0),__decorate$G([Property({value:"",reflect:!0})],B.prototype,"icon",void 0),__decorate$G([Property({value:"flush",reflect:!0})],B.prototype,"appearance",void 0),__decorate$G([Property({value:!1,reflect:!0})],B.prototype,"stroke",void 0),__decorate$G([Property({value:!1,reflect:!0})],B.prototype,"selected",void 0),__decorate$G([Property({value:!1,reflect:!0})],B.prototype,"invalid",void 0),__decorate$G([Property({value:"",reflect:!0})],B.prototype,"placeholder",void 0),B=__decorate$G([Register],B);var __decorate$F=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let D=class IoButton extends B{static get Style(){return"\n      :host {\n        text-align: center;\n        padding-left: calc(2 * var(--iotSpacing));\n        padding-right: calc(2 * var(--iotSpacing));\n      }\n      :host[pressed] {\n        border-color: var(--iotBorderColorInset);\n      }\n    "}_onPointerdown(e){super._onPointerdown(e),this.pressed=!0}_onPointerleave(e){super._onPointerleave(e),this.pressed=!1}_onPointerup(e){super._onPointerup(e),this.pressed=!1}_onKeydown(e){super._onKeydown(e),"Enter"!==e.key&&" "!==e.key||(this.pressed=!0)}_onKeyup(e){super._onKeyup(e),this.pressed=!1}_onClick(){"function"==typeof this.action&&this.action(this.value),this.dispatchEvent("io-button-clicked",{value:this.value},!0)}init(){this.changed()}changed(){this.setAttribute("aria-pressed",String(this.pressed)),this.template([this.icon?["io-icon",{icon:this.icon}]:null,this.label?["io-label",{label:this.label}]:null])}};__decorate$F([Property(void 0)],D.prototype,"action",void 0),__decorate$F([Property(void 0)],D.prototype,"value",void 0),__decorate$F([Property({value:"outset",reflect:!0})],D.prototype,"appearance",void 0),__decorate$F([Property({value:!1,reflect:!0})],D.prototype,"pressed",void 0),__decorate$F([Property("button")],D.prototype,"role",void 0),D=__decorate$F([Register],D);var __decorate$E=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let F=class IoBoolean extends B{static get Style(){return"\n      :host {\n        background-color: transparent;\n      }\n    "}_onClick(){this.toggle(),this.dispatchEvent("io-boolean-clicked",{value:this.value},!0)}toggle(){this.inputValue(!this.value)}init(){this.changed()}changed(){this.setAttribute("value",Boolean(this.value)),this.setAttribute("aria-checked",String(!!this.value)),this.setAttribute("aria-invalid","boolean"!=typeof this.value&&"true");const e=this.value?this.true:this.false;this.template([this.icon?["io-icon",{icon:this.icon,stroke:this.stroke}]:null,e?["io-label",{label:e}]:null])}};__decorate$E([Property({value:!1,reflect:!0})],F.prototype,"value",void 0),__decorate$E([Property("true")],F.prototype,"true",void 0),__decorate$E([Property("false")],F.prototype,"false",void 0),__decorate$E([Property("switch")],F.prototype,"role",void 0),F=__decorate$E([Register],F);var __decorate$D=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let $=class IoBoolicon extends F{changed(){this.setAttribute("value",Boolean(this.value)),this.setAttribute("aria-checked",String(!!this.value)),this.setAttribute("aria-invalid","boolean"!=typeof this.value&&"true");const e=this.value?this.true:this.false;this.template([this.icon?["io-icon",{icon:this.icon,stroke:this.stroke}]:null,["io-icon",{icon:e,stroke:this.stroke}]])}};$=__decorate$D([Register],$);var __decorate$C=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let V=class IoSwitch extends F{static get Style(){return"\n      :host {\n        position: relative;\n        width: calc(1.5 * var(--iotFieldHeight));\n        \n      }\n      :host:before {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        visibility: visible;\n        top: var(--iotSpacing);\n        left: 0;\n        width: 100%;\n        height: var(--iotLineHeight);\n        border-radius: var(--iotLineHeight);\n        border: var(--iotBorder);\n        border-color: var(--iotBorderColorInset);\n        background-color: var(--iotBackgroundColorField);\n        box-shadow: var(--iotShadowInset);\n        transition: background-color 0.4s;\n      }\n      :host:after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        visibility: visible;\n        top: calc(var(--iotBorderWidth) + var(--iotSpacing));\n        left: var(--iotBorderWidth);\n        height: calc(var(--iotLineHeight) - calc(2 * var(--iotBorderWidth)));\n        width: calc(var(--iotLineHeight) - calc(2 * var(--iotBorderWidth)));\n        background-color: var(--iotBackgroundColorDimmed);\n        box-shadow: var(--iotShadowOutset);\n        border: var(--iotBorder);\n        border-color: var(--iotBorderColorOutset);\n        border-radius: var(--iotLineHeight);\n        transition-timing-function: ease-in-out;\n        transition: left 0.25s;\n      }\n      :host[value]:after {\n        background-color: var(--iotBackgroundColorSelected);\n        left: calc(100% - calc(var(--iotLineHeight) - var(--iotBorderWidth)));\n      }\n      :host:focus:before {\n        border-color: var(--iotBorderColorFocus);\n        outline: 1px auto var(--iotBorderColorSelected);\n        outline: 1px auto -webkit-focus-ring-color;\n      }\n      :host:focus {\n        outline: 0;\n        border-color: transparent;\n      }\n    "}init(){this.setAttribute("aria-checked",String(!!this.value))}changed(){this.title=this.label}valueChanged(){this.setAttribute("aria-checked",String(!!this.value)),"boolean"!=typeof this.value?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")}};V=__decorate$C([Register],V);var __decorate$B=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let U=class IoString extends B{static get Style(){return"\n      :host {\n        cursor: text;\n        user-select: text;\n        -webkit-user-select: text;\n        -webkit-touch-callout: default;\n      }\n    "}_setFromTextNode(){const e=this.textNode;"string"==typeof this.value&&e!==String(this.value)&&this.inputValue(e)}_tryParseFromTextNode(){const e=this.textNode;try{const t=JSON.parse(e.replace(/[\t\n\r ]+/g," "));this.inputValue(t)}catch(t){console.warn("IoString: Cannot parse value",e),console.error(t),this._setFromTextNode()}}_onBlur(e){super._onBlur(e),this._setFromTextNode(),this.scrollTop=0,this.scrollLeft=0}_onPointerdown(e){this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup)}_onPointermove(e){}_onPointerup(e){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length))}_onKeydown(e){const t=window.getSelection().getRangeAt(0),n=t.startOffset,o=t.endOffset,i=this.childNodes[0]?this.childNodes[0].length:0,r=t.startContainer===t.endContainer&&(t.startContainer===this.childNodes[0]||t.startContainer===this);"Enter"===e.key?(e.preventDefault(),e.shiftKey?this._tryParseFromTextNode():this._setFromTextNode()):"ArrowLeft"===e.key?(e.ctrlKey||r&&n===o&&0===n)&&(e.preventDefault(),this.focusTo("left")):"ArrowUp"===e.key?(e.ctrlKey||r&&n===o&&0===n)&&(e.preventDefault(),this.focusTo("up")):"ArrowRight"===e.key?(e.ctrlKey||r&&n===o&&n===i)&&(e.preventDefault(),this.focusTo("right")):"ArrowDown"===e.key&&(e.ctrlKey||r&&n===o&&n===i)&&(e.preventDefault(),this.focusTo("down"))}_onKeyup(e){if(super._onKeyup(e),this.live){const e=this.getCaretPosition();this._setFromTextNode(),this.setCaretPosition(e)}}changed(){this.title=this.label,this.textNode=String(this.value).replace(new RegExp(" ","g")," ")}valueChanged(){"string"!=typeof this.value?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")}};__decorate$B([Property(!1)],U.prototype,"live",void 0),__decorate$B([Property("")],U.prototype,"value",void 0),__decorate$B([Property(!0)],U.prototype,"contenteditable",void 0),__decorate$B([Property("textbox")],U.prototype,"role",void 0),__decorate$B([Property({value:"inset",reflect:!0})],U.prototype,"appearance",void 0),U=__decorate$B([Register],U);var __decorate$A=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let W=class IoNumber extends B{static get Style(){return"\n      :host {\n        cursor: text;\n        user-select: text;\n        -webkit-user-select: text;\n        -webkit-touch-callout: default;\n      }\n    "}_pointer="";_onBlur(e){super._onBlur(e),this._setFromTextNode(),this.scrollTop=0,this.scrollLeft=0,setTimeout((()=>{document.activeElement.parentElement!==K&&(K.expanded=!1)}))}_onPointerdown(e){"touch"===this._pointer&&e.preventDefault(),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup),document.activeElement===this&&0===e.button||(this._pointer=e.pointerType)}_onPointerup(e){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),this.ladder||1===e.button?("touch"===this._pointer?(e.preventDefault(),document.activeElement.blur()):document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length)),this._expandLadder()):document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length))}_onFocus(e){super._onFocus(e),"touch"===this._pointer&&(K.expanded=!1)}_expandLadder(){K.src=this,K.expanded=!0}_onKeydown(e){const t=window.getSelection().getRangeAt(0),n=t.startOffset,o=t.endOffset,i=this.childNodes[0]?this.childNodes[0].length:0,r=t.startContainer===t.endContainer&&(t.startContainer===this.childNodes[0]||t.startContainer===this);if(27===e.which||13===e.which||32===e.which)e.preventDefault(),this._setFromTextNode();else if(36===e.which)this.textNode=this.min,this._setFromTextNode();else if(35===e.which)this.textNode=this.max,this._setFromTextNode();else if(33===e.which){const e=Number(this.textNode);!isNaN(e)&&Math.abs(e)<1/0?this.textNode=Number(this.textNode)+this.step:this.textNode=this.step,this._setFromTextNode()}else if(34===e.which){const e=Number(this.textNode);!isNaN(e)&&Math.abs(e)<1/0?this.textNode=Number(this.textNode)-this.step:this.textNode=-this.step,this._setFromTextNode()}else if(37===e.which)(e.ctrlKey||r&&n===o&&0===n)&&(e.preventDefault(),this.focusTo("left"));else if(38===e.which)if(K.expanded){const e=K.querySelector(".io-up1");e&&e.focus()}else(e.ctrlKey||r&&n===o&&0===n)&&(e.preventDefault(),this.focusTo("up"));else if(39===e.which)(e.ctrlKey||r&&n===o&&n===i)&&(e.preventDefault(),this.focusTo("right"));else if(40===e.which)if(K.expanded){const e=K.querySelector(".io-down1");e&&e.focus()}else(e.ctrlKey||r&&n===o&&n===i)&&(e.preventDefault(),this.focusTo("down"))}_onKeyup(e){17===e.which?this._expandLadder():27!==e.which&&13!==e.which&&32!==e.which||(I.expanded=!1)}_setFromTextNode(){const e=this.textNode;let t=Number(e)/this.conversion;t=Math.min(this.max,Math.max(this.min,t)),t=Math.round(t/this.step)*this.step;const n=Math.max(0,Math.min(100,-Math.floor(Math.log(this.step)/Math.LN10)));t=Number(t.toFixed(n)),isNaN(t)?this.textNode="NaN":this.inputValue(t)}init(){this.changed()}changed(){this.setAttribute("value",this.value),this.setAttribute("aria-valuenow",this.value),this.setAttribute("aria-valuemin",this.min),this.setAttribute("aria-valuemax",this.max),this.setAttribute("aria-valuestep",this.step),"number"!=typeof this.value||isNaN(this.value)?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid");let e,t=this.value;if("number"!=typeof t||isNaN(t))e="NaN";else{t*=this.conversion;let n=-Math.floor(Math.log(this.step*this.conversion)/Math.LN10);n=Math.max(0,Math.min(100,n)),t=Number(t.toFixed(n)),e=String(t)}this.setAttribute("value",e),this.setAttribute("positive",this.value>=0),this.textNode=e}};__decorate$A([Property("textbox")],W.prototype,"role",void 0),__decorate$A([Property(0)],W.prototype,"value",void 0),__decorate$A([Property(1)],W.prototype,"conversion",void 0),__decorate$A([Property(1e-4)],W.prototype,"step",void 0),__decorate$A([Property(-1/0)],W.prototype,"min",void 0),__decorate$A([Property(1/0)],W.prototype,"max",void 0),__decorate$A([Property(!1)],W.prototype,"ladder",void 0),__decorate$A([Property(!0)],W.prototype,"contenteditable",void 0),__decorate$A([Property({value:"number",reflect:!0})],W.prototype,"type",void 0),__decorate$A([Property({value:'pattern="[0-9]*"',reflect:!0})],W.prototype,"pattern",void 0),__decorate$A([Property({value:"numeric",reflect:!0})],W.prototype,"inputmode",void 0),__decorate$A([Property({value:"false",reflect:!0})],W.prototype,"spellcheck",void 0),__decorate$A([Property({value:"inset",reflect:!0})],W.prototype,"appearance",void 0),W=__decorate$A([Register],W);let G=null;window.addEventListener("focusin",(()=>{G=document.activeElement}),{capture:!1}),window.addEventListener("blur",(()=>{setTimeout((()=>{document.activeElement===document.body&&(G=null)}))}),{capture:!0});let q=class IoNumberLadderStep extends B{static get Style(){return"\n      :host {\n        pointer-events: all;\n        display: inline-block;\n        cursor: ew-resize;\n        text-align: center;\n        background-color: var(--iotBackgroundColorStrong);\n        color: var(--iotColor);\n        align-self: stretch;\n        touch-action: none;\n        width: 6em;\n      }\n      :host:before {\n        float: left;\n        content: '<';\n        opacity: 0.25;\n      }\n      :host:after {\n        float: right;\n        content: '>';\n        opacity: 0.25;\n      }\n    "}_onKeydown(e){let t=0;"Escape"===e.key||" "===e.key?this.dispatchEvent("ladder-step-collapse",{},!0):"ArrowLeft"===e.key||"Backspace"===e.key?(e.preventDefault(),t=-1*this.value):"ArrowUp"===e.key?(e.preventDefault(),this.focusTo("up")):"ArrowRight"===e.key||"Enter"===e.key?(e.preventDefault(),t=1*this.value):"ArrowDown"===e.key&&(e.preventDefault(),this.focusTo("down")),0!==t&&this.dispatchEvent("ladder-step-change",{step:Number(t.toFixed(5)),round:e.shiftKey},!0)}_onPointerdown(e){this.setPointerCapture(e.pointerId),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup),this._startX=e.clientX}_onPointermove(e){const t=e.clientX-this._startX;if(Math.abs(t)>5){const n=Math.pow(t/5,2)*t<0?-1:1,o=t>0?Math.floor(n):Math.ceil(n),i=this.value*o;this._startX=e.clientX,this.dispatchEvent("ladder-step-change",{step:Number(i.toFixed(5)),round:e.shiftKey},!0)}}_onPointerup(e){this.releasePointerCapture(e.pointerId),this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),this.dispatchEvent("ladder-step-collapse",{},!0)}init(){this.changed()}changed(){super.changed(),this.setAttribute("aria-valuestep",this.value)}};__decorate$A([Property(1)],q.prototype,"value",void 0),__decorate$A([Property({value:"number",reflect:!0})],q.prototype,"type",void 0),__decorate$A([Property("spinbutton")],q.prototype,"role",void 0),q=__decorate$A([Register],q);let Y=class IoNumberLadder extends d{static get Style(){return"\n      :host {\n        display: flex;\n        flex-direction: column;\n        position: absolute;\n        pointer-events: none;\n        user-select: none;\n        -webkit-tap-highlight-color: transparent;\n        -webkit-user-select: none;\n        -webkit-touch-callout: none;\n      }\n      :host:not([expanded]) {\n        visibility: hidden;\n      }\n      :host:not([expanded]) > io-number-ladder-step {\n        opacity: 0.5;\n      }\n      :host > io-number-ladder-step:nth-child(-n+5) {\n        box-shadow: 0 -1px 4px rgba(0,0,0,0.2);\n      }\n      :host > io-number-ladder-step:nth-child(n+6) {\n        box-shadow: 0 1px 4px rgba(0,0,0,0.2);\n      }\n      :host > .io-up1,\n      :host > .io-down1{\n        z-index: 4;\n        transition: opacity 0.1s, transform 0.1s;\n      }\n      :host > .io-up2,\n      :host > .io-down2 {\n        z-index: 3;\n        opacity: 0.8;\n        transition: opacity 0.2s, transform 0.2s;\n      }\n      :host:not([expanded]) > .io-up4 {\n        transform: translateY(calc(3 * var(--iotFieldHeight)));\n      }\n      :host:not([expanded]) > .io-up3 {\n        transform: translateY(calc(2 * var(--iotFieldHeight)));\n      }\n      :host:not([expanded]) > .io-up2 {\n        transform: translateY(calc(1 * var(--iotFieldHeight)));\n      }\n      :host:not([expanded]) > .io-down2 {\n        transform: translateY(calc(-1 * var(--iotFieldHeight)));\n      }\n      :host:not([expanded]) > .io-down3 {\n        transform: translateY(calc(-2 * var(--iotFieldHeight)));\n      }\n      :host:not([expanded]) > .io-down4 {\n        transform: translateY(calc(-3 * var(--iotFieldHeight)));\n      }\n      :host > .io-up3,\n      :host > .io-down3 {\n        z-index: 2;\n        opacity: 0.6;\n        transition: opacity 0.4s, transform 0.4s;\n      }\n      :host > .io-up4,\n      :host > .io-down4 {\n        z-index: 1;\n        opacity: 0.4;\n        transition: opacity 0.8s, transform 0.8s;\n      }\n      :host > io-number-ladder-step:hover,\n      :host > io-number-ladder-step:focus {\n        background-color: var(--iotBackgroundColorStrong);\n        border-color: var(--iotBorderColorFocus);\n        transition: opacity 0.2s;\n        opacity: 1;\n      }\n      :host > .io-number-ladder-empty {\n        height: var(--iotFieldHeight);\n      }\n      :host > .io-number-ladder-center {\n        height: calc(1.5 * var(--iotFieldHeight));\n      }\n    "}static get Listeners(){return{"ladder-step-change":"_onLadderStepChange","ladder-step-collapse":"_onLadderStepCollapse",focusin:"_onFocusIn"}}get value(){return this.src?this.src.value:0}get min(){return this.src?this.src.min:-1/0}get max(){return this.src?this.src.max:1/0}get step(){return this.src?this.src.step:1e-4}get conversion(){return this.src?this.src.conversion:1}_onFocusIn(e){e.stopPropagation()}_onFocusTo(e){e.stopPropagation();const t=e.composedPath()[0],n=this.src,o=e.detail.dir;if(n&&(t===this.querySelector(".io-up1")&&"down"===o||t===this.querySelector(".io-down1")&&"up"===o))return n.focus(),void(n.selectionStart=n.selectionEnd=n.textNode.length);super._onFocusTo(e)}_onLadderStepChange(e){const t=this.src;if(t){const n=e.detail.step,o=e.detail.round?Math.round(this.value/n)*n:this.value;let i=Math.min(this.max,Math.max(this.min,o+n));i=Number(i.toFixed(5)),t.inputValue(i)}}_onLadderStepCollapse(){this.setProperty("expanded",!1)}expandedChanged(){const e=this.src;if(this.expanded)if(e){const t=e.getBoundingClientRect(),n=this.getBoundingClientRect(),o=I.getBoundingClientRect();this.style.top=t.bottom-o.top+"px",this.style.left=t.left-o.left+"px",this.style.marginTop=-(n.height/2+C.iotLineHeight/2+C.iotSpacing)+"px"}else this.removeAttribute("style");else e&&"touch"!==e._pointerType?e.focus():G&&G.focus();this.dispatchEvent("expanded",{value:this.expanded},!0)}changed(){const e=this.max-this.min,t=["span",{class:"io-number-ladder-empty"}];let n=this.step/1e4;for(;n<.1;)n*=10;const o=1e4*n,i=1e3*n,r=100*n,s=10*n,a=1*n,l=.1*n,c=.01*n,h=.001*n,d=Number((o*this.conversion).toFixed(6)),p=Number((i*this.conversion).toFixed(6)),u=Number((r*this.conversion).toFixed(6)),g=Number((s*this.conversion).toFixed(6)),v=Number((a*this.conversion).toFixed(6)),f=Number((l*this.conversion).toFixed(6)),m=Number((c*this.conversion).toFixed(6)),b=Number((h*this.conversion).toFixed(6));this.template([e>=o?["io-number-ladder-step",{class:"io-up4",value:o,label:String(d)}]:t,e>=i?["io-number-ladder-step",{class:"io-up3",value:i,label:String(p)}]:t,e>=r?["io-number-ladder-step",{class:"io-up2",value:r,label:String(u)}]:t,e>=s?["io-number-ladder-step",{class:"io-up1",value:s,label:String(g)}]:t,["span",{class:"io-number-ladder-center"}],this.step<=a?["io-number-ladder-step",{class:"io-down1",value:a,label:String(v)}]:t,this.step<=l?["io-number-ladder-step",{class:"io-down2",value:l,label:String(f)}]:t,this.step<=c?["io-number-ladder-step",{class:"io-down3",value:c,label:String(m)}]:t,this.step<=h?["io-number-ladder-step",{class:"io-down4",value:h,label:String(b)}]:t]),this.setAttribute("aria-valuemin",this.min),this.setAttribute("aria-valuemax",this.max),this.setAttribute("aria-valuenow",this.value),this.setAttribute("aria-valuestep",this.step),this.setAttribute("aria-invalid",!("number"==typeof this.value&&!isNaN(this.value))&&"true");const y=this.querySelectorAll("io-number-ladder-step");for(let e=y.length;e--;)y[e].setAttribute("aria-valuemin",this.min),y[e].setAttribute("aria-valuemax",this.max),y[e].setAttribute("aria-valuenow",this.value),y[e].changed()}};__decorate$A([Property("list")],Y.prototype,"role",void 0),__decorate$A([Property(void 0)],Y.prototype,"src",void 0),__decorate$A([Property({value:!1,reflect:!0})],Y.prototype,"expanded",void 0),Y=__decorate$A([Register],Y);const K=new Y;I.appendChild(K);var __decorate$z=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};const X={};let Q=class IoIconset extends t{registerIcons(e,t){const n=document.createElement("div");n.innerHTML=t,n.querySelectorAll("[id]").forEach((t=>{X[e]=X[e]||{},X[e][t.id]=t.outerHTML}))}getIcon(e){const t=X[e.split(":")[0]];if(t){const n=e.split(":")[1];if(t[n]){return`<svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">${t[n].replace(' id="',' class="icon-id-')}</svg>`}}return'<svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"></svg>'}};Q=__decorate$z([Register],Q);const J=new Q;J.registerIcons("icons",'\n<svg>\n<g id="io">\n  <ellipse fill="#83A61E" cx="5.4" cy="12.1" rx="3.4" ry="3.4"/>\n  <path fill="#646464" d="M16.3,17.7c-3.1,0-5.6-2.6-5.6-5.6s2.6-5.6,5.6-5.6s5.6,2.6,5.6,5.6S19.3,17.7,16.3,17.7z M16.3,8.8\n    c-1.8,0-3.3,1.5-3.3,3.2s1.5,3.2,3.3,3.2s3.3-1.5,3.3-3.2S18.1,8.8,16.3,8.8z"/>\n</g>\n<g id="io_logo">\n  <path fill="#646464" d="M19.5,12.7c0.3-0.3,0.3-0.9,0-1.2l-0.7-0.7l-2.6-2.6c-0.3-0.3-0.3-0.9,0-1.2c0.3-0.3,0.9-0.3,1.2,0l3.8,3.8\n    c0.7,0.7,0.7,1.8,0,2.6l-3.8,3.8c-0.3,0.3-0.9,0.3-1.2,0c-0.3-0.3-0.3-0.9,0-1.2"/>\n  <path fill="#646464" d="M4.3,12.7c-0.3-0.3-0.3-0.9,0-1.2L5,10.8l2.6-2.6c0.3-0.3,0.3-0.9,0-1.2C7.3,6.7,6.7,6.7,6.4,7l-3.8,3.8\n    c-0.7,0.7-0.7,1.8,0,2.6l3.8,3.8c0.3,0.3,0.9,0.3,1.2,0s0.3-0.9,0-1.2"/>\n  <ellipse fill="#83A61E" cx="8.4" cy="12.1" rx="1.7" ry="1.7"/>\n  <path fill="#646464" d="M13.9,14.9c-1.6,0-2.8-1.2-2.8-2.8s1.2-2.8,2.8-2.8s2.8,1.2,2.8,2.8S15.4,14.9,13.9,14.9z M13.9,10.4\n    c-0.9,0-1.7,0.7-1.7,1.7c0,0.9,0.7,1.7,1.7,1.7c0.9,0,1.7-0.7,1.7-1.7C15.5,11.2,14.8,10.4,13.9,10.4z"/>\n</g>\n<g id="unlink">\n  <path d="M3.9,12c0-1.7,1.4-3.2,3.2-3.2h4V7H7c-2.7,0-5,2.2-5,5s2.2,5,5,5h4v-1.9H7C5.2,15.1,3.9,13.7,3.9,12z M17,7h-4.1v1.9H17\n    c1.7,0,3.2,1.4,3.2,3.2s-1.4,3.2-3.2,3.2h-4.1v1.9H17c2.7,0,5-2.2,5-5S19.8,7,17,7z"/>\n</g>\n<g id="link">\n  <path d="M3.9,12c0-1.7,1.4-3.2,3.2-3.2h4V7H7c-2.7,0-5,2.2-5,5s2.2,5,5,5h4v-1.9H7C5.2,15.1,3.9,13.7,3.9,12z M8,13h8.1v-2H8V13z\n     M17,7h-4.1v1.9H17c1.7,0,3.2,1.4,3.2,3.2s-1.4,3.2-3.2,3.2h-4.1v1.9H17c2.7,0,5-2.2,5-5S19.8,7,17,7z"/>\n</g>\n<g id="gear">\n  <path d="M21.3,14.6L19.2,13c0-0.3,0.1-0.6,0.1-1c0-0.3,0-0.6-0.1-1l2.1-1.7c0.2-0.2,0.2-0.4,0.1-0.6l-1.9-3.4\n    c-0.1-0.2-0.3-0.2-0.6-0.2l-2.4,1c-0.5-0.3-1.1-0.7-1.7-1l-0.3-2.7c0-0.2-0.2-0.4-0.4-0.4h-4C9.8,2.3,9.5,2.4,9.5,2.7L9.1,5.3\n    C8.5,5.5,8,5.8,7.5,6.3l-2.4-1c-0.2-0.1-0.5,0-0.7,0.2L2.5,8.8C2.4,9.1,2.4,9.3,2.6,9.5l2.1,1.7c0,0.3-0.1,0.6-0.1,1s0,0.6,0.1,1\n    l-2.1,1.7c-0.2,0.2-0.2,0.4-0.1,0.6l1.9,3.4C4.5,19,4.7,19,5,19l2.4-1c0.5,0.4,1.1,0.7,1.7,1l0.4,2.7c0,0.2,0.3,0.4,0.6,0.4H14\n    c0.2,0,0.4-0.2,0.5-0.4l0.3-2.7c0.6-0.2,1.2-0.5,1.7-1l2.4,1c0.2,0.1,0.4,0,0.6-0.2l1.9-3.4C21.6,15.1,21.5,14.8,21.3,14.6z\n     M11.9,15.6c-2,0-3.7-1.7-3.7-3.7s1.7-3.6,3.7-3.6s3.7,1.7,3.7,3.7S13.9,15.6,11.9,15.6z"/>\n</g>\n<g id="less">\n  <path d="M6.6,20.3L8.3,22l3.7-4l3.7,4l1.7-1.7l-5.3-5.7L6.6,20.3z M17.3,3.8l-1.7-1.7l-3.7,4l-3.7-4L6.6,3.8l5.3,5.7L17.3,3.8z"/>\n</g>\n<g id="more">\n  <path d="M11.9,5.3l3.7,3.5l1.7-1.6L12,2.1L6.6,7.2l1.7,1.6L11.9,5.3z M11.9,18.9l-3.7-3.5L6.6,17l5.3,5.1l5.3-5.1l-1.7-1.6\n    L11.9,18.9z"/>\n</g>\n<g id="code">\n  <path d="M9.4,16.6L4.8,12l4.6-4.6L8,6.1l-6,6l6,6L9.4,16.6z M14.5,16.6l4.6-4.6l-4.6-4.6L15.9,6l6,6l-6,6L14.5,16.6z"/>\n</g>\n<g id="tune">\n  <path d="M2,17.6v2.2h6.6v-2.2H2z M2,4.3v2.2h11V4.3H2z M13,22v-2.2h8.9v-2.2H13v-2.2h-2.2V22H13z M6.4,8.7V11H2v2.2h4.4v2.2h2.2\n    V8.7H6.4z M21.9,13.1v-2.2h-11v2.2H21.9z M15.3,8.7h2.2V6.5h4.4V4.3h-4.4V2.1h-2.2V8.7z"/>\n</g>\n<g id="unlock">\n  <path d="M11.9,17.3c1,0,1.9-0.8,1.9-1.9s-0.8-1.9-1.9-1.9S10,14.3,10,15.4S11,17.3,11.9,17.3z M17.6,8.7h-0.9V6.8\n    c-0.1-2.6-2.2-4.7-4.7-4.7S7.3,4.3,7.3,6.8H9c0-1.7,1.3-2.9,2.9-2.9s2.9,1.3,2.9,2.9v1.9H6.4c-1.1,0-1.9,0.8-1.9,1.9v9.5\n    c0,1.1,0.8,1.9,1.9,1.9h11.2c1,0,1.9-0.8,1.9-1.9v-9.5C19.4,9.6,18.6,8.7,17.6,8.7z M17.6,20.1H6.4v-9.5h11.2V20.1z"/>\n</g>\n<g id="lock">\n  <path d="M11.9,17.3c1,0,1.9-0.8,1.9-1.9s-0.8-1.9-1.9-1.9S10,14.3,10,15.4S11,17.3,11.9,17.3z M17.6,8.7h-0.9V6.8\n    c-0.1-2.6-2.2-4.7-4.7-4.7S7.3,4.3,7.3,6.8v1.9H6.4c-1.1,0-1.9,0.8-1.9,1.9v9.5c0,1.1,0.8,1.9,1.9,1.9h11.2c1,0,1.9-0.8,1.9-1.9\n    v-9.5C19.4,9.6,18.6,8.7,17.6,8.7z M9,6.8c0-1.7,1.3-2.9,2.9-2.9s2.9,1.3,2.9,2.9v1.9H9V6.8z M17.6,20.1H6.4v-9.5h11.2V20.1z"/>\n</g>\n<g id="more_horizontal">\n  <path d="M4.5,9.6C3.1,9.6,2,10.7,2,12.1s1.1,2.5,2.5,2.5S7,13.5,7,12.1S5.9,9.6,4.5,9.6z M19.4,9.6c-1.4,0-2.5,1.1-2.5,2.5\n    s1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5S20.8,9.6,19.4,9.6z M11.9,9.6c-1.4,0-2.5,1.1-2.5,2.5s1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5\n    S13.4,9.6,11.9,9.6z"/>\n</g>\n<g id="more_vertical">\n  <path d="M11.9,7.1c1.4,0,2.5-1.1,2.5-2.5s-1.1-2.5-2.5-2.5S9.5,3.2,9.5,4.6S10.5,7.1,11.9,7.1z M11.9,9.6c-1.4,0-2.5,1.1-2.5,2.5\n    s1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5S13.4,9.6,11.9,9.6z M11.9,17.1c-1.4,0-2.5,1.1-2.5,2.5s1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5\n    S13.4,17.1,11.9,17.1z"/>\n</g>\n<g id="chevron_left">\n  <path d="M18.1,4.4l-2.3-2.3l-10,10l10,10l2.3-2.3l-7.6-7.6L18.1,4.4z"/>\n</g>\n<g id="chevron_up">\n  <path d="M11.9,5.9l-10,10l2.3,2.3l7.6-7.6l7.6,7.6l2.3-2.3L11.9,5.9z"/>\n</g>\n<g id="chevron_down">\n  <path d="M4.3,5.9l7.6,7.6l7.6-7.6l2.3,2.3l-10,10L2,8.2L4.3,5.9z"/>\n</g>\n<g id="chevron_right">\n  <path d="M5.8,19.7l7.6-7.6L5.8,4.4l2.3-2.3l10,10l-10,10L5.8,19.7z"/>\n</g>\n<g id="arrow_left">\n  <path d="M21.9,10.8H6.7l7-7L12,2.1l-10,10l10,10l1.7-1.7l-7-7h15.2V10.8z"/>\n</g>\n<g id="arrow_down">\n  <path d="M21.9,12.1l-1.7-1.7l-7,7V2.1h-2.5v15.2l-7-7L2,12.1l10,10L21.9,12.1z"/>\n</g>\n<g id="arrow_up">\n  <path d="M2,12.1l1.7,1.7l7-7V22h2.5V6.8l7,7l1.7-1.7l-10-10L2,12.1z"/>\n</g>\n<g id="arrow_right">\n  <path d="M2,13.3h15.2l-7,7l1.7,1.7l10-10l-10-10l-1.7,1.7l7,7H2V13.3z"/>\n</g>\n<g id="arrow_end">\n  <polygon points="7.6,3.8 14.6,10.8 2,10.8 2,13.3 14.6,13.3 7.6,20.3 9.4,22 19.3,12.1 9.4,2.1   "/>\n  <rect x="19.4" y="2.1" width="2.5" height="19.9"/>\n</g>\n<g id="arrow_home">\n  <polygon points="16.3,20.3 9.3,13.3 21.9,13.3 21.9,10.8 9.3,10.8 16.3,3.8 14.5,2.1 4.6,12.1 14.5,22   "/>\n  <rect x="2" y="2.1" width="2.5" height="19.9"/>\n</g>\n<g id="chevron_end">\n  <path d="M2,4.4L9.6,12L2,19.7L4.3,22l10-10L4.3,2L2,4.4z M18.6,2.1h3.3V22h-3.3V2.1z"/>\n</g>\n<g id="chevron_home">\n  <path d="M21.9,19.7l-7.6-7.6l7.6-7.6l-2.3-2.3l-10,10l10,10L21.9,19.7z M5.3,22H2V2.1h3.3V22z"/>\n</g>\n<g id="check">\n  <path d="M8.3,16.5l-4.7-4.7L2,13.3l6.3,6.3L21.9,6.1l-1.6-1.6L8.3,16.5z"/>\n</g>\n<g id="close">\n  <path d="M21.9,4.1l-2-2l-8,8l-8-8l-2,2l8,8l-8,8l2,2l8-8l8,8l2-2l-8-8L21.9,4.1z"/>\n</g>\n<g id="circle">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8\n    s8,3.6,8,8S16.4,20,11.9,20z"/>\n</g>\n<g id="circle_minus">\n  <path d="M7,11.1v2h10v-2C16.9,11.1,7,11.1,7,11.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z\n     M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z"/>\n</g>\n<g id="circle_plus">\n  <path d="M12.9,7.1h-2v4H7v2h4v4h2v-4h4v-2h-4v-4H12.9z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1\n    z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z"/>\n</g>\n<g id="circle_close">\n  <path d="M14.5,8.1l-2.6,2.6L9.4,8.1L8,9.5l2.6,2.6L8,14.6L9.4,16l2.6-2.6l2.6,2.6l1.4-1.4L13.4,12L16,9.4L14.5,8.1z M11.9,2.1\n    c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8\n    S16.4,20,11.9,20z"/>\n</g>\n<g id="circle_triangle_right">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8\n    s8,3.6,8,8S16.4,20,11.9,20z"/>\n  <polygon points="10,16.6 15.9,12.1 10,7.6   "/>\n</g>\n<g id="circle_triangle_down">\n  <path d="M21.9,12.1c0-5.5-4.5-10-10-10S2,6.6,2,12.1s4.5,10,10,10S21.9,17.5,21.9,12.1z M4,12.1c0-4.4,3.6-8,8-8s8,3.6,8,8\n    s-3.6,8-8,8S4,16.5,4,12.1z"/>\n  <polygon points="7.5,10.1 11.9,16.1 16.4,10.1   "/>\n</g>\n<g id="circle_triangle_left">\n  <path d="M11.9,22c5.5,0,10-4.5,10-10s-4.5-10-10-10S2,6.6,2,12.1S6.5,22,11.9,22z M11.9,4.1c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8\n    S7.5,4.1,11.9,4.1z"/>\n  <polygon points="13.9,7.6 8,12.1 13.9,16.6   "/>\n</g>\n<g id="circle_triangle_up">\n  <path d="M2,12.1c0,5.5,4.5,10,10,10s10-4.5,10-10s-4.5-10-10-10S2,6.6,2,12.1z M19.9,12.1c0,4.4-3.6,8-8,8s-8-3.6-8-8s3.6-8,8-8\n    S19.9,7.7,19.9,12.1z"/>\n  <polygon points="16.4,14.1 11.9,8.1 7.5,14.1   "/>\n</g>\n<g id="triangle_right">\n  <polygon points="9.1,16.5 14.9,12 9.1,7.5   "/>\n</g>\n<g id="triangle_down">\n  <polygon points="7.6,9 11.9,15 16.5,9   "/>\n</g>\n<g id="triangle_left">\n  <polygon points="14.9,7.5 9.1,12 14.9,16.5   "/>\n</g>\n<g id="triangle_up">\n  <polygon points="16.5,15 11.9,9 7.6,15   "/>\n</g>\n<g id="circle_pause">\n  <path d="M9,16.1h2v-8H9V16.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20\n    c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z M12.9,16.1h2v-8h-2V16.1z"/>\n</g>\n<g id="circle_info">\n  <path d="M11,17.1h2v-6h-2V17.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20\n    c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z M11,9.1h2v-2h-2C11,7.1,11,9.1,11,9.1z"/>\n</g>\n<g id="circle_warning">\n  <path d="M11,15.1h2v2h-2V15.1z M11,7.1h2v6h-2V7.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z\n     M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z"/>\n</g>\n<g id="circle_help">\n  <path d="M11,18h2v-2h-2C11,16.1,11,18,11,18z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z\n     M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z M11.9,6.1c-2.2,0-4,1.8-4,4h2c0-1.1,0.9-2,2-2s2,0.9,2,2\n    c0,2-3,1.8-3,5h2c0-2.3,3-2.5,3-5C15.9,7.9,14.1,6.1,11.9,6.1z"/>\n</g>\n<g id="circle_checked">\n  <path d="M11.9,7.1c-2.8,0-5,2.2-5,5s2.2,5,5,5s5-2.2,5-5S14.8,7.1,11.9,7.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10\n    s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z"/>\n</g>\n<g id="circle_location">\n  <path d="M20,11.2c-0.4-3.8-3.4-6.8-7.1-7.1v-2H11V4c-3.8,0.3-6.8,3.3-7.1,7.1H2V13h1.9c0.4,3.8,3.4,6.8,7.1,7.1V22h1.8v-1.9\n    c3.8-0.4,6.8-3.4,7.1-7.1h1.9v-1.8C21.9,11.2,20,11.2,20,11.2z M11.9,18.4c-3.6,0-6.3-2.8-6.3-6.3s2.7-6.3,6.3-6.3s6.3,2.8,6.3,6.3\n    S15.5,18.4,11.9,18.4z"/>\n</g>\n<g id="circle_location_checked">\n  <path d="M11.9,8.4c-2,0-3.7,1.7-3.7,3.7s1.7,3.7,3.7,3.7s3.7-1.7,3.7-3.7S13.9,8.4,11.9,8.4z M20,11.2c-0.4-3.8-3.4-6.8-7.1-7.1v-2\n    H11V4c-3.8,0.3-6.8,3.3-7.1,7.1H2V13h1.9c0.4,3.8,3.4,6.8,7.1,7.1V22h1.8v-1.9c3.8-0.4,6.8-3.4,7.1-7.1h1.9v-1.8\n    C21.9,11.2,20,11.2,20,11.2z M11.9,18.4c-3.6,0-6.3-2.8-6.3-6.3s2.7-6.3,6.3-6.3s6.3,2.8,6.3,6.3S15.5,18.4,11.9,18.4z"/>\n</g>\n<g id="circle_fill">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z"/>\n</g>\n<g id="circle_fill_checked">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M10,17.1l-5-5l1.4-1.4l3.6,3.6l7.6-7.6\n    L19,8.1L10,17.1z"/>\n</g>\n<g id="circle_fill_minus">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M16.9,13.1H7v-2h10v2H16.9z"/>\n</g>\n<g id="circle_fill_plus">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M16.9,13.1h-4v4h-2v-4H7v-2h4v-4h2v4h4v2\n    H16.9z"/>\n</g>\n<g id="circle_fill_arrow_down">\n  <path d="M21.9,12.1c0-5.5-4.5-10-10-10S2,6.6,2,12.1s4.5,10,10,10S21.9,17.5,21.9,12.1z M7.5,10.1h9l-4.5,6L7.5,10.1z"/>\n</g>\n<g id="circle_fill_arrow_left">\n  <path d="M11.9,22c5.5,0,10-4.5,10-10s-4.5-10-10-10S2,6.6,2,12.1S6.5,22,11.9,22z M13.9,7.6v9l-6-4.5L13.9,7.6z"/>\n</g>\n<g id="circle_fill_arrow_up">\n  <path d="M2,12.1c0,5.5,4.5,10,10,10s10-4.5,10-10s-4.5-10-10-10S2,6.6,2,12.1z M16.4,14.1h-9l4.5-6L16.4,14.1z"/>\n</g>\n<g id="circle_fill_arrow_right">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M10,16.6v-9l6,4.5L10,16.6z"/>\n</g>\n<g id="circle_fill_pause">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11,16.1H9v-8h2V16.1z M14.9,16.1h-2v-8h2\n    V16.1z"/>\n</g>\n<g id="circle_fill_info">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M12.9,17.1h-2v-6h2V17.1z M12.9,9.1h-2v-2h2\n    C12.9,7.1,12.9,9.1,12.9,9.1z"/>\n</g>\n<g id="circle_fill_warning">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M12.9,17.1h-2v-2h2V17.1z M12.9,13.1h-2v-6h2\n    C12.9,7.1,12.9,13.1,12.9,13.1z"/>\n</g>\n<g id="circle_fill_help">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M12.9,19h-2v-2h2C12.9,17.1,12.9,19,12.9,19z\n     M15,11.4l-0.9,0.9c-0.8,0.7-1.2,1.3-1.2,2.8h-2v-0.6c0-1.1,0.4-2.1,1.2-2.8l1.2-1.3c0.4-0.3,0.6-0.8,0.6-1.4C14,8,13.1,7.1,12,7.1\n    s-2,0.9-2,2H8c0-2.2,1.8-4,4-4s4,1.8,4,4C15.9,10,15.5,10.7,15,11.4z"/>\n</g>\n<g id="circle_fill_group">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M8,17.5c-1.4,0-2.5-1.1-2.5-2.5\n    s1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5S9.4,17.5,8,17.5z M9.5,8.1c0-1.4,1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5s-1.1,2.5-2.5,2.5\n    S9.5,9.5,9.5,8.1z M15.9,17.5c-1.4,0-2.5-1.1-2.5-2.5s1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5S17.3,17.5,15.9,17.5z"/>\n</g>\n<g id="box">\n  <path d="M19.7,4.3v15.5H4.2V4.3H19.7 M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3\n    C21.9,3.1,20.9,2.1,19.7,2.1z"/>\n</g>\n<g id="box_fill">\n  <path d="M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z"/>\n</g>\n<g id="box_fill_checked">\n  <path d="M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z\n     M9.8,17.6l-5.5-5.5l1.6-1.6l4,4l8.3-8.4l1.6,1.5L9.8,17.6z"/>\n</g>\n<g id="box_fill_minus">\n  <path d="M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z\n     M17.5,13.1H6.4v-2.2h11L17.5,13.1L17.5,13.1z"/>\n</g>\n<path id="box_fill_plus" d="M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3\n  C21.9,3.1,20.9,2.1,19.7,2.1z M17.5,13.1h-4.4v4.4h-2.2v-4.4H6.4v-2.2h4.4V6.5H13v4.4h4.4L17.5,13.1L17.5,13.1z"/>\n<g id="box_fill_gear">\n  <path d="M11.9,9.8c-1.2,0-2.2,1-2.2,2.2s1,2.2,2.2,2.2s2.2-1,2.2-2.2S13.2,9.8,11.9,9.8z M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5\n    C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z M17.8,12.1c0,0.2,0,0.5-0.1,0.7l1.7,1.2\n    c0.2,0.1,0.2,0.3,0.1,0.5l-1.6,2.7c-0.1,0.2-0.3,0.2-0.5,0.2l-1.9-0.7c-0.4,0.3-0.8,0.6-1.3,0.7L14,19.5c0,0.2-0.2,0.3-0.4,0.3\n    h-3.1c-0.2,0-0.3-0.2-0.4-0.3l-0.2-2.1C9.4,17.2,9,17,8.6,16.7l-1.9,0.7c-0.2,0.1-0.4,0-0.5-0.2l-1.5-2.7c-0.1-0.2-0.1-0.4,0.1-0.5\n    l1.7-1.2c-0.1-0.2-0.1-0.5-0.1-0.7s0-0.5,0.1-0.7l-1.7-1.2C4.4,9.9,4.4,9.7,4.5,9.6l1.6-2.7c0.1-0.2,0.2-0.3,0.4-0.2l1.9,0.7\n    c0.4-0.3,0.8-0.6,1.3-0.7L10,4.6c0-0.2,0.2-0.3,0.4-0.3h3.1c0.2,0,0.3,0.2,0.4,0.3l0.2,2.1c0.5,0.2,0.9,0.4,1.3,0.7l1.9-0.7\n    c0.2-0.1,0.4,0,0.5,0.2l1.6,2.7c0.1,0.2,0.1,0.4-0.1,0.5l-1.7,1.2C17.8,11.6,17.8,11.8,17.8,12.1z"/>\n</g>\n<g id="box_focus">\n  <path d="M4.2,15.4H2v4.4C2,21,3,22,4.2,22h4.4v-2.2H4.2V15.4z M4.2,4.3h4.4V2.1H4.2C3,2.1,2,3.1,2,4.3v4.4h2.2V4.3z M19.7,2.1h-4.4\n    v2.2h4.4v4.4h2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z M19.7,19.8h-4.4V22h4.4c1.2,0,2.2-1,2.2-2.2v-4.4h-2.2V19.8z M11.9,7.7\n    c-2.4,0-4.4,2-4.4,4.4s2,4.4,4.4,4.4s4.4-2,4.4-4.4S14.4,7.7,11.9,7.7z M11.9,14.3c-1.2,0-2.2-1-2.2-2.2s1-2.2,2.2-2.2\n    s2.2,1,2.2,2.2S13.2,14.3,11.9,14.3z"/>\n</g>\n<g id="rows">\n  <path d="M20.8,13.1H3.1c-0.6,0-1.1,0.5-1.1,1.1v6.6C2,21.5,2.5,22,3.1,22H21c0.6,0,1.1-0.5,1.1-1.1v-6.6\n    C21.9,13.6,21.4,13.1,20.8,13.1z M20.8,2.1H3.1C2.5,2.1,2,2.6,2,3.2v6.6c0,0.6,0.5,1.1,1.1,1.1H21c0.6,0,1.1-0.5,1.1-1.1V3.2\n    C21.9,2.6,21.4,2.1,20.8,2.1z"/>\n</g>\n<g id="columns">\n  <path d="M6.2,2.1H3.1C2.5,2.1,2,2.8,2,3.5v17.1C2,21.4,2.5,22,3.1,22h3.2c0.6,0,1.1-0.7,1.1-1.4V3.5C7.2,2.8,6.7,2.1,6.2,2.1z\n     M20.8,2.1h-3.2c-0.6,0-1.1,0.7-1.1,1.4v17.1c0,0.7,0.5,1.4,1.1,1.4h3.2c0.6,0,1.1-0.7,1.1-1.4V3.5C21.9,2.8,21.4,2.1,20.8,2.1z\n     M13.5,2.1h-3.2c-0.6,0-1.1,0.7-1.1,1.4v17.1c0,0.7,0.5,1.4,1.1,1.4h3.2c0.6,0,1.1-0.7,1.1-1.4V3.5C14.6,2.8,14.1,2.1,13.5,2.1z"/>\n</g>\n<g id="dashboard">\n  <path d="M2,13.1h8.9v-11H2V13.1z M2,22h8.9v-6.6H2V22z M13,22h8.9V11H13V22z M13,2.1v6.6h8.9V2.1H13z"/>\n</g>\n<g id="layer_add">\n  <path d="M4,6.1H2v14c0,1.1,0.9,2,2,2h14v-2H4V6.1z M19.9,2.1H8c-1.1,0-2,0.9-2,2v12c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-12\n    C21.9,3,21,2.1,19.9,2.1z M18.9,11.1h-4v4h-2v-4H9v-2h4v-4h2v4h4C18.9,9.1,18.9,11.1,18.9,11.1z"/>\n</g>\n<g id="layer_remove">\n  <path d="M4,6.1H2v14c0,1.1,0.9,2,2,2h14v-2H4V6.1z"/>\n  <path d="M19.9,2.1H8c-1.1,0-2,0.9-2,2v12c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-12C21.9,3,21,2.1,19.9,2.1z M18.9,11.1H9v-2h10v2\n    H18.9z"/>\n</g>\n<g id="layer_to_back">\n  <path d="M8.6,6.5H6.4v2.2h2.2V6.5L8.6,6.5z M8.6,11H6.4v2.2h2.2V11C8.5,11,8.6,11,8.6,11z M8.6,2.1c-1.2,0-2.2,1-2.2,2.2h2.2V2.1\n    L8.6,2.1z M13,15.4h-2.2v2.2H13C13,17.5,13,15.4,13,15.4z M19.8,2.1v2.2H22C21.9,3.1,20.9,2.1,19.8,2.1z M13,2.1h-2.2v2.2H13V2.1z\n     M8.6,17.6v-2.2H6.4C6.4,16.6,7.4,17.6,8.6,17.6z M19.8,13.1H22V11h-2.2V13.1z M19.8,8.7H22V6.5h-2.2V8.7z M19.8,17.6\n    c1.2,0,2.2-1,2.2-2.2h-2.2V17.6z M4.1,6.5H2v13.3C2,21,3,22,4.1,22h13.3v-2.2H4.1C4.1,19.9,4.1,6.5,4.1,6.5z M15.3,4.3h2.2V2.1\n    h-2.2V4.3z M15.3,17.6h2.2v-2.2h-2.2V17.6z"/>\n</g>\n<g id="layer_to_front">\n  <path d="M2,13.1h2.2V11H2V13.1z M2,17.6h2.2v-2.2H2V17.6z M4.1,22v-2.2H2C2,21,3,22,4.1,22z M2,8.7h2.2V6.5H2V8.7z M15.3,22h2.2\n    v-2.2h-2.2V22z M19.8,2.1H8.6c-1.2,0-2.2,1-2.2,2.2v11.1c0,1.2,1,2.2,2.2,2.2h11c1.2,0,2.2-1,2.2-2.2V4.3\n    C21.9,3.1,20.9,2.1,19.8,2.1z M19.8,15.4H8.6V4.3h11L19.8,15.4L19.8,15.4z M10.9,22H13v-2.2h-2.2C10.9,19.9,10.9,22,10.9,22z\n     M6.4,22h2.2v-2.2H6.4V22z"/>\n</g>\n<g id="layer_image">\n  <path d="M21.9,16.1v-12c0-1.1-0.9-2-2-2H8c-1.1,0-2,0.9-2,2v12c0,1.1,0.9,2,2,2h12C21,18,21.9,17.1,21.9,16.1z M11,12.1l2,2.7\n    l3-3.7l4,5H8L11,12.1z M2,6.1v14c0,1.1,0.9,2,2,2h14v-2H4v-14C4,6.1,2,6.1,2,6.1z"/>\n</g>\n<g id="image">\n  <path d="M21.9,19.8V4.3c0-1.2-1-2.2-2.2-2.2H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5C20.9,22,21.9,21,21.9,19.8z M8,13.7\n    l2.7,3.3l3.9-5l5,6.6H4.2L8,13.7z"/>\n</g>\n<g id="label_fill">\n  <path d="M17.3,5.6c-0.4-0.5-1-0.9-1.7-0.9H4.1C2.9,4.8,2,5.7,2,6.8v10.5c0,1.2,0.9,2.1,2.1,2.1h11.5c0.7,0,1.3-0.3,1.7-0.9l4.6-6.4\n    L17.3,5.6z"/>\n</g>\n<g id="label">\n  <path d="M17.3,5.6c-0.4-0.5-1-0.9-1.7-0.9H4.1C2.9,4.7,2,5.6,2,6.8v10.5c0,1.2,0.9,2.1,2.1,2.1h11.5c0.7,0,1.3-0.3,1.7-0.9l4.6-6.3\n    L17.3,5.6z M15.6,17.3H4.1V6.8h11.5l3.7,5.2L15.6,17.3z"/>\n</g>\n<g id="backspace">\n  <path d="M20.3,4.8H7.8c-0.6,0-1,0.2-1.3,0.7L2,12.1l4.5,6.6c0.3,0.4,0.7,0.7,1.3,0.7h12.5c0.9,0,1.7-0.7,1.7-1.7V6.3\n    C21.9,5.4,21.2,4.8,20.3,4.8z M17.8,15l-1.2,1.2l-3-2.9l-3,2.9L9.5,15l3-2.9l-3-2.9L10.6,8l3,2.9l3-2.9l1.2,1.2l-3,2.9L17.8,15z"/>\n</g>\n<g id="redo">\n  <path d="M18.3,11.2c-1.8-1.6-4.2-2.6-6.7-2.6c-4.6,0-8.3,3-9.7,7.1l2.2,0.7c1-3.1,4-5.3,7.4-5.3c1.9,0,3.7,0.7,5,1.8l-3.6,3.6h9\n    V7.7L18.3,11.2z"/>\n</g>\n<g id="undo">\n  <path d="M12.2,8.6c-2.6,0-4.9,1-6.7,2.6L2,7.7v8.8h8.8L7.2,13c1.3-1.2,3.1-1.8,5-1.8c3.4,0,6.3,2.2,7.4,5.3l2.2-0.8\n    C20.6,11.6,16.8,8.6,12.2,8.6z"/>\n</g>\n<g id="reload">\n  <path d="M19,5c-1.8-1.7-4.3-2.9-7.1-2.9c-5.5,0-10,4.5-10,10s4.5,10,10,10c4.7,0,8.6-3.2,9.6-7.5H19c-1,2.9-3.8,5-7.1,5\n    c-4.2,0-7.5-3.3-7.5-7.5s3.3-7.5,7.5-7.5c2.1,0,3.9,0.8,5.2,2.2l-4,4h8.7V2.1L19,5z"/>\n</g>\n<g id="grid_fill">\n  <path d="M4,8.1h4v-4H4V8.1z M10,20h4v-4h-4V20z M4,20h4v-4H4V20z M4,14.1h4v-4H4V14.1z M10,14.1h4v-4h-4V14.1z M15.9,4.1v4h4v-4\n    C19.9,4.1,15.9,4.1,15.9,4.1z M10,8.1h4v-4h-4V8.1z M15.9,14.1h4v-4h-4V14.1z M15.9,20h4v-4h-4V20z"/>\n</g>\n<g id="grid">\n  <path d="M19.9,2.1H4c-1.1,0-2,0.9-2,2V20c0,1.1,0.9,2,2,2h15.9c1.1,0,2-0.9,2-2V4.1C21.9,3,21,2.1,19.9,2.1z M8,20H4v-4h4\n    C8,16.1,8,20,8,20z M8,14.1H4v-4h4V14.1z M8,8.1H4v-4h4C8,4.1,8,8.1,8,8.1z M13.9,20h-4v-4h4C13.9,16.1,13.9,20,13.9,20z\n     M13.9,14.1h-4v-4h4V14.1z M13.9,8.1h-4v-4h4C13.9,4.1,13.9,8.1,13.9,8.1z M19.9,20h-4v-4h4C19.9,16.1,19.9,20,19.9,20z M19.9,14.1\n    h-4v-4h4V14.1z M19.9,8.1h-4v-4h4C19.9,4.1,19.9,8.1,19.9,8.1z"/>\n</g>\n<g id="search">\n  <path d="M16.2,14.6h-0.9L15,14.3c1.1-1.2,1.7-2.9,1.7-4.7c0-4.1-3.2-7.3-7.3-7.3S2.1,5.5,2.1,9.6s3.2,7.3,7.3,7.3\n    c1.8,0,3.5-0.7,4.7-1.7l0.3,0.3v0.9L20,22l1.7-1.7L16.2,14.6z M9.5,14.6c-2.8,0-5.1-2.2-5.1-5.1s2.2-5.1,5.1-5.1s5.1,2.2,5.1,5.1\n    S12.2,14.6,9.5,14.6z"/>\n</g>\n<g id="zoom_in">\n  <path d="M16.2,14.6h-0.9L15,14.3c1.1-1.2,1.7-3,1.7-4.7c0-4.1-3.2-7.3-7.3-7.3S2.1,5.5,2.1,9.6s3.2,7.3,7.3,7.3\n    c1.8,0,3.5-0.7,4.7-1.7l0.3,0.3v0.9L20,22l1.7-1.7L16.2,14.6z M9.5,14.6c-2.8,0-5.1-2.2-5.1-5.1s2.2-5.1,5.1-5.1s5.1,2.2,5.1,5.1\n    S12.2,14.6,9.5,14.6z M12.2,10.1H10v2.2H8.9v-2.2H6.6V9h2.2V6.8H10V9h2.2V10.1L12.2,10.1z"/>\n</g>\n<g id="zoom_out">\n  <path d="M16.2,14.6h-0.9L15,14.3c1.1-1.2,1.7-3,1.7-4.7c0-4.1-3.2-7.3-7.3-7.3S2.1,5.5,2.1,9.6s3.2,7.3,7.3,7.3\n    c1.8,0,3.5-0.7,4.7-1.7l0.3,0.3v0.9L20,22l1.7-1.7L16.2,14.6z M9.5,14.6c-2.8,0-5.1-2.2-5.1-5.1s2.2-5.1,5.1-5.1s5.1,2.2,5.1,5.1\n    S12.2,14.6,9.5,14.6z M6.6,9h5.6v1.2H6.6V9z"/>\n</g>\n<g id="fullscreen">\n  <path d="M4.8,14.9H2V22h7.1v-2.8H4.8V14.9z M2,9.2h2.8V4.9H9V2.1H2V9.2z M19.1,19.2h-4.2V22H22v-7.1h-2.8v4.3H19.1z M14.8,2.1v2.8\n    H19v4.2h2.9v-7H14.8z"/>\n</g>\n<g id="fullscreen_off">\n  <path d="M2,17.8h4.2V22H9v-7.1H2V17.8z M6.2,6.3H2v2.8h7.1v-7H6.2V6.3z M14.8,22h2.8v-4.2h4.3V15h-7.1C14.8,15,14.8,22,14.8,22z\n     M17.7,6.3V2.1h-2.8v7.1H22V6.3H17.7z"/>\n</g>\n<g id="color_palette">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10c0.9,0,1.7-0.7,1.7-1.7c0-0.4-0.2-0.8-0.4-1.1c-0.2-0.3-0.4-0.7-0.4-1.1\n    c0-0.9,0.7-1.7,1.7-1.7h2c3.1,0,5.6-2.5,5.6-5.6C21.9,6.1,17.4,2.1,11.9,2.1z M5.9,12.1c-0.9,0-1.7-0.7-1.7-1.7S5,8.7,5.9,8.7\n    s1.7,0.7,1.7,1.7S6.8,12.1,5.9,12.1z M9.2,7.7C8.3,7.7,7.5,6.9,7.5,6s0.7-1.7,1.7-1.7S10.9,5,10.9,6S10.1,7.7,9.2,7.7z M14.7,7.7\n    C13.8,7.7,13,6.9,13,6s0.7-1.7,1.7-1.7c0.9,0,1.7,0.7,1.7,1.7S15.6,7.7,14.7,7.7z M18,12.1c-0.9,0-1.7-0.7-1.7-1.7S17,8.7,18,8.7\n    s1.7,0.7,1.7,1.7S18.9,12.1,18,12.1z"/>\n</g>\n<g id="color_picker">\n  <path d="M21.6,5L19,2.4c-0.4-0.4-1.2-0.4-1.6,0l-3.5,3.5l-2.1-2.2l-1.6,1.6l1.6,1.6L2,16.8V22h5.2l9.9-9.9l1.6,1.6l1.6-1.6L18.1,10\n    l3.5-3.5C22,6.2,22,5.4,21.6,5z M6.3,19.8l-2.2-2.2l9-8.9l2.2,2.2L6.3,19.8z"/>\n</g>\n<g id="trash">\n  <path d="M5.3,19.8c0,1.2,1,2.2,2.2,2.2h8.9c1.2,0,2.2-1,2.2-2.2V6.5H5.3V19.8z M19.7,3.2h-3.9l-1.1-1.1H9.2L8,3.2H4.2v2.2h15.5V3.2\n    L19.7,3.2z"/>\n</g>\n<g id="trash_empty">\n  <path d="M5.3,19.8c0,1.2,1,2.2,2.2,2.2h8.9c1.2,0,2.2-1,2.2-2.2V6.5H5.3V19.8z M8,11.9l1.6-1.5l2.3,2.3l2.3-2.3l1.6,1.6l-2.3,2.3\n    l2.3,2.3l-1.6,1.6l-2.3-2.4l-2.3,2.3L8,16.6l2.3-2.3L8,11.9z M15.9,3.2l-1.2-1.1H9.2L8,3.2H4.2v2.2h15.5V3.2H15.9z"/>\n</g>\n<g id="developer">\n  <path d="M21.9,9V6.9h-2v-2c0-1.2-0.9-2.1-2-2.1H4c-1.1,0-2,0.9-2,2.1v14.4c0,1.2,0.9,2.1,2,2.1h13.9c1.1,0,2-0.9,2-2.1v-2.1H22\n    v-2.1h-2V13h2v-2h-2V9H21.9z M17.9,19.2H4V4.9h13.9V19.2L17.9,19.2z M6,13.1h5v4.1H6V13.1z M11.9,6.9h4V10h-4V6.9z M6,6.9h5V12H6\n    V6.9z M11.9,11.1h4v6.1h-4V11.1z"/>\n</g>\n<g id="hub">\n  <path d="M17.5,16.5L13,12.1V8.6c1.3-0.5,2.2-1.7,2.2-3.2c0-1.8-1.5-3.3-3.3-3.3S8.6,3.6,8.6,5.4c0,1.4,0.9,2.7,2.2,3.2v3.5\n    l-4.4,4.4H2V22h5.6v-3.4l4.4-4.7l4.4,4.7V22H22v-5.6h-4.5V16.5z"/>\n</g>\n<g id="camera">\n  <path d="M9.4,10.6l4.7-8.2c-0.7-0.2-1.4-0.2-2.2-0.2C9.5,2.2,7.3,3,5.6,4.4L9.4,10.6L9.4,10.6z M21.4,9.1c-0.9-2.9-3.2-5.2-6-6.3\n    l-3.7,6.3H21.4z M21.8,10.1h-7.5l0.2,0.5l4.7,8.2c1.7-1.7,2.7-4.2,2.7-6.7C21.9,11.4,21.8,10.7,21.8,10.1z M8.5,12.1L4.6,5.3\n    C3,7.1,2,9.5,2,12.1c0,0.7,0.1,1.3,0.2,2h7.5L8.5,12.1z M2.5,15.1c0.9,2.9,3.2,5.2,6,6.3l3.7-6.3C12.2,15.1,2.5,15.1,2.5,15.1z\n     M13.7,15.1l-3.9,6.7C10.5,22,11.2,22,12,22c2.4,0,4.6-0.8,6.3-2.2l-3.7-6.3C14.6,13.5,13.7,15.1,13.7,15.1z"/>\n</g>\n<g id="camera_alt">\n  <circle cx="11.9" cy="13.1" r="3.2"/>\n  <path d="M9,3.1l-1.8,2H4c-1.1,0-2,0.9-2,2v12c0,1.1,0.9,2,2,2h15.9c1.1,0,2-0.9,2-2v-12c0-1.1-0.9-2-2-2h-3.2l-1.8-2\n    C14.9,3.1,9,3.1,9,3.1z M11.9,18c-2.7,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S14.7,18,11.9,18z"/>\n</g>\n<g id="film">\n  <path d="M13.9,5.9c0-1.1-0.9-1.9-2-1.9H11V3c0-0.5-0.4-0.9-0.9-0.9H6.2C5.7,2.1,5.3,2.5,5.3,3v0.9H4.4c-1.1,0-1.9,0.8-1.9,1.9V20\n    c0,1.1,0.8,1.9,1.9,1.9H12c1.1,0,1.9-0.8,1.9-1.9h7.6V5.9H13.9z M11.9,18.2H10v-1.9h1.9V18.2z M11.9,9.7H10V7.8h1.9V9.7z\n     M15.8,18.2h-1.9v-1.9h1.9V18.2z M15.8,9.7h-1.9V7.8h1.9V9.7z M19.5,18.2h-1.9v-1.9h1.9V18.2z M19.5,9.7h-1.9V7.8h1.9V9.7z"/>\n</g>\n<g id="visibility">\n  <path d="M12,5.3c-4.5,0-8.3,2.8-9.9,6.7c1.5,3.9,5.4,6.7,9.9,6.7s8.3-2.8,9.9-6.7C20.3,8,16.5,5.3,12,5.3z M12,16.5\n    c-2.5,0-4.5-2-4.5-4.5s2-4.5,4.5-4.5s4.5,2,4.5,4.5S14.5,16.5,12,16.5z M12,9.2c-1.5,0-2.7,1.2-2.7,2.7s1.2,2.7,2.7,2.7\n    s2.7-1.2,2.7-2.7S13.5,9.2,12,9.2z"/>\n</g>\n<g id="visibility_off">\n  <path d="M12,7.4c2.5,0,4.5,2,4.5,4.5c0,0.6-0.1,1.2-0.3,1.7l2.7,2.7c1.3-1.2,2.4-2.6,3.1-4.2c-1.6-4.1-5.4-6.8-9.9-6.8\n    c-1.2,0-2.5,0.2-3.6,0.7l1.9,1.9C10.9,7.5,11.5,7.4,12,7.4z M3.1,4.9l2,2.1l0.4,0.4C4,8.6,2.8,10.2,2.1,11.9c1.6,4,5.4,6.7,9.9,6.7\n    c1.4,0,2.7-0.2,3.9-0.7l0.4,0.4L19,21l1.2-1.2L4.1,3.8L3.1,4.9z M8,9.9l1.4,1.4c-0.1,0.2-0.1,0.4-0.1,0.6c0,1.5,1.2,2.7,2.7,2.7\n    c0.2,0,0.4,0,0.6-0.1L14,16c-0.6,0.3-1.2,0.5-2,0.5c-2.5,0-4.5-2-4.5-4.5C7.5,11.2,7.7,10.5,8,9.9z M11.9,9.2l2.8,2.8v-0.2\n    C14.7,10.4,13.4,9.2,11.9,9.2L11.9,9.2z"/>\n</g>\n<g id="layers">\n  <path d="M11.9,19.5l-7.3-5.7L3,15l8.9,7l9-7l-1.6-1.2L11.9,19.5z M11.9,17l7.3-5.7l1.7-1.2l-9-6.9l-9,7l1.6,1.2L11.9,17z"/>\n</g>\n<g id="layers_off">\n  <path d="M19.7,16l1.2-0.9l-1.4-1.4l-1.2,0.9L19.7,16z M19.3,11.3l1.7-1.2l-9-7L9,5.3l7.8,7.8C16.9,13.1,19.3,11.3,19.3,11.3z\n     M3.3,2.1L2,3.3l4.2,4.2L2.9,10l1.6,1.2l7.3,5.7l2.1-1.6l1.4,1.4L12,19.4l-7.3-5.7l-1.6,1.2l8.9,7l4.9-3.8l3.7,3.7l1.2-1.2L3.3,2.1\n    z"/>\n</g>\n<g id="hamburger">\n  <path d="M20.9,9.1H3.2c-0.6,0-1.1,0.3-1.1,0.7V14c0,0.4,0.5,0.8,1.1,0.8h17.9c0.6,0,1.1-0.3,1.1-0.7V9.9C22,9.4,21.5,9.1,20.9,9.1z\n     M20.9,2.1H3.2c-0.6,0-1.1,0.3-1.1,0.7V7c0,0.4,0.5,0.7,1.1,0.7h17.9c0.6,0,1.1-0.3,1.1-0.7V2.8C22,2.4,21.5,2.1,20.9,2.1z\n     M20.9,16.5H3.2c-0.6,0-1.1,0.3-1.1,0.7v4.2c0,0.4,0.5,0.7,1.1,0.7h17.9c0.6,0,1.1-0.3,1.1-0.7v-4.2C22,16.8,21.5,16.5,20.9,16.5z"\n    />\n</g>\n</svg>');var __decorate$y=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let Z=class IoIcon extends d{static get Style(){return"\n      --ioIcon: {\n        display: inline-block;\n        width: var(--iotLineHeight);\n        height: var(--iotLineHeight);\n        min-width: var(--iotLineHeight);\n        line-height: var(--iotLineHeight);\n        font-size: var(--iotFontSize);\n        text-align: center;\n        fill: currentcolor;\n        /* line-height: initial; */\n      }\n      :host {\n        @apply --ioIcon;\n      }\n      :host:not([icon]) {\n        display: none;\n      }\n      :host[stroke] {\n        stroke: currentcolor;\n        stroke-width: var(--iotStrokeWidth);\n      }\n      :host > svg {\n        height: 100%;\n      }\n      :host > svg > g {\n        transform-origin: 0px 0px;\n      }\n    "}iconChanged(){-1!==this.icon.search(":")?this.innerHTML=J.getIcon(this.icon):this.textNode=this.icon}};__decorate$y([Property({value:"",reflect:!0})],Z.prototype,"icon",void 0),__decorate$y([Property({value:!1,reflect:!0})],Z.prototype,"stroke",void 0),Z=__decorate$y([Register],Z);
/**@License
 * Copyright (c) 2011-2016 Heather Arthur <fayearthur@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
const ee={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(const e of Object.keys(ee)){if(!("channels"in ee[e]))throw new Error("missing channels property: "+e);if(!("labels"in ee[e]))throw new Error("missing channel labels property: "+e);if(ee[e].labels.length!==ee[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=ee[e];delete ee[e].channels,delete ee[e].labels,Object.defineProperty(ee[e],"channels",{value:t}),Object.defineProperty(ee[e],"labels",{value:n})}ee.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,o=e[2]/255,i=Math.min(t,n,o),r=Math.max(t,n,o),s=r-i;let a,l=0;r===i?l=0:t===r?l=(n-o)/s:n===r?l=2+(o-t)/s:o===r&&(l=4+(t-n)/s),l=Math.min(60*l,360),l<0&&(l+=360);const c=(i+r)/2;return a=r===i?0:c<=.5?s/(r+i):s/(2-r-i),[l,100*a,100*c]},ee.rgb.hsv=function(e){let t,n,o,i,r=0;const s=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(s,a,l),h=c-Math.min(s,a,l),diffc=function(e){return(c-e)/6/h+.5};return 0===h?(r=0,i=0):(i=h/c,t=diffc(s),n=diffc(a),o=diffc(l),s===c?r=o-n:a===c?r=1/3+t-o:l===c&&(r=2/3+n-t),r<0?r+=1:r>1&&(r-=1)),[360*r,100*i,100*c]},ee.rgb.hwb=function(e){const t=e[0],n=e[1];let o=e[2];const i=ee.rgb.hsl(e)[0],r=1/255*Math.min(t,Math.min(n,o));return o=1-1/255*Math.max(t,Math.max(n,o)),[i,100*r,100*o]},ee.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,o=e[2]/255,i=Math.min(1-t,1-n,1-o);return[100*((1-t-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-o-i)/(1-i)||0),100*i]},ee.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,o=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92;return[100*(.4124*t+.3576*n+.1805*o),100*(.2126*t+.7152*n+.0722*o),100*(.0193*t+.1192*n+.9505*o)]},ee.rgb.lab=function(e){const t=ee.rgb.xyz(e);let n=t[0],o=t[1],i=t[2];n/=95.047,o/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*o-16,500*(n-o),200*(o-i)]},ee.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,o=e[2]/100;let i,r,s;if(0===n)return s=255*o,[s,s,s];i=o<.5?o*(1+n):o+n-o*n;const a=2*o-i,l=[0,0,0];for(let e=0;e<3;e++)r=t+1/3*-(e-1),r<0&&r++,r>1&&r--,s=6*r<1?a+6*(i-a)*r:2*r<1?i:3*r<2?a+(i-a)*(2/3-r)*6:a,l[e]=255*s;return l},ee.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,o=e[2]/100,i=n;const r=Math.max(o,.01);o*=2,n*=o<=1?o:2-o,i*=r<=1?r:2-r;return[t,100*(0===o?2*i/(r+i):2*n/(o+n)),100*((o+n)/2)]},ee.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let o=e[2]/100;const i=Math.floor(t)%6,r=t-Math.floor(t),s=255*o*(1-n),a=255*o*(1-n*r),l=255*o*(1-n*(1-r));switch(o*=255,i){case 0:return[o,l,s];case 1:return[a,o,s];case 2:return[s,o,l];case 3:return[s,a,o];case 4:return[l,s,o];default:return[o,s,a]}},ee.hsv.hsl=function(e){const t=e[0],n=e[1]/100,o=e[2]/100,i=Math.max(o,.01);let r,s;s=(2-n)*o;const a=(2-n)*i;return r=n*i,r/=a<=1?a:2-a,r=r||0,s/=2,[t,100*r,100*s]},ee.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,o=e[2]/100;const i=n+o;let r;i>1&&(n/=i,o/=i);const s=Math.floor(6*t),a=1-o;r=6*t-s,1&s&&(r=1-r);const l=n+r*(a-n);let c,h,d;switch(s){default:case 6:case 0:c=a,h=l,d=n;break;case 1:c=l,h=a,d=n;break;case 2:c=n,h=a,d=l;break;case 3:c=n,h=l,d=a;break;case 4:c=l,h=n,d=a;break;case 5:c=a,h=n,d=l}return[255*c,255*h,255*d]},ee.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,o=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,o*(1-i)+i))]},ee.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,o=e[2]/100;let i,r,s;return i=3.2406*t+-1.5372*n+-.4986*o,r=-.9689*t+1.8758*n+.0415*o,s=.0557*t+-.204*n+1.057*o,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,i=Math.min(Math.max(0,i),1),r=Math.min(Math.max(0,r),1),s=Math.min(Math.max(0,s),1),[255*i,255*r,255*s]},ee.xyz.lab=function(e){let t=e[0],n=e[1],o=e[2];t/=95.047,n/=100,o/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;return[116*n-16,500*(t-n),200*(n-o)]},ee.lab.xyz=function(e){let t,n,o;n=(e[0]+16)/116,t=e[1]/500+n,o=n-e[2]/200;const i=n**3,r=t**3,s=o**3;return n=i>.008856?i:(n-16/116)/7.787,t=r>.008856?r:(t-16/116)/7.787,o=s>.008856?s:(o-16/116)/7.787,t*=95.047,n*=100,o*=108.883,[t,n,o]},ee.lab.lch=function(e){const t=e[0],n=e[1],o=e[2];let i;i=360*Math.atan2(o,n)/2/Math.PI,i<0&&(i+=360);return[t,Math.sqrt(n*n+o*o),i]},ee.lch.lab=function(e){const t=e[0],n=e[1],o=e[2]/360*2*Math.PI;return[t,n*Math.cos(o),n*Math.sin(o)]},ee.rgb.ansi16=function(e,t=null){const[n,o,i]=e;let r=null===t?ee.rgb.hsv(e)[2]:t;if(r=Math.round(r/50),0===r)return 30;let s=30+(Math.round(i/255)<<2|Math.round(o/255)<<1|Math.round(n/255));return 2===r&&(s+=60),s},ee.hsv.ansi16=function(e){return ee.rgb.ansi16(ee.hsv.rgb(e),e[2])},ee.rgb.ansi256=function(e){const t=e[0],n=e[1],o=e[2];if(t===n&&n===o)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(o/255*5)},ee.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},ee.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},ee.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},ee.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map((e=>e+e)).join(""));const o=parseInt(n,16);return[o>>16&255,o>>8&255,255&o]},ee.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,o=e[2]/255,i=Math.max(Math.max(t,n),o),r=Math.min(Math.min(t,n),o),s=i-r;let a,l;return a=s<1?r/(1-s):0,l=s<=0?0:i===t?(n-o)/s%6:i===n?2+(o-t)/s:4+(t-n)/s+4,l/=6,l%=1,[360*l,100*s,100*a]},ee.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,o=n<.5?2*t*n:2*t*(1-n);let i=0;return o<1&&(i=(n-.5*o)/(1-o)),[e[0],100*o,100*i]},ee.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,o=t*n;let i=0;return o<1&&(i=(n-o)/(1-o)),[e[0],100*o,100*i]},ee.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,o=e[2]/100;if(0===n)return[255*o,255*o,255*o];const i=[0,0,0],r=t%1*6,s=r%1,a=1-s;let l=0;switch(Math.floor(r)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-n)*o,[255*(n*i[0]+l),255*(n*i[1]+l),255*(n*i[2]+l)]},ee.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let o=0;return n>0&&(o=t/n),[e[0],100*o,100*n]},ee.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let o=0;return n>0&&n<.5?o=t/(2*n):n>=.5&&n<1&&(o=t/(2*(1-n))),[e[0],100*o,100*n]},ee.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},ee.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,o=n-t;let i=0;return o<1&&(i=(n-o)/(1-o)),[e[0],100*o,100*i]},ee.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},ee.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},ee.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},ee.gray.hsl=function(e){return[0,0,e[0]]},ee.gray.hsv=ee.gray.hsl,ee.gray.hwb=function(e){return[0,100,e[0]]},ee.gray.cmyk=function(e){return[0,0,0,e[0]]},ee.gray.lab=function(e){return[e[0],0,0]},ee.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},ee.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};var __decorate$x=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class IoColorBase extends d{init(){this.valueChanged()}valueMutated(){this.valueChanged()}rgbFromHsv(){const e=ee.hsv.rgb([360*this.hsv[0],100*this.hsv[1],100*this.hsv[2]]);this.rgba[0]=e[0]/255,this.rgba[1]=e[1]/255,this.rgba[2]=e[2]/255}rgbFromHsl(){const e=ee.hsl.rgb([360*this.hsl[0],100*this.hsl[1],100*this.hsl[2]]);this.rgba[0]=e[0]/255,this.rgba[1]=e[1]/255,this.rgba[2]=e[2]/255}rgbFromCmyk(){const e=ee.cmyk.rgb([100*this.cmyk[0],100*this.cmyk[1],100*this.cmyk[2],100*this.cmyk[3]]);this.rgba[0]=e[0]/255,this.rgba[1]=e[1]/255,this.rgba[2]=e[2]/255}valueFromRgb(){this.value.r=this.rgba[0],this.value.g=this.rgba[1],this.value.b=this.rgba[2]}valueChanged(){const e=[255*this.value.r,255*this.value.g,255*this.value.b],t=ee.rgb.hsv(e),n=ee.rgb.hsl(e),o=ee.rgb.cmyk(e);0===t[1]&&(t[0]=360*this.hsv[0]),0===t[2]&&(t[1]=100*this.hsv[1]),0===n[1]&&(n[0]=360*this.hsl[0]),0!==n[2]&&100!==n[2]||(n[0]=360*this.hsl[0],n[1]=100*this.hsl[1]),100===o[3]&&(o[0]=100*this.cmyk[0],o[1]=100*this.cmyk[1],o[2]=100*this.cmyk[2]),this.setProperties({rgba:[e[0]/255,e[1]/255,e[2]/255,this.value.a??1],hsv:[t[0]/360,t[1]/100,t[2]/100],hsl:[n[0]/360,n[1]/100,n[2]/100],cmyk:[o[0]/100,o[1]/100,o[2]/100,o[3]/100]})}}__decorate$x([Property({type:Object,init:{r:1,g:1,b:1,a:1},observe:!0})],IoColorBase.prototype,"value",void 0),__decorate$x([Property({type:Array,init:[1,1,1,1]})],IoColorBase.prototype,"rgba",void 0),__decorate$x([Property({type:Array,init:[1,1,1]})],IoColorBase.prototype,"hsv",void 0),__decorate$x([Property({type:Array,init:[1,1,1]})],IoColorBase.prototype,"hsl",void 0),__decorate$x([Property({type:Array,init:[1,1,1,1]})],IoColorBase.prototype,"cmyk",void 0);var __decorate$w=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};const clamp=(e,t,n)=>n>t?Math.min(Math.max(e,t),n):Math.min(Math.max(e,n),t);class IoSliderBase extends O{static get Style(){return"\n      :host {\n        /* display: flex; */\n        cursor: ew-resize;\n        border: var(--iotBorder);\n        border-radius: var(--iotBorderRadius);\n        border-color: var(--iotBorderColorInset);\n        min-height: var(--iotFieldHeight);\n        min-width: var(--iotFieldHeight);\n      }\n      :host:not([vertical]) {\n        width: var(--iotFieldHeight8);\n      }\n      :host[vertical] {\n        cursor: ns-resize;\n        height: var(--iotFieldHeight4);\n        min-height: var(--iotFieldHeight4);\n        flex-basis: var(--iotFieldHeight);\n        flex-grow: 0;\n      }\n    "}_startX=0;_startY=0;_active=-1;_rect=null;get _min(){return"number"==typeof this.min?[this.min,this.min]:this.min instanceof Array?[...this.min]:"object"==typeof this.min?[this.min.x,this.min.y]:[-1/0,-1/0]}get _max(){return"number"==typeof this.max?[this.max,this.max]:this.max instanceof Array?[...this.max]:"object"==typeof this.max?[this.max.x,this.max.y]:[1/0,1/0]}get _step(){return"number"==typeof this.step?[this.step,this.step]:this.step instanceof Array?[...this.step]:"object"==typeof this.step?[this.step.x,this.step.y]:[.01,.01]}get _value(){return"number"==typeof this.value?[this.value,this.value]:this.value instanceof Array?[...this.value]:"object"==typeof this.value?[this.value.x,this.value.y]:[NaN,NaN]}static get Listeners(){return{focus:"_onFocus",contextmenu:"_onContextmenu",pointerdown:"_onPointerdown",touchstart:["_onTouchstart",{passive:!1}]}}_onFocus(){this.addEventListener("blur",this._onBlur),this.addEventListener("keydown",this._onKeydown)}_onBlur(){this.removeEventListener("blur",this._onBlur),this.removeEventListener("keydown",this._onKeydown)}_onContextmenu(e){e.preventDefault()}_onTouchstart(e){this._rect=this.getBoundingClientRect(),this.addEventListener("touchmove",this._onTouchmove,{passive:!1}),this.addEventListener("touchend",this._onTouchend),this._startX=e.changedTouches[0].clientX,this._startY=e.changedTouches[0].clientY,this._active=this.noscroll?1:-1}_onTouchmove(e){const t=Math.abs(this._startX-e.changedTouches[0].clientX),n=Math.abs(this._startY-e.changedTouches[0].clientY);-1===this._active&&(this.vertical?n>5&&n>t&&(this._active=n>t&&t<5?1:0):t>5&&t>n&&(this._active=t>n&&n<5?1:0)),1===this._active&&e.cancelable&&e.preventDefault()}_onTouchend(){this.removeEventListener("touchmove",this._onTouchmove),this.removeEventListener("touchend",this._onTouchend)}_onPointerdown(e){this._rect=this.getBoundingClientRect(),this.setPointerCapture(e.pointerId),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup),this.addEventListener("pointercancel",this._onPointerup)}_onPointermove(e){"touch"!==e.pointerType&&(this._active=1),this.throttle(this._onPointermoveThrottled,e)}_onPointerup(e){this.releasePointerCapture(e.pointerId),this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),this.removeEventListener("pointercancel",this._onPointerup),this._active=-1}_getPointerCoord(e){const t=this._rect||this.getBoundingClientRect();let n=Math.max(0,Math.min(1,(e.clientX-t.x)/t.width)),o=Math.max(0,Math.min(1,1-(e.clientY-t.y)/t.height));return n=Math.pow(n,this.exponent),o=Math.pow(o,this.exponent),this.vertical?[o,n]:[n,o]}_getValueFromCoord(e){const t=[0,0],n=this._min,o=this._max;return t[0]=n[0]*(1-e[0])+o[0]*e[0],t[1]=n[1]*(1-e[1])+o[1]*e[1],t}_onPointermoveThrottled(e){if(1===this._active){document.activeElement!==this&&this.focus();const t=this._getPointerCoord(e),n=this._getValueFromCoord(t);this._inputValue(n)}}_inputValue(e){const t=this._min,n=this._max,o=this._step;if(e[0]=clamp(e[0],n[0],t[0]),e[1]=clamp(e[1],n[1],t[1]),e[0]=Math.round(e[0]/o[0])*o[0],e[1]=Math.round(e[1]/o[1])*o[1],e[0]=Number(e[0].toFixed(5)),e[1]=Number(e[1].toFixed(5)),"number"==typeof this.value)this.inputValue(e[0]);else if(this.value instanceof Array)this.value[0]=e[0],this.value[1]=e[1],this.inputValue(this.value),this.dispatchEvent("object-mutated",{object:this.value},!1,window);else if("object"==typeof this.value){const t=this.value;t.x=e[0],t.y=e[1],this.inputValue(this.value),this.dispatchEvent("object-mutated",{object:this.value},!1,window)}}_onKeydown(e){const t="number"==typeof this.value;switch(e.key){case"ArrowLeft":e.preventDefault(),e.shiftKey?t?this._setDecrease():this._setLeft():this.focusTo("left");break;case"ArrowUp":e.preventDefault(),e.shiftKey?t?this._setIncrease():this._setUp():this.focusTo("up");break;case"ArrowRight":e.preventDefault(),e.shiftKey?t?this._setIncrease():this._setRight():this.focusTo("right");break;case"ArrowDown":e.preventDefault(),e.shiftKey?t?this._setDecrease():this._setDown():this.focusTo("down")}}_setIncrease(){const e=this._value,t=this._step;e[0]=e[0]+t[0],e[1]=e[1]+t[1],this._inputValue(e)}_setDecrease(){const e=this._value,t=this._step;e[0]=e[0]-t[0],e[1]=e[1]-t[1],this._inputValue(e)}_setMin(){const e=this._min;this._inputValue(e)}_setMax(){const e=this._max;this._inputValue(e)}_setUp(){const e=this._value,t=this._step;e[0]=e[0]+t[0],this._inputValue(e)}_setDown(){const e=this._value,t=this._step;e[0]=e[0]-t[0],this._inputValue(e)}_setLeft(){const e=this._value,t=this._step;e[1]=e[1]-t[1],this._inputValue(e)}_setRight(){const e=this._value,t=this._step;e[1]=e[1]+t[1],this._inputValue(e)}init(){this.changed()}changed(){super.changed(),this.setAttribute("aria-valuemin",JSON.stringify(this.min)),this.setAttribute("aria-valuemax",JSON.stringify(this.max)),this.setAttribute("aria-valuestep",JSON.stringify(this.step));const e=this._value;"number"!=typeof e[0]||isNaN(e[0])?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid"),this.setAttribute("aria-valuenow",JSON.stringify(this.value))}}__decorate$w([Property({value:0})],IoSliderBase.prototype,"value",void 0),__decorate$w([Property(.01)],IoSliderBase.prototype,"step",void 0),__decorate$w([Property(0)],IoSliderBase.prototype,"min",void 0),__decorate$w([Property(1)],IoSliderBase.prototype,"max",void 0),__decorate$w([Property(1)],IoSliderBase.prototype,"exponent",void 0),__decorate$w([Property({value:!1,reflect:!0})],IoSliderBase.prototype,"vertical",void 0),__decorate$w([Property(!1)],IoSliderBase.prototype,"noscroll",void 0),__decorate$w([Property("slider")],IoSliderBase.prototype,"role",void 0),__decorate$w([Property("0")],IoSliderBase.prototype,"tabindex",void 0),__decorate$w([Property(!0)],IoSliderBase.prototype,"lazy",void 0);var __decorate$v=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let te=class IoSlider extends IoSliderBase{static get GlUtils(){return"\n      vec3 paintSlider(vec3 dstCol, vec2 p, vec2 size, vec3 colorStart, vec3 colorEnd) {\n        vec4 finalCol = vec4(0.0);\n\n        float valueInRange = (uValue - uMin) / (uMax - uMin);\n        valueInRange = abs(pow(valueInRange, 1./uExponent));\n\n        vec2 start = vec2(0.0, size.y * 0.0);\n        vec2 end = vec2(size.x * min(2.0, max(-1.0, (valueInRange))), 0.0);\n        start.x = min(start.x, end.x);\n\n        vec2 pStart = translate(p, start);\n        vec2 pEnd = translate(p, end);\n        vec2 pCenter = (pStart + pEnd) / 2.0;\n        float slotHalfWidth = abs(pStart.x - pEnd.x) / 2.0;\n\n        float slotThickness = iotFieldHeight * 0.125;\n\n        float stroke = iotStrokeWidth / 1.5;\n\n        float strokeShape = min(\n          rectangle(pCenter, vec2(slotHalfWidth, slotThickness + stroke + stroke)),\n          circle(pEnd, 1.5 * slotThickness + stroke + stroke)\n        );\n\n        float fillShape   = min(\n          rectangle(pCenter, vec2(slotHalfWidth, slotThickness + stroke)),\n          circle(pEnd, 1.5 * slotThickness + stroke)\n        );\n        float colorShape  = min(\n          rectangle(pCenter, vec2(slotHalfWidth, slotThickness)),\n          circle(pEnd, 1.5 * slotThickness)\n        );\n\n        float grad = (p.x - start.x) / (end.x - start.x);\n        vec3 sloiotGradient = mix(colorStart, colorEnd, saturate(grad));\n\n        finalCol = mix(iotColor, finalCol, strokeShape);\n        finalCol = mix(vec4(iotBackgroundColor.rgb, 1.0), finalCol, fillShape);\n        finalCol = mix(vec4(sloiotGradient, 1.0), finalCol, colorShape);\n\n        return compose(dstCol, finalCol);\n      }\n    "}static get Frag(){return"\n    varying vec2 vUv;\n\n    void main(void) {\n      // Dimensions\n      vec2 size = uVertical == 1 ? uSize.yx : uSize;\n      vec2 uv = uVertical == 1 ? vUv.yx : vUv;\n      vec2 position = size * (uv - vec2(0.0, 0.5));\n\n      vec3 finalCol = iotBackgroundColorField.rgb;\n\n      // Sizes\n\n      // Grid\n      float gridThickness = iotStrokeWidth;\n      float gridSize = size.x / abs((uMax - uMin) / uStep);\n      float gridOffset = mod(uMin, uStep) / (uMax - uMin) * size.x;\n      vec2 expPosition = size * vec2(pow(uv.x, uExponent), uv.y - 0.5);\n      vec2 gridPosition = translate(expPosition, gridOffset, 0.0);\n      float gridShape = grid2d(gridPosition, vec2(gridSize, size.y + gridThickness * 2.0), gridThickness);\n\n      if (gridSize > gridThickness * 2.0) {\n        vec3 gridCol = mix(iotColor.rgb, iotBackgroundColorField.rgb, 0.85);\n        finalCol = compose(finalCol, vec4(gridCol, gridShape));\n      }\n\n      // Line\n      vec3 lineCol = mix(iotColorSelected.rgb, iotBackgroundColorField.rgb, 0.75);\n      finalCol = paintHorizontalLine(finalCol, position, lineCol);\n\n      // Slider\n      finalCol = paintSlider(finalCol, position, size, iotColorSelected.rgb, iotColorLink.rgb);\n\n      gl_FragColor = vec4(finalCol, 1.0);\n    }"}};__decorate$v([Property(0)],te.prototype,"value",void 0),__decorate$v([Property(.01)],te.prototype,"step",void 0),__decorate$v([Property(0)],te.prototype,"min",void 0),__decorate$v([Property(1)],te.prototype,"max",void 0),te=__decorate$v([Register],te);var __decorate$u=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let ne=class IoSlider2d extends IoSliderBase{static get Style(){return"\n      :host {\n        cursor: crosshair;\n        border: var(--iotBorder);\n        border-radius: var(--iotBorderRadius);\n        border-color: var(--iotBorderColorInset);\n        flex-grow: 0;\n      }\n      :host:not([vertical]),\n      :host[vertical] {\n        width: var(--iotFieldHeight4);\n        height: var(--iotFieldHeight4);\n        min-width: var(--iotFieldHeight4);\n        min-height: var(--iotFieldHeight4);\n        cursor: crosshair;\n      }\n    "}static get GlUtils(){return"\n      vec3 paintKnob(vec3 dstCol, vec2 p, vec2 center, vec3 color) {\n        vec4 finalCol = vec4(0.0);\n        vec2 pCenter = translate(p, center);\n        float radius = iotFieldHeight * 0.25;\n        float strokeShape = circle(pCenter, radius + iotStrokeWidth + iotStrokeWidth);\n        float fillShape   = circle(pCenter, radius + iotStrokeWidth);\n        float colorShape  = circle(pCenter, radius);\n        finalCol = mix(iotColor, finalCol, strokeShape);\n        finalCol = mix(vec4(iotBackgroundColor.rgb, 1.0), finalCol, fillShape);\n        finalCol = mix(vec4(color, 1.0), finalCol, colorShape);\n        return compose(dstCol, finalCol);\n      }\n    "}static get Frag(){return"\n    varying vec2 vUv;\n\n    void main(void) {\n      // Dimensions\n      vec2 size = uVertical == 1 ? uSize.yx : uSize;\n      vec2 uv = uVertical == 1 ? vUv.yx : vUv;\n      vec2 position = size * (uv - vec2(0.5));\n\n      // Colors\n      vec3 finalCol = iotBackgroundColorField.rgb;\n      vec3 gridCol = mix(iotColor.rgb, iotBackgroundColorField.rgb, 0.95);\n      vec3 axisCol = mix(iotColorSelected.rgb, iotBackgroundColorField.rgb, 0.75);\n      vec3 sliderCol = iotColorLink.rgb;\n\n      // // Sizes\n      float gridThickness = iotStrokeWidth;\n      vec2  gridSize = size / abs((uMax - uMin) / uStep);\n      vec2  gridOffset = (uMax + uMin) / (uMax - uMin) * size / 2.;\n\n      vec2 offsetPosition = translate(position, -gridOffset);\n      float gridShape = grid2d(offsetPosition, gridSize, gridThickness);\n      float axisShape = lineCross2d(offsetPosition, gridThickness);\n\n      if (max(gridSize.x, gridSize.y) > gridThickness * 2.0) {\n        finalCol = compose(finalCol, vec4(gridCol, gridShape));\n        finalCol = compose(finalCol, vec4(axisCol, axisShape));\n      }\n\n      vec2 knobPos = uValue / (uMax - uMin) * size;\n      finalCol = paintKnob(finalCol, offsetPosition, knobPos, sliderCol);\n\n      gl_FragColor = vec4(finalCol, 1.0);\n    }"}};__decorate$u([Property({value:null,type:Array,init:[0,0],observe:!0})],ne.prototype,"value",void 0),__decorate$u([Property({value:null,type:Array,init:[.01,.01]})],ne.prototype,"step",void 0),__decorate$u([Property({value:null,type:Array,init:[-1,-1]})],ne.prototype,"min",void 0),__decorate$u([Property({value:null,type:Array,init:[1,1]})],ne.prototype,"max",void 0),__decorate$u([Property(!0)],ne.prototype,"noscroll",void 0),ne=__decorate$u([Register],ne);var __decorate$t=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let oe=class IoColorSlider extends IoColorBase{static get Style(){return"\n      :host {\n        display: flex;\n      }\n    "}_onValueInput(e){const t=e.detail.value;switch(this.channel){case"r":this.value.r=t;break;case"g":this.value.g=t;break;case"b":this.value.b=t;break;case"a":this.value.a=t;break;case"h":this.hsv[0]=t,this.rgbFromHsv(),this.valueFromRgb();break;case"s":this.hsv[1]=t,this.rgbFromHsv(),this.valueFromRgb();break;case"v":this.hsv[2]=t,this.rgbFromHsv(),this.valueFromRgb();break;case"l":this.hsl[2]=t,this.rgbFromHsl(),this.valueFromRgb();break;case"c":this.cmyk[0]=t,this.rgbFromCmyk(),this.valueFromRgb();break;case"m":this.cmyk[1]=t,this.rgbFromCmyk(),this.valueFromRgb();break;case"y":this.cmyk[2]=t,this.rgbFromCmyk(),this.valueFromRgb();break;case"k":this.cmyk[3]=t,this.rgbFromCmyk(),this.valueFromRgb();break;case"hs":this.hsv[0]=t[0],this.hsv[1]=t[1],this.rgbFromHsv(),this.valueFromRgb();break;case"sv":this.hsv[1]=t[0],this.hsv[2]=t[1],this.rgbFromHsv(),this.valueFromRgb();break;case"sl":this.hsl[1]=t[0],this.hsl[2]=t[1],this.rgbFromHsl(),this.valueFromRgb()}this.dispatchEvent("object-mutated",{object:this.value},!1,window),this.dispatchEvent("value-input",{property:"value",value:this.value},!1)}changed(){const e=this.channel,t=`io-color-slider-${e}`;let n=0,o=[0,0,0,0],i=0,r=1,s=1e-4;switch(this.channel){case"r":n=this.value.r,o=[...this.rgba];break;case"g":n=this.value.g,o=[...this.rgba];break;case"b":n=this.value.b,o=[...this.rgba];break;case"a":n=this.value.a||0,o=[...this.rgba];break;case"h":n=this.hsv[0],o=[...this.hsv,1];break;case"s":n=this.hsv[1],o=[...this.hsv,1];break;case"v":n=this.hsv[2],o=[...this.hsv,1];break;case"l":n=this.hsl[2],o=[...this.hsl,1];break;case"c":n=this.cmyk[0],o=[...this.cmyk];break;case"m":n=this.cmyk[1],o=[...this.cmyk];break;case"y":n=this.cmyk[2],o=[...this.cmyk];break;case"k":n=this.cmyk[3],o=[...this.cmyk];break;case"hs":n=[this.hsv[0],this.hsv[1]],o=[...this.hsv,1],i=[i,i],r=[r,r],s=[s,s];break;case"sv":n=[this.hsv[1],this.hsv[2]],o=[...this.hsv,1],i=[i,i],r=[r,r],s=[s,s];break;case"sl":n=[this.hsl[1],this.hsl[2]],o=[...this.hsl,1],i=[i,i],r=[r,r],s=[s,s]}this.template([[t,{id:e,value:n,min:i,max:r,step:s,vertical:this.vertical,color:o,"@value-input":this._onValueInput}]])}};__decorate$t([Property({type:Array,init:[0,0,0,0]})],oe.prototype,"color",void 0),__decorate$t([Property("")],oe.prototype,"channel",void 0),__decorate$t([Property({value:!1,reflect:!0})],oe.prototype,"vertical",void 0),oe=__decorate$t([Register],oe);class IoColorSliderBase extends te{static get GlUtils(){return"\n      // Note: Implement in subclass!\n      // TODO: Allow GlUtils to rewrite inherited functions!\n      // vec3 getStariotColor(vec2 uv) {}\n      // vec3 getEndColor(vec2 uv) {}\n    "}static get Frag(){return"\n    varying vec2 vUv;\n\n    void main(void) {\n      // Dimensions\n      vec2 size = uVertical == 1 ? uSize.yx : uSize;\n      vec2 uv = uVertical == 1 ? vUv.yx : vUv;\n      vec2 position = size * (uv - vec2(0.0, 0.5));\n\n      // Background\n      vec3 finalCol = iotBackgroundColorField.rgb;\n\n      // Line\n      vec3 startCol = getStariotColor(uv);\n      vec3 endCol = getEndColor(uv);\n      vec3 lineCol = mix(startCol, endCol, uv.x);\n\n      vec2 linePos = translate(size * uv, 0.0, size.y / 2.);\n      finalCol = paintHorizontalLine(finalCol, linePos, lineCol);\n\n      // Slider\n      vec3 sliderCol = hsv2rgb(uColor.rgb);\n      finalCol = paintSlider(finalCol, position, size, startCol, endCol);\n\n      gl_FragColor = vec4(finalCol, 1.0);\n    }"}}class IoColorSlider2dBase extends ne{static get GlUtils(){return"\n      // Note: Implement in subclass!\n      // TODO: Allow GlUtils to rewrite inherited functions!\n      // vec3 geiotColor(vec2 uv) {}\n    "}static get Frag(){return"\n    varying vec2 vUv;\n\n    void main(void) {\n      // Dimensions\n      vec2 size = uVertical == 1 ? uSize.yx : uSize;\n      vec2 uv = uVertical == 1 ? vUv.yx : vUv;\n      vec2 position = size * (uv - vec2(0.5));\n\n      // Colors\n      vec3 finalCol = geiotColor(uv);\n      vec3 sliderCol = geiotColor(uValue);\n\n      vec2 gridOffset = (uMax + uMin) / (uMax - uMin) * size / 2.;\n      vec2 offsetPosition = translate(position, -gridOffset);\n\n      vec2 knobPos = uValue / (uMax - uMin) * size;\n      finalCol = paintKnob(finalCol, offsetPosition, knobPos, sliderCol);\n\n      gl_FragColor = vec4(finalCol, 1.0);\n    }"}}let ie=class IoColorSliderR extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStariotColor(vec2 uv) {\n        return vec3(uv.x, uColor[1], uColor[2]);\n      }\n      vec3 getEndColor(vec2 uv) {\n        return vec3(uv.x, uColor[1], uColor[2]);\n      }\n    "}};ie=__decorate$t([Register],ie);let re=class IoColorSliderG extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStariotColor(vec2 uv) {\n        return vec3(uColor[0], uv.x, uColor[2]);\n      }\n      vec3 getEndColor(vec2 uv) {\n        return vec3(uColor[0], uv.x, uColor[2]);\n      }\n    "}};re=__decorate$t([Register],re);let se=class IoColorSliderB extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStariotColor(vec2 uv) {\n        return vec3(uColor[0], uColor[1], uv.x);\n      }\n      vec3 getEndColor(vec2 uv) {\n        return vec3(uColor[0], uColor[1], uv.x);\n      }\n    "}};se=__decorate$t([Register],se);let ae=class IoColorSliderA extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStariotColor(vec2 uv) {\n        vec2 size = uVertical == 1 ? uSize.yx : uSize;\n        vec2 position = size * (uv - vec2(0.0, 0.5));\n        return mix(vec3(0.5), vec3(1.0), checkerX(position, iotFieldHeight / 4.0));\n      }\n      vec3 getEndColor(vec2 uv) {\n        vec2 size = uVertical == 1 ? uSize.yx : uSize;\n        vec2 position = size * (uv - vec2(0.0, 0.5));\n        vec3 chkCol = mix(vec3(0.5), vec3(1.0), checkerX(position, iotFieldHeight / 4.0));\n        return mix(chkCol, uColor.rgb, uColor.a);\n      }\n    "}};ae=__decorate$t([Register],ae);let le=class IoColorSliderH extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStariotColor(vec2 uv) {\n        return hsv2rgb(vec3(uv.x, uColor[1], uColor[2]));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return hsv2rgb(vec3(uv.x, uColor[1], uColor[2]));\n      }\n    "}};le=__decorate$t([Register],le);let ce=class IoColorSliderS extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStariotColor(vec2 uv) {\n        return hsv2rgb(vec3(uColor[0], uv.x, uColor[2]));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return hsv2rgb(vec3(uColor[0], uv.x, uColor[2]));\n      }\n    "}};ce=__decorate$t([Register],ce);let he=class IoColorSliderV extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStariotColor(vec2 uv) {\n        return hsv2rgb(vec3(uColor[0], uColor[1], uv.x));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return hsv2rgb(vec3(uColor[0], uColor[1], uv.x));\n      }\n    "}};he=__decorate$t([Register],he);let de=class IoColorSliderL extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStariotColor(vec2 uv) {\n        return hsl2rgb(vec3(uColor[0], uColor[1], uv.x));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return hsl2rgb(vec3(uColor[0], uColor[1], uv.x));\n      }\n    "}};de=__decorate$t([Register],de);let pe=class IoColorSliderC extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStariotColor(vec2 uv) {\n        return cmyk2rgb(vec4(uv.x, uColor[1], uColor[2], uColor[3]));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return cmyk2rgb(vec4(uv.x, uColor[1], uColor[2], uColor[3]));\n      }\n    "}};pe=__decorate$t([Register],pe);let ue=class IoColorSliderM extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStariotColor(vec2 uv) {\n        return cmyk2rgb(vec4(uColor[0], uv.x, uColor[2], uColor[3]));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return cmyk2rgb(vec4(uColor[0], uv.x, uColor[2], uColor[3]));\n      }\n    "}};ue=__decorate$t([Register],ue);let ge=class IoColorSliderY extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStariotColor(vec2 uv) {\n        return cmyk2rgb(vec4(uColor[0], uColor[1], uv.x, uColor[3]));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return cmyk2rgb(vec4(uColor[0], uColor[1], uv.x, uColor[3]));\n      }\n    "}};ge=__decorate$t([Register],ge);let ve=class IoColorSliderK extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStariotColor(vec2 uv) {\n        return cmyk2rgb(vec4(uColor[0], uColor[1], uColor[2], uv.x));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return cmyk2rgb(vec4(uColor[0], uColor[1], uColor[2], uv.x));\n      }\n    "}};ve=__decorate$t([Register],ve);let fe=class IoColorSliderHs extends IoColorSlider2dBase{static get GlUtils(){return"\n      vec3 geiotColor(vec2 uv) {\n        return hsv2rgb(vec3(uv, uColor[2]));\n      }\n    "}};fe=__decorate$t([Register],fe);let me=class IoColorSliderSv extends IoColorSlider2dBase{static get GlUtils(){return"\n      vec3 geiotColor(vec2 uv) {\n        return hsv2rgb(vec3(uColor[0], uv));\n      }\n    "}};me=__decorate$t([Register],me);let be=class IoColorSliderSL extends IoColorSlider2dBase{static get GlUtils(){return"\n      vec3 geiotColor(vec2 uv) {\n        return hsl2rgb(vec3(uColor[0], uv));\n      }\n    "}};be=__decorate$t([Register],be);var __decorate$s=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let ye=class IoColorPanel extends IoColorBase{static get Style(){return"\n    :host {\n      display: flex;\n      /* Panel */\n      flex: 1 1 auto;\n      flex-direction: column;\n      flex-wrap: nowrap;\n      align-self: stretch;\n      align-items: stretch;\n      justify-self: stretch;\n      border-radius: var(--iotBorderRadius);\n      border: var(--iotBorder);\n      border-color: var(--iotBorderColorOutset);\n      color: var(--iotColorField);\n      background-color: var(--iotBackgroundColorDimmed);\n      padding: var(--iotSpacing);\n      /*  */\n      cursor: move;\n      align-items: stretch;\n      flex-grow: 0;\n      min-width: var(--iotLineHeight);\n      min-height: calc(var(--iotLineHeight) * 5.5);\n      flex-direction: row;\n    }\n    :host:not([expanded]) {\n      display: none;\n    }\n    :host[vertical] {\n      flex-direction: column;\n    }\n    :host > * {\n      border-radius: calc(var(--iotBorderRadius) - var(--iotBorderWidth));\n    }\n    :host > :first-child {\n      flex: 1 0 auto;\n    }\n    :host > *:not(:first-child) {\n      flex: 0 0 auto;\n    }\n    :host > *:not(:last-child) {\n      margin: 0 0 var(--iotSpacing) 0;\n    }\n    :host:not([vertical]) > * {\n      margin: 0 var(--iotSpacing) 0 0;\n    }\n    "}static get Listeners(){return{keydown:"_onKeydown"}}_onKeydown(e){"Escape"!==e.key&&"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.expanded=!1)}onValueSet(){this.dispatchEvent("value-input",{property:"value",value:this.value},!0)}changed(){this.template([["io-color-slider",{value:this.value,channel:"sv",vertical:this.vertical,"@value-input":this.onValueSet}],["io-color-slider",{value:this.value,channel:"h",vertical:!this.vertical,"@value-input":this.onValueSet}],void 0!==this.value.a?["io-color-slider",{value:this.value,channel:"a","@value-input":this.onValueSet,vertical:!this.vertical}]:null])}};__decorate$s([Property({value:!1,reflect:!0})],ye.prototype,"expanded",void 0),__decorate$s([Property({value:!1,reflect:!0})],ye.prototype,"vertical",void 0),__decorate$s([Property({value:!1,reflect:!0})],ye.prototype,"inlayer",void 0),ye=__decorate$s([Register],ye);const xe=new ye({inlayer:!0});I.appendChild(xe);var __decorate$r=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let ke=class IoColorSwatch extends IoColorBase{static get Style(){return"\n      :host {\n        display: inline-block;\n        min-width: var(--iotFieldHeight);\n        height: var(--iotFieldHeight);\n        background-color: white;\n        background-image: linear-gradient(45deg, #808080 25%, transparent 25%), linear-gradient(-45deg, #808080 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #808080 75%), linear-gradient(-45deg, transparent 75%, #808080 75%);\n        background-size: 12px 12px;\n        background-position: 0 0, 0 6px, 6px -6px, -6px 0px;\n      }\n      :host > div { \n        width: 100%;\n        height: 100%;\n      }\n    "}valueChanged(){super.valueChanged(),this.template([["div",{style:{"background-color":`rgba(${255*this.rgba[0]},${255*this.rgba[1]}, ${255*this.rgba[2]}, ${this.rgba[3]})`}}]])}};ke=__decorate$r([Register],ke);var __decorate$q=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let _e=class IoColorPicker extends d{static get Style(){return"\n      :host {\n        height: var(--iotFieldHeight);\n        border: var(--iotBorder);\n        border-radius: var(--iotBorderRadius);\n        overflow: hidden;\n      }\n    "}static get Listeners(){return{click:"_onClick",keydown:"_onKeydown"}}_onClick(e){this.toggle()}get expanded(){return xe.expanded&&xe.value===this.value}_onKeydown(e){const t=this.getBoundingClientRect(),n=xe.getBoundingClientRect();"Enter"===e.key||" "===e.key?(e.preventDefault(),this.toggle(),this.expanded&&xe.firstChild.focus()):this.expanded&&n.top>=t.bottom&&"ArrowDown"===e.key||this.expanded&&n.bottom<=t.top&&"ArrowUp"===e.key?(e.preventDefault(),xe.firstChild.focus()):(this.collapse(),super._onKeydown(e))}_onValueSet(){this.dispatchEvent("value-input",{property:"value",value:this.value},!0)}toggle(){this.expanded?this.collapse():this.expand()}expand(){xe.value=this.value,xe.expanded=!0,I.setElementPosition(xe,"down",this.getBoundingClientRect()),xe.addEventListener("value-input",this._onValueSet),xe._targetValueSetHandler=this._onValueSet}collapse(){xe.removeEventListener("value-input",xe._targetValueSetHandler),xe.expanded=!1}changed(){this.template([["io-color-swatch",{$:"swatch",value:this.value}]])}};__decorate$q([Property({value:{r:1,g:1,b:1,a:1}})],_e.prototype,"value",void 0),__decorate$q([Property("0")],_e.prototype,"tabindex",void 0),_e=__decorate$q([Register],_e);var __decorate$p=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let we=class IoColorRgba extends IoColorBase{static get Style(){return"\n      :host {\n        display: flex;\n        flex: 0 1 auto;\n        min-width: var(--iotFieldHeight4);\n        width: var(--iotFieldHeight10);\n      }\n      :host > io-number {\n        flex: 1 0 0;\n\n      }\n      :host > io-color-picker {\n        flex-shrink: 0;\n      }\n      :host > *:not(:last-child) {\n        margin-right: var(--iotSpacing);\n      }\n    "}_onNumberValueInput(e){const t=e.composedPath()[0].id,n=e.detail.value,o=e.detail.oldValue,i=this.value;i[t]=n;const r={object:this.value,property:t,value:i,oldValue:o};this.dispatchEvent("object-mutated",r,!1,window)}changed(){this.template([["io-number",{$:"r",id:"r",value:this.value.r,min:0,max:1,step:1e-4,ladder:!0,"@value-input":this._onNumberValueInput}],["io-number",{$:"g",id:"g",value:this.value.g,min:0,max:1,step:1e-4,ladder:!0,"@value-input":this._onNumberValueInput}],["io-number",{$:"b",id:"b",value:this.value.b,min:0,max:1,step:1e-4,ladder:!0,"@value-input":this._onNumberValueInput}],void 0!==this.value.a?["io-number",{$:"a",id:"a",value:this.value.a,min:0,max:1,step:1e-4,ladder:!0,"@value-input":this._onNumberValueInput}]:null,["io-color-picker",{$:"swatch",value:this.value}]])}};we=__decorate$p([Register],we);var __decorate$o=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let Ce=class IoCollapsable extends d{static get Style(){return'\n    :host {\n      display: flex;\n      flex-direction: column;\n      flex-shrink: 0;\n      align-self: stretch;\n      box-sizing: content-box;\n      align-items: stretch;\n      align-self: stretch;\n      border: var(--iotBorder);\n      border-radius: calc(var(--iotBorderRadius) - var(--iotSpacing));\n      border-color: var(--iotBorderColorOutset);\n      min-height: var(--iotFieldHeight);\n      background-color: var(--iotBackgroundColorDimmed);\n    }\n    :host > io-boolean {\n      flex: 0 0 auto;\n      padding-left: 0;\n      margin: var(--iotSpacing) var(--iotSpacing2);\n      border-radius: 0;\n      background-color: transparent;\n    }\n    :host > io-boolean:before {\n      text-align: center;\n      width: var(--iotLineHeight);\n      content: "▸"\n    }\n    :host > io-boolean[value]:before {\n      content: "▾"\n    }\n    :host > div.io-collapsable-content {\n      position: relative;\n      display: flex;\n      align-items: flex-start;\n      flex-direction: column;\n      overflow: auto;\n      background-color: var(--iotBackgroundColorStrong);\n    }\n    :host[direction=row] > div.io-collapsable-content {\n      flex-direction: row;\n    }\n    :host > div.io-collapsable-content:not(:empty) {\n      margin: var(--iotSpacing);\n      margin-top: 0;\n      padding: var(--iotSpacing);\n      border-radius: var(--iotBorderRadius);\n    }\n    '}changed(){this.template([["io-boolean",{true:this.label,false:this.label,icon:this.icon,value:this.bind("expanded")}],["div",{class:"io-collapsable-content"},this.expanded?this.elements:[]]])}};function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}__decorate$o([Property(Array)],Ce.prototype,"elements",void 0),__decorate$o([Property("")],Ce.prototype,"label",void 0),__decorate$o([Property({value:"column",reflect:!0})],Ce.prototype,"direction",void 0),__decorate$o([Property("")],Ce.prototype,"icon",void 0),__decorate$o([Property({value:!1,reflect:!0})],Ce.prototype,"expanded",void 0),__decorate$o([Property("region")],Ce.prototype,"role",void 0),Ce=__decorate$o([Register],Ce);let Se={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function changeDefaults(e){Se=e}const Me=/[&<>"']/,Re=new RegExp(Me.source,"g"),ze=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Le=new RegExp(ze.source,"g"),Ee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=e=>Ee[e];function escape$1(e,t){if(t){if(Me.test(e))return e.replace(Re,getEscapeReplacement)}else if(ze.test(e))return e.replace(Le,getEscapeReplacement);return e}const Pe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;const Oe=/(^|[^\[])\^/g;function edit(e,t){let n="string"==typeof e?e:e.source;t=t||"";const o={replace:(e,t)=>{let i="string"==typeof t?t:t.source;return i=i.replace(Oe,"$1"),n=n.replace(e,i),o},getRegex:()=>new RegExp(n,t)};return o}function cleanUrl(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}const Te={exec:()=>null};function splitCells(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let o=!1,i=t;for(;--i>=0&&"\\"===n[i];)o=!o;return o?"|":" |"})).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function rtrim(e,t,n){const o=e.length;if(0===o)return"";let i=0;for(;i<o;){const r=e.charAt(o-i-1);if(r!==t||n){if(r===t||!n)break;i++}else i++}return e.slice(0,o-i)}function outputLink(e,t,n,o){const i=t.href,r=t.title?escape$1(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){o.state.inLink=!0;const e={type:"link",raw:n,href:i,title:r,text:s,tokens:o.inlineTokens(s)};return o.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:r,text:escape$1(s)}}class _Tokenizer{options;rules;lexer;constructor(e){this.options=e||Se}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:rtrim(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function indentCodeCompensation(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const o=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=o.length?e.slice(o.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=rtrim(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:rtrim(t[0],"\n")}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=rtrim(t[0],"\n").split("\n"),n="",o="";const i=[];for(;e.length>0;){let t=!1;const r=[];let s;for(s=0;s<e.length;s++)if(/^ {0,3}>/.test(e[s]))r.push(e[s]),t=!0;else{if(t)break;r.push(e[s])}e=e.slice(s);const a=r.join("\n"),l=a.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");n=n?`${n}\n${a}`:a,o=o?`${o}\n${l}`:l;const c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,i,!0),this.lexer.state.top=c,0===e.length)break;const h=i[i.length-1];if("code"===h?.type)break;if("blockquote"===h?.type){const t=h,r=t.raw+"\n"+e.join("\n"),s=this.blockquote(r);i[i.length-1]=s,n=n.substring(0,n.length-t.raw.length)+s.raw,o=o.substring(0,o.length-t.text.length)+s.text;break}if("list"!==h?.type);else{const t=h,r=t.raw+"\n"+e.join("\n"),s=this.list(r);i[i.length-1]=s,n=n.substring(0,n.length-h.raw.length)+s.raw,o=o.substring(0,o.length-t.raw.length)+s.raw,e=r.substring(i[i.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:i,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const r=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let s=!1;for(;e;){let n=!1,o="",a="";if(!(t=r.exec(e)))break;if(this.rules.block.hr.test(e))break;o=t[0],e=e.substring(o.length);let l=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],h=!l.trim(),d=0;if(this.options.pedantic?(d=2,a=l.trimStart()):h?d=t[1].length+1:(d=t[2].search(/[^ ]/),d=d>4?1:d,a=l.slice(d),d+=t[1].length),h&&/^ *$/.test(c)&&(o+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,d-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:\`\`\`|~~~)`),r=new RegExp(`^ {0,${Math.min(3,d-1)}}#`);for(;e;){const s=e.split("\n",1)[0];if(c=s,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),i.test(c))break;if(r.test(c))break;if(t.test(c))break;if(n.test(e))break;if(c.search(/[^ ]/)>=d||!c.trim())a+="\n"+c.slice(d);else{if(h)break;if(l.search(/[^ ]/)>=4)break;if(i.test(l))break;if(r.test(l))break;if(n.test(l))break;a+="\n"+c}h||c.trim()||(h=!0),o+=s+"\n",e=e.substring(s.length+1),l=c.slice(d)}}i.loose||(s?i.loose=!0:/\n *\n *$/.test(o)&&(s=!0));let p,u=null;this.options.gfm&&(u=/^\[[ xX]\] /.exec(a),u&&(p="[ ] "!==u[0],a=a.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:o,task:!!u,checked:p,loose:!1,text:a,tokens:[]}),i.raw+=o}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(let e=0;e<i.items.length;e++)if(this.lexer.state.top=!1,i.items[e].tokens=this.lexer.blockTokens(i.items[e].text,[]),!i.loose){const t=i.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));i.loose=n}if(i.loose)for(let e=0;e<i.items.length;e++)i.items[e].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t){return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const n=splitCells(t[1]),o=t[2].replace(/^\||\| *$/g,"").split("|"),i=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],r={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===o.length){for(const e of o)/^ *-+: *$/.test(e)?r.align.push("right"):/^ *:-+: *$/.test(e)?r.align.push("center"):/^ *:-+ *$/.test(e)?r.align.push("left"):r.align.push(null);for(let e=0;e<n.length;e++)r.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:r.align[e]});for(const e of i)r.rows.push(splitCells(e,r.header.length).map(((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:r.align[t]}))));return r}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:escape$1(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=rtrim(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function findClosingBracket(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let o=0;o<e.length;o++)if("\\"===e[o])o++;else if(e[o]===t[0])n++;else if(e[o]===t[1]&&(n--,n<0))return o;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],o="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],o=e[3])}else o=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),outputLink(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:o?o.replace(this.rules.inline.anyPunctuation,"$1"):o},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return outputLink(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let o=this.rules.inline.emStrongLDelim.exec(e);if(!o)return;if(o[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(o[1]||o[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=[...o[0]].length-1;let i,r,s=n,a=0;const l="*"===o[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(o=l.exec(t));){if(i=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!i)continue;if(r=[...i].length,o[3]||o[4]){s+=r;continue}if((o[5]||o[6])&&n%3&&!((n+r)%3)){a+=r;continue}if(s-=r,s>0)continue;r=Math.min(r,r+s+a);const t=[...o[0]][0].length,l=e.slice(0,n+o.index+t+r);if(Math.min(n,r)%2){const e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),o=/^ /.test(e)&&/ $/.test(e);return n&&o&&(e=e.substring(1,e.length-1)),e=escape$1(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=escape$1(t[1]),n="mailto:"+e):(e=escape$1(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=escape$1(t[0]),n="mailto:"+e;else{let o;do{o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(o!==t[0]);e=escape$1(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:escape$1(t[0]),{type:"text",raw:t[0],text:e}}}}const Ae=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ie=/(?:[*+-]|\d{1,9}[.)])/,He=edit(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Ie).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),je=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ne=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Be=edit(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Ne).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),De=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ie).getRegex(),Fe="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$e=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Ve=edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",$e).replace("tag",Fe).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ue=edit(je).replace("hr",Ae).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fe).getRegex(),We={blockquote:edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ue).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:Be,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Ae,html:Ve,lheading:He,list:De,newline:/^(?: *(?:\n|$))+/,paragraph:Ue,table:Te,text:/^[^\n]+/},Ge=edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ae).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fe).getRegex(),qe={...We,table:Ge,paragraph:edit(je).replace("hr",Ae).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ge).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fe).getRegex()},Ye={...We,html:edit("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",$e).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Te,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(je).replace("hr",Ae).replace("heading"," *#{1,6} *[^\n]").replace("lheading",He).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ke=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Xe=/^( {2,}|\\)\n(?!\s*$)/,Qe="\\p{P}\\p{S}",Je=edit(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Qe).getRegex(),Ze=edit(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Qe).getRegex(),et=edit("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Qe).getRegex(),tt=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Qe).getRegex(),nt=edit(/\\([punct])/,"gu").replace(/punct/g,Qe).getRegex(),ot=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),it=edit($e).replace("(?:--\x3e|$)","--\x3e").getRegex(),rt=edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",it).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),st=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,at=edit(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",st).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),lt=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",st).replace("ref",Ne).getRegex(),ct=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ne).getRegex(),ht={_backpedal:Te,anyPunctuation:nt,autolink:ot,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:Xe,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Te,emStrongLDelim:Ze,emStrongRDelimAst:et,emStrongRDelimUnd:tt,escape:Ke,link:at,nolink:ct,punctuation:Je,reflink:lt,reflinkSearch:edit("reflink|nolink(?!\\()","g").replace("reflink",lt).replace("nolink",ct).getRegex(),tag:rt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Te},dt={...ht,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",st).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",st).getRegex()},pt={...ht,escape:edit(Ke).replace("])","~|])").getRegex(),url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ut={...pt,br:edit(Xe).replace("{2,}","*").getRegex(),text:edit(pt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},gt={normal:We,gfm:qe,pedantic:Ye},vt={normal:ht,gfm:pt,breaks:ut,pedantic:dt};class _Lexer{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Se,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:gt.normal,inline:vt.normal};this.options.pedantic?(t.block=gt.pedantic,t.inline=vt.pedantic):this.options.gfm&&(t.block=gt.gfm,this.options.breaks?t.inline=vt.breaks:t.inline=vt.gfm),this.tokenizer.rules=t}static get rules(){return{block:gt,inline:vt}}static lex(e,t){return new _Lexer(t).lex(e)}static lexInline(e,t){return new _Lexer(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){let o,i,r;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((n=>!!(o=n.call({lexer:this},e,t))&&(e=e.substring(o.raw.length),t.push(o),!0)))))if(o=this.tokenizer.space(e))e=e.substring(o.raw.length),1===o.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(o);else if(o=this.tokenizer.code(e))e=e.substring(o.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(o):(i.raw+="\n"+o.raw,i.text+="\n"+o.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(o=this.tokenizer.fences(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.heading(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.hr(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.blockquote(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.list(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.html(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.def(e))e=e.substring(o.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title}):(i.raw+="\n"+o.raw,i.text+="\n"+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(o=this.tokenizer.table(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.lheading(e))e=e.substring(o.raw.length),t.push(o);else{if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let o;this.options.extensions.startBlock.forEach((e=>{o=e.call({lexer:this},n),"number"==typeof o&&o>=0&&(t=Math.min(t,o))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(o=this.tokenizer.paragraph(r)))i=t[t.length-1],n&&"paragraph"===i?.type?(i.raw+="\n"+o.raw,i.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(o),n=r.length!==e.length,e=e.substring(o.raw.length);else if(o=this.tokenizer.text(e))e=e.substring(o.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+o.raw,i.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(o);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,o,i,r,s,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,r.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(s||(a=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((o=>!!(n=o.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),o=t[t.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),o=t[t.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let o;this.options.extensions.startInline.forEach((e=>{o=e.call({lexer:this},n),"number"==typeof o&&o>=0&&(t=Math.min(t,o))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(i))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),s=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class _Renderer{options;parser;constructor(e){this.options=e||Se}space(e){return""}code({text:e,lang:t,escaped:n}){const o=(t||"").match(/^\S*/)?.[0],i=e.replace(/\n$/,"")+"\n";return o?'<pre><code class="language-'+escape$1(o)+'">'+(n?i:escape$1(i,!0))+"</code></pre>\n":"<pre><code>"+(n?i:escape$1(i,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){const t=e.ordered,n=e.start;let o="";for(let t=0;t<e.items.length;t++){const n=e.items[t];o+=this.listitem(n)}const i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+o+"</"+i+">\n"}listitem(e){let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&"paragraph"===e.tokens[0].type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let o="";for(let t=0;t<e.rows.length;t++){const i=e.rows[t];n="";for(let e=0;e<i.length;e++)n+=this.tablecell(i[e]);o+=this.tablerow({text:n})}return o&&(o=`<tbody>${o}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+o+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const o=this.parser.parseInline(n),i=cleanUrl(e);if(null===i)return o;let r='<a href="'+(e=i)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+o+"</a>",r}image({href:e,title:t,text:n}){const o=cleanUrl(e);if(null===o)return n;let i=`<img src="${e=o}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class _TextRenderer{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class _Parser{options;renderer;textRenderer;constructor(e){this.options=e||Se,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _TextRenderer}static parse(e,t){return new _Parser(t).parse(e)}static parseInline(e,t){return new _Parser(t).parseInline(e)}parse(e,t=!0){let n="";for(let o=0;o<e.length;o++){const i=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=i,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}const r=i;switch(r.type){case"space":n+=this.renderer.space(r);continue;case"hr":n+=this.renderer.hr(r);continue;case"heading":n+=this.renderer.heading(r);continue;case"code":n+=this.renderer.code(r);continue;case"table":n+=this.renderer.table(r);continue;case"blockquote":n+=this.renderer.blockquote(r);continue;case"list":n+=this.renderer.list(r);continue;case"html":n+=this.renderer.html(r);continue;case"paragraph":n+=this.renderer.paragraph(r);continue;case"text":{let i=r,s=this.renderer.text(i);for(;o+1<e.length&&"text"===e[o+1].type;)i=e[++o],s+="\n"+this.renderer.text(i);n+=t?this.renderer.paragraph({type:"paragraph",raw:s,text:s,tokens:[{type:"text",raw:s,text:s}]}):s;continue}default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let o=0;o<e.length;o++){const i=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=e||"";continue}}const r=i;switch(r.type){case"escape":case"text":n+=t.text(r);break;case"html":n+=t.html(r);break;case"link":n+=t.link(r);break;case"image":n+=t.image(r);break;case"strong":n+=t.strong(r);break;case"em":n+=t.em(r);break;case"codespan":n+=t.codespan(r);break;case"br":n+=t.br(r);break;case"del":n+=t.del(r);break;default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class _Hooks{options;constructor(e){this.options=e||Se}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}class Marked{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(_Lexer.lex,_Parser.parse);parseInline=this.#e(_Lexer.lexInline,_Parser.parseInline);Parser=_Parser;Renderer=_Renderer;TextRenderer=_TextRenderer;Lexer=_Lexer;Tokenizer=_Tokenizer;Hooks=_Hooks;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const o of e)switch(n=n.concat(t.call(this,o)),o.type){case"table":{const e=o;for(const o of e.header)n=n.concat(this.walkTokens(o.tokens,t));for(const o of e.rows)for(const e of o)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=o;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=o;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((o=>{const i=e[o].flat(1/0);n=n.concat(this.walkTokens(i,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let o=e.renderer.apply(this,t);return!1===o&&(o=n.apply(this,t)),o}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new _Renderer(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const o=n;let i=e.renderer[o];const r=t[o];t[o]=(...n)=>{e.useNewRenderer||(i=this.#t(i,o,t));let s=i.apply(t,n);return!1===s&&(s=r.apply(t,n)),s||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const o=n,i=e.tokenizer[o],r=t[o];t[o]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=r.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new _Hooks;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if("options"===n)continue;const o=n,i=e.hooks[o],r=t[o];_Hooks.passThroughHooks.has(n)?t[o]=e=>{if(this.defaults.async)return Promise.resolve(i.call(t,e)).then((e=>r.call(t,e)));const n=i.call(t,e);return r.call(t,n)}:t[o]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=r.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,o=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(o.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}#t(e,t,n){switch(t){case"heading":return function(o){return o.type&&o.type===t?e.call(this,n.parser.parseInline(o.tokens),o.depth,function unescape(e){return e.replace(Pe,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}(n.parser.parseInline(o.tokens,n.parser.textRenderer))):e.apply(this,arguments)};case"code":return function(n){return n.type&&n.type===t?e.call(this,n.text,n.lang,!!n.escaped):e.apply(this,arguments)};case"table":return function(n){if(!n.type||n.type!==t)return e.apply(this,arguments);let o="",i="";for(let e=0;e<n.header.length;e++)i+=this.tablecell({text:n.header[e].text,tokens:n.header[e].tokens,header:!0,align:n.align[e]});o+=this.tablerow({text:i});let r="";for(let e=0;e<n.rows.length;e++){const t=n.rows[e];i="";for(let e=0;e<t.length;e++)i+=this.tablecell({text:t[e].text,tokens:t[e].tokens,header:!1,align:n.align[e]});r+=this.tablerow({text:i})}return e.call(this,o,r)};case"blockquote":return function(n){if(!n.type||n.type!==t)return e.apply(this,arguments);const o=this.parser.parse(n.tokens);return e.call(this,o)};case"list":return function(n){if(!n.type||n.type!==t)return e.apply(this,arguments);const o=n.ordered,i=n.start,r=n.loose;let s="";for(let e=0;e<n.items.length;e++){const t=n.items[e],o=t.checked,i=t.task;let a="";if(t.task){const e=this.checkbox({checked:!!o});r?t.tokens.length>0&&"paragraph"===t.tokens[0].type?(t.tokens[0].text=e+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=e+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",text:e+" "}):a+=e+" "}a+=this.parser.parse(t.tokens,r),s+=this.listitem({type:"list_item",raw:a,text:a,task:i,checked:!!o,loose:r,tokens:t.tokens})}return e.call(this,s,o,i)};case"html":return function(n){return n.type&&n.type===t?e.call(this,n.text,n.block):e.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(n){return n.type&&n.type===t?e.call(this,this.parser.parseInline(n.tokens)):e.apply(this,arguments)};case"escape":case"codespan":case"text":return function(n){return n.type&&n.type===t?e.call(this,n.text):e.apply(this,arguments)};case"link":return function(n){return n.type&&n.type===t?e.call(this,n.href,n.title,this.parser.parseInline(n.tokens)):e.apply(this,arguments)};case"image":return function(n){return n.type&&n.type===t?e.call(this,n.href,n.title,n.text):e.apply(this,arguments)}}return e}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return _Lexer.lex(e,t??this.defaults)}parser(e,t){return _Parser.parse(e,t??this.defaults)}#e(e,t){return(n,o)=>{const i={...o},r={...this.defaults,...i};!0===this.defaults.async&&!1===i.async&&(r.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),r.async=!0);const s=this.#n(!!r.silent,!!r.async);if(null==n)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(r.hooks&&(r.hooks.options=r),r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then((t=>e(t,r))).then((e=>r.hooks?r.hooks.processAllTokens(e):e)).then((e=>r.walkTokens?Promise.all(this.walkTokens(e,r.walkTokens)).then((()=>e)):e)).then((e=>t(e,r))).then((e=>r.hooks?r.hooks.postprocess(e):e)).catch(s);try{r.hooks&&(n=r.hooks.preprocess(n));let o=e(n,r);r.hooks&&(o=r.hooks.processAllTokens(o)),r.walkTokens&&this.walkTokens(o,r.walkTokens);let i=t(o,r);return r.hooks&&(i=r.hooks.postprocess(i)),i}catch(e){return s(e)}}}#n(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+escape$1(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}}const ft=new Marked;function marked$1(e,t){return ft.parse(e,t)}marked$1.options=marked$1.setOptions=function(e){return ft.setOptions(e),marked$1.defaults=ft.defaults,changeDefaults(marked$1.defaults),marked$1},marked$1.getDefaults=_getDefaults,marked$1.defaults=Se,marked$1.use=function(...e){return ft.use(...e),marked$1.defaults=ft.defaults,changeDefaults(marked$1.defaults),marked$1},marked$1.walkTokens=function(e,t){return ft.walkTokens(e,t)},marked$1.parseInline=ft.parseInline,marked$1.Parser=_Parser,marked$1.parser=_Parser.parse,marked$1.Renderer=_Renderer,marked$1.TextRenderer=_TextRenderer,marked$1.Lexer=_Lexer,marked$1.lexer=_Lexer.lex,marked$1.Tokenizer=_Tokenizer,marked$1.Hooks=_Hooks,marked$1.parse=marked$1,marked$1.options,marked$1.setOptions,marked$1.use,marked$1.walkTokens,marked$1.parseInline,_Parser.parse,_Lexer.lex;
/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */
const{entries:mt,setPrototypeOf:bt,isFrozen:yt,getPrototypeOf:xt,getOwnPropertyDescriptor:kt}=Object;let{freeze:_t,seal:wt,create:Ct}=Object,{apply:St,construct:Mt}="undefined"!=typeof Reflect&&Reflect;_t||(_t=function freeze(e){return e}),wt||(wt=function seal(e){return e}),St||(St=function apply(e,t,n){return e.apply(t,n)}),Mt||(Mt=function construct(e,t){return new e(...t)});const Rt=unapply(Array.prototype.forEach),zt=unapply(Array.prototype.pop),Lt=unapply(Array.prototype.push),Et=unapply(String.prototype.toLowerCase),Pt=unapply(String.prototype.toString),Ot=unapply(String.prototype.match),Tt=unapply(String.prototype.replace),At=unapply(String.prototype.indexOf),It=unapply(String.prototype.trim),Ht=unapply(Object.prototype.hasOwnProperty),jt=unapply(RegExp.prototype.test),Nt=function unconstruct(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Mt(e,n)}}(TypeError);function unapply(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return St(e,t,o)}}function addToSet(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Et;bt&&bt(e,null);let o=t.length;for(;o--;){let i=t[o];if("string"==typeof i){const e=n(i);e!==i&&(yt(t)||(t[o]=e),i=e)}e[i]=!0}return e}function cleanArray(e){for(let t=0;t<e.length;t++){Ht(e,t)||(e[t]=null)}return e}function clone(e){const t=Ct(null);for(const[n,o]of mt(e)){Ht(e,n)&&(Array.isArray(o)?t[n]=cleanArray(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=clone(o):t[n]=o)}return t}function lookupGetter(e,t){for(;null!==e;){const n=kt(e,t);if(n){if(n.get)return unapply(n.get);if("function"==typeof n.value)return unapply(n.value)}e=xt(e)}return function fallbackValue(){return null}}const Bt=_t(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Dt=_t(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ft=_t(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$t=_t(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Vt=_t(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ut=_t(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Wt=_t(["#text"]),Gt=_t(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),qt=_t(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Yt=_t(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Kt=_t(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Xt=wt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Qt=wt(/<%[\w\W]*|[\w\W]*%>/gm),Jt=wt(/\${[\w\W]*}/gm),Zt=wt(/^data-[\-\w.\u00B7-\uFFFF]/),en=wt(/^aria-[\-\w]+$/),tn=wt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nn=wt(/^(?:\w+script|data):/i),on=wt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rn=wt(/^html$/i),sn=wt(/^[a-z][.\w]*(-[.\w]+)+$/i);var an=Object.freeze({__proto__:null,MUSTACHE_EXPR:Xt,ERB_EXPR:Qt,TMPLIT_EXPR:Jt,DATA_ATTR:Zt,ARIA_ATTR:en,IS_ALLOWED_URI:tn,IS_SCRIPT_OR_DATA:nn,ATTR_WHITESPACE:on,DOCTYPE_NAME:rn,CUSTOM_ELEMENT:sn});const ln=1,cn=3,hn=7,dn=8,pn=9,un=function getGlobal(){return"undefined"==typeof window?null:window};var gn=function createDOMPurify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();const DOMPurify=e=>createDOMPurify(e);if(DOMPurify.version="3.1.6",DOMPurify.removed=[],!e||!e.document||e.document.nodeType!==pn)return DOMPurify.isSupported=!1,DOMPurify;let{document:t}=e;const n=t,o=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:r,Node:s,Element:a,NodeFilter:l,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:p}=e,u=a.prototype,g=lookupGetter(u,"cloneNode"),v=lookupGetter(u,"remove"),f=lookupGetter(u,"nextSibling"),m=lookupGetter(u,"childNodes"),b=lookupGetter(u,"parentNode");if("function"==typeof r){const e=t.createElement("template");e.content&&e.content.ownerDocument&&(t=e.content.ownerDocument)}let y,x="";const{implementation:k,createNodeIterator:_,createDocumentFragment:w,getElementsByTagName:C}=t,{importNode:S}=n;let M={};DOMPurify.isSupported="function"==typeof mt&&"function"==typeof b&&k&&void 0!==k.createHTMLDocument;const{MUSTACHE_EXPR:R,ERB_EXPR:z,TMPLIT_EXPR:L,DATA_ATTR:E,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:T,CUSTOM_ELEMENT:A}=an;let{IS_ALLOWED_URI:I}=an,H=null;const j=addToSet({},[...Bt,...Dt,...Ft,...Vt,...Wt]);let N=null;const B=addToSet({},[...Gt,...qt,...Yt,...Kt]);let D=Object.seal(Ct(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),F=null,$=null,V=!0,U=!0,W=!1,G=!0,q=!1,Y=!0,K=!1,X=!1,Q=!1,J=!1,Z=!1,ee=!1,te=!0,ne=!1,oe=!0,ie=!1,re={},se=null;const ae=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let le=null;const ce=addToSet({},["audio","video","img","source","image","track"]);let he=null;const de=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",ue="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let ve=ge,fe=!1,me=null;const be=addToSet({},[pe,ue,ge],Pt);let ye=null;const xe=["application/xhtml+xml","text/html"];let ke=null,_e=null;const we=t.createElement("form"),Ce=function isRegexOrFunction(e){return e instanceof RegExp||e instanceof Function},Se=function _parseConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!_e||_e!==e){if(e&&"object"==typeof e||(e={}),e=clone(e),ye=-1===xe.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,ke="application/xhtml+xml"===ye?Pt:Et,H=Ht(e,"ALLOWED_TAGS")?addToSet({},e.ALLOWED_TAGS,ke):j,N=Ht(e,"ALLOWED_ATTR")?addToSet({},e.ALLOWED_ATTR,ke):B,me=Ht(e,"ALLOWED_NAMESPACES")?addToSet({},e.ALLOWED_NAMESPACES,Pt):be,he=Ht(e,"ADD_URI_SAFE_ATTR")?addToSet(clone(de),e.ADD_URI_SAFE_ATTR,ke):de,le=Ht(e,"ADD_DATA_URI_TAGS")?addToSet(clone(ce),e.ADD_DATA_URI_TAGS,ke):ce,se=Ht(e,"FORBID_CONTENTS")?addToSet({},e.FORBID_CONTENTS,ke):ae,F=Ht(e,"FORBID_TAGS")?addToSet({},e.FORBID_TAGS,ke):{},$=Ht(e,"FORBID_ATTR")?addToSet({},e.FORBID_ATTR,ke):{},re=!!Ht(e,"USE_PROFILES")&&e.USE_PROFILES,V=!1!==e.ALLOW_ARIA_ATTR,U=!1!==e.ALLOW_DATA_ATTR,W=e.ALLOW_UNKNOWN_PROTOCOLS||!1,G=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,q=e.SAFE_FOR_TEMPLATES||!1,Y=!1!==e.SAFE_FOR_XML,K=e.WHOLE_DOCUMENT||!1,J=e.RETURN_DOM||!1,Z=e.RETURN_DOM_FRAGMENT||!1,ee=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,te=!1!==e.SANITIZE_DOM,ne=e.SANITIZE_NAMED_PROPS||!1,oe=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,I=e.ALLOWED_URI_REGEXP||tn,ve=e.NAMESPACE||ge,D=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(D.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(D.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(D.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(U=!1),Z&&(J=!0),re&&(H=addToSet({},Wt),N=[],!0===re.html&&(addToSet(H,Bt),addToSet(N,Gt)),!0===re.svg&&(addToSet(H,Dt),addToSet(N,qt),addToSet(N,Kt)),!0===re.svgFilters&&(addToSet(H,Ft),addToSet(N,qt),addToSet(N,Kt)),!0===re.mathMl&&(addToSet(H,Vt),addToSet(N,Yt),addToSet(N,Kt))),e.ADD_TAGS&&(H===j&&(H=clone(H)),addToSet(H,e.ADD_TAGS,ke)),e.ADD_ATTR&&(N===B&&(N=clone(N)),addToSet(N,e.ADD_ATTR,ke)),e.ADD_URI_SAFE_ATTR&&addToSet(he,e.ADD_URI_SAFE_ATTR,ke),e.FORBID_CONTENTS&&(se===ae&&(se=clone(se)),addToSet(se,e.FORBID_CONTENTS,ke)),oe&&(H["#text"]=!0),K&&addToSet(H,["html","head","body"]),H.table&&(addToSet(H,["tbody"]),delete F.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Nt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Nt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=e.TRUSTED_TYPES_POLICY,x=y.createHTML("")}else void 0===y&&(y=function _createTrustedTypesPolicy(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(p,o)),null!==y&&"string"==typeof x&&(x=y.createHTML(""));_t&&_t(e),_e=e}},Me=addToSet({},["mi","mo","mn","ms","mtext"]),Re=addToSet({},["foreignobject","annotation-xml"]),ze=addToSet({},["title","style","font","a","script"]),Le=addToSet({},[...Dt,...Ft,...$t]),Ee=addToSet({},[...Vt,...Ut]),Pe=function _forceRemove(e){Lt(DOMPurify.removed,{element:e});try{b(e).removeChild(e)}catch(t){v(e)}},Oe=function _removeAttribute(e,t){try{Lt(DOMPurify.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Lt(DOMPurify.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!N[e])if(J||Z)try{Pe(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Te=function _initDocument(e){let n=null,o=null;if(Q)e="<remove></remove>"+e;else{const t=Ot(e,/^[\r\n\t ]+/);o=t&&t[0]}"application/xhtml+xml"===ye&&ve===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=y?y.createHTML(e):e;if(ve===ge)try{n=(new d).parseFromString(i,ye)}catch(e){}if(!n||!n.documentElement){n=k.createDocument(ve,"template",null);try{n.documentElement.innerHTML=fe?x:i}catch(e){}}const r=n.body||n.documentElement;return e&&o&&r.insertBefore(t.createTextNode(o),r.childNodes[0]||null),ve===ge?C.call(n,K?"html":"body")[0]:K?n.documentElement:r},Ae=function _createNodeIterator(e){return _.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},Ie=function _isClobbered(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof c)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},He=function _isNode(e){return"function"==typeof s&&e instanceof s},je=function _executeHook(e,t,n){M[e]&&Rt(M[e],(e=>{e.call(DOMPurify,t,n,_e)}))},Ne=function _sanitizeElements(e){let t=null;if(je("beforeSanitizeElements",e,null),Ie(e))return Pe(e),!0;const n=ke(e.nodeName);if(je("uponSanitizeElement",e,{tagName:n,allowedTags:H}),e.hasChildNodes()&&!He(e.firstElementChild)&&jt(/<[/\w]/g,e.innerHTML)&&jt(/<[/\w]/g,e.textContent))return Pe(e),!0;if(e.nodeType===hn)return Pe(e),!0;if(Y&&e.nodeType===dn&&jt(/<[/\w]/g,e.data))return Pe(e),!0;if(!H[n]||F[n]){if(!F[n]&&De(n)){if(D.tagNameCheck instanceof RegExp&&jt(D.tagNameCheck,n))return!1;if(D.tagNameCheck instanceof Function&&D.tagNameCheck(n))return!1}if(oe&&!se[n]){const t=b(e)||e.parentNode,n=m(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const i=g(n[o],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,f(e))}}}return Pe(e),!0}return e instanceof a&&!function _checkValidNamespace(e){let t=b(e);t&&t.tagName||(t={namespaceURI:ve,tagName:"template"});const n=Et(e.tagName),o=Et(t.tagName);return!!me[e.namespaceURI]&&(e.namespaceURI===ue?t.namespaceURI===ge?"svg"===n:t.namespaceURI===pe?"svg"===n&&("annotation-xml"===o||Me[o]):Boolean(Le[n]):e.namespaceURI===pe?t.namespaceURI===ge?"math"===n:t.namespaceURI===ue?"math"===n&&Re[o]:Boolean(Ee[n]):e.namespaceURI===ge?!(t.namespaceURI===ue&&!Re[o])&&!(t.namespaceURI===pe&&!Me[o])&&!Ee[n]&&(ze[n]||!Le[n]):!("application/xhtml+xml"!==ye||!me[e.namespaceURI]))}(e)?(Pe(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!jt(/<\/no(script|embed|frames)/i,e.innerHTML)?(q&&e.nodeType===cn&&(t=e.textContent,Rt([R,z,L],(e=>{t=Tt(t,e," ")})),e.textContent!==t&&(Lt(DOMPurify.removed,{element:e.cloneNode()}),e.textContent=t)),je("afterSanitizeElements",e,null),!1):(Pe(e),!0)},Be=function _isValidAttribute(e,n,o){if(te&&("id"===n||"name"===n)&&(o in t||o in we))return!1;if(U&&!$[n]&&jt(E,n));else if(V&&jt(P,n));else if(!N[n]||$[n]){if(!(De(e)&&(D.tagNameCheck instanceof RegExp&&jt(D.tagNameCheck,e)||D.tagNameCheck instanceof Function&&D.tagNameCheck(e))&&(D.attributeNameCheck instanceof RegExp&&jt(D.attributeNameCheck,n)||D.attributeNameCheck instanceof Function&&D.attributeNameCheck(n))||"is"===n&&D.allowCustomizedBuiltInElements&&(D.tagNameCheck instanceof RegExp&&jt(D.tagNameCheck,o)||D.tagNameCheck instanceof Function&&D.tagNameCheck(o))))return!1}else if(he[n]);else if(jt(I,Tt(o,T,"")));else if("src"!==n&&"xlink:href"!==n&&"href"!==n||"script"===e||0!==At(o,"data:")||!le[e]){if(W&&!jt(O,Tt(o,T,"")));else if(o)return!1}else;return!0},De=function _isBasicCustomElement(e){return"annotation-xml"!==e&&Ot(e,A)},Fe=function _sanitizeAttributes(e){je("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:N};let o=t.length;for(;o--;){const i=t[o],{name:r,namespaceURI:s,value:a}=i,l=ke(r);let c="value"===r?a:It(a);if(n.attrName=l,n.attrValue=c,n.keepAttr=!0,n.forceKeepAttr=void 0,je("uponSanitizeAttribute",e,n),c=n.attrValue,Y&&jt(/((--!?|])>)|<\/(style|title)/i,c)){Oe(r,e);continue}if(n.forceKeepAttr)continue;if(Oe(r,e),!n.keepAttr)continue;if(!G&&jt(/\/>/i,c)){Oe(r,e);continue}q&&Rt([R,z,L],(e=>{c=Tt(c,e," ")}));const h=ke(e.nodeName);if(Be(h,l,c)){if(!ne||"id"!==l&&"name"!==l||(Oe(r,e),c="user-content-"+c),y&&"object"==typeof p&&"function"==typeof p.getAttributeType)if(s);else switch(p.getAttributeType(h,l)){case"TrustedHTML":c=y.createHTML(c);break;case"TrustedScriptURL":c=y.createScriptURL(c)}try{s?e.setAttributeNS(s,r,c):e.setAttribute(r,c),Ie(e)?Pe(e):zt(DOMPurify.removed)}catch(e){}}}je("afterSanitizeAttributes",e,null)},$e=function _sanitizeShadowDOM(e){let t=null;const n=Ae(e);for(je("beforeSanitizeShadowDOM",e,null);t=n.nextNode();)je("uponSanitizeShadowNode",t,null),Ne(t)||(t.content instanceof i&&_sanitizeShadowDOM(t.content),Fe(t));je("afterSanitizeShadowDOM",e,null)};return DOMPurify.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,r=null,a=null,l=null;if(fe=!e,fe&&(e="\x3c!--\x3e"),"string"!=typeof e&&!He(e)){if("function"!=typeof e.toString)throw Nt("toString is not a function");if("string"!=typeof(e=e.toString()))throw Nt("dirty is not a string, aborting")}if(!DOMPurify.isSupported)return e;if(X||Se(t),DOMPurify.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){const t=ke(e.nodeName);if(!H[t]||F[t])throw Nt("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof s)o=Te("\x3c!----\x3e"),r=o.ownerDocument.importNode(e,!0),r.nodeType===ln&&"BODY"===r.nodeName||"HTML"===r.nodeName?o=r:o.appendChild(r);else{if(!J&&!q&&!K&&-1===e.indexOf("<"))return y&&ee?y.createHTML(e):e;if(o=Te(e),!o)return J?null:ee?x:""}o&&Q&&Pe(o.firstChild);const c=Ae(ie?e:o);for(;a=c.nextNode();)Ne(a)||(a.content instanceof i&&$e(a.content),Fe(a));if(ie)return e;if(J){if(Z)for(l=w.call(o.ownerDocument);o.firstChild;)l.appendChild(o.firstChild);else l=o;return(N.shadowroot||N.shadowrootmode)&&(l=S.call(n,l,!0)),l}let h=K?o.outerHTML:o.innerHTML;return K&&H["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&jt(rn,o.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+h),q&&Rt([R,z,L],(e=>{h=Tt(h,e," ")})),y&&ee?y.createHTML(h):h},DOMPurify.setConfig=function(){Se(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),X=!0},DOMPurify.clearConfig=function(){_e=null,X=!1},DOMPurify.isValidAttribute=function(e,t,n){_e||Se({});const o=ke(e),i=ke(t);return Be(o,i,n)},DOMPurify.addHook=function(e,t){"function"==typeof t&&(M[e]=M[e]||[],Lt(M[e],t))},DOMPurify.removeHook=function(e){if(M[e])return zt(M[e])},DOMPurify.removeHooks=function(e){M[e]&&(M[e]=[])},DOMPurify.removeAllHooks=function(){M={}},DOMPurify}(),__decorate$n=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};const vn=new Marked;let fn=class IoMdView extends d{static get Style(){return"\n      :host {\n        display: flex;\n        flex-direction: column;\n        align-self: stretch;\n        justify-self: stretch;\n        flex: 1 1 auto;\n        overflow-x: hidden;\n        overflow-y: auto;\n        -webkit-overflow-scrolling: touch;\n        -webkit-tap-highlight-color: transparent;\n        padding: 0 var(--iotLineHeight);\n        padding-bottom: var(--iotLineHeight);\n        color: var(--iotColor);\n        background-color: var(--iotBackgroundColor);\n      }\n      :host p {\n        line-height: 1.45em;\n        margin: 0.35em 0;\n      }\n      :host a {\n        text-decoration: none;\n        color: var(--iotColorLink);\n      }\n      :host h1 {\n        padding: 0.7em 0;\n        margin: 0;\n        border-bottom: var(--iotBorder);\n        color: var(--iotColorStrong);\n      }\n      :host h2 {\n        padding: 0.6em 0;\n        margin: 0;\n        color: var(--iotColorLink);\n        color: var(--iotColorDimmed);\n      }\n      :host h3 {\n        padding: 0.5em 0;\n        margin: 0;\n        color: var(--iotColorDimmed);\n      }\n      :host h4 {\n        padding: 0.4em 0;\n        margin: 0;\n        color: var(--iotColorDimmed);\n      }\n      :host code {\n        background-color: var(--iotBackgroundColorFaint);\n      }\n      :host strong code {}\n      :host pre > code {\n        line-height: 1.3em;\n      }\n      \n      :host code[class] {\n        background-color: var(--iotBackgroundColorDimmed);\n        padding: var(--iotSpacing4);\n        display: block;\n        overflow-x: auto;\n        font-size: var(--io-code-size);\n      }\n      :host blockquote code {\n        background-color: transparent;\n      }\n      :host blockquote {\n        font-size: 0.85em;\n        opacity: 0.75;\n        margin: var(--iotLineHeight) 0;\n        padding: var(--iotSpacing4) var(--iotLineHeight);\n        background-color: var(--iotBackgroundColorDimmed);\n        color: var(--iotColorDimmed);\n        border-left: var(--iotBorder);\n        border-left-width: var(--iotSpacing2);\n      }\n      :host blockquote strong {\n        color: var(--iotColorStrong);\n      }\n      :host table  {\n        width: 100% !important;\n        border: var(--iotBorder);\n        border-collapse: collapse;\n        table-layout: auto;\n      }\n      :host table th {\n        background-color: var(--iotBackgroundColorDimmed);\n        color: var(--iotColorStrong);\n        font-weight: bold;\n      }\n      :host table td,\n      :host table tr,\n      :host table th {\n        border: var(--iotBorder);\n        padding: var(--iotSpacing) var(--iotSpacing2);\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n        width: auto;\n      }\n      :host .videocontainer {\n          width: 100%;\n          height: 0;\n          position: relative;\n          padding-bottom: 56.25%;\n      }\n      :host .videocontainer > iframe {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n      }\n      @keyframes spinner {\n        to {transform: rotate(360deg);}\n      }\n      :host[loading]:after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: 40px;\n        height: 40px;\n        margin-top: -20px;\n        margin-left: -20px;\n        border-radius: 50%;\n        border: var(--iotBorder);\n        border-top-color: #000;\n        animation: spinner .6s linear infinite;\n      }\n    "}_strip(e){for(let t=0;t<this.strip.length;t++)e=e.replace(new RegExp(this.strip[t],"g"),"");return e}_parseMarkdown(e){const t=vn.parse(e);this.loading=!1,this.sanitize?this.innerHTML=this._strip(gn.sanitize(t)):this.innerHTML=this._strip(t)}onResized(){let e=this.getBoundingClientRect().width;e=Math.min(Math.max((e-30)/45,11),14),this.style.setProperty("--io-code-size",e+"px")}srcChanged(){this.loading=!0,this.innerHTML="",fetch(this.src).then((e=>e.text())).then((e=>{this._parseMarkdown(e)}))}changed(){}};__decorate$n([Property("document")],fn.prototype,"role",void 0),__decorate$n([Property({value:"",reflect:!0})],fn.prototype,"src",void 0),__decorate$n([Property({type:Array})],fn.prototype,"strip",void 0),__decorate$n([Property({value:!1,reflect:!0})],fn.prototype,"loading",void 0),__decorate$n([Property(!0)],fn.prototype,"sanitize",void 0),fn=__decorate$n([Register],fn);var __decorate$m=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};const mn=document.createElement("div"),bn={};let yn=class IoSelector extends d{static get Style(){return"\n      :host {\n        display: flex;\n        flex-direction: column;\n        position: relative;\n        overflow-y: auto !important;\n        flex: 1 1 auto;\n        justify-content: stretch;\n      }\n      @keyframes io-loading-spinner {\n        to {\n          transform: rotate(360deg);\n        }\n      }\n      :host[loading]:after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: var(--iotFieldHeight2);\n        height: var(--iotFieldHeight2);\n        margin-top: calc(-1 * var(--iotFieldHeight));\n        margin-left: calc(-1 * var(--iotFieldHeight));\n        border-radius: 50%;\n        border: var(--iotBorder);\n        border-color: var(--iotBorderColorDark);\n        border-top-color: var(--iotBorderColorFocus);\n        animation: io-loading-spinner .6s linear infinite;\n      }\n    "}_selected;init(){this.optionsMutated()}optionsMutated(){const e="first"===this.select?this.options.first:this.options.last;e!==this._selected&&(this._selected=e,this.renderSelected()),this.throttle(this.onLoadPrecache,void 0,1e3)}importModule(e){const t=new URL(e,String(window.location)).href;return new Promise((n=>{!e||bn[t]?n(t):import(t).then((()=>{bn[t]=!0,n(t)}))}))}renderSelected(){const e=this._selected;if("string"==typeof e)if(e){if(this.childNodes[0]?.id!==e){let t=this.elements.find((t=>t[1].id===e));if(!t){const n=`Could not find element with id: ${e}!`;console.warn(`IoSelector: ${n}!`),t=["span",n]}const n="object"!=typeof t[1]?{}:t[1],o=!0===n.cache,i=!1===n.cache,r=n.import;delete n.import;const s=!i&&(this.cache||o);if(s&&this._caches[e]){const t=this._caches[e];this._caches[e].parentElement!==this&&(this.firstChild&&this.removeChild(this.firstChild),this.appendChild(t),t.removeAttribute("className"),t._isIoElement?t.applyProperties(n):applyNativeElementProps(t,n),this.loading=!1)}else r?(this.loading=!0,this.importModule(r).then((()=>{this.loading&&(this.template([t],this,s),this._caches[e]=this.childNodes[0]),this.loading=!1}))):(this.template([t],this,s),this._caches[e]=this.childNodes[0],this.loading=!1)}}else this.template([])}onLoadPrecache(){if(this.precache)for(let e=0;e<this.elements.length;e++){const t=this.elements[e],n="object"!=typeof t[1]?{}:t[1];if(!n.import&&n.id&&void 0===this._caches[n.id])return this.template([t],mn,!0),this._caches[n.id]=mn.childNodes[0],mn.removeChild(mn.childNodes[0]),void this.throttle(this.onLoadPrecache,void 0,1e3)}}dispose(){for(const e in this._caches)disposeElementDeep(this._caches[e]);super.dispose()}};__decorate$m([Property({type:H,observe:!0})],yn.prototype,"options",void 0),__decorate$m([Property("first")],yn.prototype,"select",void 0),__decorate$m([Property(Array)],yn.prototype,"elements",void 0),__decorate$m([Property({value:!1,reactive:!1})],yn.prototype,"cache",void 0),__decorate$m([Property({value:!1,reactive:!1})],yn.prototype,"precache",void 0),__decorate$m([Property({value:!1,reflect:!0,reactive:!1})],yn.prototype,"loading",void 0),__decorate$m([Property({type:Object,reactive:!1})],yn.prototype,"_caches",void 0),yn=__decorate$m([Register],yn);var __decorate$l=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let xn=class IoScroller extends d{static get Style(){return"\n      :host {\n        display: flex;\n        flex-direction: column;\n        flex: 1 1 auto;\n        position: relative;\n        overflow-y: auto;\n        max-width: 100%;\n        max-height: 100%;\n        scrollbar-gutter: stable;\n      }\n      :host > * {\n        overflow: unset;\n      }\n    "}init(){this._observer=new MutationObserver(this._domMutated),this._observer.observe(this,{attributes:!1,childList:!0,subtree:!0})}connectedCallback(){super.connectedCallback(),this.optionsMutated()}_domMutated(){this.throttle(this._scrollToSelected)}optionsMutated(){this.throttle(this._scrollToSelected)}_scrollToSelected(){if(this.scrollHeight<=this.clientHeight)return;const e=this.options.scroll;if(e&&"string"==typeof e){const t=this.querySelector("#"+e);t?this.scrollTo({top:t.offsetTop,behavior:"auto"}):this.scrollTo(0,0)}}dispose(){super.dispose(),this._observer.disconnect()}};__decorate$l([Property({type:H,observe:!0})],xn.prototype,"options",void 0),xn=__decorate$l([Register],xn);var __decorate$k=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class IoNavigatorBase extends d{static get Style(){return"\n      :host {\n        display: flex;\n        flex-direction: column;\n        overflow-y: auto !important;\n        flex: 1 1 auto;\n      }\n      :host[menu=left],\n      :host[menu=right] {\n        flex-direction: row;\n      }\n      :host > io-menu-tree,\n      :host > io-menu-options {\n        align-self: stretch;\n        border-radius: 0;\n        /* border-color: var(--iotBorderColorLight); */\n      }\n      :host[collapsed] > io-menu-options {\n        /* min-height: calc(var(--iotFieldHeight) + 1em); */\n        /* padding: calc(var(--iotSpacing) + 0.5em) !important; */\n      }\n      :host[collapsed] > io-menu-options > io-menu-item.hamburger {\n        /* top: 0; */\n        /* padding: calc(var(--iotSpacing) + 0.5em); */\n        /* padding-right: calc(var(--iotSpacing2) + 0.5em); */\n        /* min-height: calc(var(--iotFieldHeight) + 1em); */\n        /* background-color: transparent; */\n      }\n      :host > io-menu-options {\n        z-index: 1;\n        flex: 0 0 auto;\n        border: none;\n        min-height: var(--iotFieldHeight) !important;\n      }\n      :host > io-menu-tree {\n        z-index: 1;\n        flex: 0 0 auto;\n        min-width: 10em;\n        overflow-y: auto;\n        padding: var(--iotBorderWidth) 0;\n      }\n      :host[menu=left] > io-menu-tree {\n        border-width: 0 var(--iotBorderWidth) 0 0;\n      }\n      :host[menu=left] > io-menu-tree {\n        border-width: 0 var(--iotBorderWidth) 0 0;\n      }\n      :host > io-menu-item.hamburger {\n        flex: 0 0 auto;\n        border-radius: 0;\n        padding: calc(var(--iotSpacing) + 0.5em);\n        height: 100%;\n        background-color: var(--iotBackgroundColorDimmed);\n        border-color: transparent !important;\n      }\n      :host > io-menu-item.hamburger > .hasmore {\n        display: none;\n      }\n      :host[menu=top] > io-menu-options {\n        /* padding: 0 var(--iotSpacing); */\n        /* border-width: 0 0 var(--iotBorderWidth) 0; */\n      }\n      :host[menu=bottom] > io-menu-options {\n        /* padding: 0 var(--iotSpacing); */\n        /* border-width: var(--iotBorderWidth) 0 0 0; */\n      }\n      :host > io-menu-options > io-menu-item {\n        /* border-radius: 0; */\n      }\n    "}init(){this.throttle(this._computeCollapsed),this.changed()}onResized(){this.throttle(this._computeCollapsed)}_computeCollapsed(){this.collapsed=this.offsetWidth<this.collapseWidth}getSlotted(){return null}changed(){const e={options:this.options,slotted:this.slotted,depth:this.depth},t=["io-menu-item",{depth:this.depth,role:"navigation",class:"hamburger",direction:"left"===this.menu?"right":"left",item:new j({label:"",icon:"icons:hamburger",options:this.options})}];"top"===this.menu?this.template([["io-menu-options",{horizontal:!0,noPartialCollapse:this.collapsed,...e}],this.getSlotted()]):"left"===this.menu?this.template([this.collapsed?t:["io-menu-tree",{...e}],this.getSlotted()]):"bottom"===this.menu?this.template([this.getSlotted(),["io-menu-options",{horizontal:!0,noPartialCollapse:this.collapsed,direction:"up",...e}]]):"right"===this.menu&&this.template([this.getSlotted(),this.collapsed?t:["io-menu-tree",{...e}]])}}__decorate$k([Property(Array)],IoNavigatorBase.prototype,"slotted",void 0),__decorate$k([Property(Array)],IoNavigatorBase.prototype,"elements",void 0),__decorate$k([Property({type:H,observe:!0})],IoNavigatorBase.prototype,"options",void 0),__decorate$k([Property({value:"left",reflect:!0})],IoNavigatorBase.prototype,"menu",void 0),__decorate$k([Property(1/0)],IoNavigatorBase.prototype,"depth",void 0),__decorate$k([Property({value:!1,reflect:!0})],IoNavigatorBase.prototype,"collapsed",void 0),__decorate$k([Property(580)],IoNavigatorBase.prototype,"collapseWidth",void 0);var __decorate$j=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let kn=class IoNavigatorSelector extends IoNavigatorBase{getSlotted(){return["io-selector",{options:this.options,cache:this.cache,precache:this.precache,select:this.select,elements:this.elements}]}};__decorate$j([Property("first")],kn.prototype,"select",void 0),__decorate$j([Property(!1)],kn.prototype,"cache",void 0),__decorate$j([Property(!1)],kn.prototype,"precache",void 0),kn=__decorate$j([Register],kn);var __decorate$i=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let _n=class IoNavigatorCombined extends kn{static get Style(){return"\n      :host > io-scroller > io-selector {\n        overflow: unset !important;\n      }\n    "}getSlotted(){return["io-scroller",{options:this.options},[["io-selector",{options:this.options,cache:this.cache,precache:this.precache,select:this.select,elements:this.elements}]]]}};_n=__decorate$i([Register],_n);var __decorate$h=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let wn=class IoNavigatorMdView extends IoNavigatorBase{getSlotted(){const e=this.options.last;return["io-scroller",{options:this.options},[["io-md-view",{src:e,strip:this.strip,sanitize:this.sanitize}]]]}};__decorate$h([Property({type:Array})],wn.prototype,"strip",void 0),__decorate$h([Property(!0)],wn.prototype,"sanitize",void 0),wn=__decorate$h([Register],wn);var __decorate$g=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let Cn=class IoNavigatorScroller extends IoNavigatorBase{getSlotted(){return["io-scroller",{options:this.options},this.elements]}};Cn=__decorate$g([Register],Cn);var __decorate$f=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let Sn=class IoVector extends d{static get Style(){return"\n      :host {\n        display: flex;\n        flex: 0 1 auto;\n        min-width: var(--iotFieldHeight4);\n        width: var(--iotFieldHeight8);\n      }\n      :host > io-number {\n        flex: 1 1 100%;\n      }\n      :host > *:not(:last-child) {\n        margin-right: var(--iotSpacing);\n      }\n      :host > io-boolicon {\n        flex-shrink: 0;\n        padding: var(--iotSpacing);\n      }\n    "}_ratios={};_onNumberPointerDown(e){const t=e.composedPath()[0].id;if(this._ratios={},this.linked&&0!==this.value[t])for(const e of this.keys)this._ratios[e]=this.value[e]/this.value[t]}_onNumberValueInput(e){const t=e.composedPath()[0].id,n=e.detail.value,o=e.detail.oldValue,i=this.value;if(i[t]=n,this.linked)for(const e of this.keys)e!==t&&this._ratios[e]&&(i[e]=i[t]*this._ratios[e]);const r=this.linked?{object:this.value}:{object:this.value,property:t,value:i,oldValue:o};this.dispatchEvent("object-mutated",r,!1,window)}valueChanged(){this.keys=Object.keys(this.value).filter((e=>"number"==typeof this.value[e]))}changed(){const e=[];for(const t of this.keys)void 0!==this.value[t]&&e.push(["io-number",{id:t,value:this.value[t],conversion:this.conversion,step:this.step,min:this.min,max:this.max,ladder:this.ladder,"@pointerdown":this._onNumberPointerDown,"@value-input":this._onNumberValueInput}]);e.push(this.getSlotted()),this.template(e)}getSlotted(){return this.linkable?["io-boolicon",{value:this.bind("linked"),true:"icons:link",false:"icons:unlink"}]:null}};__decorate$f([Property({observe:!0})],Sn.prototype,"value",void 0),__decorate$f([Property(1)],Sn.prototype,"conversion",void 0),__decorate$f([Property(.001)],Sn.prototype,"step",void 0),__decorate$f([Property(-1/0)],Sn.prototype,"min",void 0),__decorate$f([Property(1/0)],Sn.prototype,"max",void 0),__decorate$f([Property(!1)],Sn.prototype,"linkable",void 0),__decorate$f([Property(!1)],Sn.prototype,"linked",void 0),__decorate$f([Property(!0)],Sn.prototype,"ladder",void 0),__decorate$f([Property({reactive:!1})],Sn.prototype,"keys",void 0),Sn=__decorate$f([Register],Sn);var __decorate$e=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let Mn=class IoMatrix extends Sn{static get Style(){return'\n      :host {\n        display: grid;\n        align-self: stretch;\n        justify-self: stretch;\n        grid-gap: var(--iotSpacing);\n      }\n      :host > *:not(:last-child) {\n        margin-right: 0;\n      }\n      :host[columns="4"] {\n        grid-template-columns: repeat(4, 1fr);\n      }\n      :host[columns="3"] {\n        grid-template-columns: repeat(3, 1fr);\n      }\n      :host[columns="2"] {\n        grid-template-columns: repeat(2, 1fr);\n      }\n    '}_onNumberValueInput(e){const t=e.composedPath()[0].id,n=e.detail.value,o=e.detail.oldValue;this.value[t]=n;const i={object:this.value,property:t,value:n,oldValue:o};this.dispatchEvent("object-mutated",i,!1,window)}valueChanged(){4===this.value.length&&this.setProperties({keys:["0","1","2","3"],columns:2}),9===this.value.length&&this.setProperties({keys:["0","1","2","3","4","5","6","7","8"],columns:3}),16===this.value.length&&this.setProperties({keys:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],columns:4})}};__decorate$e([Property({type:Array,init:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]})],Mn.prototype,"value",void 0),__decorate$e([Property({value:4,reflect:!0})],Mn.prototype,"columns",void 0),Mn=__decorate$e([Register],Mn);var __decorate$d=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};function addMenuOptions(e,t,n=0){const o=[];if(n<=t)for(let i=0;i<e.length;i++){const r=e[i];if(r.options?.length){const e=f({value:r.selected,storage:"local",key:genObjectStorageID(r)});!0===r.selected&&(e.value=!0),o.push(["io-collapsable",{label:r.label,icon:r.icon,expanded:e,elements:[...addMenuOptions(r.options,t,n+1)]}])}else o.push(["io-menu-item",{item:r,depth:n}])}return o}function matchItem(e,t){return void 0!==e.value&&-1!==String(e.value).toLowerCase().indexOf(t)||(!(!e.label||-1===e.label.toLowerCase().indexOf(t))||!(!e.hint||-1===e.hint.toLowerCase().indexOf(t)))}function filterOptions(e,t,n=5,o=[],i=0){if(t=t.toLowerCase(),i<=n)for(let r=0;r<e.length;r++)matchItem(e[r],t)&&o.push(["io-menu-item",{item:e[r],depth:0}]),e[r].options&&filterOptions(e[r].options,t,n,o,i+1)}let Rn=class IoMenuTree extends d{static get Style(){return'\n    :host {\n      display: flex;\n      flex: 0 0 auto;\n      flex-direction: column;\n      flex-wrap: nowrap;\n      align-self: stretch;\n      align-items: stretch;\n      justify-self: stretch;\n      border-radius: var(--iotBorderRadius);\n      border: var(--iotBorder);\n      border-color: var(--iotBorderColorOutset);\n      color: var(--iotColorField);\n      background-color: var(--iotBackgroundColorDimmed);\n      padding: var(--iotSpacing) 0;\n      align-self: flex-start;\n      user-select: none;\n      transition: opacity 0.25s;\n      min-width: calc(var(--iotFieldHeight) + calc(var(--iotSpacing2) + var(--iotBorderWidth2)));\n      min-height: calc(var(--iotFieldHeight) + calc(var(--iotSpacing2) + var(--iotBorderWidth2)));\n      overflow: auto;\n    }\n\n    :host io-collapsable {\n      flex: 0 0 auto;\n      border-color: transparent;\n      border: 0;\n      overflow: visible;\n    }\n    :host io-collapsable > div.io-collapsable-content {\n      background-color: transparent;\n      flex: 0 0 auto;\n      border-radius: 0 !important;\n      margin: 0 !important;\n      padding: 0 !important;\n      background: var(--iotBackgroundColorFaint);\n    }\n    \n    :host io-menu-item:first-of-type {\n      margin-top: var(--iotBorderWidth);\n    }\n    :host io-menu-item {\n      background-color: var(--iotBackgroundColorDimmed);\n      flex: 0 0 auto;\n      align-self: stretch;\n      border-radius: 0;\n      margin-left: var(--iotBorderWidth);\n      margin-right: var(--iotBorderWidth);\n    }\n    :host io-menu-item[depth="1"] {\n      padding-left: calc(var(--iotLineHeight) * 1);\n    }\n    :host io-menu-item[depth="2"] {\n      padding-left: calc(var(--iotLineHeight) * 2);\n    }\n    :host io-menu-item[depth="3"] {\n      padding-left: calc(var(--iotLineHeight) * 3);\n    }\n    :host io-menu-item[depth="4"] {\n      padding-left: calc(var(--iotLineHeight) * 4);\n    }\n    :host io-menu-item[depth="5"] {\n      padding-left: calc(var(--iotLineHeight) * 5);\n    }\n    :host io-menu-item[depth="6"] {\n      padding-left: calc(var(--iotLineHeight) * 6);\n    }\n    /* Item spacing */\n    :host io-menu-item {\n      margin-bottom: var(--iotBorderWidth);\n    }\n    :host io-menu-item:first-of-type {\n      /* margin-top: var(--iotSpacing); */\n    }\n\n    /* Item dividers */\n    :host io-collapsable > io-boolean {\n      margin: 0;\n      margin-left: var(--iotBorderWidth);\n      margin-right: var(--iotBorderWidth);\n      z-index: 1;\n      overflow: visible;\n    }\n\n    /* Search field */\n    :host > .search {\n      border-radius: 0;\n      flex: 0 0 auto;\n    }\n    '}static get Listeners(){return{"item-clicked":"_onItemClicked"}}_onItemClicked(e){const t=e.composedPath()[0],n=e.detail;t!==this&&(e.stopImmediatePropagation(),this.dispatchEvent("item-clicked",n,!0),this.throttle(this._onCollapse))}_onCollapse(){const e=this.searchable&&this.search;this.search="",e&&this.$.search.focus()}changed(){const e=[...this.slotted];if(this.searchable&&e.push(["io-string",{$:"search",role:"search",class:"search",value:this.bind("search"),placeholder:"Search",live:!0}]),this.search){const t=e.length;filterOptions(this.options,this.search,this.depth,e),t===e.length&&e.push(["io-menu-item",{item:new j({label:"No matches",mode:"none"})}])}else e.push(...addMenuOptions(this.options,this.depth));this.template(e)}};__decorate$d([Property({observe:!0,type:H,reflect:!0})],Rn.prototype,"options",void 0),__decorate$d([Property(!1)],Rn.prototype,"searchable",void 0),__decorate$d([Property("")],Rn.prototype,"search",void 0),__decorate$d([Property(1/0)],Rn.prototype,"depth",void 0),__decorate$d([Property({type:Array})],Rn.prototype,"slotted",void 0),__decorate$d([Property("listbox")],Rn.prototype,"role",void 0),__decorate$d([Property(void 0)],Rn.prototype,"$parent",void 0),Rn=__decorate$d([Register],Rn);var __decorate$c=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};const zn=new WeakMap;let Ln=class IoMenuOptions extends d{static get Style(){return'\n    :host {\n      display: flex;\n      border-radius: var(--iotBorderRadius);\n      background-color: var(--iotBackgroundColorDimmed);\n      position: relative;\n    }\n    :host[horizontal] {\n      flex-direction: row;\n      align-self: stretch;\n      padding: 0 var(--iotSpacing);\n      min-height: calc(var(--iotFieldHeight) + var(--iotBorderWidth2));\n    }\n    :host:not([horizontal]) {\n      flex-direction: column;\n      padding: var(--iotSpacing) 0;\n    }\n    :host[inlayer] {\n      min-width: 8em;\n    }\n    :host[inlayer]:not([expanded]) {\n      visibility: hidden;\n      opacity: 0;\n    }\n\n    /* Menu Items */\n    :host > io-menu-item {\n      background-color: transparent;\n      border-radius: 0;\n    }\n    :host[horizontal] > io-menu-item {\n      height: calc(var(--iotFieldHeight) + var(--iotSpacing2));\n      border-left: none;\n      border-right: none;\n      border-width: calc(var(--iotSpacing) + var(--iotBorderWidth)) var(--iotBorderWidth);\n    }\n    :host:not([horizontal]) > io-menu-item {\n      border-top: none;\n      border-bottom: none;\n      border-width: var(--iotBorderWidth) var(--iotSpacing);\n    }\n    :host > io-menu-item[selected][direction="up"] {\n      border-color: var(--iotBorderColorSelected) transparent transparent transparent;\n    }\n    :host > io-menu-item[selected][direction="down"] {\n      border-color: transparent transparent var(--iotBorderColorSelected) transparent;\n    }\n    :host > io-menu-item[selected][direction="right"] {\n      border-color: transparent var(--iotBorderColorSelected) transparent transparent;\n    }\n    :host > io-menu-item[selected][direction="left"] {\n      border-color: transparent transparent transparent var(--iotBorderColorSelected);\n    }\n\n    /* Item divider */\n    :host > [hidden] ~ span.divider {\n      border-color: red;\n      display: none;\n    }\n    :host > span.divider {\n      flex: 0 0 0;\n      border: var(--iotBorder);\n      border-color: var(--iotBorderColorInset);\n      margin: var(--iotBorderWidth2) var(--iotSpacing);\n      opacity: 0.25;\n    }\n    :host[horizontal] > span.divider {\n      margin: var(--iotSpacing) var(--iotBorderWidth2);\n      opacity: 0.5;\n    }\n\n    /* Remove hints from horizontal menu */\n    :host[horizontal] > io-menu-item > .hint {\n      display: none;\n    }\n\n    /* Search field */\n    :host:not([horizontal]) > .search {\n      margin: var(--iotSpacing);\n      margin-top: 0;\n    }\n    :host[horizontal] > .search {\n      margin-right: var(--iotBorderWidth);\n      flex: 0 0 10em;\n    }\n\n    /* Hamburger menu for overflow items */\n    :host > io-menu-hamburger {\n      border-color: transparent !important;\n      background-color: transparent !important;\n    }\n    :host[horizontal] > io-menu-hamburger {\n      position: absolute;\n      right: var(--iotSpacing);\n      padding: var(--iotSpacing);\n    }\n    '}static get Listeners(){return{"item-clicked":"_onItemClicked",touchstart:["_stopPropagation",{passive:!1}]}}_onItemClicked(e){const t=e.composedPath()[0],n=e.detail;"io-string"!==t.localName?t!==this&&(e.stopImmediatePropagation(),this.dispatchEvent("item-clicked",n,!0),this.throttle(this._onCollapse)):e.stopImmediatePropagation()}_stopPropagation(e){e.stopPropagation()}init(){this.throttle(this._onSetOverflow)}onResized(){this.throttle(this._onSetOverflow)}_onSetOverflow(){if(this._disposed)return;const e=this.querySelectorAll(".item");if(this._overflownItems.length=0,this.horizontal){const t=this.querySelector("io-menu-hamburger"),n=t?.getBoundingClientRect().width||0,o=this.getBoundingClientRect().right-(C.iotBorderWidth+C.iotSpacing);let i=1/0,r=!1;for(let t=e.length;t--;){const s=e[t].getBoundingClientRect(),a=zn.get(e[t].item)||{right:0,width:0};0!==s.right&&0!==s.width&&(a.right=s.right,a.width=s.width,zn.set(e[t].item,a)),i=Math.min(i,a.right),this.noPartialCollapse&&r?(e[t].hidden=!0,this._overflownItems.unshift(e[t].item)):t===e.length-1&&i<o||i<o-1.5*n?e[t].hidden=!1:(r=!0,e[t].hidden=!0,this._overflownItems.unshift(e[t].item))}this._overflownItems.length?this.overflow=JSON.stringify(this._overflownItems.map((e=>e.label))):this.overflow=""}else this.overflow=""}_onCollapse(){const e=this.selectable&&!!this.search&&!this.inlayer;this.setProperties({search:"",expanded:!1}),e&&this.$.search.focus()}expandedChanged(){this.expanded?this.inlayer&&this.throttle(this._onExpandInOverlay):(this.style.top=null,this.style.height=null,this.style.touchAction=null,this.scrollTop=0,this.search="")}searchChanged(){this.inlayer&&this.$parent&&this.throttle(this._onClipHeight),this.throttle(this._onSetOverflow)}_onExpandInOverlay(){if(this.$parent){const e=this.$parent.getBoundingClientRect();I.setElementPosition(this,this.direction,e),this._onClipHeight()}}_onClipHeight(){if(this.scrollTop=0,!this.firstChild)return;const e=this.firstChild.getBoundingClientRect().top,t=this.lastChild.getBoundingClientRect().bottom,n=t-e;e<0?(this.style.top="0px",this.style.height=n+e+"px",this.style.touchAction="pan-y"):t>window.innerHeight?(this.style.height=window.innerHeight-e+"px",this.style.touchAction="pan-y"):(this.style.height=null,this.style.touchAction=null)}changed(){const e=[...this.slotted];if(this.searchable&&e.push(["io-string",{$:"search",role:"search",class:"search",value:this.bind("search"),placeholder:"Search",live:!0}]),this.search){const t=e.length;filterOptions(this.options,this.search,this.depth,e),t===e.length&&e.push(["io-menu-item",{item:new j({label:"No matches",mode:"none"})}])}else{let t=this.horizontal?"down":"right";this.horizontal&&"up"===this.direction&&(t="up");for(let n=0;n<this.options.length;n++)e.push(["io-menu-item",{class:"item",item:this.options[n],direction:t,depth:this.depth}]),n<this.options.length-1&&e.push(["span",{class:"divider"}])}this.overflow&&e.push(["io-menu-hamburger",{depth:this.depth+1,role:"navigation",direction:"down",item:new j({options:new H(this._overflownItems)})}]),this.template(e)}};__decorate$c([Property({observe:!0,type:H})],Ln.prototype,"options",void 0),__decorate$c([Property({value:!1,reflect:!0})],Ln.prototype,"expanded",void 0),__decorate$c([Property({value:!1,reflect:!0})],Ln.prototype,"horizontal",void 0),__decorate$c([Property(!1)],Ln.prototype,"searchable",void 0),__decorate$c([Property("")],Ln.prototype,"search",void 0),__decorate$c([Property({value:"none",reflect:!0})],Ln.prototype,"direction",void 0),__decorate$c([Property(100)],Ln.prototype,"depth",void 0),__decorate$c([Property(!1)],Ln.prototype,"noPartialCollapse",void 0),__decorate$c([Property({value:"",reflect:!0})],Ln.prototype,"overflow",void 0),__decorate$c([Property({value:!1,reflect:!0})],Ln.prototype,"inlayer",void 0),__decorate$c([Property({type:Array})],Ln.prototype,"slotted",void 0),__decorate$c([Property("listbox")],Ln.prototype,"role",void 0),__decorate$c([Property(void 0)],Ln.prototype,"$parent",void 0),__decorate$c([Property({type:Array,reactive:!1})],Ln.prototype,"_overflownItems",void 0),Ln=__decorate$c([Register],Ln);var __decorate$b=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};const En=["io-menu-item","io-menu-hamburger","io-option-menu"],Pn=En.join(", ");let On,Tn,An=class IoMenuItem extends B{static get Style(){return"\n      :host {\n        display: flex;\n        user-select: none;\n      }\n      :host > * {\n        pointer-events: none;\n        text-overflow: ellipsis;\n      }\n      :host > .label {\n        flex: 1 1 auto;\n        padding: 0 var(--iotSpacing2);\n      }\n      :host > .hint {\n        flex: 0 1 auto;\n        opacity: 0.25;\n        padding: 0 var(--iotSpacing2);\n      }\n      :host > .hasmore {\n        opacity: 0.25;\n        margin-right: calc(-0.5 * var(--iotLineHeight));\n      }\n    "}$options;static get Listeners(){return{click:"preventDefault"}}preventDefault(e){e.stopPropagation(),e.preventDefault()}get hasmore(){return this.item.hasmore&&this.depth>0}get inlayer(){return!!this.$parent&&!!this.$parent.inlayer}get $parent(){return this.parentElement}connectedCallback(){super.connectedCallback(),I.addEventListener("pointermove",this._onOverlayPointermove),I.addEventListener("pointerup",this._onOverlayPointerup),this.$options&&I.appendChild(this.$options)}disconnectedCallback(){super.disconnectedCallback(),I.removeEventListener("pointermove",this._onOverlayPointermove),I.removeEventListener("pointerup",this._onOverlayPointerup),this.$options&&this.$options.inlayer&&I.removeChild(this.$options)}_onOverlayPointermove(e){!this.inlayer&&this.expanded&&this._onPointermove(e)}_onOverlayPointerup(e){!this.inlayer&&this.expanded&&this._onPointerupAction(e)}_onClick(){const e=this.item;this.hasmore?this.expanded||(this.expanded=!0):"toggle"===e.mode?e.selected=!e.selected:(e.action&&e.action.apply(null,[e.value]),"select"===e.mode?e.hasmore&&e.options&&this.depth<=0?e.options.selectDefault():e.selected=!0:"scroll"===e.mode?e.selected=!0:"link"===e.mode&&window.open(e.value,"_blank"),this.dispatchEvent("item-clicked",e,!0),this.throttle(this._onCollapse,void 0,0))}_onItemClicked(e){e.composedPath()[0]!==this&&(e.stopImmediatePropagation(),this.dispatchEvent("item-clicked",e.detail,!0)),this.expanded&&this.throttle(this._onCollapse,void 0,0)}_onPointerdown(e){e.stopPropagation(),e.preventDefault(),this.setPointerCapture(e.pointerId),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup),this._onPointerdownAction(e)}_onPointerdownAction(e){(this.expanded||"mouse"===e.pointerType||this.inlayer)&&(this.focus(),this.item.options&&(this.expanded=!0)),this._x=e.clientX,this._y=e.clientY}_onPointermove(e){e.stopPropagation(),this._onPointermoveAction(e)}_onPointermoveAction(e){if(!this.expanded&&"touch"===e.pointerType&&!this.inlayer)return;const t=!!this.$parent&&!!this.$parent.style.height;if("touch"===e.pointerType&&t)return;const n=e.clientX-this._x,o=e.clientY-this._y;if(this._x=e.clientX,this._y=e.clientY,I.x=e.clientX,I.y=e.clientY,clearTimeout(this._timeoutOpen),On=this._gethovered(e),On){const e=Math.abs(o)-Math.abs(n),t=On.parentElement.horizontal;Tn?.parentElement!==On.parentElement||(t?e<-.25:e>.25)?this._expandHovered():this._timeoutOpen=setTimeout((()=>{this._expandHovered()}),100),Tn=On}}_onPointerup(e){e.stopPropagation(),this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),this._onPointerupAction(e)}_onPointerupAction(e,t=!1){const n=this._gethovered(e);n?(n.focus(),n._onClick(e)):t||this.throttle(this._onCollapseRoot),On=void 0,Tn=void 0}_gethovered(e){const t=getMenuDescendants(getMenuRoot(this)),n=[];for(let o=t.length;o--;)isPointerAboveIoMenuItem(e,t[o])&&n.push(t[o]);if(n.length)return n.sort(((e,t)=>e.depth<t.depth?1:e.depth>t.depth?-1:0)),n[n.length-1]}_expandHovered(){if(On){if(On.focus(),On.hasmore){if(On.$options){const e=getMenuDescendants(On.$options);for(let t=e.length;t--;)e[t].expanded=!1}On.expanded=!0}if(On.$parent){const e=On.$parent.querySelectorAll(Pn);for(let t=e.length;t--;)e[t]!==On&&(e[t].expanded=!1)}}}_onKeydown(e){if("Enter"===e.key||" "===e.key)return e.preventDefault(),void this._onClick();if("Escape"===e.key)return e.preventDefault(),void this.throttle(this._onCollapseRoot);let t="";"left"===this.direction||"right"===this.direction?("ArrowUp"===e.key&&(t="prev"),"ArrowRight"===e.key&&(t="in"),"ArrowDown"===e.key&&(t="next"),"ArrowLeft"===e.key&&(t="out")):("ArrowUp"===e.key&&(t="out"),"ArrowRight"===e.key&&(t="next"),"ArrowDown"===e.key&&(t="in"),"ArrowLeft"===e.key&&(t="prev")),this.inlayer&&"Tab"===e.key&&(t="next");const n=this.$parent?[...this.$parent.children]:[],o=n.indexOf(this);if(t)switch(e.preventDefault(),t){case"prev":{const e=n[(o+n.length-1)%n.length];this.expanded=!1,e&&(e.hasmore&&(e.expanded=!0),e.focus());break}case"next":{const e=n[(o+1)%n.length];this.expanded=!1,e&&(e.hasmore&&(e.expanded=!0),e.focus());break}case"in":this.$options&&this.$options.children.length&&this.$options.children[0].focus();break;case"out":this.expanded=!1,this.$parent&&this.$parent.$parent&&this.$parent.$parent.focus()}else super._onKeydown(e)}_onCollapse(){this.expanded=!1}_onCollapseRoot(){getMenuRoot(this).expanded=!1}expandedChanged(){if(this.expanded&&this.depth>0){this.item.options&&void 0===this.$options&&(this.$options=new Ln({expanded:this.bind("expanded"),depth:this.depth-1,options:this.item.options,direction:this.direction,inlayer:!0,$parent:this}));const e=getMenuDescendants(getMenuRoot(this)),t=getMenuAncestors(this),n=getMenuDescendants(this);for(let o=e.length;o--;)e[o]!==this&&-1===t.indexOf(e[o])&&-1===n.indexOf(e[o])&&(e[o].expanded=!1)}if(this.$options){this.expanded?(this.$options.parentElement!==I&&I.appendChild(this.$options),this.$options.addEventListener("item-clicked",this._onItemClicked)):this.$options.removeEventListener("item-clicked",this._onItemClicked);const e=getMenuDescendants(this.$options);for(let t=e.length;t--;)e[t].expanded=!1}}changed(){void 0!==this.$options&&this.item.options&&(this.$options.options=this.item.options);const e=this.icon||this.item.icon;this.setAttribute("selected",this.item.selected),this.setAttribute("hidden",this.item.hidden),this.setAttribute("hasmore",this.hasmore),this.disabled=this.item.disabled,this.template([this.hasmore&&"left"===this.direction?["io-icon",{class:"hasmore",icon:"icons:triangle_left"}]:null,this.hasmore&&"up"===this.direction?["io-icon",{class:"hasmore",icon:"icons:triangle_up"}]:null,e?["io-icon",{icon:e}]:null,this.item.label?["span",{class:"label"},this.item.label]:null,this.item.hint?["span",{class:"hint"},this.item.hint]:null,this.hasmore&&"right"===this.direction?["io-icon",{class:"hasmore",icon:"icons:triangle_right"}]:null,this.hasmore&&"down"===this.direction?["io-icon",{class:"hasmore",icon:"icons:triangle_down"}]:null])}};function getMenuDescendants(e){const t=[];if(e.$options){if(e.expanded){t.push(e.$options);const n=e.$options.querySelectorAll(Pn);for(let e=n.length;e--;)t.push(n[e]),n[e].expanded&&t.push(...getMenuDescendants(n[e]))}}else{const n=e.querySelectorAll(Pn);for(let e=n.length;e--;)t.push(n[e]),n[e].expanded&&t.push(...getMenuDescendants(n[e]))}return t}function getMenuAncestors(e){const t=[];let n=e;for(;n&&n.$parent;)n=n.$parent,n&&t.push(n);return t}function getMenuRoot(e){let t=e;for(;t&&t.$parent;)t=t.$parent;return t}function isPointerAboveIoMenuItem(e,t){if(-1!==En.indexOf(t.localName)&&!t.disabled&&!t.hidden&&(!t.inlayer||t.parentElement.expanded&&I.expanded)){const n=1,o=t.getBoundingClientRect(),i=e.clientX,r=e.clientY;return o.top<=r+n&&o.bottom>=r-n&&o.left<=i+n&&o.right>=i-n}return null}__decorate$b([Property({observe:!0,type:j})],An.prototype,"item",void 0),__decorate$b([Property({value:!1,reflect:!0})],An.prototype,"expanded",void 0),__decorate$b([Property({value:"right",reflect:!0})],An.prototype,"direction",void 0),__decorate$b([Property({value:1e3,reflect:!0})],An.prototype,"depth",void 0),__decorate$b([Property(void 0)],An.prototype,"$options",void 0),An=__decorate$b([Register],An);var __decorate$a=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let In=class IoMenuHamburger extends An{static get Style(){return"\n      :host {\n        display: flex;\n        user-select: none;\n      }\n      :host > * {\n        pointer-events: none;\n        text-overflow: ellipsis;\n      }\n    "}changed(){void 0!==this.$options&&this.item.options&&(this.$options.options=this.item.options),this.setAttribute("selected",this.item.selected),this.setAttribute("hidden",this.item.hidden),this.disabled=this.item.disabled,this.template([["io-icon",{icon:"icons:hamburger"}]])}};In=__decorate$a([Register],In);var __decorate$9=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let Hn=class IoOptionMenu extends d{static get Style(){return"\n    :host {\n      display: inline-block;\n      text-align: center;\n      border-radius: var(--iotBorderRadius);\n      border: var(--iotBorder);\n      border-color: var(--iotBorderColorOutset);\n      background-color: var(--iotBackgroundColorDimmed);\n      background-image: var(--iotGradientOutset);\n      /* padding-left: calc(2 * var(--iotSpacing)); */\n      /* padding-right: calc(2 * var(--iotSpacing)); */\n      text-align: left;\n    }\n    :host > io-menu-item {\n      margin: calc(-1 * var(--iotBorderWidth));\n      background-color: transparent !important;\n      border-color: transparent !important;\n    }\n    :host > io-menu-item[selected] {\n      color: var(--iotColor);\n    }\n    "}_item;_onLeafChanged(e){this.inputValue(e.detail.value)}optionsChanged(e){e.oldValue&&e.oldValue.removeEventListener("last-changed",this._onLeafChanged),e.value&&e.value.addEventListener("last-changed",this._onLeafChanged);const t=this.options.getItem(this.value);t&&(t.selected=!0)}changed(){const e=this.options.getItem(this.value);this._item=this._item||new j({}),this._item.label=e?.label||String(this.value),this._item.options=this.options,this._item.icon=this.icon||"",this.template([["io-menu-item",{item:this._item,direction:"down"}]])}};__decorate$9([Property({value:void 0,reflect:!0})],Hn.prototype,"value",void 0),__decorate$9([Property({observe:!0,type:H,reflect:!0})],Hn.prototype,"options",void 0),__decorate$9([Property("button")],Hn.prototype,"role",void 0),Hn=__decorate$9([Register],Hn);var __decorate$8=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let jn=class IoContextMenu extends d{static get Properties(){return{$options:null}}connectedCallback(){super.connectedCallback(),I.addEventListener("pointermove",this._onOverlayPointermove),this._parent=this.parentElement,this._parent.addEventListener("pointerdown",this._onPointerdown),this._parent.addEventListener("click",this._onClick),this._parent.addEventListener("contextmenu",this._onContextmenu)}disconnectedCallback(){super.disconnectedCallback(),this.$options&&this.$options.parentElement&&I.removeChild(this.$options),I.removeEventListener("pointermove",this._onOverlayPointermove),this._parent.removeEventListener("pointerdown",this._onPointerdown),this._parent.removeEventListener("contextmenu",this._onContextmenu),this._parent.removeEventListener("pointermove",this._onPointermove),this._parent.removeEventListener("pointerup",this._onPointerup),this._parent.removeEventListener("click",this._onClick),delete this._parent}getBoundingClientRect(){return this._parent.getBoundingClientRect()}_onItemClicked(e){const t=e.composedPath()[0],n=e.detail;t!==this&&(e.stopImmediatePropagation(),this.dispatchEvent("item-clicked",n,!0),this.throttle(this._onCollapse))}_onContextmenu(e){2===this.button&&e.preventDefault()}_onPointerdown(e){I.x=e.clientX,I.y=e.clientY,this._parent.addEventListener("pointermove",this._onPointermove),this._parent.addEventListener("pointerup",this._onPointerup),clearTimeout(this._contextTimeout),"touch"!==e.pointerType?e.button===this.button&&(this.setPointerCapture(e.pointerId),this.expanded=!0):(e.preventDefault(),this._contextTimeout=setTimeout((()=>{this.setPointerCapture(e.pointerId),this.expanded=!0}),150))}_onPointermove(e){clearTimeout(this._contextTimeout),this.expanded&&this.$options?.querySelector("io-menu-item")?._onPointermoveAction(e)}_onPointerup(e){clearTimeout(this._contextTimeout),this.releasePointerCapture(e.pointerId),this.expanded&&this.$options?.querySelector("io-menu-item")?._onPointerupAction(e,!0),this._parent.removeEventListener("pointermove",this._onPointermove),this._parent.removeEventListener("pointerup",this._onPointerup)}_onOverlayPointermove(e){this.expanded&&this._onPointermove(e)}_onClick(e){e.button===this.button&&2!==e.button&&(this.expanded=!0)}_onCollapse(){this.expanded=!1}optionsChanged(){this.$options&&(I.removeChild(this.$options),this.$options.template([]),this.$options.dispose()),this.$options=new Ln({expanded:this.bind("expanded"),inlayer:!0,options:this.options,direction:"pointer",$parent:this,"@item-clicked":this._onItemClicked}),I.appendChild(this.$options)}};__decorate$8([Property({observe:!0,type:H})],jn.prototype,"options",void 0),__decorate$8([Property({value:!1,reflect:!0})],jn.prototype,"expanded",void 0),__decorate$8([Property(0)],jn.prototype,"button",void 0),jn=__decorate$8([Register],jn);var __decorate$7=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let Nn=class IoNotify extends d{static get Style(){return"\n    :host {\n      display: flex;\n      position: fixed;\n      top: 0;\n      left: 0;\n      box-sizing: border-box;\n      background-color: var(--iotBackgroundColorDimmed);\n      border: var(--iotBorder);\n      border-color: var(--iotColorError);\n      width: 100%;\n      opacity: 1;\n      font-weight: bold;\n      align-items: center;\n      justify-content: center;\n      padding: 0 var(--iotSpacing);\n    }\n    :host > span {\n      cursor: default;\n      box-sizing: border-box;\n      line-height: var(--iotLineHeight);\n      font-size: var(--iotFontSize);\n      color: var(--iotColor);\n      padding: 0 var(--iotSpacing);\n    }\n    :host > :nth-child(n+2) {\n      flex-shrink: 0;\n      align-self: center;\n      white-space: nowrap;\n    }\n    @keyframes io-notification-fade {\n      to {\n        opacity: 0;\n      }\n    }\n    :host:not([expanded]) {\n      animation: io-notification-fade .6s linear forwards;\n      pointer-events: none;\n    }\n    "}static get Properties(){return{expanded:{value:!0,reflect:!0}}}static get Listeners(){return{}}constructor(e){super(e),this.template([["span","This app uses cookies for user interface customization."],["span","Agree"],["io-boolean",{"@value-input":this._onAgree}],["span","Disagree"],["io-boolean",{"@value-input":this._onDisgree}]])}_onAgree(e){e.detail.value?f.permitted=!0:f.permitted=!1,this.expanded=!1}_onDisgree(){f.permitted=!1,this.expanded=!1}};Nn=__decorate$7([Register],Nn),null===f.permitted&&document.body.appendChild(new Nn);class ObjectConfig{constructor(e){for(let t=0;t<e.length;t++)this.registerObjectConfig(e[t].ObjectConfig||{})}registerObjectConfig(e){for(const t in e){const n=this;n[t]=n[t]||[],n[t]=[e[t][0]||n[t][0],Object.assign(n[t][1]||{},e[t][1]||{})]}}getObjectConfig(e,t){const n=Object.keys(e),o=[];let i=e.__proto__;for(;i;)o.push(i.constructor.name),n.push(...Object.keys(i)),i=i.__proto__;const r={};for(const e in this){const t=e.split("|");1===t.length&&t.splice(0,0,"Object"),-1!==o.indexOf(t[0])&&(r[t[1]]=this[e])}for(const e in t){const n=e.split("|");1===n.length&&n.splice(0,0,"Object"),-1!==o.indexOf(n[0])&&(r[n[1]]=t[e])}const s={};for(let t=0;t<n.length;t++){const o=n[t],i=e[o]instanceof Binding?e[o].value:e[o],a=null===i?"null":typeof i,l=null!=i&&i.constructor?i.constructor.name:"null";if("function"===a)continue;const c="type:"+a,h="constructor:"+l,d=o.replace("type:","").replace("constructor:","");s[o]=null,r[c]&&(s[o]=r[c]),r[h]&&(s[o]=r[h]),r[d]&&(s[o]=r[d])}return s}}class ObjectGroups{constructor(e){for(let t=0;t<e.length;t++)this.registerObjectGroups(e[t].ObjectGroups||{})}registerObjectGroups(e){for(const t in e){const n=this;n[t]=n[t]||[],n[t]=[...n[t],...e[t]]}}getObjectGroups(e,t,n){const o=[];let i=e.__proto__;for(;i;)o.push(i.constructor.name),i=i.__proto__;const r={},s=this;for(const t in s){const i=t.split("|");if(1===i.length&&i.splice(0,0,"Object"),i[1]=i[1].split(":"),-1!==o.indexOf(i[0])){if(!("properties"===i[1][1])){r[i[1][0]]=r[i[1][0]]||[];for(let o=0;o<s[t].length;o++){const a=s[t][o];if("string"==typeof a&&a.startsWith("constructor:")){const t=a.replace("constructor:","");for(let o=0;o<n.length;o++)e[n[o]]&&e[n[o]].name===t&&r[i[1][0]].push(n[o])}else if("string"==typeof a&&a.startsWith("type:")){const t=a.replace("type:","");for(let o=0;o<n.length;o++)e[n[o]]&&typeof e[n[o]]===t&&r[i[1][0]].push(n[o])}else r[i[1][0]].push(a)}}}}for(const e in t){const n=e.split("|");if(1===n.length&&n.splice(0,0,"Object"),n[1]=n[1].split(":"),-1!==o.indexOf(n[0])){"properties"===n[1][1]||(r[n[1][0]]=r[n[1][0]]||[],r[n[1][0]].push(...t[e]))}}const a={},l=[];for(const e in r){a[e]=a[e]||[];for(const t in r[e]){const o=r[e][t],i=new RegExp(o);for(let t=0;t<n.length;t++){const r=n[t];"string"==typeof o?r===o&&-1===l.indexOf(r)&&(a[e].push(r),l.push(r)):"object"==typeof o&&i.exec(r)&&-1===l.indexOf(r)&&(a[e].push(r),l.push(r))}}}if(0===l.length)a.properties=n;else{a.properties=a.properties||[];for(let e=0;e<n.length;e++)-1===l.indexOf(n[e])&&a.properties.push(n[e])}for(const e in a)0===a[e].length&&delete a[e];return delete a.hidden,a}}class ObjectWidgets{constructor(e){for(let t=0;t<e.length;t++)this.registerObjectWidgets(e[t].ObjectWidgets||{})}registerObjectWidgets(e){for(const t in e){const n=this;n[t]=n[t]||[],n[t]=[...n[t],...e[t]]}}getObjectWidgets(e){const t=[];let n=e.__proto__;for(;n;)t.push(n.constructor.name),n=n.__proto__;let o=null;const i={};for(const n in this){const r=n.split("|"),s=r[0],a=r[1];if(-1!==t.indexOf(s)){const t=this[n];t[1]=t[1]||{},t[1].$value?t[1].value=e[t[1].$value]:t[1].value=e,a?i[a]=t:o=t}}return{main:o,groups:i}}}var __decorate$6=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let Bn=class IoBreadcrumbs extends d{static get Style(){return"\n    :host {\n      display: flex;\n      flex: 0 0 auto;\n      flex-direction: row;\n      align-self: stretch;\n      justify-self: stretch;\n      border-radius: var(--iotBorderRadius);\n      border: var(--iotBorder);\n      border-color: var(--iotBorderColorInset);\n      padding: var(--iotSpacing);\n      background-color: var(--iotBackgroundColorField);\n      overflow-x: hidden;\n    }\n    :host > io-field {\n      padding-left: var(--iotSpacing);\n      padding-right: var(--iotSpacing);\n      color: var(--iotColorLink);\n    }\n    :host > io-field:hover {\n      text-decoration: underline;\n    }\n    :host > io-field:first-of-type {\n      overflow: visible;\n      text-overflow: clip;\n      margin-left: var(--iotSpacing);\n    }\n    :host > io-field:last-of-type {\n      overflow: visible;\n      text-overflow: clip;\n      margin-right: var(--iotSpacing);\n    }\n    :host > io-field:not(:first-of-type):before {\n      content: '>';\n      margin: 0 var(--iotSpacing);\n      padding: 0 var(--iotSpacing) 0 0;\n      opacity: 0.25;\n    }\n    "}static get Properties(){return{value:Object,selected:null,options:{type:Array,observe:!0}}}_onClick(e){this.setProperty("selected",this.options[e.detail.value])}valueChanged(){this.options.length=0,this.options.push(this.value)}selectedChanged(){const e=this.options.indexOf(this.selected);-1!==e?this.options.length=e+1:this.options.push(this.selected)}changed(){const e=[];for(let t=0;t<this.options.length;t++)e.push(["io-field",{class:"select",value:this.options[t],label:getLabel(this.options[t]),"@item-clicked":this._onClick}]);this.template(e)}};function getLabel(e){return String(e instanceof Array?`${e.constructor.name} (${e.length})`:"object"==typeof e?`${e.constructor.name}`:e)}Bn=__decorate$6([Register],Bn);var __decorate$5=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class ProtoObjectConfig extends Map{constructor(e){super();for(let t=0;t<e.length;t++){const n=e[t].Config;if(n)for(let e=0;e<n.length;e++){const t=n[e],o=t[0],i=t[1];let r;this.has(o)?r=this.get(o):(r=new Map,this.set(o,r));for(let e=0;e<i.length;e++){const t=i[e][0],n=[...i[e][1]];r.set(t,n)}}}}getObjectConfig(e){if(!(e instanceof Object))return;const t=new Map;for(const[n,o]of this)if(e instanceof n)for(const[e,n]of o)t.set(e,n);const n={};for(const[o,i]of Object.entries(e)){const e=i instanceof Binding?i.value:i;for(const[i,r]of t){let t;("function"==typeof i&&e instanceof i||"function"==typeof i&&e.constructor===i||"string"==typeof i&&o===i||null===i&&null===e||void 0===i&&void 0===e)&&(t=r),t&&(n[o]=t)}}return n}}let Dn=class IoProperties extends d{static get Style(){return"\n    :host {\n      display: flex;\n      flex-direction: column;\n      color: var(--iotColorField);\n      background-color: var(--iotBackgroundColor);\n    }\n    :host > .io-row {\n      display: flex;\n      flex-direction: row;\n    }\n    :host > .io-row > io-label {\n      margin-top: calc(var(--iotSpacing) + var(--iotBorderWidth));\n    }\n    :host > .io-row > io-label:after {\n      display: inline-block;\n      content: ':';\n    }\n    :host io-object > io-properties {\n      padding-left: var(--iotLineHeight);\n    }\n    "}static get Config(){return[[Object,[[null,["io-string",{appearance:"neutral"}]],[void 0,["io-string",{appearance:"neutral"}]],[String,["io-string",{appearance:"neutral"}]],[Number,["io-number",{appearance:"neutral",step:1e-4}]],[Boolean,["io-boolean"]],[Object,["io-object"]]]],[Array,[[Number,["io-number",{appearance:"neutral",step:1e-4}]]]]]}_onValueInput(e){if(e.detail.object)return;const t=e.composedPath()[0];if(t===this)return;e.stopImmediatePropagation(),this.dispatchEvent("property-set",e.detail,!1);const n=t.id;if(null!==n){const t=e.detail.value,o=e.detail.oldValue;this.value[n]=t;const i={object:this.value,property:n,value:t,oldValue:o};this.dispatchEvent("object-mutated",i,!1,window)}}valueMutated(){this._changedThrottled()}changed(){this._changedThrottled()}_changedThrottled(){this.throttle(this._onChange,void 0,0)}_onChange(){const e=this.__proto__._protoConfig.getObjectConfig(this.value);Object.assign(e,this.config);const t=[],n=this.properties.length?this.properties:Object.keys(this.value);this.widget.length?t.push(this.widget):t.push(["widget-dummy"]);for(let o=0;o<n.length;o++){const i=n[o],r=this.value[i],s=e[i][0],a=e[i][1]||{},l=a.label||i,c={title:l,id:i,config:e,value:r,"@value-input":this._onValueInput};Object.assign(c,a),"io-object"===s?(c.label=l+": "+r.constructor.name,t.push([s,c])):t.push(["div",{class:"io-row"},[this.labeled?["io-label",{label:l}]:null,[s,c]]])}this.template(t)}Register(e){super.Register(e),Object.defineProperty(e.prototype,"_protoConfig",{writable:!0,value:new ProtoObjectConfig(e.prototype._protochain.constructors)})}};__decorate$5([Property({observe:!0})],Dn.prototype,"value",void 0),__decorate$5([Property({type:Array})],Dn.prototype,"properties",void 0),__decorate$5([Property({type:Object})],Dn.prototype,"config",void 0),__decorate$5([Property({type:Array})],Dn.prototype,"widget",void 0),__decorate$5([Property(!0)],Dn.prototype,"labeled",void 0),Dn=__decorate$5([Register],Dn);var __decorate$4=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let Fn=class IoInspector extends d{static get Style(){return"\n    :host {\n      display: flex;\n      flex: 1 1 auto;\n      flex-direction: column;\n      flex-wrap: nowrap;\n      align-self: stretch;\n      align-items: stretch;\n      justify-self: stretch;\n      flex: 0 1 calc(var(--iotLineHeight) * 17.5);\n    }\n    :host > * {\n      flex-shrink: 0;\n    }\n    :host > .inspector-header {\n      display: flex;\n      flex-direction: row;\n      margin-bottom: var(--iotSpacing);\n      flex-grow: 0;\n    }\n    :host > .inspector-header > io-breadcrumbs {\n      flex: 1 1;\n    }\n    :host > .inspector-header > io-boolean {\n      width: calc(var(--iotSpacing) + var(--iotLineHeight));\n      align-self: stretch;\n      height: auto;\n    }\n    :host > .inspector-header > io-boolean:not([value]) {\n      opacity: 0.25;\n    }\n    :host > .inspector-header > io-string {\n      margin: 0 var(--iotSpacing);\n      padding: calc(2 * var(--iotSpacing));\n      align-self: stretch;\n      height: auto;\n    }\n    :host > .inspector-header > io-string:focus {\n      width: 6em;\n    }\n    :host > .inspector-header > io-string:empty:before {\n      content: ' 🔍';\n      white-space: pre;\n      visibility: visible;\n      opacity: 0.33;\n    }\n    :host > io-collapsable > io-boolean,\n    :host > io-object > io-boolean {\n      text-transform: capitalize;\n    }\n    :host > io-object {\n      flex-basis: auto !important;\n    }\n    :host > io-object > io-properties {\n      border-radius: var(--iotBorderRadius);\n      background-color: var(--iotBackgroundColor) !important;\n      border: var(--iotBorder);\n      border-color: var(--iotBorderColorInset);\n      padding: var(--iotSpacing);\n      overflow: hidden;\n    }\n    :host > io-object > io-properties:not([horizontal])[labeled] {\n      grid-template-columns: minmax(6em, min-content) minmax(12em, 1fr);\n    }\n    :host > io-object > io-properties:not([horizontal])[labeled] > span.io-field {\n      text-align: right;\n    }\n    :host io-properties io-field.select {\n      color: var(--iotColorLink) !important;\n    }\n    :host io-properties io-field.select:hover {\n      text-decoration: underline;\n    }\n    "}static get Listeners(){return{"io-field-clicked":"_onItemClicked"}}_onItemClicked(e){e.stopPropagation();const t=e.detail.value,n=e.composedPath()[0];t&&"object"==typeof t&&n.classList.contains("select")&&this.setProperty("selected",t)}valueChanged(){this.selected=this.value}advancedChanged(){delete this._currentCfgLen}selectedMutated(){clearTimeout(this._cfgTimeout),this._cfgTimeout=setTimeout((()=>{this._onChange()}),100)}changed(){this._onChangedThrottled()}_onChangedThrottled(){this.throttle(this._onChange)}_onChange(){const e=this.__proto__._protoConfig.getObjectConfig(this.selected);Object.assign(e,this.config),this._groups=this.__proto__._groups.getObjectGroups(this.selected,this.groups,Object.getOwnPropertyNames(e)),this._widgets=this.__proto__._widgets.getObjectWidgets(this.selected,this.widgets);const t=this.uuid||function genUUID(e){let t="io-object-collapse-state-"+e.constructor.name;t+="-"+(e.guid||e.uuid||e.id||"");const n=JSON.stringify(Object.keys(e));let o=0;for(let e=0;e<n.length;e++)o=(o<<5)-o+n.charCodeAt(e),o|=0;return o=(-o).toString(16),t+="-"+o,t}(this.selected),n=[["div",{class:"inspector-header"},[["io-breadcrumbs",{value:this.value,selected:this.bind("selected")}]]],this._widgets.main?this._widgets.main:null];for(const e in this._widgets.groups)this._groups[e]||n.push(["io-collapsable",{label:e,expanded:f({value:!0,storage:"local",key:t+"-"+e}),elements:[this._widgets.groups[e]]}]);for(const t in this._groups)n.push(["io-object",{label:t,expanded:f({value:!0,storage:"local",key:this.uuid+"-"+t}),value:this.selected,properties:this._groups[t],config:e,widget:this._widgets.groups[t]||[]}]);this.template(n)}static get Config(){return[[Object,[[null,["io-field",{appearance:"neutral",class:"select"}]],[void 0,["io-string",{appearance:"neutral"}]],[String,["io-string",{appearance:"neutral"}]],[Number,["io-number",{appearance:"neutral",step:1e-4}]],[Boolean,["io-boolean"]],[Object,["io-field",{appearance:"neutral",class:"select"}]]]]]}static get ObjectGroups(){return{"Object|hidden":[/^_/],"Array|main":[/^[0-9]+$/],"HTMLElement|main":["localName","tagName","nodeName",/class/i,/attribute/i],"HTMLElement|hidden":[/^on/,/^[A-Z0-9_]*$/,"childElementCount"],"HTMLElement|content":[/content/i,/inner/i,/outer/i],"HTMLElement|display":[/width/i,/height/i,/top/i,/left/i,/scroll/i,/style/i],"HTMLElement|hierarchy":[/parent/i,/child/i,/element/i,/root/i,/slot/i,/sibling/i,/document/i]}}static get ObjectWidgets(){return{}}Register(e){super.Register(e),Object.defineProperty(e.prototype,"_protoConfig",{writable:!0,value:new ProtoObjectConfig(e.prototype._protochain.constructors)}),Object.defineProperty(e.prototype,"_groups",{writable:!0,value:new ObjectGroups(e.prototype._protochain.constructors)}),Object.defineProperty(e.prototype,"_widgets",{writable:!0,value:new ObjectWidgets(e.prototype._protochain.constructors)})}};__decorate$4([Property({observe:!0})],Fn.prototype,"value",void 0),__decorate$4([Property({observe:!0})],Fn.prototype,"selected",void 0),__decorate$4([Property({type:Object})],Fn.prototype,"config",void 0),__decorate$4([Property("")],Fn.prototype,"uuid",void 0),__decorate$4([Property("")],Fn.prototype,"search",void 0),__decorate$4([Property({type:Object})],Fn.prototype,"groups",void 0),__decorate$4([Property({type:Object})],Fn.prototype,"widgets",void 0),Fn=__decorate$4([Register],Fn);var __decorate$3=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let $n=class IoObject extends d{static get Style(){return'\n    :host {\n      /* Panel */\n      display: flex;\n      flex-direction: column; */\n      padding-left: var(--iotSpacing);\n      padding-right: var(--iotSpacing);\n      color: var(--iotColorField);\n      background-color: var(--iotBackgroundColor);\n    }\n    :host > io-boolean {\n      padding-left: 0;\n      padding-right: 0;\n      align-self: stretch;\n    }\n    :host > io-boolean:before {\n      display: inline-block;\n      width: 0.75em;\n      content: "▸"\n    }\n    :host > io-boolean[value]:before {\n      content: "▾";\n    }\n    '}changed(){const e=this.label||this.value.constructor.name,t=[];t.push(["io-boolean",{appearance:"neutral",true:e,false:e,value:this.bind("expanded")}]),this.expanded&&t.push(["io-properties",{value:this.value,properties:this.properties,config:this.config,labeled:this.labeled,widget:this.widget}]),this.template(t),this.setAttribute("aria-expanded",String(this.expanded))}};__decorate$3([Property({})],$n.prototype,"value",void 0),__decorate$3([Property({type:Array})],$n.prototype,"properties",void 0),__decorate$3([Property({type:Object})],$n.prototype,"config",void 0),__decorate$3([Property({type:Array})],$n.prototype,"widget",void 0),__decorate$3([Property(!0)],$n.prototype,"labeled",void 0),__decorate$3([Property("")],$n.prototype,"label",void 0),__decorate$3([Property({value:!1,reflect:!0})],$n.prototype,"expanded",void 0),__decorate$3([Property("region")],$n.prototype,"role",void 0),$n=__decorate$3([Register],$n);var __decorate$2=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let Vn=class IoSliderRange extends IoSliderBase{_index=0;_getCoordFromValue(e){const t=[0,0],n=this._min,o=this._max;return t[0]=(e[0]-n[0])/(o[0]-n[0]),t[1]=(e[1]-n[1])/(o[1]-n[1]),t}_onPointerdown(e){super._onPointerdown(e);const t=this._value,n=this._getPointerCoord(e),o=this._getCoordFromValue(t);this._index=Math.abs(o[0]-n[0])<Math.abs(o[1]-n[0])?0:1}_onPointermoveThrottled(e){if(1===this._active){document.activeElement!==this&&this.focus();const t=this._value,n=this._getPointerCoord(e),o=this._getValueFromCoord(n);0===this._index?this._inputValue([o[0],t[1]]):1===this._index&&this._inputValue([t[0],o[0]])}}static get GlUtils(){return"\n      vec3 paintSliderRange(vec3 dstCol, vec2 p, vec2 size, vec3 colorStart, vec3 colorEnd) {\n        vec4 finalCol = vec4(0.0);\n\n        float valueInRangeStart = (uValue[0] - uMin) / (uMax - uMin);\n        float signStart = valueInRangeStart < 0.0 ? -1.0 : 1.0;\n        valueInRangeStart = abs(pow(valueInRangeStart, 1./uExponent)) * signStart;\n\n        float valueInRangeEnd = (uValue[1] - uMin) / (uMax - uMin);\n        valueInRangeEnd = abs(pow(valueInRangeEnd, 1./uExponent));\n\n        vec2 start = vec2(size.x * min(2.0, max(-1.0, (valueInRangeStart))), size.y * 0.5);\n        vec2 end = vec2(size.x * min(2.0, max(-1.0, (valueInRangeEnd))), size.y * 0.5);\n\n        vec2 pStart = translate(p, start);\n        vec2 pEnd = translate(p, end);\n        vec2 pCenter = (pStart + pEnd) / 2.0;\n        float slotHalfWidth = abs(pStart.x - pEnd.x) / 2.0;\n\n        float slotThickness = iotFieldHeight * 0.125;\n        float knobRadius = iotFieldHeight * 0.25;\n\n        float strokeShape = min(min(\n          circle(pStart, knobRadius + iotStrokeWidth + iotStrokeWidth),\n          rectangle(pCenter, vec2(slotHalfWidth, slotThickness + iotStrokeWidth + iotStrokeWidth))),\n          circle(pEnd, knobRadius + iotStrokeWidth + iotStrokeWidth)\n        );\n\n        float fillShape   = min(min(\n          circle(pStart, knobRadius + iotStrokeWidth),\n          rectangle(pCenter, vec2(slotHalfWidth, slotThickness + iotStrokeWidth))),\n          circle(pEnd, knobRadius + iotStrokeWidth)\n        );\n        float colorShape  = min(min(\n          circle(pStart, knobRadius),\n          rectangle(pCenter, vec2(slotHalfWidth, slotThickness))),\n          circle(pEnd, knobRadius)\n        );\n\n        float grad = (p.x - start.x) / (end.x - start.x);\n        vec3 sloiotGradient = mix(colorStart, colorEnd, saturate(grad));\n\n        finalCol = mix(iotColor, finalCol, strokeShape);\n        finalCol = mix(vec4(iotBackgroundColor.rgb, 1.0), finalCol, fillShape);\n        finalCol = mix(vec4(sloiotGradient, 1.0), finalCol, colorShape);\n\n        return compose(dstCol, finalCol);\n      }\n    "}static get Frag(){return"\n    varying vec2 vUv;\n\n    void main(void) {\n      // Dimensions\n      vec2 size = uVertical == 1 ? uSize.yx : uSize;\n      vec2 uv = uVertical == 1 ? vUv.yx : vUv;\n      vec2 position = size * uv;\n\n      // Colors\n      vec3 finalCol = iotBackgroundColorField.rgb;\n      vec4 gridCol = mix(iotColor, iotBackgroundColorField, 0.85);\n\n      // Sizes\n      float gridThickness = iotStrokeWidth;\n      float gridSize = size.x / abs((uMax - uMin) / uStep);\n      float gridOffset = mod(uMin, uStep) / (uMax - uMin) * size.x;\n\n      // Grid\n      vec2 expPosition = size * vec2(pow(uv.x, uExponent), uv.y);\n      vec2 gridPosition = translate(expPosition, gridOffset, size.y / 2.);\n      float gridShape = grid2d(gridPosition, vec2(gridSize, size.y + gridThickness * 2.0), gridThickness);\n\n      if (gridSize > gridThickness * 2.0) {\n        finalCol = compose(finalCol, vec4(gridCol.rgb, gridShape));\n      }\n\n      // Line\n      vec3 lineCol = mix(iotColorSelected.rgb, iotBackgroundColorField.rgb, 0.75);\n      finalCol = paintHorizontalLine(finalCol, gridPosition, lineCol);\n\n      // Slider\n      finalCol = paintSliderRange(finalCol, position, size, iotColorSelected.rgb, iotColorLink.rgb);\n\n      gl_FragColor = vec4(finalCol, 1.0);\n    }\n    "}};__decorate$2([Property({value:null,type:Array,init:[0,0],observe:!0})],Vn.prototype,"value",void 0),__decorate$2([Property(.01)],Vn.prototype,"step",void 0),__decorate$2([Property(0)],Vn.prototype,"min",void 0),__decorate$2([Property(1)],Vn.prototype,"max",void 0),Vn=__decorate$2([Register],Vn);var __decorate$1=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let Un=class IoNumberSliderRange extends d{static get Style(){return"\n    :host {\n      display: flex;\n      min-width: var(--iotFieldHeight4);\n      width: var(--iotFieldHeight8);\n    }\n    :host > io-number {\n      flex: 0 0 3.25em;\n    }\n    :host > io-slider-range {\n      margin-left: var(--iotSpacing);\n      margin-right: var(--iotSpacing);\n      flex: 1 1 3.25em;\n      min-width: 3.25em;\n    }\n    "}_onNumberSet(e){const t=e.composedPath()[0];t===this.$.number0&&(this.value[0]=e.detail.value),t===this.$.number1&&(this.value[1]=e.detail.value),e.detail.value=this.value,this.dispatchEvent("object-mutated",{object:this.value},!1,window),this.dispatchEvent("value-input",e.detail,!1)}_onSliderSet(e){this.value=e.detail.value,this.dispatchEvent("object-mutated",{object:this.value},!1,window),this.dispatchEvent("value-input",e.detail,!1)}init(){this.changed()}changed(){this.template([["io-number",{$:"number0",value:this.value[0],step:this.step,conversion:this.conversion,label:this.label,"@value-input":this._onNumberSet}],["io-slider-range",{$:"slider",value:this.value,step:this.step,min:this.min,max:this.max,exponent:this.exponent,label:this.label,"@value-input":this._onSliderSet}],["io-number",{$:"number1",value:this.value[1],step:this.step,conversion:this.conversion,label:this.label,"@value-input":this._onNumberSet}]])}};__decorate$1([Property({type:Array,init:[0,0],observe:!0})],Un.prototype,"value",void 0),__decorate$1([Property(.01)],Un.prototype,"step",void 0),__decorate$1([Property(0)],Un.prototype,"min",void 0),__decorate$1([Property(1)],Un.prototype,"max",void 0),__decorate$1([Property(1)],Un.prototype,"exponent",void 0),__decorate$1([Property(1)],Un.prototype,"conversion",void 0),Un=__decorate$1([Register],Un);var __decorate=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let Wn=class IoNumberSlider extends d{static get Style(){return"\n    :host {\n      display: flex;\n      min-width: var(--iotFieldHeight4);\n      width: var(--iotFieldHeight8);\n    }\n    :host > io-number {\n      flex: 0 0 3.25em;\n      margin-right: var(--iotSpacing);\n    }\n    :host > io-slider {\n      flex: 1 1 3em;\n      min-width: 3em;\n    }\n    "}_onNumberSet(e){this.value=e.detail.value,this.dispatchEvent("value-input",e.detail,!1)}_onSliderSet(e){e.detail.value=e.detail.value/this.conversion,this.value=e.detail.value,this.dispatchEvent("value-input",e.detail,!1)}init(){this.changed()}changed(){this.template([["io-number",{$:"number",value:this.value,step:this.step,conversion:this.conversion,label:this.label,"@value-input":this._onNumberSet}],["io-slider",{$:"slider",value:this.value*this.conversion,step:this.step*this.conversion,min:this.min*this.conversion,max:this.max*this.conversion,exponent:this.exponent,label:this.label,"@value-input":this._onSliderSet}]])}};__decorate([Property({value:0})],Wn.prototype,"value",void 0),__decorate([Property(.01)],Wn.prototype,"step",void 0),__decorate([Property(0)],Wn.prototype,"min",void 0),__decorate([Property(1)],Wn.prototype,"max",void 0),__decorate([Property(1)],Wn.prototype,"exponent",void 0),__decorate([Property(1)],Wn.prototype,"conversion",void 0),Wn=__decorate([Register],Wn);
/** @License
 * Copyright ©2022 Aleksandar (Aki) Rodic
 *
 * The MIT License
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
const Gn="MIT";export{Binding,ChangeQueue,Color,x as DARK_THEME,EventDispatcher,F as IoBoolean,$ as IoBoolicon,Bn as IoBreadcrumbs,D as IoButton,Ce as IoCollapsable,IoColorBase,ye as IoColorPanel,xe as IoColorPanelSingleton,_e as IoColorPicker,we as IoColorRgba,oe as IoColorSlider,IoColorSlider2dBase,ae as IoColorSliderA,se as IoColorSliderB,IoColorSliderBase,pe as IoColorSliderC,re as IoColorSliderG,le as IoColorSliderH,fe as IoColorSliderHs,ve as IoColorSliderK,de as IoColorSliderL,ue as IoColorSliderM,ie as IoColorSliderR,ce as IoColorSliderS,be as IoColorSliderSL,me as IoColorSliderSv,he as IoColorSliderV,ge as IoColorSliderY,ke as IoColorSwatch,jn as IoContextMenu,d as IoElement,B as IoField,O as IoGl,Z as IoIcon,Q as IoIconset,J as IoIconsetSingleton,Fn as IoInspector,N as IoLabel,Mn as IoMatrix,fn as IoMdView,In as IoMenuHamburger,An as IoMenuItem,Ln as IoMenuOptions,Rn as IoMenuTree,IoNavigatorBase,_n as IoNavigatorCombined,wn as IoNavigatorMdView,Cn as IoNavigatorScroller,kn as IoNavigatorSelector,t as IoNode,IoNodeMixin,Nn as IoNotify,W as IoNumber,Y as IoNumberLadder,K as IoNumberLadderSingleton,q as IoNumberLadderStep,Wn as IoNumberSlider,Un as IoNumberSliderRange,$n as IoObject,Hn as IoOptionMenu,A as IoOverlay,I as IoOverlaySingleton,Dn as IoProperties,xn as IoScroller,yn as IoSelector,te as IoSlider,ne as IoSlider2d,IoSliderBase,Vn as IoSliderRange,f as IoStorage,v as IoStorageNode,U as IoString,V as IoSwitch,C as IoThemeSingleton,Sn as IoVector,Gn as LICENSE,y as LIGHT_THEME,j as MenuItem,H as MenuOptions,ObjectConfig,ObjectGroups,ObjectWidgets,Property,e as PropertyDecorators,PropertyInstance,ProtoChain,ProtoObjectConfig,ProtoProperty,Register,addMenuOptions,applyNativeElementProps,assignListenerDeclaration,buildTree,disposeElementDeep,filterOptions,genObjectStorageID,getMenuAncestors,getMenuDescendants,getMenuRoot,hardenListenerDeclaration,listenerFromDefinition};
