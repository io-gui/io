{"version":3,"file":"storage.js","sourceRoot":"","sources":["../../src/core/storage.ts"],"names":[],"mappings":"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"}