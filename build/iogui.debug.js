class ChangeQueue{hasChanged=!1;dispatching=!1;constructor(e){this.changes=[],this.node=e}queue(e,o,r){o===r&&console.warn("ChangeQueue: queuing change with same value and oldValue!");const s=this.changes.findIndex((o=>o.property===e));-1===s?this.changes.push({property:e,value:o,oldValue:r}):this.changes[s].value=o}dispatch(){if(!0!==this.dispatching){for(this.dispatching=!0,this.hasChanged=!1;this.changes.length;){const e=this.changes[0];this.changes.splice(0,1);const o=e.property;e.value!==e.oldValue&&(this.hasChanged=!0,this.node[o+"Changed"]&&this.node[o+"Changed"](e),this.node.dispatchEvent(o+"-changed",e))}this.hasChanged&&(this.node.changed(),this.node.dispatchEvent("changed"),this.node.dispatchMutationEvent(this.node)),this.dispatching=!1}}dispose(){this.changes.length=0,delete this.node,delete this.changes}}const hardenListenerDefinition=e=>Array.isArray(e)?e:[e],e=["capture","passive"],listenerFromDefinition=(o,r)=>{const s=r[0],v=r[1];if("string"!=typeof s&&"function"!=typeof s&&console.warn("listenerFromDefinition: Listener must be a function or method name"),void 0!==v){"object"==typeof v&&null!==v||console.warn("listenerFromDefinition: Listener options must be an object");const o=Object.keys(v).filter((o=>!e.includes(o)));o.length>0&&console.warn(`listenerFromDefinition: Invalid listener options: ${o.join(", ")}`)}"string"!=typeof s||s in o||console.warn(`listenerFromDefinition: Method "${s}" not found on node`);const x="string"==typeof s?o[s]:s;return v?[x,v]:[x]};class EventDispatcher{node;isEventTarget;protoListeners={};propListeners={};addedListeners={};constructor(e){this.node=e,this.isEventTarget=e instanceof EventTarget,this.setProtoListeners(e)}setProtoListeners(e){for(const o in e._protochain?.listeners){for(let r=0;r<e._protochain.listeners[o].length;r++){const s=listenerFromDefinition(e,e._protochain.listeners[o][r]);this.protoListeners[o]=[s]}if(this.isEventTarget&&this.protoListeners[o]){const e=this.protoListeners[o][0];EventTarget.prototype.addEventListener.call(this.node,o,e[0],e[1])}}}applyPropListeners(e){const o={};for(const r in e){if(!r.startsWith("@"))continue;const s=r.slice(1),v=hardenListenerDefinition(e[r]),x=listenerFromDefinition(this.node,v);o[s]=[x]}const r=this.propListeners;for(const e in r)if(!o[e]){if(this.isEventTarget){const o=r[e][0];EventTarget.prototype.removeEventListener.call(this.node,e,o[0],o[1])}delete r[e]}for(const e in o){if(this.isEventTarget){const s=o[e][0];if(r[e]){const o=r[e][0];(o!==s||s[1]&&JSON.stringify(o[1])!==JSON.stringify(s[1]))&&EventTarget.prototype.removeEventListener.call(this.node,e,o[0],o[1])}EventTarget.prototype.addEventListener.call(this.node,e,s[0],s[1])}r[e]=o[e]}}addEventListener(o,r,s){if("function"!=typeof r&&console.warn("EventDispatcher.addEventListener: Invalid listener type - must be a function"),void 0!==s){"object"==typeof s&&null!==s||console.warn("EventDispatcher.addEventListener: Invalid listener options type - must be an object");const o=Object.keys(s).filter((o=>!e.includes(o)));o.length>0&&console.warn(`EventDispatcher.addEventListener: Invalid listener options: ${o.join(", ")}`)}this.addedListeners[o]||(this.addedListeners[o]=[]);if(-1!==this.addedListeners[o].findIndex((e=>e[0]===r)))return void console.warn(`EventDispatcher.addEventListener: Listener for '${o}' event already added`);const v=s?[r,s]:[r];this.addedListeners[o].push(v),this.isEventTarget&&EventTarget.prototype.addEventListener.call(this.node,o,r,s)}removeEventListener(o,r,s){if(r&&"function"!=typeof r&&console.warn("EventDispatcher.removeEventListener: Invalid listener type!"),void 0!==s){"object"==typeof s&&null!==s||console.warn("EventDispatcher.removeEventListener: Invalid listener options type - must be an object");const o=Object.keys(s).filter((o=>!e.includes(o)));o.length>0&&console.warn(`EventDispatcher.removeEventListener: Invalid listener options: ${o.join(", ")}`)}if(this.addedListeners[o]||console.warn(`EventDispatcher.removeEventListener: Listener ${o} not found!`),this.addedListeners[o]){if(r){const e=this.addedListeners[o].findIndex((e=>e[0]===r));-1===e&&console.warn(`EventDispatcher.removeEventListener: Listener ${o} not found!`),-1!==e&&(this.addedListeners[o].splice(e,1),this.isEventTarget&&EventTarget.prototype.removeEventListener.call(this.node,o,r,s))}else{for(let e=0;e<this.addedListeners[o].length;e++)if(this.isEventTarget){const r=this.addedListeners[o][e];EventTarget.prototype.removeEventListener.call(this.node,o,r[0],r[1])}this.addedListeners[o].length=0}0===this.addedListeners[o].length&&delete this.addedListeners[o]}}dispatchEvent(e,o,r=!0,s=this.node){if(s instanceof EventTarget)EventTarget.prototype.dispatchEvent.call(s,new CustomEvent(e,{detail:o,bubbles:r,composed:!0,cancelable:!0}));else{const r={detail:o,target:s,path:[s]};if(this.protoListeners[e])for(let o=0;o<this.protoListeners[e].length;o++){this.protoListeners[e][o][0].call(s,r)}if(this.propListeners[e]){this.propListeners[e].length>1&&console.warn(`EventDispatcher.dispathEvent: PropListeners[${e}] array too long!`);this.propListeners[e][0][0].call(s,r)}if(this.addedListeners[e])for(let o=0;o<this.addedListeners[e].length;o++){this.addedListeners[e][o][0].call(s,r)}}}dispose(){for(const e in this.protoListeners){if(this.isEventTarget)for(let o=0;o<this.protoListeners[e].length;o++){const r=this.protoListeners[e][o];EventTarget.prototype.removeEventListener.call(this.node,e,r[0],r[1])}this.protoListeners[e].length=0,delete this.protoListeners[e]}for(const e in this.propListeners){if(this.isEventTarget){const o=this.propListeners[e][0];EventTarget.prototype.removeEventListener.call(this.node,e,o[0],o[1])}this.propListeners[e].length=0,delete this.propListeners[e]}for(const e in this.addedListeners){if(this.isEventTarget)for(let o=this.addedListeners[e].length;o--;){const r=this.addedListeners[e][o];EventTarget.prototype.removeEventListener.call(this.node,e,r[0],r[1])}this.addedListeners[e].length=0,delete this.addedListeners[e]}delete this.node,delete this.protoListeners,delete this.propListeners,delete this.addedListeners}}class Binding{node;property="";targets=[];targetProperties=new WeakMap;constructor(e,o){this.node=e,this.property=o,this.node.addEventListener(`${this.property}-changed`,this.onSourceChanged)}set value(e){this.node[this.property]=e}get value(){return this.node[this.property]}toJSON(){return JSON.stringify({property:this.property,targetProperties:this.targetProperties})}addTarget(e,o){const r=e._properties.get(o);r.binding&&r.binding!==this&&console.warn("Binding target alredy has a binding!"),r.binding=this,e.setProperty(o,this.node[this.property],!0);const s=e;-1===this.targets.indexOf(s)&&this.targets.push(s);const v=this.getTargetProperties(s);-1===v.indexOf(o)?(v.push(o),s.addEventListener(`${o}-changed`,this.onTargetChanged)):console.warn("Binding target alredy added!")}removeTarget(e,o){const r=this.getTargetProperties(e);if(o){const s=r.indexOf(o);-1!==s&&r.splice(s,1),e.removeEventListener(`${o}-changed`,this.onTargetChanged),e._properties.get(o).binding=void 0}else{for(let o=r.length;o--;)e.removeEventListener(`${r[o]}-changed`,this.onTargetChanged),e._properties.get(r[o]).binding=void 0;r.length=0}0===r.length&&this.targets.splice(this.targets.indexOf(e),1)}getTargetProperties(e){return this.targetProperties.has(e)||this.targetProperties.set(e,[]),this.targetProperties.get(e)}onTargetChanged=e=>{if(-1===this.targets.indexOf(e.target))return void console.error("onTargetChanged() should never fire when target is removed from binding. Please file an issue at https://github.com/arodic/iogui/issues.");const o=this.node[this.property],r=e.detail.value;if(o!==r){if("number"==typeof r&&isNaN(r)&&"number"==typeof o&&isNaN(o))return;this.node.setProperty(this.property,r)}};onSourceChanged=e=>{if(e.target!==this.node)return void console.error("onSourceChanged() should always originate form source node. Please file an issue at https://github.com/arodic/iogui/issues.");const o=e.detail.value;for(let e=this.targets.length;e--;){const r=this.targets[e],s=this.getTargetProperties(r);for(let e=s.length;e--;){const v=s[e],x=r[v];if(x!==o){if("number"==typeof o&&isNaN(o)&&"number"==typeof x&&isNaN(x))continue;r.setProperty(v,o)}}}};dispose(){this.node.removeEventListener(`${this.property}-changed`,this.onSourceChanged);for(let e=this.targets.length;e--;)this.removeTarget(this.targets[e]);this.targets.length=0,delete this.node,delete this.property,delete this.targets,delete this.targetProperties}}class ProtoProperty{value;type;binding;reflect;reactive;observe;init;constructor(e){if(null==e)this.value=e;else if("function"==typeof e)this.type=e;else if(e instanceof Binding)this.value=e.value,this.type=void 0!==e.value&&null!==e.value?e.value.constructor:void 0,this.binding=e;else if(e&&e.constructor===Object){const o=e;this.value=void 0!==o.value?o.value:void 0,this.type=void 0!==o.type?o.type:void 0!==o.value&&null!==o.value?o.value.constructor:void 0,o.binding instanceof Binding&&(this.binding=o.binding,this.value=this.binding.value),void 0!==o.reflect&&(this.reflect=o.reflect),void 0!==o.reactive&&(this.reactive=o.reactive),void 0!==o.observe&&(this.observe=o.observe),void 0!==o.init&&(this.init=o.init)}else e&&e.constructor===Object||(this.value=e,this.type=e.constructor)}assign(e){void 0!==e.value&&(this.value=e.value),void 0!==e.type&&(this.type=e.type),void 0!==e.reflect&&(this.reflect=e.reflect),void 0!==e.reactive&&(this.reactive=e.reactive),void 0!==e.observe&&(this.observe=e.observe),void 0!==e.init&&(this.init=e.init),void 0!==e.binding&&(this.binding=e.binding)}}function decodeInitArgument(e,o){if("this"===e)return o;if("string"!=typeof e||!e.startsWith("this."))return e;{const r=e.split(".");let s=o;for(let e=1;e<r.length;e++)s=s[r[e]];if(s)return s;console.warn(`PropertyInstance: Invalid path ${e}`)}}class PropertyInstance{value=void 0;type;binding;reflect=!1;reactive=!0;observe=!1;init=void 0;constructor(e,o){if(Object.keys(o).forEach((e=>{-1===["value","type","reflect","reactive","observe","init","binding"].indexOf(e)&&console.warn(`ProtoProperty: Invalid field ${e}`)})),void 0!==o.type&&"function"!=typeof o.type&&console.warn('Incorrect type for "type" field'),void 0!==o.binding&&o.binding.constructor!==Binding&&console.warn('Incorrect type for "binding" field'),void 0!==o.reflect&&"boolean"!=typeof o.reflect&&console.error(`Invalid reflect field ${o.reflect}!`),void 0!==o.reactive&&"boolean"!=typeof o.reactive&&console.warn('Incorrect type for "reactive" field'),void 0!==o.observe&&"boolean"!=typeof o.observe&&console.warn('Incorrect type for "observe" field'),this.value=o.value,this.type=o.type,this.binding=o.binding,void 0!==o.reflect&&(this.reflect=o.reflect),void 0!==o.reactive&&(this.reactive=o.reactive),void 0!==o.observe&&(this.observe=o.observe),void 0!==o.init&&(this.init=o.init),this.binding instanceof Binding)this.value=this.binding.value;else if((void 0===this.value||null===this.value)&&null!==this.init)if(this.type===Boolean)this.value=!1;else if(this.type===String)this.value="";else if(this.type===Number)this.value=0;else if("function"==typeof this.type)if(void 0!==this.init)if(this.init instanceof Array){const o=this.init.map((o=>decodeInitArgument(o,e)));this.value=new this.type(...o)}else if(this.init instanceof Object){const o={};Object.keys(this.init).forEach((r=>{o[r]=decodeInitArgument(this.init[r],e)})),this.value=new this.type(o)}else{const o=decodeInitArgument(this.init,e);this.value=new this.type(o)}else this.value=new this.type;void 0!==this.value&&null!==this.value&&(-1!==[String,Number,Boolean].indexOf(this.type)?(this.type===Boolean&&"boolean"!=typeof this.value||this.type===Number&&"number"!=typeof this.value||this.type===String&&"string"!=typeof this.value)&&console.warn(`Property: Incorrect value ${this.value} type for property ${name}!`):"function"!=typeof this.type||this.value instanceof this.type||console.warn(`Property: Incorrect value ${this.value} type for property ${name}!`))}}const o=new WeakMap,Property=function(e){return(r,s)=>{const v=r.constructor,x=o.get(v)||{};o.set(v,x),x[s]=e}};class ProtoChain{constructors=[];functions=[];properties={};listeners={};styles="";observedObjectProperties=[];constructor(e){let r=e.prototype;for(;r&&e!==HTMLElement&&e!==Object&&e!==Array;){this.constructors.push(e);const o=Object.getOwnPropertyNames(r);for(let e=0;e<o.length;e++){const s=o[e];if(s.startsWith("_")||s.startsWith("on")){const e=Object.getOwnPropertyDescriptor(r,s);if(void 0===e||e.get||e.set)continue;"function"==typeof r[s]&&-1===this.functions.indexOf(s)&&this.functions.push(s)}}e.Style&&-1===this.styles.indexOf(e.Style)&&(this.styles=e.Style+"\n"+this.styles),r=Object.getPrototypeOf(r),e=r.constructor}let s="";for(let e=this.constructors.length;e--;){let r;if(r=o.get(this.constructors[e]),r)for(const e in r){const o=new ProtoProperty(r[e]);this.properties[e]||(this.properties[e]=o),this.properties[e].assign(o)}r=this.constructors[e].Properties;const v=JSON.stringify(r);if(v!==s)for(const e in r){const o=new ProtoProperty(r[e]);this.properties[e]||(this.properties[e]=o),this.properties[e].assign(o),s=v}const x=this.constructors[e].Listeners;for(const e in x)x[e]&&(this.listeners[e]=this.listeners[e]||[],this.assignListenerDefinition(e,hardenListenerDefinition(x[e])))}for(const e in this.properties){const o=this.properties[e];if(o.observe&&(-1!==[String,Number,Boolean].indexOf(o.type)&&console.warn(`Property "${e}" in ProtoChain: "observe" is only intended for property definitions with Object data type!`),this.observedObjectProperties.push(e)),-1!==[String,Number,Boolean].indexOf(o.type))(o.type===Boolean&&"boolean"!=typeof o.value||o.type===Number&&"number"!=typeof o.value||o.type===String&&"string"!=typeof o.value)&&console.warn(`Property "${e}" in ProtoChain: Incorrect value type for Boolean property!`);else{const r=null===o.value,s=void 0===o.value;"function"!=typeof o.type||o.value instanceof o.type||r||s||console.warn(`Property "${e}" in ProtoChain: Incorrect value type for Boolean property!`)}}}assignListenerDefinition=(e,o)=>{const r=this.listeners[e],s=r.findIndex((e=>e[0]===o[0]));-1!==s?r[s][1]?r[s][1]=Object.assign(r[s][1],o[1]):o[1]&&(r[s][1]=o[1]):r.push(o)};autobindFunctions(e){e.constructor!==this.constructors[0]&&console.warn("`autobindFunctions` should be used on",this.constructors[0].name,"instance");for(let o=this.functions.length;o--;)Object.defineProperty(e,this.functions[o],{value:e[this.functions[o]].bind(e),writable:!0,configurable:!0})}}var __decorate$P=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};function IoNodeMixin(e){return class extends e{static get Properties(){return{lazy:{value:!1,reactive:!1,reflect:!0}}}constructor(e={},...o){super(...o);{const e=Object.getPrototypeOf(this).constructor;this._protochain.constructors[0]!==e&&console.error(`${e.name} not registered! Call "Register([ClassName])" of @Register decorator before using ${e.name} class!`)}this._protochain.autobindFunctions(this),Object.defineProperty(this,"_changeQueue",{enumerable:!1,configurable:!0,value:new ChangeQueue(this)}),Object.defineProperty(this,"_properties",{enumerable:!1,configurable:!0,value:new Map}),Object.defineProperty(this,"_bindings",{enumerable:!1,configurable:!0,value:new Map}),Object.defineProperty(this,"_eventDispatcher",{enumerable:!1,configurable:!0,value:new EventDispatcher(this)});for(const e in this._protochain.properties)Object.defineProperty(this,e,{get:function(){return this._properties.get(e).value},set:function(o){this.setProperty(e,o)},configurable:!0});for(const e in this._protochain.properties){const o=new PropertyInstance(this,this._protochain.properties[e]);this._properties.set(e,o);const r=o.value;null!=r&&o.reflect&&this._isIoElement&&this.setAttribute(e,r),o.binding&&o.binding.addTarget(this,e)}this.applyProperties(e),this._protochain.observedObjectProperties.length&&window.addEventListener("object-mutated",this.onObjectMutated),this.init()}setProperty(e,o,r){const s=this._properties.get(e),v=s.value;if(o!==v){const x=o instanceof Binding?o:null;if(x){const r=s.binding;if(x!==r)return r&&r.removeTarget(this,e),void x.addTarget(this,e);x.value=o=s.value,s.reactive||console.warn(`IoNode: property "${e}" is bound but has reactive flag set to false!`)}s.value=o,o instanceof Binding&&console.log(o instanceof Binding),s.type===String?"string"!=typeof o&&console.warn(`Wrong type of property "${e}". Value: "${o}". Expected type: ${s.type.name}`,this):s.type===Number?"number"!=typeof o&&console.warn(`Wrong type of property "${e}". Value: "${o}". Expected type: ${s.type.name}`,this):s.type===Boolean?"boolean"!=typeof o&&console.warn(`Wrong type of property "${e}". Value: "${o}". Expected type: ${s.type.name}`,this):s.type===Array?o instanceof Array||console.warn(`Wrong type of property "${e}". Value: "${o}". Expected type: ${s.type.name}`,this):s.type===Object?o instanceof Array&&console.warn(`Wrong type of property "${e}". Value: "${JSON.stringify(o)}". Expected type: ${s.type.name}`,this):"function"==typeof s.type&&(o instanceof s.type||console.warn(`Wrong type of property "${e}". Value: "${o}". Expected type: ${s.type.name}`,this)),s.reactive&&v!==o&&(this.queue(e,o,v),r||this.dispatchQueue()),s.reflect&&this._isIoElement&&this.setAttribute(e,o)}}applyProperties(e){for(const o in e)this._properties.has(o)?this.setProperty(o,e[o],!0):o.startsWith("@")||"style"===o||"config"===o||"$"===o||console.warn(`Property "${o}" is not defined`,this);this._eventDispatcher.applyPropListeners(e),this.dispatchQueue()}setProperties(e){for(const o in e)this._properties.has(o)?this.setProperty(o,e[o],!0):console.warn(`Property "${o}" is not defined`,this);this.dispatchQueue()}inputValue(e){if(this.value!==e||"object"==typeof this.value){const o=this.value;this.setProperty("value",e),this.dispatchEvent("value-input",{value:e,oldValue:o},!1)}}changed(){}init(){}queue(e,o,r){this._changeQueue.queue(e,o,r)}dispatchQueue(){this.lazy?this.throttle(this.dispatchQueueSync):this.dispatchQueueSync()}dispatchQueueSync=()=>{this._changeQueue.dispatch()};throttle(e,o=void 0,r=1){!function throttle(e,o,r,w=1){if(0===w&&-1===s.indexOf(o)){s.push(o);try{o(r)}catch(e){console.error(e)}return}-1===v.indexOf(o)&&v.push(o);if(x.has(o)){x.get(o).arg=r}else x.set(o,{node:e,arg:r,timeout:Date.now()+w})}(this,e,o,r)}onObjectMutated=e=>{for(let o=0;o<this._protochain.observedObjectProperties.length;o++){const r=this._protochain.observedObjectProperties[o];if(this._properties.get(r).value===e.detail.object)return void this.throttle(this.objectMutated,r,0);if(e.detail.objects)return void console.error("Deprecation warning! `objects` property no longer supported. Use `object` property instead.")}};objectMutated=e=>{this[e+"Mutated"]&&this[e+"Mutated"](),this.changed(),this.dispatchEvent("changed"),this.dispatchMutationEvent(this)};bind(e){return this._properties.has(e)?!1===this._properties.get(e).reactive&&console.warn(`IoGUI Node: cannot bind to ${e} property. It has reactive flag set to false!`):console.warn(`IoGUI Node: cannot bind to ${e} property. Does not exist!`),this._bindings.has(e)||this._bindings.set(e,new Binding(this,e)),this._bindings.get(e)}unbind(e){const o=this._bindings.get(e);o&&(o.dispose(),this._bindings.delete(e));const r=this._properties.get(e);r?.binding?.removeTarget(this,e)}addEventListener(e,o,r){"function"==typeof o?this._eventDispatcher.addEventListener(e,o,r):console.warn(`${this.constructor.name}incorrect listener type.`,this)}removeEventListener(e,o,r){this._eventDispatcher.removeEventListener(e,o,r)}dispatchEvent(e,o={},r=!1,s){this._eventDispatcher.dispatchEvent(e,o,r,s)}dispatchMutationEvent(e){this.dispatchEvent("object-mutated",{object:e},!0,window)}dispose(){this._disposed,this._disposed||(this._bindings.forEach(((e,o)=>{e.dispose(),this._bindings.delete(o)})),delete this._bindings,this._protochain.observedObjectProperties.length&&window.removeEventListener("object-mutated",this.onObjectMutated),delete this._protochain,this._changeQueue.dispose(),delete this._changeQueue,this._properties.forEach(((e,o)=>{e.binding?.removeTarget(this,o)})),this._eventDispatcher.dispose(),delete this._eventDispatcher,delete this._properties,Object.defineProperty(this,"_disposed",{value:!0}))}Register(e){Object.defineProperty(e.prototype,"_protochain",{value:new ProtoChain(e)})}}}function Register(e){e.prototype.Register(e)}let r=class IoNode extends(IoNodeMixin(Object)){};r=__decorate$P([Register],r);const s=[],v=[],x=new WeakMap;requestAnimationFrame((function animate(){requestAnimationFrame(animate),s.length=0;for(let e=v.length;e--;){const o=v[e],r=x.get(o);if(!(r.timeout>Date.now())){v.splice(v.indexOf(o),1),x.delete(o);try{r.node._disposed||(void 0!==r.arg?o(r.arg):o())}catch(e){console.error(e)}}}}));var __decorate$O=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};const w={},k=new RegExp("(\\/\\*[\\s\\S]*?\\*\\/)","gi"),C=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi"),S=new RegExp("((@media [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi"),M=new RegExp("(( --[\\s\\S]*?): {([\\s\\S]*?)})","gi"),R=new RegExp("(@apply\\s.*?;)","gi"),O=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi"),z=new ResizeObserver((e=>{for(const o of e)o.target.onResized()})),L=Array.isArray,clense=(e,o)=>o?"string"==typeof o[0]?[...e,o]:[...e,...o]:e,buildTree=()=>e=>{return"object"!=typeof(o=e[1])||L(o)?buildTree()([e[0],{},e[1]]):{name:e[0],props:e[1],children:L(e[2])?e[2].reduce(clense,[]).map(buildTree()):e[2]};var o},constructElement=function(e){const o=window.customElements?window.customElements.get(e.name):null;if(o&&o._isIoElement)return new o(e.props);const r=document.createElement(e.name);return applyNativeElementProps(r,e.props),r},disposeElementDeep=function(e){requestAnimationFrame((()=>{const o=[...e.querySelectorAll("*"),e];for(let e=o.length;e--;)"function"==typeof o[e].dispose?o[e].dispose():o[e]._eventDispatcher&&(o[e]._eventDispatcher.dispose(),delete o[e]._eventDispatcher)}))},P=document.createElement;document.createElement=function(e,o){if(e.startsWith("io-")){const r=customElements.get(e);return r?new r:P.apply(this,[e,o])}return P.apply(this,[e,o])};const applyNativeElementProps=function(e,o){for(const r in o){const s=o[r];if("style"===r)for(const o in s)e.style.setProperty(o,s[o]);else"class"===r?e.className=s:e[r]=s;"name"===r&&e.setAttribute("name",s),"src"===r&&e.setAttribute("src",s)}e._eventDispatcher||Object.defineProperty(e,"_eventDispatcher",{enumerable:!1,configurable:!0,value:new EventDispatcher(e)}),e._eventDispatcher.applyPropListeners(o)};let T=class IoElement extends(IoNodeMixin(HTMLElement)){static get Style(){return"\n      :host {\n        box-sizing: border-box;\n        display: block;\n      }\n      :host[hidden] {\n        display: none;\n      }\n      :host[disabled] {\n        pointer-events: none;\n        opacity: 0.5;\n      }\n      :host:focus {\n        border-color: var(--iotColorBlue);\n        outline: 1px auto var(--iotColorBlue);\n        outline: 1px auto -webkit-focus-ring-color;\n      }\n    "}connectedCallback(){"function"==typeof this.onResized&&z.observe(this)}disconnectedCallback(){"function"==typeof this.onResized&&z.unobserve(this)}template(e,o,r){const s=buildTree()(["first",e]).children;(o=o||this)===this&&this.setProperty("$",{}),this.traverse(s,o,r)}traverse(e,o,r){const s=o.children;for(;s.length>e.length;){const e=s[s.length-1];o.removeChild(e),r||disposeElementDeep(e)}for(let v=0;v<s.length;v++){const x=s[v];if(x.localName!==e[v].name||r){const s=x,w=constructElement(e[v]);o.insertBefore(w,s),o.removeChild(s),r||disposeElementDeep(s)}else x.removeAttribute("className"),x._isIoElement?x.applyProperties(e[v].props):applyNativeElementProps(x,e[v].props)}if(s.length<e.length){const r=document.createDocumentFragment();for(let o=s.length;o<e.length;o++){const s=constructElement(e[o]);r.appendChild(s)}o.appendChild(r)}for(let o=0;o<e.length;o++){const v=s[o];e[o].props.$&&(this.$[e[o].props.$]=v),void 0!==e[o].children&&("string"==typeof e[o].children?(this._flattenTextNode(v),v._textNode.nodeValue=String(e[o].children)):"object"==typeof e[o].children&&this.traverse(e[o].children,v,r))}}Register(e){super.Register(e);const o=e.name.replace(/([a-z])([A-Z,0-9])/g,"$1-$2").toLowerCase();Object.defineProperty(e,"localName",{value:o}),Object.defineProperty(e.prototype,"localName",{value:o}),Object.defineProperty(e,"_isIoElement",{enumerable:!1,value:!0}),Object.defineProperty(e.prototype,"_isIoElement",{enumerable:!1,value:!0}),Object.defineProperty(window,e.name,{value:e}),window.customElements.define(o,e);let r="";const s=e.prototype._protochain.styles.match(M);if(s)for(let e=0;e<s.length;e++){const o=s[e].split(": {"),v=o[0].replace(" --","--"),x=o[1].replace(/}/g,"").trim().replace(/^ +/gm,"");w[v]=x,r+=s[e].replace(" --",".").replace(": {"," {")}let v=e.prototype._protochain.styles.replace(M,"");const x=v.match(R);if(x)for(let e=0;e<x.length;e++){const o=x[e].split("@apply ")[1].replace(";","");w[o]?v=v.replace(x[e],w[o]):console.warn("IoElement: cound not find mixin:",o)}{let e=v;e=e.replace(k,""),e=e.replace(C,""),e=e.replace(S,"");const r=e.match(O);r&&r.map((e=>{(e=e.trim()).startsWith(":host")||(console.warn(o+': CSS Selector not prefixed with ":host"! This will cause style leakage!'),console.warn(e))}))}v=r+v.replace(new RegExp(":host","g"),o);const z=document.createElement("style");z.innerHTML=v,z.setAttribute("id","io-style-"+o.replace("io-","")),document.head.appendChild(z)}_flattenTextNode(e){if(0===e.childNodes.length&&e.appendChild(document.createTextNode("")),"#text"!==e.childNodes[0].nodeName&&(e.innerHTML="",e.appendChild(document.createTextNode(""))),e._textNode=e.childNodes[0],e.childNodes.length>1){const o=e.textContent;for(let o=e.childNodes.length;o--;)0!==o&&e.removeChild(e.childNodes[o]);e._textNode.nodeValue=o}}get textNode(){return this._flattenTextNode(this),this._textNode.nodeValue}set textNode(e){this._flattenTextNode(this),this._textNode.nodeValue=String(e)}applyProperties(e){if(super.applyProperties(e),e.style)for(const o in e.style)this.style[o]=e.style[o]}setAttribute(e,o){!0===o?HTMLElement.prototype.setAttribute.call(this,e,""):!1===o||""===o?this.removeAttribute(e):"string"!=typeof o&&"number"!=typeof o||this.getAttribute(e)!==String(o)&&HTMLElement.prototype.setAttribute.call(this,e,String(o))}labelChanged(){this.label?this.setAttribute("aria-label",this.label):this.removeAttribute("aria-label")}disabledChanged(){this.disabled?this.setAttribute("aria-disabled",this.disabled):this.removeAttribute("aria-disabled")}};__decorate$O([Property({type:Object,reactive:!1})],T.prototype,"$",void 0),__decorate$O([Property({value:"",reflect:!0})],T.prototype,"tabindex",void 0),__decorate$O([Property({value:!1,reflect:!0})],T.prototype,"contenteditable",void 0),__decorate$O([Property({value:"",reflect:!0})],T.prototype,"class",void 0),__decorate$O([Property({value:"",reflect:!0})],T.prototype,"role",void 0),__decorate$O([Property({value:"",reflect:!0})],T.prototype,"label",void 0),__decorate$O([Property({value:"",reflect:!0})],T.prototype,"name",void 0),__decorate$O([Property({value:"",reflect:!0})],T.prototype,"title",void 0),__decorate$O([Property({value:"",reflect:!0})],T.prototype,"id",void 0),__decorate$O([Property({value:!1,reflect:!0})],T.prototype,"hidden",void 0),__decorate$O([Property({value:!1,reflect:!0})],T.prototype,"disabled",void 0),T=__decorate$O([Register],T);var __decorate$N=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};const N=new class EmulatedLocalStorage{constructor(){Object.defineProperty(this,"store",{value:new Map}),Object.defineProperty(this,"warned",{value:!1,writable:!0})}get permitted(){try{return"true"===self.localStorage.getItem("IoStorage:user-permitted")}catch(e){console.warn("IoStorage: Cannot access localStorage. Check browser privacy settings!")}return!1}set permitted(e){try{e?(console.log("IoStorage: localStorage permission granted."),this.store.set("IoStorage:user-permitted",String(e)),this.store.forEach(((e,o)=>{self.localStorage.setItem(o,String(e)),this.store.delete(o)}))):(console.log("IoStorage: localStorage permission revoked."),self.localStorage.setItem("IoStorage:user-permitted",String(e)),new Map(Object.entries(self.localStorage)).forEach(((e,o)=>{this.store.set(o,e)})),self.localStorage.clear())}catch(e){console.warn("IoStorage: Cannot access localStorage. Check browser privacy settings!")}}setItem(e,o){const r="object"==typeof o?JSON.stringify(o):String(o);"IoStorage:user-permitted"!==e?this.permitted?self.localStorage.setItem(e,r):(this.store.set(e,r),this.warned||this.permitted||(console.warn("IoStorage: localStorage permission not set."),this.warned=!0)):this.permitted="true"===o}getItem(e){return this.permitted?self.localStorage.getItem(e):this.store.has(e)?this.store.get(e):null}removeItem(e){if(this.permitted)return self.localStorage.removeItem(e);this.store.delete(e)}clear(){if(this.permitted)return self.localStorage.clear();this.store.clear()}},A={local:new Map,hash:new Map,none:new Map};let I={};function genObjectStorageID(e){const o=JSON.stringify(e);let r=0;for(let e=0;e<o.length;e++)r=Math.imul(31,r)+o.charCodeAt(e)|0;return"io-local-state-"+String(r)}let j=class IoStorageNode extends r{constructor(e){"object"!=typeof e?console.warn("Ivalid IoStorage arguments!"):("string"==typeof e.key&&e.key||console.warn("Ivalid IoStorage key!"),e.storage&&-1===["hash","local","none"].indexOf(e.storage)&&console.warn("Ivalid IoStorage storage!"));const o=e.storage||"none";if(A[o].has(e.key))return A[o].get(e.key);{const r=e.default||e.value;switch(e.storage){case"hash":{const o=function getValueFromHash(e){if(I=parseHash(self.location.hash),I[e])try{return JSON.parse(I[e])}catch(o){return I[e]}}(e.key);if(void 0!==o)try{e.value=JSON.parse(o)}catch(r){e.value=o}break}case"local":{const o=N.getItem("IoStorage:"+e.key);o&&(e.value=JSON.parse(o));break}}return void 0===e.value&&(e.value=r),super(Object.assign({default:r},e)),"__proto__"!==e.key&&A[o].set(e.key,this),this.binding=this.bind("value"),this.binding.dispose=()=>{this._clearStorage()},this}}dispose(){this._clearStorage(),super.dispose()}_clearStorage(){switch(this.storage){case"hash":this.removeValueToHash();break;case"local":N.removeItem("IoStorage:"+this.key)}const e=this.storage;A[e].delete(this.key)}valueChanged(){switch(this.storage){case"hash":this.saveValueToHash();break;case"local":null===this.value||void 0===this.value||this.value===this.default?N.removeItem("IoStorage:"+this.key):N.setItem("IoStorage:"+this.key,JSON.stringify(this.value))}}removeValueToHash(){I=parseHash(self.location.hash),delete I[this.key];let e="";for(const o in I)e+=o+"="+I[o]+"&";e?(e=e.slice(0,-1),self.location.hash=e):history.replaceState("",document.title,self.location.pathname+self.location.search)}saveValueToHash(){I=parseHash(self.location.hash);const e=this.value;void 0!==e&&""!==e&&e!==this.default?"string"==typeof e?isNaN(e)?I[this.key]=e:I[this.key]='"'+e+'"':I[this.key]=JSON.stringify(e):delete I[this.key];let o="";for(const e in I)o+=e+"="+I[e]+"&";o?(o=o.slice(0,-1),self.location.hash=o):history.replaceState("",document.title,self.location.pathname+self.location.search)}};__decorate$N([Property({value:""})],j.prototype,"key",void 0),__decorate$N([Property({value:void 0})],j.prototype,"value",void 0),__decorate$N([Property({value:void 0})],j.prototype,"default",void 0),__decorate$N([Property({value:"none"})],j.prototype,"storage",void 0),j=__decorate$N([Register],j);const B=Object.assign((e=>new j(e).binding),{permit(){N.permitted=!0},unpermit(){N.permitted=!1}});function parseHash(e){return e.substring(1).split("&").reduce((function(e,o){const r=o.split("=");return r[0]&&r[1]&&(e[r[0]]=r[1].replace(/%22/g,'"').replace(/%20/g," ")),e}),{})}function updateAllFromHash(){I=parseHash(self.location.hash);for(const e in I)if(A.hash.has(e)){const o=A.hash.get(e);try{o.value=JSON.parse(I[e])}catch(r){o.value=I[e]}}}self.addEventListener("hashchange",updateAllFromHash,!1),updateAllFromHash();var __decorate$M=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};const H="v0.9",D=document.createElement("style");D.setAttribute("id","io-theme-variables-"+H),document.head.appendChild(D);class Color{r;g;b;a;constructor(e,o,r,s){this.r=e,this.g=o,this.b=r,this.a=s}}const $={iotSpacing:2,iotSpacing2:0,iotSpacing3:0,iotSpacing5:0,iotSpacing8:0,iotLineHeight:20,iotFontSize:14,iotFieldHeight:0,iotFieldHeight2:0,iotFieldHeight3:0,iotFieldHeight4:0,iotFieldHeight5:0,iotFieldHeight6:0,iotFieldHeight7:0,iotFieldHeight8:0,iotFieldHeight9:0,iotFieldHeight10:0,iotFieldHeight11:0,iotFieldHeight12:0,iotBorderRadius:2,iotBorderRadius2:0,iotBorderWidth:1,iotBorderColor:new Color(0,0,0,.2),iotBorderColorLight:new Color(1,1,1,.8),iotBorderColorDark:new Color(0,0,0,.4),iotBgColor:new Color(.85,.85,.85,1),iotBgColorStrong:new Color(.9,.9,.9,1),iotBgColorDimmed:new Color(.8,.8,.8,1),iotBgColorRed:new Color(1,.5,.3,1),iotBgColorGreen:new Color(.2,.9,.3,1),iotBgColorBlue:new Color(.2,.5,.9,1),iotBgColorField:new Color(.95,.96,.95,1),iotColor:new Color(.25,.25,.2,1),iotColorStrong:new Color(0,0,0,1),iotColorDimmed:new Color(.6,.6,.6,1),iotColorRed:new Color(1,.2,0,1),iotColorGreen:new Color(0,.6,.1,1),iotColorBlue:new Color(.2,.3,1,1),iotColorWhite:new Color(1,1,1,1),iotColorField:new Color(0,.05,.02,1),iotGradientColorStart:new Color(.9,.9,.9,1),iotGradientColorEnd:new Color(.75,.75,.75,1),iotShadowColor:new Color(0,0,0,.2)},F={iotSpacing:2,iotSpacing2:0,iotSpacing3:0,iotSpacing5:0,iotSpacing8:0,iotLineHeight:20,iotFontSize:14,iotFieldHeight:0,iotFieldHeight2:0,iotFieldHeight3:0,iotFieldHeight4:0,iotFieldHeight5:0,iotFieldHeight6:0,iotFieldHeight7:0,iotFieldHeight8:0,iotFieldHeight9:0,iotFieldHeight10:0,iotFieldHeight11:0,iotFieldHeight12:0,iotBorderRadius:2,iotBorderRadius2:0,iotBorderWidth:1,iotBorderColor:new Color(1,1,1,.5),iotBorderColorLight:new Color(1,1,1,.3),iotBorderColorDark:new Color(0,0,0,1),iotBgColor:new Color(.2,.2,.2,1),iotBgColorStrong:new Color(.15,.15,.15,1),iotBgColorDimmed:new Color(.25,.25,.25,1),iotBgColorRed:new Color(.7,.2,.1,1),iotBgColorGreen:new Color(.1,.5,.2,1),iotBgColorBlue:new Color(0,.3,.65,1),iotBgColorField:new Color(.02,.02,.02,1),iotColor:new Color(.6,.6,.6,1),iotColorStrong:new Color(.86,.86,.86,1),iotColorDimmed:new Color(.3,.3,.3,1),iotColorRed:new Color(1,.4,.4,1),iotColorGreen:new Color(.4,.95,.3,1),iotColorBlue:new Color(.6,.9,1,1),iotColorWhite:new Color(1,1,1,1),iotColorField:new Color(.65,.7,.68,1),iotGradientColorStart:new Color(.45,.45,.45,1),iotGradientColorEnd:new Color(.2,.2,.2,1),iotShadowColor:new Color(0,0,0,.2)},V=B({value:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",storage:"local",key:"theme-"+H}),U=B({value:{},storage:"local",key:"io-themes-"+H});let W=class IoTheme extends T{static get Properties(){const e={};for(const o in $){const r=$[o];e[o]=r instanceof Object?{value:r,type:Color,observe:!0}:r}return e}init(){this._properties.forEach((e=>{"object"===e.value&&(e.observe=!0)})),this.registerTheme("light",$),this.registerTheme("dark",F),this.themeIDChanged()}registerTheme(e,o){this.themes[e]=o,U.value[e]=o,this.setProperty("themes",JSON.parse(JSON.stringify(this.themes)),!0),U.value=JSON.parse(JSON.stringify(U.value))}_toCss(e){const o=Math.floor(255*e.r),r=Math.floor(255*e.g),s=Math.floor(255*e.b);return void 0!==e.a&&1!==e.a?`rgba(${o}, ${r}, ${s}, ${e.a})`:`rgb(${o}, ${r}, ${s})`}reset(){U.value=JSON.parse(JSON.stringify(this.themes)),this.themeIDChanged()}themeIDChanged(){const e=U.value[this.themeID];for(const o in e)e[o]instanceof Object&&'["r","g","b","a"]'===JSON.stringify(Object.keys(e[o]))&&(e[o]=new Color(e[o].r,e[o].g,e[o].b,e[o].a));this.setProperties(e)}changed(){this.iotFieldHeight=this.iotLineHeight+2*(this.iotSpacing+this.iotBorderWidth),this.iotFieldHeight2=2*this.iotFieldHeight,this.iotFieldHeight3=3*this.iotFieldHeight,this.iotFieldHeight4=4*this.iotFieldHeight,this.iotFieldHeight5=5*this.iotFieldHeight,this.iotFieldHeight6=6*this.iotFieldHeight,this.iotFieldHeight7=7*this.iotFieldHeight,this.iotFieldHeight8=8*this.iotFieldHeight,this.iotFieldHeight9=9*this.iotFieldHeight,this.iotFieldHeight10=10*this.iotFieldHeight,this.iotFieldHeight11=11*this.iotFieldHeight,this.iotFieldHeight12=12*this.iotFieldHeight,this.iotSpacing2=2*this.iotSpacing,this.iotSpacing3=3*this.iotSpacing,this.iotSpacing5=5*this.iotSpacing,this.iotSpacing8=8*this.iotSpacing,this.iotBorderRadius2=this.iotBorderRadius+this.iotSpacing;const e=Array.from(this._properties.keys()).reduce(((e,o)=>o.startsWith("iot")?(U.value[this.themeID][o]=this[o],U.value=JSON.parse(JSON.stringify(U.value)),"object"==typeof this[o]?`${e}--${o}: ${this._toCss(this[o])};\n    `:`${e}--${o}: ${this[o]}px;\n    `):""),"");D.innerHTML=`body {\n  ${e}\n}\n\n  body {\n    --iotBorder: var(--iotBorderWidth) solid var(--iotBorderColor);\n    --iotBorderColorInset: var(--iotBorderColorDark) var(--iotBorderColorLight) var(--iotBorderColorLight) var(--iotBorderColorDark);\n    --iotBorderColorOutset: var(--iotBorderColorLight) var(--iotBorderColorDark) var(--iotBorderColorDark) var(--iotBorderColorLight);\n    --iotGradientOutset: linear-gradient(180deg, var(--iotGradientColorStart), var(--iotGradientColorEnd) 100%);\n    --iotGradientInset: linear-gradient(0deg, var(--iotGradientColorStart), var(--iotGradientColorEnd) 150%);\n    --iotShadow: 2px 2px 6px var(--iotShadowColor), 1px 1px 1px var(--iotShadowColor);\n    --iotShadowInset: 1px 1px 1px inset var(--iotShadowColor);\n    --iotShadowOutset: 1px 1px 2px var(--iotShadowColor);\n  }\n`,this.dispatchEvent("object-mutated",{object:this},!1,window)}};__decorate$M([Property(Object)],W.prototype,"themes",void 0),__decorate$M([Property({type:String,binding:V})],W.prototype,"themeID",void 0),W=__decorate$M([Register],W);const G=new W;var __decorate$L=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};const q=document.createElement("canvas"),K=q.getContext("webgl",{antialias:!1,premultipliedAlpha:!0});K.getExtension("OES_standard_derivatives"),K.enable(K.BLEND),K.blendFunc(K.SRC_ALPHA,K.ONE_MINUS_SRC_ALPHA),K.disable(K.DEPTH_TEST);const Z=K.createBuffer();K.bindBuffer(K.ARRAY_BUFFER,Z),K.bufferData(K.ARRAY_BUFFER,new Float32Array([-1,1,0,-1,-1,0,1,-1,0,1,1,0]),K.STATIC_DRAW),K.bindBuffer(K.ARRAY_BUFFER,null);const Y=K.createBuffer();K.bindBuffer(K.ARRAY_BUFFER,Y),K.bufferData(K.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),K.STATIC_DRAW),K.bindBuffer(K.ARRAY_BUFFER,null);const X=K.createBuffer();K.bindBuffer(K.ELEMENT_ARRAY_BUFFER,X),K.bufferData(K.ELEMENT_ARRAY_BUFFER,new Uint16Array([3,2,1,3,1,0]),K.STATIC_DRAW),K.bindBuffer(K.ELEMENT_ARRAY_BUFFER,null),K.bindBuffer(K.ELEMENT_ARRAY_BUFFER,X);const Q=new WeakMap;let J,ee=class IoGl extends T{static get Style(){return"\n      :host {\n        position: relative;\n        overflow: hidden !important;\n        /* -webkit-tap-highlight-color: transparent; */\n        user-select: none;\n      }\n      :host > canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        border-radius: calc(var(--iotBorderRadius) - var(--iotBorderWidth));\n        pointer-events: none;\n        image-rendering: pixelated;\n      }\n      :host[aria-invalid] {\n        border: var(--iotBorderFail);\n      }\n      :host[aria-invalid] > canvas {\n        opacity: 0.5;\n      }\n      :host:focus > canvas {\n        border-radius: 3px;\n      }\n    "}_needsResize=!1;_canvas;_ctx;static get Vert(){return"\n      attribute vec3 position;\n      attribute vec2 uv;\n      varying vec2 vUv;\n\n      void main(void) {\n        vUv = uv;\n        gl_Position = vec4(position, 1.0);\n      }\n\n"}static get GlUtils(){return"\n      #ifndef saturate\n        #define saturate(v) clamp(v, 0., 1.)\n      #endif\n\n      // Transform functions\n      vec2 translate(vec2 samplePosition, vec2 xy){\n        return samplePosition - vec2(xy.x, xy.y);\n      }\n      vec2 translate(vec2 samplePosition, float x, float y){\n        return samplePosition - vec2(x, y);\n      }\n\n      // SDF functions\n      float circle(vec2 samplePosition, float radius){\n        return saturate((length(samplePosition) - radius) * uPxRatio);\n      }\n      float rectangle(vec2 samplePosition, vec2 halfSize){\n        vec2 edgeDistance = abs(samplePosition) - halfSize;\n        float outside = length(max(edgeDistance, 0.));\n        float inside = min(max(edgeDistance.x, edgeDistance.y), 0.);\n        return 1.0 - saturate((outside + inside) * 1000000.0);\n      }\n      float paintDerivativeGrid2D(vec2 samplePosition, vec2 gridWidth, float lineWidth) {\n        vec2 sp = samplePosition / gridWidth;\n        float fractx = abs(fract(sp.x - 0.5) - 0.5) * 2.0;\n        float fracty = abs(fract(sp.y - 0.5) - 0.5) * 2.0;\n\n        float sx = ((sp.x - 0.5) - 0.5) * 2.0;\n        float sy = ((sp.y - 0.5) - 0.5) * 2.0;\n        \n        float absx = abs(max(dFdx(sx), dFdy(sx)));\n        float absy = abs(max(dFdy(sy), dFdx(sy)));\n\n        float fadeX = 1.0 - dFdx(sx);\n        float fadeY = 1.0 - dFdy(sx);\n        if (fadeX <= 0.0 || fadeY <= 0.0) return 1.0;\n\n        float linex = fractx / absx - (0.5 * max(uPxRatio, 2.0) * lineWidth - 1.0) - 0.5;\n        float liney = fracty / absy - (0.5 * max(uPxRatio, 2.0) * lineWidth - 1.0) - 0.5;\n\n        return (1.0 - saturate(min(linex, liney)));\n      }\n      float lineVertical(vec2 samplePosition, float lineWidth) {\n        return (abs(samplePosition.x) * 2.0 > lineWidth) ? 0.0 : 1.0;\n      }\n      float lineHorizontal(vec2 samplePosition, float lineWidth) {\n        return (abs(samplePosition.y) * 2.0 > lineWidth) ? 0.0 : 1.0;\n      }\n      float lineCross2d(vec2 samplePosition, float lineWidth) {\n        return (min(abs(samplePosition.x), abs(samplePosition.y)) * 2.0 > lineWidth) ? 0.0 : 1.0;\n      }\n      float checker(vec2 samplePosition, float size) {\n        vec2 checkerPos = floor(samplePosition / size);\n        float checkerMask = mod(checkerPos.x + mod(checkerPos.y, 2.0), 2.0);\n        return checkerMask;\n      }\n      float checkerX(vec2 samplePosition, float size) {\n        vec2 checkerPos = floor(samplePosition / size);\n        float checkerMask = mod(checkerPos.x, 2.0);\n        return checkerMask;\n      }\n      float checkerY(vec2 samplePosition, float size) {\n        vec2 checkerPos = floor(samplePosition / size);\n        float checkerMask = mod(checkerPos.y, 2.0);\n        return checkerMask;\n      }\n      vec3 hue2rgb(float hue) {\n        hue = fract(hue);\n        float R = abs(hue * 6. - 3.) - 1.;\n        float G = 2. - abs(hue * 6. - 2.);\n        float B = 2. - abs(hue * 6. - 4.);\n        return saturate(vec3(R,G,B));\n      }\n      vec3 hsv2rgb(vec3 hsv) {\n        vec3 rgb = hue2rgb(hsv.r);\n        return ((rgb - 1.) * hsv.g + 1.) * hsv.b;\n      }\n      vec3 hsl2rgb(vec3 hsl) {\n        vec3 rgb = hue2rgb(hsl.x);\n        float C = (1. - abs(2. * hsl.z - 1.)) * hsl.y;\n        return (rgb - 0.5) * C + hsl.z;\n      }\n      vec3 cmyk2rgb(vec4 cmyk) {\n        float r = 1. - min(1., cmyk.x * (1. - cmyk.w) + cmyk.w);\n        float g = 1. - min(1., cmyk.y * (1. - cmyk.w) + cmyk.w);\n        float b = 1. - min(1., cmyk.z * (1. - cmyk.w) + cmyk.w);\n        return vec3(r, g, b);\n      }\n      // Compositing functions\n      vec3 compose(vec3 dst, vec4 src) {\n        return mix(dst, src.rgb, src.a);\n      }\n      // Painter Functions\n      vec3 paintHorizontalLine(vec3 dstCol, vec2 p, vec3 color) {\n        float lineShape = lineHorizontal(p, iotBorderWidth);\n        return compose(dstCol, vec4(color, lineShape));\n      }\n    "}static get Frag(){return"\n      varying vec2 vUv;\n      void main(void) {\n        vec2 position = uSize * vUv;\n        float gridWidth = 8. * uPxRatio;\n        float lineWidth = 1.;\n        float gridShape = paintDerivativeGrid2D(position, vec2(gridWidth), lineWidth);\n        gl_FragColor = mix(vec4(vUv, 0.0, 1.0), uColor, gridShape);\n      }\n\n"}initPropertyUniform(e,o){if(o.reactive)switch(o.type){case Boolean:return"uniform int "+e+";\n";case Number:return"uniform float "+e+";\n";case Array:return this._vecLengths[e]=o.value.length,"uniform vec"+o.value.length+" "+e+";\n";case Color:return this._vecLengths[e]=4,"uniform vec4 "+e+";\n"}return""}initShader(){let e="\n    #extension GL_OES_standard_derivatives : enable\n    precision highp float;\n";this.theme._properties.forEach(((o,r)=>{e+=this.initPropertyUniform(r,o)})),e+="\n",this._properties.forEach(((o,r)=>{const s="u"+r.charAt(0).toUpperCase()+r.slice(1);e+=this.initPropertyUniform(s,o)}));for(let o=this._protochain.constructors.length;o--;){const r=this._protochain.constructors[o],s=Object.getOwnPropertyDescriptor(r,"GlUtils");s&&s.get&&(e+=r.GlUtils)}const o=K.createShader(K.VERTEX_SHADER);if(K.shaderSource(o,this.constructor.Vert),K.compileShader(o),!K.getShaderParameter(o,K.COMPILE_STATUS)){const e=K.getShaderInfoLog(o);console.error("IoGl [Vertex Shader] "+this.localName+" error:"),console.warn(e)}const r=K.createShader(K.FRAGMENT_SHADER);if(K.shaderSource(r,e+this.constructor.Frag),K.compileShader(r),!K.getShaderParameter(r,K.COMPILE_STATUS)){const e=K.getShaderInfoLog(r);console.error("IoGl [Frament Shader] "+this.localName+" error:"),console.warn(e)}const s=K.createProgram();return K.attachShader(s,o),K.attachShader(s,r),s}constructor(e={}){super(e),this._vecLengths={},this.theme._properties.forEach(((e,o)=>{e.reactive&&e.type===Color&&(this._vecLengths[o]=4)})),this._properties.forEach(((e,o)=>{const r="u"+o.charAt(0).toUpperCase()+o.slice(1);e.reactive&&e.type===Array&&(this._vecLengths[r]=e.value.length)})),Q.has(this.constructor)?this._shader=Q.get(this.constructor):(this._shader=this.initShader(),Q.set(this.constructor,this._shader)),K.linkProgram(this._shader);const o=K.getAttribLocation(this._shader,"position");K.bindBuffer(K.ARRAY_BUFFER,Z),K.vertexAttribPointer(o,3,K.FLOAT,!1,0,0),K.enableVertexAttribArray(o);const r=K.getAttribLocation(this._shader,"uv");K.bindBuffer(K.ARRAY_BUFFER,Y),K.vertexAttribPointer(r,2,K.FLOAT,!1,0,0),K.enableVertexAttribArray(r),this._canvas=document.createElement("canvas"),this.appendChild(this._canvas),this._ctx=this._canvas.getContext("2d"),this.updateThemeUniforms()}onResized(){const e=window.devicePixelRatio,o=this.getBoundingClientRect(),r=window.getComputedStyle(this),s=parseInt(r.borderRightWidth)+parseInt(r.borderLeftWidth),v=parseInt(r.borderTopWidth)+parseInt(r.borderBottomWidth),x=Math.max(0,Math.floor(o.width-s)),w=Math.max(0,Math.floor(o.height-v));(x!==this.size[0]||w!==this.size[1]||e!==this.pxRatio)&&(this._canvas.style.width=Math.floor(x)+"px",this._canvas.style.height=Math.floor(w)+"px",this._needsResize=!0,this.setProperties({size:[x,w],pxRatio:e}))}themeMutated(){this.updateThemeUniforms(),this.throttle(this._onRender)}changed(){window.ResizeObserver?this.throttle(this._onRender):setTimeout((()=>{this.onResized(),this.throttle(this._onRender)}))}_onRender(){const e=this.size[0]*this.pxRatio,o=this.size[1]*this.pxRatio;e&&o&&(this.setShaderProgram(),this._properties.forEach(((e,o)=>{const r="u"+o.charAt(0).toUpperCase()+o.slice(1);this.updatePropertyUniform(r,e)})),this._needsResize&&(this._canvas.width=Math.floor(e),this._canvas.height=Math.floor(o),this._needsResize=!1),q.width=e,q.height=o,K.viewport(0,0,e,o),K.drawElements(K.TRIANGLES,6,K.UNSIGNED_SHORT,0),this._ctx.drawImage(q,0,0))}setShaderProgram(){J!==this._shader&&(J=this._shader,K.useProgram(this._shader))}updatePropertyUniform(e,o){this.setShaderProgram(),o.reactive&&this.setUniform(e,o.value)}updateThemeUniforms(){this.theme._properties.forEach(((e,o)=>{this.updatePropertyUniform(o,e)}))}setUniform(e,o){const r=K.getUniformLocation(this._shader,e);let s,v=typeof o;switch(o instanceof Array&&(v="array"),v){case"boolean":K.uniform1i(r,o?1:0);break;case"number":K.uniform1f(r,o??1);break;case"object":case"array":switch(s=[0,1,2,3],"object"==typeof o&&(void 0!==o.x?s=["x","y","z","w"]:void 0!==o.r?s=["r","g","b","a"]:void 0!==o.h?s=["h","s","v","a"]:void 0!==o.c&&(s=["c","m","y","k"])),this._vecLengths[e]){case 2:if(void 0===o){K.uniform2f(r,0,0);break}K.uniform2f(r,o[s[0]]??1,o[s[1]]??1);break;case 3:if(void 0===o){K.uniform3f(r,0,0,0);break}K.uniform3f(r,o[s[0]]??1,o[s[1]]??1,o[s[2]]??1);break;case 4:if(void 0===o){K.uniform4f(r,0,0,0,0);break}K.uniform4f(r,o[s[0]]??1,o[s[1]]??1,o[s[2]]??1,o[s[3]]??1)}}}};__decorate$L([Property({type:Array,init:[0,0]})],ee.prototype,"size",void 0),__decorate$L([Property({type:Array,init:[1,1,1,1],observe:!0})],ee.prototype,"color",void 0),__decorate$L([Property({value:1})],ee.prototype,"pxRatio",void 0),__decorate$L([Property({observe:!0,type:T,value:G})],ee.prototype,"theme",void 0),ee=__decorate$L([Register],ee);var __decorate$K=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let te=null;window.addEventListener("focusin",(()=>{te=document.activeElement}),{capture:!1}),window.addEventListener("blur",(()=>{setTimeout((()=>{document.activeElement===document.body&&(te=null)}))}),{capture:!0});let ne=class IoOverlay extends T{static get Style(){return"\n      :host {\n        display: block;\n        position: fixed;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        z-index: 100000;\n        user-select: none;\n        overflow: hidden;\n        pointer-events: none;\n        touch-action: none;\n        background: transparent;\n      }\n      :host[expanded] {\n        pointer-events: all;\n      }\n      :host > * {\n        position: absolute !important;\n        touch-action: none;\n        box-shadow: var(--iotShadow);\n      }\n    "}static get Listeners(){return{pointerdown:["stopPropagation",{passive:!1}],pointermove:["stopPropagation",{passive:!1}],pointerup:"_onPointerup",contextmenu:"_onContextmenu",focusin:"_onFocusIn",scroll:"_onScroll",wheel:["_onScroll",{passive:!1}],mousedown:["stopPropagation",{passive:!1}],mousemove:["stopPropagation",{passive:!1}],mouseup:["stopPropagation",{passive:!1}],touchstart:["stopPropagation",{passive:!1}],touchmove:["stopPropagation",{passive:!1}],touchend:["stopPropagation",{passive:!1}],keydown:["stopPropagation",{passive:!1}],keyup:["stopPropagation",{passive:!1}]}}constructor(e={}){super(e),Object.defineProperty(this,"x",{value:0,writable:!0}),Object.defineProperty(this,"y",{value:0,writable:!0})}stopPropagation(e){e.stopPropagation()}onResized(){this.expanded=!1}_onPointerup(e){e.composedPath()[0]===this&&this.throttle(this._onCollapse)}_onCollapse(){this.expanded=!1}_onContextmenu(e){e.preventDefault()}_onFocusIn(e){e.stopPropagation()}_onScroll(e){e.composedPath()[0]===this&&this.throttle(this._onCollapse)}nudgeDown(e,o,r,s,v){o=Math.max(0,Math.min(o,window.innerWidth-s.width));const x=r+s.height<window.innerHeight;return!(!x&&!v)&&(x||(r=window.innerHeight-s.height),e.style.left=o+"px",e.style.top=r+"px",!0)}nudgeUp(e,o,r,s,v){o=Math.max(0,Math.min(o,window.innerWidth-s.width));const x=r-s.height>0;return!(!x&&!v)&&(x||(r=0),e.style.left=o+"px",e.style.top=r-s.height+"px",!0)}nudgeRight(e,o,r,s,v){const x=o+s.width<window.innerWidth;return!(!x&&!v)&&(x||(o=window.innerWidth-s.width),e.style.left=o+"px",e.style.top=Math.min(r,window.innerHeight-s.height)+"px",!0)}nudgeLeft(e,o,r,s,v){const x=o-s.width>0;return!(!x&&!v)&&(x||(o=0),e.style.left=o-s.width+"px",e.style.top=Math.min(r,window.innerHeight-s.height)+"px",!0)}nudgePointer(e,o,r,s){return e.style.left=Math.max(0,Math.min(o,window.innerWidth-s.width))+"px",e.style.top=Math.max(0,Math.min(r,window.innerHeight-s.height))+"px",!0}setElementPosition(e,o,r){const s=e.getBoundingClientRect(),v=r.left,x=r.top,w=r.right,k=r.bottom,C=window.innerHeight-k,S=window.innerWidth-w;switch(o){case"pointer":this.nudgePointer(e,this.x+5,this.y+5,s);break;case"up":this.nudgeUp(e,v,x,s)||this.nudgeDown(e,v,k,s)||this.nudgeUp(e,v,x,s,x>C)||this.nudgeDown(e,v,k,s,x<=C);break;case"left":this.nudgeLeft(e,v,x,s)||this.nudgeRight(e,w,x,s)||this.nudgeLeft(e,v,x,s,v>S)||this.nudgeRight(e,w,x,s,v<=S);break;case"down":this.nudgeDown(e,v,k,s)||this.nudgeUp(e,v,x,s)||this.nudgeDown(e,v,k,s,C>x)||this.nudgeUp(e,v,x,s,C<=x);break;default:this.nudgeRight(e,w,x,s)||this.nudgeLeft(e,v,x,s)||this.nudgeRight(e,w,x,s,S>v)||this.nudgeLeft(e,v,x,s,S<=v)}}appendChild(e){super.appendChild(e),e.addEventListener("expanded-changed",this.onChildExpanded),this.onChildExpanded()}removeChild(e){super.removeChild(e),e.removeEventListener("expanded-changed",this.onChildExpanded),this.onChildExpanded()}onChildExpanded(){this.throttle(this.onChildExpandedDelayed)}onChildExpandedDelayed(){for(let e=this.children.length;e--;)if(this.children[e].expanded)return void(this.expanded=!0);this.throttle(this._onCollapse)}expandedChanged(){if(!this.expanded){for(let e=this.children.length;e--;)this.children[e].expanded=!1;te&&te.focus()}}};__decorate$K([Property({value:!1,reflect:!0})],ne.prototype,"expanded",void 0),ne=__decorate$K([Register],ne);const oe=new ne;document.body.appendChild(oe);var __decorate$J=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};function _isNaN(e){return"number"==typeof e&&isNaN(e)}function _isSelectable(e){return"select"===e||"scroll"===e}let ie=class MenuOptions extends(IoNodeMixin(Array)){push(...e){for(let o=0;o<e.length;o++){const r=e[o];r instanceof re||console.warn("MenuOptions.push: item is not a MenuItem!"),r instanceof re&&(this.find((e=>e.label===r.label))&&console.warn(`MenuOptions.addItems: duplicate label "${r.label}"`),r.addEventListener("selected-changed",this._onItemSelectedChanged),r.addEventListener("path-changed",this._onSubOptionsPathChanged),super.push(r))}}getItem(e,o=!1){for(let r=0;r<this.length;r++){if(this[r].value===e)return this[r];if(o&&this[r].options){const s=this[r].options.getItem(e,o);if(s)return s}}return null}constructor(e=[],o={}){const r=[];for(let o=0;o<e.length;o++)e[o]instanceof re?r.push(e[o]):r.push(new re(e[o]));super(o,...r),""!==this.path&&this.pathChanged(),void 0!==this.first&&this.firstChanged();for(let e=0;e<this.length;e++){const o=this[e];o instanceof re||console.warn("MenuOptions.constructor: item is not a MenuItem!"),this.find((e=>e!==o&&e.label===o.label))&&console.warn(`MenuOptions.addItems: duplicate label "${o.label}"`),o.addEventListener("selected-changed",this._onItemSelectedChanged),o.addEventListener("path-changed",this._onSubOptionsPathChanged),o.selected&&"select"===o.mode&&this.updatePaths(o)}}addItems(e){for(let o=0;o<e.length;o++){let r;r=e[o]instanceof re?e[o]:new re(e[o]),this.find((e=>e.label===r.label))&&console.warn(`MenuOptions.addItems: duplicate label "${r.label}"`),this.push(r),r.addEventListener("selected-changed",this._onItemSelectedChanged),r.addEventListener("path-changed",this._onSubOptionsPathChanged)}}pathChanged(){const e=this.path?[...this.path.split(this.delimiter)]:[];if(this.length&&e.length){const o=e.shift(),r=this.find((e=>e.label===o));if(r)_isSelectable(r.mode)||console.warn("MenuOptions.pathChanged: Path set to non-selectable MenuItem!"),_isSelectable(r.mode)&&(r.options&&(r.options.path=e.join(this.delimiter)),r.selected=!0);else{console.warn(`MenuOptions.pathChanged: cannot find item for specified path "${this.path}"!`);for(let e=0;e<this.length;e++)_isSelectable(this[e].mode)&&(this[e].selected=!1)}}else for(let e=0;e<this.length;e++)_isSelectable(this[e].mode)&&(this[e].selected=!1)}firstChanged(){if(void 0!==this.first){const e=this.find((e=>e.value===this.first&&"select"===e.mode||_isNaN(e.value)&&_isNaN(this.first)));e&&(e.selected=!0),void 0===e&&console.warn(`MenuOptions.firstChanged: cannot find pickable item for specified first value "${this.first}"!`)}else for(let e=0;e<this.length;e++)"select"===this[e].mode&&(this[e].selected=!1)}lastChanged(){if(void 0!==this.last){const e=this.path?[...this.path.split(this.delimiter)]:[];if(e.length){let o=e.shift(),r=this.find((e=>!0===e.selected&&e.label===o&&("select"===e.mode||"scroll"===e.mode))),s=r?.options||void 0;for(;e.length&&s;)o=e.shift(),r=s.find((e=>!0===e.selected&&e.label===o&&("select"===e.mode||"scroll"===e.mode))),s=r?.options||void 0;void 0===r?console.warn(`MenuOptions.lastChanged: cannot find item for specified last value "${this.last}"!`):r.value===this.last||_isNaN(r.value)&&_isNaN(this.last)||r.value===this.scroll||_isNaN(r.value)&&_isNaN(this.scroll)||(console.warn(`MenuOptions.lastChanged: last property value "${this.last}" diverged from item specified by path!`),console.log(this.path,this.last))}else console.warn(`MenuOptions.lastChanged: last property value set "${this.last}" but path is empty!`)}}updatePaths(e){const o=[];let r="select"===e?.mode||"scroll"===e?.mode?e:void 0,s="select"===e?.mode?e:void 0,v="scroll"===e?.mode?e:void 0;const x=this.find((e=>"select"===e.mode&&e.selected)),w=this.find((e=>"scroll"===e.mode&&e.selected));if(r||!x&&!w){for(;r;)o.push(r.label),"select"===r.mode&&(s=r),"scroll"===r.mode&&(v=r),r=r.options?.find((e=>("select"===e.mode||"scroll"===e.mode)&&e.selected));this.setProperties({path:o.join(this.delimiter),first:"select"===e?.mode?e.value:void 0,last:void 0!==s?s.value:void 0,scroll:void 0!==v?v.value:void 0})}}_onItemSelectedChanged(e){const o=e.target;if(_isSelectable(o.mode))if(o.selected){for(let e=0;e<this.length;e++)this[e]!==o&&_isSelectable(this[e].mode)&&(this[e].selected=!1);this.updatePaths(o),this.dispatchEvent("item-selected",{item:o})}else this.updatePaths()}_onSubOptionsPathChanged(e){const o=e.target;o.selected?this.updatePaths(o):this.updatePaths()}selectDefault(){for(let e=0;e<this.length;e++)if(_isSelectable(this[e].mode)){if(!this[e].hasmore)return this[e].selected=!0,!0;if(this[e].options.selectDefault())return!0}return!1}bind(e){return"last"!==e&&"scroll"!==e||console.warn("MenuPath: Binding to `last` or `scroll` property is not recommended!"),super.bind(e)}dispose(){for(let e=0;e<this.length;e++)this[e].removeEventListener("selected-changed",this._onItemSelectedChanged),this[e].removeEventListener("path-changed",this._onSubOptionsPathChanged);super.dispose()}changed(){this.dispatchEvent("object-mutated",{object:this},!1,window)}};__decorate$J([Property(void 0)],ie.prototype,"first",void 0),__decorate$J([Property(void 0)],ie.prototype,"last",void 0),__decorate$J([Property(void 0)],ie.prototype,"scroll",void 0),__decorate$J([Property("")],ie.prototype,"path",void 0),__decorate$J([Property(",")],ie.prototype,"delimiter",void 0),ie=__decorate$J([Register],ie);var __decorate$I=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let re=class MenuItem extends r{get hasmore(){return!!this.options?.length}getSubitem(e){return this.options?.getItem(e)}constructor(e){const o={value:"",label:""};"object"!=typeof e||null===e?(o.value=e,o.label=String(e)):(o.value=e.value,void 0===e.label?"object"==typeof o.value?null===o.value?o.label="null":o.label=`${o.value.constructor.name}`+(o.value instanceof Array?`(${o.value.length})`:""):o.label=String(o.value):o.label=e.label,void 0!==e.icon&&(o.icon=e.icon),void 0!==e.hint&&(o.hint=e.hint),void 0!==e.hidden&&(o.hidden=e.hidden),void 0!==e.disabled&&(o.disabled=e.disabled),void 0!==e.action&&(o.action=e.action),void 0!==e.mode&&(o.mode=e.mode),void 0!==e.selected&&(o.selected=e.selected),void 0!==e.options&&(e.options instanceof ie?o.options=e.options:o.options=new ie(e.options)),void 0!==o.selected||"select"!==e.mode&&void 0!==e.mode||!o.options||(o.selected=!!o.options.find((e=>e.selected&&"select"===e.mode)))),o.mode&&"toggle"===o.mode&&o.options&&console.warn('MenuItem: cannot have suboptions when `mode === "toggle"`'),o.mode&&"scroll"===o.mode&&o.options&&console.warn('MenuItem: cannot have suboptions when `mode === "scroll"`'),o.mode&&-1===["select","toggle","scroll","link","none"].indexOf(o.mode)&&console.warn("MenuItem: unknown `mode` property!",o.mode),o.action&&"function"!=typeof o.action&&console.warn("MenuItem: invalid type of `action` property!",typeof o.action),super(o),this.options&&(this.options.addEventListener("item-selected",this._onSubItemSelected),this.options.addEventListener("path-changed",this._onOptionsPathChanged))}toJSON(){const e={value:this.value,label:this.label,icon:this.icon,hint:this.hint,hidden:this.hidden,disabled:this.disabled};return this.options&&(e.options=this.options),e}_onSubItemSelected(){this.selected=!0}_onOptionsPathChanged(e){this.dispatchEvent("path-changed",e.detail)}optionsChanged(){void 0===this.options?.first&&void 0===this.options?.scroll||"select"!==this.mode||(this.selected=!0)}selectedChanged(){if("select"===this.mode&&!1===this.selected&&this.options){for(let e=0;e<this.options.length;e++)"select"!==this.options[e].mode&&"scroll"!==this.options[e].mode||(this.options[e].selected=!1);this.options.updatePaths()}}changed(){this.dispatchEvent("object-mutated",{object:this},!1,window)}dispose(){this.options&&(this.options.removeEventListener("item-selected",this._onSubItemSelected),this.options.removeEventListener("path-changed",this._onOptionsPathChanged)),super.dispose()}};__decorate$I([Property(void 0)],re.prototype,"value",void 0),__decorate$I([Property("")],re.prototype,"label",void 0),__decorate$I([Property("")],re.prototype,"icon",void 0),__decorate$I([Property("")],re.prototype,"hint",void 0),__decorate$I([Property(!1)],re.prototype,"hidden",void 0),__decorate$I([Property(!1)],re.prototype,"disabled",void 0),__decorate$I([Property(void 0)],re.prototype,"action",void 0),__decorate$I([Property("select")],re.prototype,"mode",void 0),__decorate$I([Property(!1)],re.prototype,"selected",void 0),__decorate$I([Property(void 0)],re.prototype,"options",void 0),re=__decorate$I([Register],re);var __decorate$H=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let se=class IoLabel extends T{static get Style(){return"\n      --ioLabel: {\n        display: inline-block;\n        height: var(--iotLineHeight);\n        line-height: var(--iotLineHeight);\n        font-size: var(--iotFontSize);\n        padding: 0 var(--iotSpacing);\n      }\n      :host {\n        @apply --ioLabel;\n      }\n      :host:not([label]) {\n        display: none;\n      }\n    "}labelChanged(){super.labelChanged(),this.textNode=this.label}};se=__decorate$H([Register],se);var __decorate$G=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let ae=class IoField extends T{static get Style(){return"\n      --ioField: {\n        display: flex;\n\n        cursor: pointer;\n        user-select: none;\n        -webkit-touch-callout: none;\n\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n\n        height: var(--iotFieldHeight);\n        line-height: var(--iotLineHeight);\n\n        font-size: var(--iotFontSize);\n        border: var(--iotBorder);\n        border-radius: var(--iotBorderRadius);\n        border-color: transparent;\n        color: var(--iotColorField);\n        background-color: var(--iotBgColorField);\n        padding: var(--iotSpacing) calc(var(--iotSpacing) + 0.25em);\n        transition: background-color 0.25s;\n      }\n      :host {\n        @apply --ioField;\n      }\n      :host[appearance=neutral] {\n        color: var(--iotColor);\n        background-color: transparent;\n      }\n      :host[appearance=inset] {\n        border-color: var(--iotBorderColorInset);\n      }\n      :host[appearance=outset] {\n        border-color: var(--iotBorderColorOutset);\n        background-image: var(--iotGradientOutset);\n      }\n      :host.red,\n      :host[invalid] {\n        color: var(--iotColorWhite);\n        background-color: var(--iotBgColorRed);\n        border-color: var(--iotColorRed);\n      }\n      :host.green {\n        color: var(--iotColorWhite);\n        background-color: var(--iotBgColorGreen);\n        border-color: var(--iotColorGreen);\n      }\n\n      :host.blue,\n      :host[selected] {\n        color: var(--iotColorWhite);\n        background-color: var(--iotBgColorBlue);\n        border-color: var(--iotColorBlue);\n      }\n      :host:focus {\n        text-overflow: inherit;\n      }\n      :host[placeholder]:empty:before {\n        content: attr(placeholder);\n        visibility: visible;\n        color: var(--iotColorField);\n        padding: 0 calc(var(--iotSpacing) + var(--iotBorderWidth));\n        opacity: 0.5;\n      }\n    "}static get Listeners(){return{"focus-to":"_onFocusTo",focus:"_onFocus",pointerdown:"_onPointerdown",click:"_onClick"}}_onFocus(e){this.addEventListener("blur",this._onBlur),this.addEventListener("keydown",this._onKeydown),this.addEventListener("keyup",this._onKeyup)}_onBlur(e){this.removeEventListener("blur",this._onBlur),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("keyup",this._onKeyup)}_onPointerdown(e){this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerleave",this._onPointerleave),this.addEventListener("pointerup",this._onPointerup)}_onPointermove(e){}_onPointerleave(e){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerleave",this._onPointerleave),this.removeEventListener("pointerup",this._onPointerup)}_onPointerup(e){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerleave",this._onPointerleave),this.removeEventListener("pointerup",this._onPointerup),this.focus()}_onClick(){this.dispatchEvent("io-field-clicked",{value:this.value},!0)}_onKeydown(e){"Enter"===e.key||" "===e.key?(e.preventDefault(),this._onClick()):"ArrowLeft"===e.key?(e.preventDefault(),this.focusTo("left")):"ArrowUp"===e.key?(e.preventDefault(),this.focusTo("up")):"ArrowRight"===e.key?(e.preventDefault(),this.focusTo("right")):"ArrowDown"===e.key&&(e.preventDefault(),this.focusTo("down"))}_onKeyup(e){}_onFocusTo(e){const o=e.composedPath()[0],r=e.detail.dir,s=e.detail.rect;if(s.center={x:s.x+s.width/2,y:s.y+s.height/2},o!==this){let v=o,x=1/0,w=1/0;const k=this.querySelectorAll('[tabindex="0"]:not([disabled])');for(let e=k.length;e--;){if(!k[e].offsetParent)continue;if("visible"!==window.getComputedStyle(k[e]).visibility)continue;const o=k[e].getBoundingClientRect();switch(o.center={x:o.x+o.width/2,y:o.y+o.height/2},r){case"right":if(o.left>=s.right-1){const r=Math.abs(o.left-s.right),C=Math.abs(o.center.y-s.center.y);r<x||C<w/3?(v=k[e],x=r,w=C):r===x&&C<w&&(v=k[e],w=C)}break;case"left":if(o.right<=s.left+1){const r=Math.abs(o.right-s.left),C=Math.abs(o.center.y-s.center.y);r<x||C<w/3?(v=k[e],x=r,w=C):r===x&&C<w&&(v=k[e],w=C)}break;case"down":if(o.top>=s.bottom-1){const r=Math.abs(o.center.x-s.center.x),C=Math.abs(o.top-s.bottom);C<w||r<x/3?(v=k[e],x=r,w=C):C===w&&r<x&&(v=k[e],x=r)}break;case"up":if(o.bottom<=s.top+1){const r=Math.abs(o.center.x-s.center.x),C=Math.abs(o.bottom-s.top);C<w||r<x/3?(v=k[e],x=r,w=C):C===w&&r<x&&(v=k[e],x=r)}}}v!==o&&(v.focus(),e.stopPropagation())}}focusTo(e){const o=this.getBoundingClientRect();this.dispatchEvent("focus-to",{dir:e,rect:o},!0)}getCaretPosition(){let e=0;const o=window.getSelection();if(o&&o.rangeCount){const r=o.getRangeAt(0),s=r.toString().length,v=r.cloneRange();v.selectNodeContents(this),v.setEnd(r.endContainer,r.endOffset),e=v.toString().length-s}return e}setCaretPosition(e){if(!e)return;const o=window.getSelection();if(o){const r=document.createRange();r.setStart(this.firstChild,e),r.collapse(!0),o.removeAllRanges(),o.addRange(r)}}changed(){let e="";e=this.label?this.label:this.value&&"object"==typeof this.value?`${this.value.constructor.name}`+(this.value instanceof Array?`(${this.value.length})`:""):String(this.value),this.template([this.icon?["io-icon",{icon:this.icon,stroke:this.stroke}]:null,["io-label",{label:e}]])}};__decorate$G([Property("0")],ae.prototype,"tabindex",void 0),__decorate$G([Property(void 0)],ae.prototype,"value",void 0),__decorate$G([Property({value:"",reflect:!0})],ae.prototype,"icon",void 0),__decorate$G([Property({value:"flush",reflect:!0})],ae.prototype,"appearance",void 0),__decorate$G([Property({value:!1,reflect:!0})],ae.prototype,"stroke",void 0),__decorate$G([Property({value:!1,reflect:!0})],ae.prototype,"selected",void 0),__decorate$G([Property({value:!1,reflect:!0})],ae.prototype,"invalid",void 0),__decorate$G([Property({value:"",reflect:!0})],ae.prototype,"placeholder",void 0),ae=__decorate$G([Register],ae);var __decorate$F=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let le=class IoButton extends ae{static get Style(){return"\n      :host {\n        text-align: center;\n        padding-left: calc(2 * var(--iotSpacing));\n        padding-right: calc(2 * var(--iotSpacing));\n        color: var(--iotColorStrong);\n      }\n      :host[pressed] {\n        border-color: var(--iotBorderColorInset);\n      }\n    "}_onPointerdown(e){super._onPointerdown(e),this.pressed=!0}_onPointerleave(e){super._onPointerleave(e),this.pressed=!1}_onPointerup(e){super._onPointerup(e),this.pressed=!1}_onKeydown(e){super._onKeydown(e),"Enter"!==e.key&&" "!==e.key||(this.pressed=!0)}_onKeyup(e){super._onKeyup(e),this.pressed=!1}_onClick(){"function"==typeof this.action&&this.action(this.value),this.dispatchEvent("io-button-clicked",{value:this.value},!0)}init(){this.changed()}changed(){this.setAttribute("aria-pressed",String(this.pressed)),this.template([this.icon?["io-icon",{icon:this.icon}]:null,this.label?["io-label",{label:this.label}]:null])}};__decorate$F([Property(void 0)],le.prototype,"action",void 0),__decorate$F([Property(void 0)],le.prototype,"value",void 0),__decorate$F([Property({value:"outset",reflect:!0})],le.prototype,"appearance",void 0),__decorate$F([Property({value:!1,reflect:!0})],le.prototype,"pressed",void 0),__decorate$F([Property("button")],le.prototype,"role",void 0),le=__decorate$F([Register],le);var __decorate$E=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let ce=class IoBoolean extends ae{static get Style(){return"\n      :host {\n        background-color: transparent;\n        padding: var(--iotSpacing) var(--iotSpacing);\n      }\n    "}_onClick(){this.toggle(),this.dispatchEvent("io-boolean-clicked",{value:this.value},!0)}toggle(){this.inputValue(!this.value)}init(){this.changed()}changed(){this.setAttribute("value",Boolean(this.value)),this.setAttribute("aria-checked",String(!!this.value)),this.setAttribute("aria-invalid","boolean"!=typeof this.value&&"true");const e=this.value?this.true:this.false;this.template([this.icon?["io-icon",{icon:this.icon,stroke:this.stroke}]:null,e?["io-label",{label:e}]:null])}};__decorate$E([Property({value:!1,reflect:!0})],ce.prototype,"value",void 0),__decorate$E([Property("true")],ce.prototype,"true",void 0),__decorate$E([Property("false")],ce.prototype,"false",void 0),__decorate$E([Property("switch")],ce.prototype,"role",void 0),ce=__decorate$E([Register],ce);var __decorate$D=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let he=class IoBoolicon extends ce{changed(){this.setAttribute("value",Boolean(this.value)),this.setAttribute("aria-checked",String(!!this.value)),this.setAttribute("aria-invalid","boolean"!=typeof this.value&&"true");const e=this.value?this.true:this.false;this.template([this.icon?["io-icon",{icon:this.icon,stroke:this.stroke}]:null,["io-icon",{icon:e,stroke:this.stroke}]])}};he=__decorate$D([Register],he);var __decorate$C=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let de=class IoSwitch extends ce{static get Style(){return"\n      :host {\n        position: relative;\n        width: calc(1.5 * var(--iotFieldHeight));\n        overflow: visible;\n      }\n      :host:before {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        visibility: visible;\n        top: var(--iotSpacing);\n        left: 0;\n        width: 100%;\n        height: var(--iotLineHeight);\n        border-radius: var(--iotLineHeight);\n        border: var(--iotBorder);\n        border-color: var(--iotBorderColorInset);\n        background-color: var(--iotBgColorField);\n        box-shadow: var(--iotShadowInset);\n        transition: background-color 0.4s;\n      }\n      :host:after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        visibility: visible;\n        top: calc(var(--iotBorderWidth) + var(--iotSpacing));\n        left: var(--iotBorderWidth);\n        height: calc(var(--iotLineHeight) - calc(2 * var(--iotBorderWidth)));\n        width: calc(var(--iotLineHeight) - calc(2 * var(--iotBorderWidth)));\n        background-color: var(--iotBgColorDimmed);\n        box-shadow: var(--iotShadowOutset);\n        border: var(--iotBorder);\n        border-color: var(--iotBorderColorOutset);\n        border-radius: var(--iotLineHeight);\n        transition-timing-function: ease-in-out;\n        transition: left 0.25s;\n      }\n      :host[value]:after {\n        background-color: var(--iotBgColorBlue);\n        left: calc(100% - calc(var(--iotLineHeight) - var(--iotBorderWidth)));\n      }\n      :host:focus:before {\n        border-color: var(--iotColorBlue);\n        outline: 1px auto var(--iotColorBlue);\n        outline: 1px auto -webkit-focus-ring-color;\n      }\n      :host:focus {\n        outline: 0;\n        border-color: transparent;\n      }\n    "}init(){this.setAttribute("aria-checked",String(!!this.value))}changed(){this.title=this.label}valueChanged(){this.setAttribute("aria-checked",String(!!this.value)),"boolean"!=typeof this.value?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")}};de=__decorate$C([Register],de);var __decorate$B=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let pe=class IoString extends ae{static get Style(){return"\n      :host {\n        cursor: text;\n        user-select: text;\n        -webkit-user-select: text;\n        -webkit-touch-callout: default;\n      }\n    "}_setFromTextNode(){const e=this.textNode;"string"==typeof this.value&&e!==String(this.value)&&this.inputValue(e)}_tryParseFromTextNode(){const e=this.textNode;try{const o=JSON.parse(e.replace(/[\t\n\r ]+/g," "));this.inputValue(o)}catch(o){console.warn("IoString: Cannot parse value",e),console.error(o),this._setFromTextNode()}}_onBlur(e){super._onBlur(e),this._setFromTextNode(),this.scrollTop=0,this.scrollLeft=0}_onPointerdown(e){this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup)}_onPointermove(e){}_onPointerup(e){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length))}_onKeydown(e){const o=window.getSelection().getRangeAt(0),r=o.startOffset,s=o.endOffset,v=this.childNodes[0]?this.childNodes[0].length:0,x=o.startContainer===o.endContainer&&(o.startContainer===this.childNodes[0]||o.startContainer===this);"Enter"===e.key?(e.preventDefault(),e.shiftKey?this._tryParseFromTextNode():this._setFromTextNode()):"ArrowLeft"===e.key?(e.ctrlKey||x&&r===s&&0===r)&&(e.preventDefault(),this.focusTo("left")):"ArrowUp"===e.key?(e.ctrlKey||x&&r===s&&0===r)&&(e.preventDefault(),this.focusTo("up")):"ArrowRight"===e.key?(e.ctrlKey||x&&r===s&&r===v)&&(e.preventDefault(),this.focusTo("right")):"ArrowDown"===e.key&&(e.ctrlKey||x&&r===s&&r===v)&&(e.preventDefault(),this.focusTo("down"))}_onKeyup(e){if(super._onKeyup(e),this.live){const e=this.getCaretPosition();this._setFromTextNode(),this.setCaretPosition(e)}}changed(){this.title=this.label,this.textNode=String(this.value).replace(new RegExp(" ","g")," ")}valueChanged(){"string"!=typeof this.value?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")}};__decorate$B([Property(!1)],pe.prototype,"live",void 0),__decorate$B([Property("")],pe.prototype,"value",void 0),__decorate$B([Property(!0)],pe.prototype,"contenteditable",void 0),__decorate$B([Property("textbox")],pe.prototype,"role",void 0),__decorate$B([Property({value:"inset",reflect:!0})],pe.prototype,"appearance",void 0),pe=__decorate$B([Register],pe);var __decorate$A=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let ue=class IoNumber extends ae{static get Style(){return"\n      :host {\n        cursor: text;\n        user-select: text;\n        -webkit-user-select: text;\n        -webkit-touch-callout: default;\n        font-family: monospace;\n        padding-top: calc(var(--iotSpacing) + 0.05em);\n        padding-bottom: calc(var(--iotSpacing) - 0.05em);\n      }\n    "}_pointer="";_onBlur(e){super._onBlur(e),this._setFromTextNode(),this.scrollTop=0,this.scrollLeft=0,setTimeout((()=>{document.activeElement.parentElement!==me&&(me.expanded=!1)}))}_onPointerdown(e){"touch"===this._pointer&&e.preventDefault(),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup),document.activeElement===this&&0===e.button||(this._pointer=e.pointerType)}_onPointerup(e){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),this.ladder||1===e.button?("touch"===this._pointer?(e.preventDefault(),document.activeElement.blur()):document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length)),this._expandLadder()):document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length))}_onFocus(e){super._onFocus(e),"touch"===this._pointer&&(me.expanded=!1)}_expandLadder(){me.src=this,me.expanded=!0}_onKeydown(e){const o=window.getSelection().getRangeAt(0),r=o.startOffset,s=o.endOffset,v=this.childNodes[0]?this.childNodes[0].length:0,x=o.startContainer===o.endContainer&&(o.startContainer===this.childNodes[0]||o.startContainer===this);if(27===e.which||13===e.which||32===e.which)e.preventDefault(),this._setFromTextNode();else if(36===e.which)this.textNode=this.min,this._setFromTextNode();else if(35===e.which)this.textNode=this.max,this._setFromTextNode();else if(33===e.which){const e=Number(this.textNode);!isNaN(e)&&Math.abs(e)<1/0?this.textNode=Number(this.textNode)+this.step:this.textNode=this.step,this._setFromTextNode()}else if(34===e.which){const e=Number(this.textNode);!isNaN(e)&&Math.abs(e)<1/0?this.textNode=Number(this.textNode)-this.step:this.textNode=-this.step,this._setFromTextNode()}else if(37===e.which)(e.ctrlKey||x&&r===s&&0===r)&&(e.preventDefault(),this.focusTo("left"));else if(38===e.which)if(me.expanded){const e=me.querySelector(".io-up1");e&&e.focus()}else(e.ctrlKey||x&&r===s&&0===r)&&(e.preventDefault(),this.focusTo("up"));else if(39===e.which)(e.ctrlKey||x&&r===s&&r===v)&&(e.preventDefault(),this.focusTo("right"));else if(40===e.which)if(me.expanded){const e=me.querySelector(".io-down1");e&&e.focus()}else(e.ctrlKey||x&&r===s&&r===v)&&(e.preventDefault(),this.focusTo("down"))}_onKeyup(e){17===e.which?this._expandLadder():27!==e.which&&13!==e.which&&32!==e.which||(oe.expanded=!1)}_setFromTextNode(){const e=this.textNode;let o=Number(e)/this.conversion;o=Math.min(this.max,Math.max(this.min,o)),o=Math.round(o/this.step)*this.step;const r=Math.max(0,Math.min(100,-Math.floor(Math.log(this.step)/Math.LN10)));o=Number(o.toFixed(r)),isNaN(o)?this.textNode="NaN":this.inputValue(o)}init(){this.changed()}changed(){this.setAttribute("value",this.value),this.setAttribute("aria-valuenow",this.value),this.setAttribute("aria-valuemin",this.min),this.setAttribute("aria-valuemax",this.max),this.setAttribute("aria-valuestep",this.step),"number"!=typeof this.value||isNaN(this.value)?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid");let e,o=this.value;if("number"!=typeof o||isNaN(o))e="NaN";else{o*=this.conversion;let r=-Math.floor(Math.log(this.step*this.conversion)/Math.LN10);r=Math.max(0,Math.min(100,r)),o=Number(o.toFixed(r)),e=String(o)}this.setAttribute("value",e),this.setAttribute("positive",this.value>=0),this.textNode=e}};__decorate$A([Property("textbox")],ue.prototype,"role",void 0),__decorate$A([Property(0)],ue.prototype,"value",void 0),__decorate$A([Property(1)],ue.prototype,"conversion",void 0),__decorate$A([Property(1e-4)],ue.prototype,"step",void 0),__decorate$A([Property(-1/0)],ue.prototype,"min",void 0),__decorate$A([Property(1/0)],ue.prototype,"max",void 0),__decorate$A([Property(!1)],ue.prototype,"ladder",void 0),__decorate$A([Property(!0)],ue.prototype,"contenteditable",void 0),__decorate$A([Property({value:"number",reflect:!0})],ue.prototype,"type",void 0),__decorate$A([Property({value:'pattern="[0-9]*"',reflect:!0})],ue.prototype,"pattern",void 0),__decorate$A([Property({value:"numeric",reflect:!0})],ue.prototype,"inputmode",void 0),__decorate$A([Property({value:"false",reflect:!0})],ue.prototype,"spellcheck",void 0),__decorate$A([Property({value:"inset",reflect:!0})],ue.prototype,"appearance",void 0),ue=__decorate$A([Register],ue);let ge=null;window.addEventListener("focusin",(()=>{ge=document.activeElement}),{capture:!1}),window.addEventListener("blur",(()=>{setTimeout((()=>{document.activeElement===document.body&&(ge=null)}))}),{capture:!0});let fe=class IoNumberLadderStep extends ae{static get Style(){return"\n      :host {\n        pointer-events: all;\n        display: inline-block;\n        cursor: ew-resize;\n        text-align: center;\n        background-color: var(--iotBgColorStrong);\n        color: var(--iotColor);\n        align-self: stretch;\n        touch-action: none;\n        width: 6em;\n      }\n      :host:before {\n        float: left;\n        content: '<';\n        opacity: 0.25;\n      }\n      :host:after {\n        float: right;\n        content: '>';\n        opacity: 0.25;\n      }\n    "}_onKeydown(e){let o=0;"Escape"===e.key||" "===e.key?this.dispatchEvent("ladder-step-collapse",{},!0):"ArrowLeft"===e.key||"Backspace"===e.key?(e.preventDefault(),o=-1*this.value):"ArrowUp"===e.key?(e.preventDefault(),this.focusTo("up")):"ArrowRight"===e.key||"Enter"===e.key?(e.preventDefault(),o=1*this.value):"ArrowDown"===e.key&&(e.preventDefault(),this.focusTo("down")),0!==o&&this.dispatchEvent("ladder-step-change",{step:Number(o.toFixed(5)),round:e.shiftKey},!0)}_onPointerdown(e){this.setPointerCapture(e.pointerId),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup),this._startX=e.clientX}_onPointermove(e){const o=e.clientX-this._startX;if(Math.abs(o)>5){const r=Math.pow(o/5,2)*o<0?-1:1,s=o>0?Math.floor(r):Math.ceil(r),v=this.value*s;this._startX=e.clientX,this.dispatchEvent("ladder-step-change",{step:Number(v.toFixed(5)),round:e.shiftKey},!0)}}_onPointerup(e){this.releasePointerCapture(e.pointerId),this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),this.dispatchEvent("ladder-step-collapse",{},!0)}init(){this.changed()}changed(){super.changed(),this.setAttribute("aria-valuestep",this.value)}};__decorate$A([Property(1)],fe.prototype,"value",void 0),__decorate$A([Property({value:"number",reflect:!0})],fe.prototype,"type",void 0),__decorate$A([Property("spinbutton")],fe.prototype,"role",void 0),fe=__decorate$A([Register],fe);let ve=class IoNumberLadder extends T{static get Style(){return"\n      :host {\n        display: flex;\n        flex-direction: column;\n        position: absolute;\n        pointer-events: none;\n        user-select: none;\n        -webkit-tap-highlight-color: transparent;\n        -webkit-user-select: none;\n        -webkit-touch-callout: none;\n      }\n      :host:not([expanded]) {\n        visibility: hidden;\n      }\n      :host:not([expanded]) > io-number-ladder-step {\n        opacity: 0.5;\n      }\n      :host > io-number-ladder-step:nth-child(-n+5) {\n        box-shadow: 0 -1px 4px rgba(0,0,0,0.2);\n      }\n      :host > io-number-ladder-step:nth-child(n+6) {\n        box-shadow: 0 1px 4px rgba(0,0,0,0.2);\n      }\n      :host > .io-up1,\n      :host > .io-down1{\n        z-index: 4;\n        transition: opacity 0.1s, transform 0.1s;\n      }\n      :host > .io-up2,\n      :host > .io-down2 {\n        z-index: 3;\n        opacity: 0.8;\n        transition: opacity 0.2s, transform 0.2s;\n      }\n      :host:not([expanded]) > .io-up4 {\n        transform: translateY(calc(3 * var(--iotFieldHeight)));\n      }\n      :host:not([expanded]) > .io-up3 {\n        transform: translateY(calc(2 * var(--iotFieldHeight)));\n      }\n      :host:not([expanded]) > .io-up2 {\n        transform: translateY(calc(1 * var(--iotFieldHeight)));\n      }\n      :host:not([expanded]) > .io-down2 {\n        transform: translateY(calc(-1 * var(--iotFieldHeight)));\n      }\n      :host:not([expanded]) > .io-down3 {\n        transform: translateY(calc(-2 * var(--iotFieldHeight)));\n      }\n      :host:not([expanded]) > .io-down4 {\n        transform: translateY(calc(-3 * var(--iotFieldHeight)));\n      }\n      :host > .io-up3,\n      :host > .io-down3 {\n        z-index: 2;\n        opacity: 0.6;\n        transition: opacity 0.4s, transform 0.4s;\n      }\n      :host > .io-up4,\n      :host > .io-down4 {\n        z-index: 1;\n        opacity: 0.4;\n        transition: opacity 0.8s, transform 0.8s;\n      }\n      :host > io-number-ladder-step:hover,\n      :host > io-number-ladder-step:focus {\n        background-color: var(--iotBgColorStrong);\n        border-color: var(--iotColorBlue);\n        transition: opacity 0.2s;\n        opacity: 1;\n      }\n      :host > .io-number-ladder-empty {\n        height: var(--iotFieldHeight);\n      }\n      :host > .io-number-ladder-center {\n        height: calc(1.5 * var(--iotFieldHeight));\n      }\n    "}static get Listeners(){return{"ladder-step-change":"_onLadderStepChange","ladder-step-collapse":"_onLadderStepCollapse",focusin:"_onFocusIn"}}get value(){return this.src?this.src.value:0}get min(){return this.src?this.src.min:-1/0}get max(){return this.src?this.src.max:1/0}get step(){return this.src?this.src.step:1e-4}get conversion(){return this.src?this.src.conversion:1}_onFocusIn(e){e.stopPropagation()}_onFocusTo(e){e.stopPropagation();const o=e.composedPath()[0],r=this.src,s=e.detail.dir;if(r&&(o===this.querySelector(".io-up1")&&"down"===s||o===this.querySelector(".io-down1")&&"up"===s))return r.focus(),void(r.selectionStart=r.selectionEnd=r.textNode.length);super._onFocusTo(e)}_onLadderStepChange(e){const o=this.src;if(o){const r=e.detail.step,s=e.detail.round?Math.round(this.value/r)*r:this.value;let v=Math.min(this.max,Math.max(this.min,s+r));v=Number(v.toFixed(5)),o.inputValue(v)}}_onLadderStepCollapse(){this.setProperty("expanded",!1)}expandedChanged(){const e=this.src;if(this.expanded)if(e){const o=e.getBoundingClientRect(),r=this.getBoundingClientRect(),s=oe.getBoundingClientRect();this.style.top=o.bottom-s.top+"px",this.style.left=o.left-s.left+"px",this.style.marginTop=-(r.height/2+G.iotLineHeight/2+G.iotSpacing)+"px"}else this.removeAttribute("style");else e&&"touch"!==e._pointerType?e.focus():ge&&ge.focus();this.dispatchEvent("expanded",{value:this.expanded},!0)}changed(){const e=this.max-this.min,o=["span",{class:"io-number-ladder-empty"}];let r=this.step/1e4;for(;r<.1;)r*=10;const s=1e4*r,v=1e3*r,x=100*r,w=10*r,k=1*r,C=.1*r,S=.01*r,M=.001*r,R=Number((s*this.conversion).toFixed(6)),O=Number((v*this.conversion).toFixed(6)),z=Number((x*this.conversion).toFixed(6)),L=Number((w*this.conversion).toFixed(6)),P=Number((k*this.conversion).toFixed(6)),T=Number((C*this.conversion).toFixed(6)),N=Number((S*this.conversion).toFixed(6)),A=Number((M*this.conversion).toFixed(6));this.template([e>=s?["io-number-ladder-step",{class:"io-up4",value:s,label:String(R)}]:o,e>=v?["io-number-ladder-step",{class:"io-up3",value:v,label:String(O)}]:o,e>=x?["io-number-ladder-step",{class:"io-up2",value:x,label:String(z)}]:o,e>=w?["io-number-ladder-step",{class:"io-up1",value:w,label:String(L)}]:o,["span",{class:"io-number-ladder-center"}],this.step<=k?["io-number-ladder-step",{class:"io-down1",value:k,label:String(P)}]:o,this.step<=C?["io-number-ladder-step",{class:"io-down2",value:C,label:String(T)}]:o,this.step<=S?["io-number-ladder-step",{class:"io-down3",value:S,label:String(N)}]:o,this.step<=M?["io-number-ladder-step",{class:"io-down4",value:M,label:String(A)}]:o]),this.setAttribute("aria-valuemin",this.min),this.setAttribute("aria-valuemax",this.max),this.setAttribute("aria-valuenow",this.value),this.setAttribute("aria-valuestep",this.step),this.setAttribute("aria-invalid",!("number"==typeof this.value&&!isNaN(this.value))&&"true");const I=this.querySelectorAll("io-number-ladder-step");for(let e=I.length;e--;)I[e].setAttribute("aria-valuemin",this.min),I[e].setAttribute("aria-valuemax",this.max),I[e].setAttribute("aria-valuenow",this.value),I[e].changed()}};__decorate$A([Property("list")],ve.prototype,"role",void 0),__decorate$A([Property(void 0)],ve.prototype,"src",void 0),__decorate$A([Property({value:!1,reflect:!0})],ve.prototype,"expanded",void 0),ve=__decorate$A([Register],ve);const me=new ve;oe.appendChild(me);var __decorate$z=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};const be={};let ye=class IoIconset extends r{registerIcons(e,o){const r=document.createElement("div");r.innerHTML=o,r.querySelectorAll("[id]").forEach((o=>{be[e]=be[e]||{},be[e][o.id]=o.outerHTML}))}getIcon(e){const o=be[e.split(":")[0]];if(o){const r=e.split(":")[1];if(o[r]){return`<svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">${o[r].replace(' id="',' class="icon-id-')}</svg>`}}return'<svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"></svg>'}};ye=__decorate$z([Register],ye);const xe=new ye;xe.registerIcons("icons",'\n<svg>\n<g id="io">\n  <ellipse fill="#83A61E" cx="5.4" cy="12.1" rx="3.4" ry="3.4"/>\n  <path fill="#646464" d="M16.3,17.7c-3.1,0-5.6-2.6-5.6-5.6s2.6-5.6,5.6-5.6s5.6,2.6,5.6,5.6S19.3,17.7,16.3,17.7z M16.3,8.8\n    c-1.8,0-3.3,1.5-3.3,3.2s1.5,3.2,3.3,3.2s3.3-1.5,3.3-3.2S18.1,8.8,16.3,8.8z"/>\n</g>\n<g id="io_logo">\n  <path fill="#646464" d="M19.5,12.7c0.3-0.3,0.3-0.9,0-1.2l-0.7-0.7l-2.6-2.6c-0.3-0.3-0.3-0.9,0-1.2c0.3-0.3,0.9-0.3,1.2,0l3.8,3.8\n    c0.7,0.7,0.7,1.8,0,2.6l-3.8,3.8c-0.3,0.3-0.9,0.3-1.2,0c-0.3-0.3-0.3-0.9,0-1.2"/>\n  <path fill="#646464" d="M4.3,12.7c-0.3-0.3-0.3-0.9,0-1.2L5,10.8l2.6-2.6c0.3-0.3,0.3-0.9,0-1.2C7.3,6.7,6.7,6.7,6.4,7l-3.8,3.8\n    c-0.7,0.7-0.7,1.8,0,2.6l3.8,3.8c0.3,0.3,0.9,0.3,1.2,0s0.3-0.9,0-1.2"/>\n  <ellipse fill="#83A61E" cx="8.4" cy="12.1" rx="1.7" ry="1.7"/>\n  <path fill="#646464" d="M13.9,14.9c-1.6,0-2.8-1.2-2.8-2.8s1.2-2.8,2.8-2.8s2.8,1.2,2.8,2.8S15.4,14.9,13.9,14.9z M13.9,10.4\n    c-0.9,0-1.7,0.7-1.7,1.7c0,0.9,0.7,1.7,1.7,1.7c0.9,0,1.7-0.7,1.7-1.7C15.5,11.2,14.8,10.4,13.9,10.4z"/>\n</g>\n<g id="unlink">\n  <path d="M3.9,12c0-1.7,1.4-3.2,3.2-3.2h4V7H7c-2.7,0-5,2.2-5,5s2.2,5,5,5h4v-1.9H7C5.2,15.1,3.9,13.7,3.9,12z M17,7h-4.1v1.9H17\n    c1.7,0,3.2,1.4,3.2,3.2s-1.4,3.2-3.2,3.2h-4.1v1.9H17c2.7,0,5-2.2,5-5S19.8,7,17,7z"/>\n</g>\n<g id="link">\n  <path d="M3.9,12c0-1.7,1.4-3.2,3.2-3.2h4V7H7c-2.7,0-5,2.2-5,5s2.2,5,5,5h4v-1.9H7C5.2,15.1,3.9,13.7,3.9,12z M8,13h8.1v-2H8V13z\n     M17,7h-4.1v1.9H17c1.7,0,3.2,1.4,3.2,3.2s-1.4,3.2-3.2,3.2h-4.1v1.9H17c2.7,0,5-2.2,5-5S19.8,7,17,7z"/>\n</g>\n<g id="gear">\n  <path d="M21.3,14.6L19.2,13c0-0.3,0.1-0.6,0.1-1c0-0.3,0-0.6-0.1-1l2.1-1.7c0.2-0.2,0.2-0.4,0.1-0.6l-1.9-3.4\n    c-0.1-0.2-0.3-0.2-0.6-0.2l-2.4,1c-0.5-0.3-1.1-0.7-1.7-1l-0.3-2.7c0-0.2-0.2-0.4-0.4-0.4h-4C9.8,2.3,9.5,2.4,9.5,2.7L9.1,5.3\n    C8.5,5.5,8,5.8,7.5,6.3l-2.4-1c-0.2-0.1-0.5,0-0.7,0.2L2.5,8.8C2.4,9.1,2.4,9.3,2.6,9.5l2.1,1.7c0,0.3-0.1,0.6-0.1,1s0,0.6,0.1,1\n    l-2.1,1.7c-0.2,0.2-0.2,0.4-0.1,0.6l1.9,3.4C4.5,19,4.7,19,5,19l2.4-1c0.5,0.4,1.1,0.7,1.7,1l0.4,2.7c0,0.2,0.3,0.4,0.6,0.4H14\n    c0.2,0,0.4-0.2,0.5-0.4l0.3-2.7c0.6-0.2,1.2-0.5,1.7-1l2.4,1c0.2,0.1,0.4,0,0.6-0.2l1.9-3.4C21.6,15.1,21.5,14.8,21.3,14.6z\n     M11.9,15.6c-2,0-3.7-1.7-3.7-3.7s1.7-3.6,3.7-3.6s3.7,1.7,3.7,3.7S13.9,15.6,11.9,15.6z"/>\n</g>\n<g id="less">\n  <path d="M6.6,20.3L8.3,22l3.7-4l3.7,4l1.7-1.7l-5.3-5.7L6.6,20.3z M17.3,3.8l-1.7-1.7l-3.7,4l-3.7-4L6.6,3.8l5.3,5.7L17.3,3.8z"/>\n</g>\n<g id="more">\n  <path d="M11.9,5.3l3.7,3.5l1.7-1.6L12,2.1L6.6,7.2l1.7,1.6L11.9,5.3z M11.9,18.9l-3.7-3.5L6.6,17l5.3,5.1l5.3-5.1l-1.7-1.6\n    L11.9,18.9z"/>\n</g>\n<g id="code">\n  <path d="M9.4,16.6L4.8,12l4.6-4.6L8,6.1l-6,6l6,6L9.4,16.6z M14.5,16.6l4.6-4.6l-4.6-4.6L15.9,6l6,6l-6,6L14.5,16.6z"/>\n</g>\n<g id="tune">\n  <path d="M2,17.6v2.2h6.6v-2.2H2z M2,4.3v2.2h11V4.3H2z M13,22v-2.2h8.9v-2.2H13v-2.2h-2.2V22H13z M6.4,8.7V11H2v2.2h4.4v2.2h2.2\n    V8.7H6.4z M21.9,13.1v-2.2h-11v2.2H21.9z M15.3,8.7h2.2V6.5h4.4V4.3h-4.4V2.1h-2.2V8.7z"/>\n</g>\n<g id="unlock">\n  <path d="M11.9,17.3c1,0,1.9-0.8,1.9-1.9s-0.8-1.9-1.9-1.9S10,14.3,10,15.4S11,17.3,11.9,17.3z M17.6,8.7h-0.9V6.8\n    c-0.1-2.6-2.2-4.7-4.7-4.7S7.3,4.3,7.3,6.8H9c0-1.7,1.3-2.9,2.9-2.9s2.9,1.3,2.9,2.9v1.9H6.4c-1.1,0-1.9,0.8-1.9,1.9v9.5\n    c0,1.1,0.8,1.9,1.9,1.9h11.2c1,0,1.9-0.8,1.9-1.9v-9.5C19.4,9.6,18.6,8.7,17.6,8.7z M17.6,20.1H6.4v-9.5h11.2V20.1z"/>\n</g>\n<g id="lock">\n  <path d="M11.9,17.3c1,0,1.9-0.8,1.9-1.9s-0.8-1.9-1.9-1.9S10,14.3,10,15.4S11,17.3,11.9,17.3z M17.6,8.7h-0.9V6.8\n    c-0.1-2.6-2.2-4.7-4.7-4.7S7.3,4.3,7.3,6.8v1.9H6.4c-1.1,0-1.9,0.8-1.9,1.9v9.5c0,1.1,0.8,1.9,1.9,1.9h11.2c1,0,1.9-0.8,1.9-1.9\n    v-9.5C19.4,9.6,18.6,8.7,17.6,8.7z M9,6.8c0-1.7,1.3-2.9,2.9-2.9s2.9,1.3,2.9,2.9v1.9H9V6.8z M17.6,20.1H6.4v-9.5h11.2V20.1z"/>\n</g>\n<g id="more_horizontal">\n  <path d="M4.5,9.6C3.1,9.6,2,10.7,2,12.1s1.1,2.5,2.5,2.5S7,13.5,7,12.1S5.9,9.6,4.5,9.6z M19.4,9.6c-1.4,0-2.5,1.1-2.5,2.5\n    s1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5S20.8,9.6,19.4,9.6z M11.9,9.6c-1.4,0-2.5,1.1-2.5,2.5s1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5\n    S13.4,9.6,11.9,9.6z"/>\n</g>\n<g id="more_vertical">\n  <path d="M11.9,7.1c1.4,0,2.5-1.1,2.5-2.5s-1.1-2.5-2.5-2.5S9.5,3.2,9.5,4.6S10.5,7.1,11.9,7.1z M11.9,9.6c-1.4,0-2.5,1.1-2.5,2.5\n    s1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5S13.4,9.6,11.9,9.6z M11.9,17.1c-1.4,0-2.5,1.1-2.5,2.5s1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5\n    S13.4,17.1,11.9,17.1z"/>\n</g>\n<g id="chevron_left">\n  <path d="M18.1,4.4l-2.3-2.3l-10,10l10,10l2.3-2.3l-7.6-7.6L18.1,4.4z"/>\n</g>\n<g id="chevron_up">\n  <path d="M11.9,5.9l-10,10l2.3,2.3l7.6-7.6l7.6,7.6l2.3-2.3L11.9,5.9z"/>\n</g>\n<g id="chevron_down">\n  <path d="M4.3,5.9l7.6,7.6l7.6-7.6l2.3,2.3l-10,10L2,8.2L4.3,5.9z"/>\n</g>\n<g id="chevron_right">\n  <path d="M5.8,19.7l7.6-7.6L5.8,4.4l2.3-2.3l10,10l-10,10L5.8,19.7z"/>\n</g>\n<g id="arrow_left">\n  <path d="M21.9,10.8H6.7l7-7L12,2.1l-10,10l10,10l1.7-1.7l-7-7h15.2V10.8z"/>\n</g>\n<g id="arrow_down">\n  <path d="M21.9,12.1l-1.7-1.7l-7,7V2.1h-2.5v15.2l-7-7L2,12.1l10,10L21.9,12.1z"/>\n</g>\n<g id="arrow_up">\n  <path d="M2,12.1l1.7,1.7l7-7V22h2.5V6.8l7,7l1.7-1.7l-10-10L2,12.1z"/>\n</g>\n<g id="arrow_right">\n  <path d="M2,13.3h15.2l-7,7l1.7,1.7l10-10l-10-10l-1.7,1.7l7,7H2V13.3z"/>\n</g>\n<g id="arrow_end">\n  <polygon points="7.6,3.8 14.6,10.8 2,10.8 2,13.3 14.6,13.3 7.6,20.3 9.4,22 19.3,12.1 9.4,2.1   "/>\n  <rect x="19.4" y="2.1" width="2.5" height="19.9"/>\n</g>\n<g id="arrow_home">\n  <polygon points="16.3,20.3 9.3,13.3 21.9,13.3 21.9,10.8 9.3,10.8 16.3,3.8 14.5,2.1 4.6,12.1 14.5,22   "/>\n  <rect x="2" y="2.1" width="2.5" height="19.9"/>\n</g>\n<g id="chevron_end">\n  <path d="M2,4.4L9.6,12L2,19.7L4.3,22l10-10L4.3,2L2,4.4z M18.6,2.1h3.3V22h-3.3V2.1z"/>\n</g>\n<g id="chevron_home">\n  <path d="M21.9,19.7l-7.6-7.6l7.6-7.6l-2.3-2.3l-10,10l10,10L21.9,19.7z M5.3,22H2V2.1h3.3V22z"/>\n</g>\n<g id="check">\n  <path d="M8.3,16.5l-4.7-4.7L2,13.3l6.3,6.3L21.9,6.1l-1.6-1.6L8.3,16.5z"/>\n</g>\n<g id="close">\n  <path d="M21.9,4.1l-2-2l-8,8l-8-8l-2,2l8,8l-8,8l2,2l8-8l8,8l2-2l-8-8L21.9,4.1z"/>\n</g>\n<g id="circle">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8\n    s8,3.6,8,8S16.4,20,11.9,20z"/>\n</g>\n<g id="circle_minus">\n  <path d="M7,11.1v2h10v-2C16.9,11.1,7,11.1,7,11.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z\n     M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z"/>\n</g>\n<g id="circle_plus">\n  <path d="M12.9,7.1h-2v4H7v2h4v4h2v-4h4v-2h-4v-4H12.9z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1\n    z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z"/>\n</g>\n<g id="circle_close">\n  <path d="M14.5,8.1l-2.6,2.6L9.4,8.1L8,9.5l2.6,2.6L8,14.6L9.4,16l2.6-2.6l2.6,2.6l1.4-1.4L13.4,12L16,9.4L14.5,8.1z M11.9,2.1\n    c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8\n    S16.4,20,11.9,20z"/>\n</g>\n<g id="circle_triangle_right">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8\n    s8,3.6,8,8S16.4,20,11.9,20z"/>\n  <polygon points="10,16.6 15.9,12.1 10,7.6   "/>\n</g>\n<g id="circle_triangle_down">\n  <path d="M21.9,12.1c0-5.5-4.5-10-10-10S2,6.6,2,12.1s4.5,10,10,10S21.9,17.5,21.9,12.1z M4,12.1c0-4.4,3.6-8,8-8s8,3.6,8,8\n    s-3.6,8-8,8S4,16.5,4,12.1z"/>\n  <polygon points="7.5,10.1 11.9,16.1 16.4,10.1   "/>\n</g>\n<g id="circle_triangle_left">\n  <path d="M11.9,22c5.5,0,10-4.5,10-10s-4.5-10-10-10S2,6.6,2,12.1S6.5,22,11.9,22z M11.9,4.1c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8\n    S7.5,4.1,11.9,4.1z"/>\n  <polygon points="13.9,7.6 8,12.1 13.9,16.6   "/>\n</g>\n<g id="circle_triangle_up">\n  <path d="M2,12.1c0,5.5,4.5,10,10,10s10-4.5,10-10s-4.5-10-10-10S2,6.6,2,12.1z M19.9,12.1c0,4.4-3.6,8-8,8s-8-3.6-8-8s3.6-8,8-8\n    S19.9,7.7,19.9,12.1z"/>\n  <polygon points="16.4,14.1 11.9,8.1 7.5,14.1   "/>\n</g>\n<g id="triangle_right">\n  <polygon points="9.1,16.5 14.9,12 9.1,7.5   "/>\n</g>\n<g id="triangle_down">\n  <polygon points="7.6,9 11.9,15 16.5,9   "/>\n</g>\n<g id="triangle_left">\n  <polygon points="14.9,7.5 9.1,12 14.9,16.5   "/>\n</g>\n<g id="triangle_up">\n  <polygon points="16.5,15 11.9,9 7.6,15   "/>\n</g>\n<g id="circle_pause">\n  <path d="M9,16.1h2v-8H9V16.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20\n    c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z M12.9,16.1h2v-8h-2V16.1z"/>\n</g>\n<g id="circle_info">\n  <path d="M11,17.1h2v-6h-2V17.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20\n    c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z M11,9.1h2v-2h-2C11,7.1,11,9.1,11,9.1z"/>\n</g>\n<g id="circle_warning">\n  <path d="M11,15.1h2v2h-2V15.1z M11,7.1h2v6h-2V7.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z\n     M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z"/>\n</g>\n<g id="circle_help">\n  <path d="M11,18h2v-2h-2C11,16.1,11,18,11,18z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z\n     M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z M11.9,6.1c-2.2,0-4,1.8-4,4h2c0-1.1,0.9-2,2-2s2,0.9,2,2\n    c0,2-3,1.8-3,5h2c0-2.3,3-2.5,3-5C15.9,7.9,14.1,6.1,11.9,6.1z"/>\n</g>\n<g id="circle_checked">\n  <path d="M11.9,7.1c-2.8,0-5,2.2-5,5s2.2,5,5,5s5-2.2,5-5S14.8,7.1,11.9,7.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10\n    s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z"/>\n</g>\n<g id="circle_location">\n  <path d="M20,11.2c-0.4-3.8-3.4-6.8-7.1-7.1v-2H11V4c-3.8,0.3-6.8,3.3-7.1,7.1H2V13h1.9c0.4,3.8,3.4,6.8,7.1,7.1V22h1.8v-1.9\n    c3.8-0.4,6.8-3.4,7.1-7.1h1.9v-1.8C21.9,11.2,20,11.2,20,11.2z M11.9,18.4c-3.6,0-6.3-2.8-6.3-6.3s2.7-6.3,6.3-6.3s6.3,2.8,6.3,6.3\n    S15.5,18.4,11.9,18.4z"/>\n</g>\n<g id="circle_location_checked">\n  <path d="M11.9,8.4c-2,0-3.7,1.7-3.7,3.7s1.7,3.7,3.7,3.7s3.7-1.7,3.7-3.7S13.9,8.4,11.9,8.4z M20,11.2c-0.4-3.8-3.4-6.8-7.1-7.1v-2\n    H11V4c-3.8,0.3-6.8,3.3-7.1,7.1H2V13h1.9c0.4,3.8,3.4,6.8,7.1,7.1V22h1.8v-1.9c3.8-0.4,6.8-3.4,7.1-7.1h1.9v-1.8\n    C21.9,11.2,20,11.2,20,11.2z M11.9,18.4c-3.6,0-6.3-2.8-6.3-6.3s2.7-6.3,6.3-6.3s6.3,2.8,6.3,6.3S15.5,18.4,11.9,18.4z"/>\n</g>\n<g id="circle_fill">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z"/>\n</g>\n<g id="circle_fill_checked">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M10,17.1l-5-5l1.4-1.4l3.6,3.6l7.6-7.6\n    L19,8.1L10,17.1z"/>\n</g>\n<g id="circle_fill_minus">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M16.9,13.1H7v-2h10v2H16.9z"/>\n</g>\n<g id="circle_fill_plus">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M16.9,13.1h-4v4h-2v-4H7v-2h4v-4h2v4h4v2\n    H16.9z"/>\n</g>\n<g id="circle_fill_arrow_down">\n  <path d="M21.9,12.1c0-5.5-4.5-10-10-10S2,6.6,2,12.1s4.5,10,10,10S21.9,17.5,21.9,12.1z M7.5,10.1h9l-4.5,6L7.5,10.1z"/>\n</g>\n<g id="circle_fill_arrow_left">\n  <path d="M11.9,22c5.5,0,10-4.5,10-10s-4.5-10-10-10S2,6.6,2,12.1S6.5,22,11.9,22z M13.9,7.6v9l-6-4.5L13.9,7.6z"/>\n</g>\n<g id="circle_fill_arrow_up">\n  <path d="M2,12.1c0,5.5,4.5,10,10,10s10-4.5,10-10s-4.5-10-10-10S2,6.6,2,12.1z M16.4,14.1h-9l4.5-6L16.4,14.1z"/>\n</g>\n<g id="circle_fill_arrow_right">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M10,16.6v-9l6,4.5L10,16.6z"/>\n</g>\n<g id="circle_fill_pause">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11,16.1H9v-8h2V16.1z M14.9,16.1h-2v-8h2\n    V16.1z"/>\n</g>\n<g id="circle_fill_info">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M12.9,17.1h-2v-6h2V17.1z M12.9,9.1h-2v-2h2\n    C12.9,7.1,12.9,9.1,12.9,9.1z"/>\n</g>\n<g id="circle_fill_warning">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M12.9,17.1h-2v-2h2V17.1z M12.9,13.1h-2v-6h2\n    C12.9,7.1,12.9,13.1,12.9,13.1z"/>\n</g>\n<g id="circle_fill_help">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M12.9,19h-2v-2h2C12.9,17.1,12.9,19,12.9,19z\n     M15,11.4l-0.9,0.9c-0.8,0.7-1.2,1.3-1.2,2.8h-2v-0.6c0-1.1,0.4-2.1,1.2-2.8l1.2-1.3c0.4-0.3,0.6-0.8,0.6-1.4C14,8,13.1,7.1,12,7.1\n    s-2,0.9-2,2H8c0-2.2,1.8-4,4-4s4,1.8,4,4C15.9,10,15.5,10.7,15,11.4z"/>\n</g>\n<g id="circle_fill_group">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M8,17.5c-1.4,0-2.5-1.1-2.5-2.5\n    s1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5S9.4,17.5,8,17.5z M9.5,8.1c0-1.4,1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5s-1.1,2.5-2.5,2.5\n    S9.5,9.5,9.5,8.1z M15.9,17.5c-1.4,0-2.5-1.1-2.5-2.5s1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5S17.3,17.5,15.9,17.5z"/>\n</g>\n<g id="box">\n  <path d="M19.7,4.3v15.5H4.2V4.3H19.7 M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3\n    C21.9,3.1,20.9,2.1,19.7,2.1z"/>\n</g>\n<g id="box_fill">\n  <path d="M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z"/>\n</g>\n<g id="box_fill_checked">\n  <path d="M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z\n     M9.8,17.6l-5.5-5.5l1.6-1.6l4,4l8.3-8.4l1.6,1.5L9.8,17.6z"/>\n</g>\n<g id="box_fill_minus">\n  <path d="M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z\n     M17.5,13.1H6.4v-2.2h11L17.5,13.1L17.5,13.1z"/>\n</g>\n<path id="box_fill_plus" d="M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3\n  C21.9,3.1,20.9,2.1,19.7,2.1z M17.5,13.1h-4.4v4.4h-2.2v-4.4H6.4v-2.2h4.4V6.5H13v4.4h4.4L17.5,13.1L17.5,13.1z"/>\n<g id="box_fill_gear">\n  <path d="M11.9,9.8c-1.2,0-2.2,1-2.2,2.2s1,2.2,2.2,2.2s2.2-1,2.2-2.2S13.2,9.8,11.9,9.8z M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5\n    C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z M17.8,12.1c0,0.2,0,0.5-0.1,0.7l1.7,1.2\n    c0.2,0.1,0.2,0.3,0.1,0.5l-1.6,2.7c-0.1,0.2-0.3,0.2-0.5,0.2l-1.9-0.7c-0.4,0.3-0.8,0.6-1.3,0.7L14,19.5c0,0.2-0.2,0.3-0.4,0.3\n    h-3.1c-0.2,0-0.3-0.2-0.4-0.3l-0.2-2.1C9.4,17.2,9,17,8.6,16.7l-1.9,0.7c-0.2,0.1-0.4,0-0.5-0.2l-1.5-2.7c-0.1-0.2-0.1-0.4,0.1-0.5\n    l1.7-1.2c-0.1-0.2-0.1-0.5-0.1-0.7s0-0.5,0.1-0.7l-1.7-1.2C4.4,9.9,4.4,9.7,4.5,9.6l1.6-2.7c0.1-0.2,0.2-0.3,0.4-0.2l1.9,0.7\n    c0.4-0.3,0.8-0.6,1.3-0.7L10,4.6c0-0.2,0.2-0.3,0.4-0.3h3.1c0.2,0,0.3,0.2,0.4,0.3l0.2,2.1c0.5,0.2,0.9,0.4,1.3,0.7l1.9-0.7\n    c0.2-0.1,0.4,0,0.5,0.2l1.6,2.7c0.1,0.2,0.1,0.4-0.1,0.5l-1.7,1.2C17.8,11.6,17.8,11.8,17.8,12.1z"/>\n</g>\n<g id="box_focus">\n  <path d="M4.2,15.4H2v4.4C2,21,3,22,4.2,22h4.4v-2.2H4.2V15.4z M4.2,4.3h4.4V2.1H4.2C3,2.1,2,3.1,2,4.3v4.4h2.2V4.3z M19.7,2.1h-4.4\n    v2.2h4.4v4.4h2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z M19.7,19.8h-4.4V22h4.4c1.2,0,2.2-1,2.2-2.2v-4.4h-2.2V19.8z M11.9,7.7\n    c-2.4,0-4.4,2-4.4,4.4s2,4.4,4.4,4.4s4.4-2,4.4-4.4S14.4,7.7,11.9,7.7z M11.9,14.3c-1.2,0-2.2-1-2.2-2.2s1-2.2,2.2-2.2\n    s2.2,1,2.2,2.2S13.2,14.3,11.9,14.3z"/>\n</g>\n<g id="rows">\n  <path d="M20.8,13.1H3.1c-0.6,0-1.1,0.5-1.1,1.1v6.6C2,21.5,2.5,22,3.1,22H21c0.6,0,1.1-0.5,1.1-1.1v-6.6\n    C21.9,13.6,21.4,13.1,20.8,13.1z M20.8,2.1H3.1C2.5,2.1,2,2.6,2,3.2v6.6c0,0.6,0.5,1.1,1.1,1.1H21c0.6,0,1.1-0.5,1.1-1.1V3.2\n    C21.9,2.6,21.4,2.1,20.8,2.1z"/>\n</g>\n<g id="columns">\n  <path d="M6.2,2.1H3.1C2.5,2.1,2,2.8,2,3.5v17.1C2,21.4,2.5,22,3.1,22h3.2c0.6,0,1.1-0.7,1.1-1.4V3.5C7.2,2.8,6.7,2.1,6.2,2.1z\n     M20.8,2.1h-3.2c-0.6,0-1.1,0.7-1.1,1.4v17.1c0,0.7,0.5,1.4,1.1,1.4h3.2c0.6,0,1.1-0.7,1.1-1.4V3.5C21.9,2.8,21.4,2.1,20.8,2.1z\n     M13.5,2.1h-3.2c-0.6,0-1.1,0.7-1.1,1.4v17.1c0,0.7,0.5,1.4,1.1,1.4h3.2c0.6,0,1.1-0.7,1.1-1.4V3.5C14.6,2.8,14.1,2.1,13.5,2.1z"/>\n</g>\n<g id="dashboard">\n  <path d="M2,13.1h8.9v-11H2V13.1z M2,22h8.9v-6.6H2V22z M13,22h8.9V11H13V22z M13,2.1v6.6h8.9V2.1H13z"/>\n</g>\n<g id="layer_add">\n  <path d="M4,6.1H2v14c0,1.1,0.9,2,2,2h14v-2H4V6.1z M19.9,2.1H8c-1.1,0-2,0.9-2,2v12c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-12\n    C21.9,3,21,2.1,19.9,2.1z M18.9,11.1h-4v4h-2v-4H9v-2h4v-4h2v4h4C18.9,9.1,18.9,11.1,18.9,11.1z"/>\n</g>\n<g id="layer_remove">\n  <path d="M4,6.1H2v14c0,1.1,0.9,2,2,2h14v-2H4V6.1z"/>\n  <path d="M19.9,2.1H8c-1.1,0-2,0.9-2,2v12c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-12C21.9,3,21,2.1,19.9,2.1z M18.9,11.1H9v-2h10v2\n    H18.9z"/>\n</g>\n<g id="layer_to_back">\n  <path d="M8.6,6.5H6.4v2.2h2.2V6.5L8.6,6.5z M8.6,11H6.4v2.2h2.2V11C8.5,11,8.6,11,8.6,11z M8.6,2.1c-1.2,0-2.2,1-2.2,2.2h2.2V2.1\n    L8.6,2.1z M13,15.4h-2.2v2.2H13C13,17.5,13,15.4,13,15.4z M19.8,2.1v2.2H22C21.9,3.1,20.9,2.1,19.8,2.1z M13,2.1h-2.2v2.2H13V2.1z\n     M8.6,17.6v-2.2H6.4C6.4,16.6,7.4,17.6,8.6,17.6z M19.8,13.1H22V11h-2.2V13.1z M19.8,8.7H22V6.5h-2.2V8.7z M19.8,17.6\n    c1.2,0,2.2-1,2.2-2.2h-2.2V17.6z M4.1,6.5H2v13.3C2,21,3,22,4.1,22h13.3v-2.2H4.1C4.1,19.9,4.1,6.5,4.1,6.5z M15.3,4.3h2.2V2.1\n    h-2.2V4.3z M15.3,17.6h2.2v-2.2h-2.2V17.6z"/>\n</g>\n<g id="layer_to_front">\n  <path d="M2,13.1h2.2V11H2V13.1z M2,17.6h2.2v-2.2H2V17.6z M4.1,22v-2.2H2C2,21,3,22,4.1,22z M2,8.7h2.2V6.5H2V8.7z M15.3,22h2.2\n    v-2.2h-2.2V22z M19.8,2.1H8.6c-1.2,0-2.2,1-2.2,2.2v11.1c0,1.2,1,2.2,2.2,2.2h11c1.2,0,2.2-1,2.2-2.2V4.3\n    C21.9,3.1,20.9,2.1,19.8,2.1z M19.8,15.4H8.6V4.3h11L19.8,15.4L19.8,15.4z M10.9,22H13v-2.2h-2.2C10.9,19.9,10.9,22,10.9,22z\n     M6.4,22h2.2v-2.2H6.4V22z"/>\n</g>\n<g id="layer_image">\n  <path d="M21.9,16.1v-12c0-1.1-0.9-2-2-2H8c-1.1,0-2,0.9-2,2v12c0,1.1,0.9,2,2,2h12C21,18,21.9,17.1,21.9,16.1z M11,12.1l2,2.7\n    l3-3.7l4,5H8L11,12.1z M2,6.1v14c0,1.1,0.9,2,2,2h14v-2H4v-14C4,6.1,2,6.1,2,6.1z"/>\n</g>\n<g id="image">\n  <path d="M21.9,19.8V4.3c0-1.2-1-2.2-2.2-2.2H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5C20.9,22,21.9,21,21.9,19.8z M8,13.7\n    l2.7,3.3l3.9-5l5,6.6H4.2L8,13.7z"/>\n</g>\n<g id="label_fill">\n  <path d="M17.3,5.6c-0.4-0.5-1-0.9-1.7-0.9H4.1C2.9,4.8,2,5.7,2,6.8v10.5c0,1.2,0.9,2.1,2.1,2.1h11.5c0.7,0,1.3-0.3,1.7-0.9l4.6-6.4\n    L17.3,5.6z"/>\n</g>\n<g id="label">\n  <path d="M17.3,5.6c-0.4-0.5-1-0.9-1.7-0.9H4.1C2.9,4.7,2,5.6,2,6.8v10.5c0,1.2,0.9,2.1,2.1,2.1h11.5c0.7,0,1.3-0.3,1.7-0.9l4.6-6.3\n    L17.3,5.6z M15.6,17.3H4.1V6.8h11.5l3.7,5.2L15.6,17.3z"/>\n</g>\n<g id="backspace">\n  <path d="M20.3,4.8H7.8c-0.6,0-1,0.2-1.3,0.7L2,12.1l4.5,6.6c0.3,0.4,0.7,0.7,1.3,0.7h12.5c0.9,0,1.7-0.7,1.7-1.7V6.3\n    C21.9,5.4,21.2,4.8,20.3,4.8z M17.8,15l-1.2,1.2l-3-2.9l-3,2.9L9.5,15l3-2.9l-3-2.9L10.6,8l3,2.9l3-2.9l1.2,1.2l-3,2.9L17.8,15z"/>\n</g>\n<g id="redo">\n  <path d="M18.3,11.2c-1.8-1.6-4.2-2.6-6.7-2.6c-4.6,0-8.3,3-9.7,7.1l2.2,0.7c1-3.1,4-5.3,7.4-5.3c1.9,0,3.7,0.7,5,1.8l-3.6,3.6h9\n    V7.7L18.3,11.2z"/>\n</g>\n<g id="undo">\n  <path d="M12.2,8.6c-2.6,0-4.9,1-6.7,2.6L2,7.7v8.8h8.8L7.2,13c1.3-1.2,3.1-1.8,5-1.8c3.4,0,6.3,2.2,7.4,5.3l2.2-0.8\n    C20.6,11.6,16.8,8.6,12.2,8.6z"/>\n</g>\n<g id="reload">\n  <path d="M19,5c-1.8-1.7-4.3-2.9-7.1-2.9c-5.5,0-10,4.5-10,10s4.5,10,10,10c4.7,0,8.6-3.2,9.6-7.5H19c-1,2.9-3.8,5-7.1,5\n    c-4.2,0-7.5-3.3-7.5-7.5s3.3-7.5,7.5-7.5c2.1,0,3.9,0.8,5.2,2.2l-4,4h8.7V2.1L19,5z"/>\n</g>\n<g id="grid_fill">\n  <path d="M4,8.1h4v-4H4V8.1z M10,20h4v-4h-4V20z M4,20h4v-4H4V20z M4,14.1h4v-4H4V14.1z M10,14.1h4v-4h-4V14.1z M15.9,4.1v4h4v-4\n    C19.9,4.1,15.9,4.1,15.9,4.1z M10,8.1h4v-4h-4V8.1z M15.9,14.1h4v-4h-4V14.1z M15.9,20h4v-4h-4V20z"/>\n</g>\n<g id="grid">\n  <path d="M19.9,2.1H4c-1.1,0-2,0.9-2,2V20c0,1.1,0.9,2,2,2h15.9c1.1,0,2-0.9,2-2V4.1C21.9,3,21,2.1,19.9,2.1z M8,20H4v-4h4\n    C8,16.1,8,20,8,20z M8,14.1H4v-4h4V14.1z M8,8.1H4v-4h4C8,4.1,8,8.1,8,8.1z M13.9,20h-4v-4h4C13.9,16.1,13.9,20,13.9,20z\n     M13.9,14.1h-4v-4h4V14.1z M13.9,8.1h-4v-4h4C13.9,4.1,13.9,8.1,13.9,8.1z M19.9,20h-4v-4h4C19.9,16.1,19.9,20,19.9,20z M19.9,14.1\n    h-4v-4h4V14.1z M19.9,8.1h-4v-4h4C19.9,4.1,19.9,8.1,19.9,8.1z"/>\n</g>\n<g id="search">\n  <path d="M16.2,14.6h-0.9L15,14.3c1.1-1.2,1.7-2.9,1.7-4.7c0-4.1-3.2-7.3-7.3-7.3S2.1,5.5,2.1,9.6s3.2,7.3,7.3,7.3\n    c1.8,0,3.5-0.7,4.7-1.7l0.3,0.3v0.9L20,22l1.7-1.7L16.2,14.6z M9.5,14.6c-2.8,0-5.1-2.2-5.1-5.1s2.2-5.1,5.1-5.1s5.1,2.2,5.1,5.1\n    S12.2,14.6,9.5,14.6z"/>\n</g>\n<g id="zoom_in">\n  <path d="M16.2,14.6h-0.9L15,14.3c1.1-1.2,1.7-3,1.7-4.7c0-4.1-3.2-7.3-7.3-7.3S2.1,5.5,2.1,9.6s3.2,7.3,7.3,7.3\n    c1.8,0,3.5-0.7,4.7-1.7l0.3,0.3v0.9L20,22l1.7-1.7L16.2,14.6z M9.5,14.6c-2.8,0-5.1-2.2-5.1-5.1s2.2-5.1,5.1-5.1s5.1,2.2,5.1,5.1\n    S12.2,14.6,9.5,14.6z M12.2,10.1H10v2.2H8.9v-2.2H6.6V9h2.2V6.8H10V9h2.2V10.1L12.2,10.1z"/>\n</g>\n<g id="zoom_out">\n  <path d="M16.2,14.6h-0.9L15,14.3c1.1-1.2,1.7-3,1.7-4.7c0-4.1-3.2-7.3-7.3-7.3S2.1,5.5,2.1,9.6s3.2,7.3,7.3,7.3\n    c1.8,0,3.5-0.7,4.7-1.7l0.3,0.3v0.9L20,22l1.7-1.7L16.2,14.6z M9.5,14.6c-2.8,0-5.1-2.2-5.1-5.1s2.2-5.1,5.1-5.1s5.1,2.2,5.1,5.1\n    S12.2,14.6,9.5,14.6z M6.6,9h5.6v1.2H6.6V9z"/>\n</g>\n<g id="fullscreen">\n  <path d="M4.8,14.9H2V22h7.1v-2.8H4.8V14.9z M2,9.2h2.8V4.9H9V2.1H2V9.2z M19.1,19.2h-4.2V22H22v-7.1h-2.8v4.3H19.1z M14.8,2.1v2.8\n    H19v4.2h2.9v-7H14.8z"/>\n</g>\n<g id="fullscreen_off">\n  <path d="M2,17.8h4.2V22H9v-7.1H2V17.8z M6.2,6.3H2v2.8h7.1v-7H6.2V6.3z M14.8,22h2.8v-4.2h4.3V15h-7.1C14.8,15,14.8,22,14.8,22z\n     M17.7,6.3V2.1h-2.8v7.1H22V6.3H17.7z"/>\n</g>\n<g id="color_palette">\n  <path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10c0.9,0,1.7-0.7,1.7-1.7c0-0.4-0.2-0.8-0.4-1.1c-0.2-0.3-0.4-0.7-0.4-1.1\n    c0-0.9,0.7-1.7,1.7-1.7h2c3.1,0,5.6-2.5,5.6-5.6C21.9,6.1,17.4,2.1,11.9,2.1z M5.9,12.1c-0.9,0-1.7-0.7-1.7-1.7S5,8.7,5.9,8.7\n    s1.7,0.7,1.7,1.7S6.8,12.1,5.9,12.1z M9.2,7.7C8.3,7.7,7.5,6.9,7.5,6s0.7-1.7,1.7-1.7S10.9,5,10.9,6S10.1,7.7,9.2,7.7z M14.7,7.7\n    C13.8,7.7,13,6.9,13,6s0.7-1.7,1.7-1.7c0.9,0,1.7,0.7,1.7,1.7S15.6,7.7,14.7,7.7z M18,12.1c-0.9,0-1.7-0.7-1.7-1.7S17,8.7,18,8.7\n    s1.7,0.7,1.7,1.7S18.9,12.1,18,12.1z"/>\n</g>\n<g id="color_picker">\n  <path d="M21.6,5L19,2.4c-0.4-0.4-1.2-0.4-1.6,0l-3.5,3.5l-2.1-2.2l-1.6,1.6l1.6,1.6L2,16.8V22h5.2l9.9-9.9l1.6,1.6l1.6-1.6L18.1,10\n    l3.5-3.5C22,6.2,22,5.4,21.6,5z M6.3,19.8l-2.2-2.2l9-8.9l2.2,2.2L6.3,19.8z"/>\n</g>\n<g id="trash">\n  <path d="M5.3,19.8c0,1.2,1,2.2,2.2,2.2h8.9c1.2,0,2.2-1,2.2-2.2V6.5H5.3V19.8z M19.7,3.2h-3.9l-1.1-1.1H9.2L8,3.2H4.2v2.2h15.5V3.2\n    L19.7,3.2z"/>\n</g>\n<g id="trash_empty">\n  <path d="M5.3,19.8c0,1.2,1,2.2,2.2,2.2h8.9c1.2,0,2.2-1,2.2-2.2V6.5H5.3V19.8z M8,11.9l1.6-1.5l2.3,2.3l2.3-2.3l1.6,1.6l-2.3,2.3\n    l2.3,2.3l-1.6,1.6l-2.3-2.4l-2.3,2.3L8,16.6l2.3-2.3L8,11.9z M15.9,3.2l-1.2-1.1H9.2L8,3.2H4.2v2.2h15.5V3.2H15.9z"/>\n</g>\n<g id="developer">\n  <path d="M21.9,9V6.9h-2v-2c0-1.2-0.9-2.1-2-2.1H4c-1.1,0-2,0.9-2,2.1v14.4c0,1.2,0.9,2.1,2,2.1h13.9c1.1,0,2-0.9,2-2.1v-2.1H22\n    v-2.1h-2V13h2v-2h-2V9H21.9z M17.9,19.2H4V4.9h13.9V19.2L17.9,19.2z M6,13.1h5v4.1H6V13.1z M11.9,6.9h4V10h-4V6.9z M6,6.9h5V12H6\n    V6.9z M11.9,11.1h4v6.1h-4V11.1z"/>\n</g>\n<g id="hub">\n  <path d="M17.5,16.5L13,12.1V8.6c1.3-0.5,2.2-1.7,2.2-3.2c0-1.8-1.5-3.3-3.3-3.3S8.6,3.6,8.6,5.4c0,1.4,0.9,2.7,2.2,3.2v3.5\n    l-4.4,4.4H2V22h5.6v-3.4l4.4-4.7l4.4,4.7V22H22v-5.6h-4.5V16.5z"/>\n</g>\n<g id="camera">\n  <path d="M9.4,10.6l4.7-8.2c-0.7-0.2-1.4-0.2-2.2-0.2C9.5,2.2,7.3,3,5.6,4.4L9.4,10.6L9.4,10.6z M21.4,9.1c-0.9-2.9-3.2-5.2-6-6.3\n    l-3.7,6.3H21.4z M21.8,10.1h-7.5l0.2,0.5l4.7,8.2c1.7-1.7,2.7-4.2,2.7-6.7C21.9,11.4,21.8,10.7,21.8,10.1z M8.5,12.1L4.6,5.3\n    C3,7.1,2,9.5,2,12.1c0,0.7,0.1,1.3,0.2,2h7.5L8.5,12.1z M2.5,15.1c0.9,2.9,3.2,5.2,6,6.3l3.7-6.3C12.2,15.1,2.5,15.1,2.5,15.1z\n     M13.7,15.1l-3.9,6.7C10.5,22,11.2,22,12,22c2.4,0,4.6-0.8,6.3-2.2l-3.7-6.3C14.6,13.5,13.7,15.1,13.7,15.1z"/>\n</g>\n<g id="camera_alt">\n  <circle cx="11.9" cy="13.1" r="3.2"/>\n  <path d="M9,3.1l-1.8,2H4c-1.1,0-2,0.9-2,2v12c0,1.1,0.9,2,2,2h15.9c1.1,0,2-0.9,2-2v-12c0-1.1-0.9-2-2-2h-3.2l-1.8-2\n    C14.9,3.1,9,3.1,9,3.1z M11.9,18c-2.7,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S14.7,18,11.9,18z"/>\n</g>\n<g id="film">\n  <path d="M13.9,5.9c0-1.1-0.9-1.9-2-1.9H11V3c0-0.5-0.4-0.9-0.9-0.9H6.2C5.7,2.1,5.3,2.5,5.3,3v0.9H4.4c-1.1,0-1.9,0.8-1.9,1.9V20\n    c0,1.1,0.8,1.9,1.9,1.9H12c1.1,0,1.9-0.8,1.9-1.9h7.6V5.9H13.9z M11.9,18.2H10v-1.9h1.9V18.2z M11.9,9.7H10V7.8h1.9V9.7z\n     M15.8,18.2h-1.9v-1.9h1.9V18.2z M15.8,9.7h-1.9V7.8h1.9V9.7z M19.5,18.2h-1.9v-1.9h1.9V18.2z M19.5,9.7h-1.9V7.8h1.9V9.7z"/>\n</g>\n<g id="visibility">\n  <path d="M12,5.3c-4.5,0-8.3,2.8-9.9,6.7c1.5,3.9,5.4,6.7,9.9,6.7s8.3-2.8,9.9-6.7C20.3,8,16.5,5.3,12,5.3z M12,16.5\n    c-2.5,0-4.5-2-4.5-4.5s2-4.5,4.5-4.5s4.5,2,4.5,4.5S14.5,16.5,12,16.5z M12,9.2c-1.5,0-2.7,1.2-2.7,2.7s1.2,2.7,2.7,2.7\n    s2.7-1.2,2.7-2.7S13.5,9.2,12,9.2z"/>\n</g>\n<g id="visibility_off">\n  <path d="M12,7.4c2.5,0,4.5,2,4.5,4.5c0,0.6-0.1,1.2-0.3,1.7l2.7,2.7c1.3-1.2,2.4-2.6,3.1-4.2c-1.6-4.1-5.4-6.8-9.9-6.8\n    c-1.2,0-2.5,0.2-3.6,0.7l1.9,1.9C10.9,7.5,11.5,7.4,12,7.4z M3.1,4.9l2,2.1l0.4,0.4C4,8.6,2.8,10.2,2.1,11.9c1.6,4,5.4,6.7,9.9,6.7\n    c1.4,0,2.7-0.2,3.9-0.7l0.4,0.4L19,21l1.2-1.2L4.1,3.8L3.1,4.9z M8,9.9l1.4,1.4c-0.1,0.2-0.1,0.4-0.1,0.6c0,1.5,1.2,2.7,2.7,2.7\n    c0.2,0,0.4,0,0.6-0.1L14,16c-0.6,0.3-1.2,0.5-2,0.5c-2.5,0-4.5-2-4.5-4.5C7.5,11.2,7.7,10.5,8,9.9z M11.9,9.2l2.8,2.8v-0.2\n    C14.7,10.4,13.4,9.2,11.9,9.2L11.9,9.2z"/>\n</g>\n<g id="layers">\n  <path d="M11.9,19.5l-7.3-5.7L3,15l8.9,7l9-7l-1.6-1.2L11.9,19.5z M11.9,17l7.3-5.7l1.7-1.2l-9-6.9l-9,7l1.6,1.2L11.9,17z"/>\n</g>\n<g id="layers_off">\n  <path d="M19.7,16l1.2-0.9l-1.4-1.4l-1.2,0.9L19.7,16z M19.3,11.3l1.7-1.2l-9-7L9,5.3l7.8,7.8C16.9,13.1,19.3,11.3,19.3,11.3z\n     M3.3,2.1L2,3.3l4.2,4.2L2.9,10l1.6,1.2l7.3,5.7l2.1-1.6l1.4,1.4L12,19.4l-7.3-5.7l-1.6,1.2l8.9,7l4.9-3.8l3.7,3.7l1.2-1.2L3.3,2.1\n    z"/>\n</g>\n<g id="hamburger">\n  <path d="M20.9,9.1H3.2c-0.6,0-1.1,0.3-1.1,0.7V14c0,0.4,0.5,0.8,1.1,0.8h17.9c0.6,0,1.1-0.3,1.1-0.7V9.9C22,9.4,21.5,9.1,20.9,9.1z\n     M20.9,2.1H3.2c-0.6,0-1.1,0.3-1.1,0.7V7c0,0.4,0.5,0.7,1.1,0.7h17.9c0.6,0,1.1-0.3,1.1-0.7V2.8C22,2.4,21.5,2.1,20.9,2.1z\n     M20.9,16.5H3.2c-0.6,0-1.1,0.3-1.1,0.7v4.2c0,0.4,0.5,0.7,1.1,0.7h17.9c0.6,0,1.1-0.3,1.1-0.7v-4.2C22,16.8,21.5,16.5,20.9,16.5z"\n    />\n</g>\n</svg>');var __decorate$y=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let we=class IoIcon extends T{static get Style(){return"\n      --ioIcon: {\n        display: inline-block;\n        width: var(--iotLineHeight);\n        height: var(--iotLineHeight);\n        min-width: var(--iotLineHeight);\n        line-height: var(--iotLineHeight);\n        font-size: var(--iotFontSize);\n        text-align: center;\n        fill: var(--iotColor);\n      }\n      :host {\n        @apply --ioIcon;\n      }\n      :host:not([icon]) {\n        display: none;\n      }\n      :host[stroke] {\n        stroke: var(--iotColorStrong);\n        stroke-width: var(--iotBorderWidth);\n      }\n      :host > svg {\n        height: 100%;\n      }\n      :host > svg > g {\n        transform-origin: 0px 0px;\n      }\n    "}iconChanged(){-1!==this.icon.search(":")?this.innerHTML=xe.getIcon(this.icon):this.textNode=this.icon}};__decorate$y([Property({value:"",reflect:!0})],we.prototype,"icon",void 0),__decorate$y([Property({value:!1,reflect:!0})],we.prototype,"stroke",void 0),we=__decorate$y([Register],we);
/**@License
 * Copyright (c) 2011-2016 Heather Arthur <fayearthur@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
const _e={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(const e of Object.keys(_e)){if(!("channels"in _e[e]))throw new Error("missing channels property: "+e);if(!("labels"in _e[e]))throw new Error("missing channel labels property: "+e);if(_e[e].labels.length!==_e[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:o,labels:r}=_e[e];delete _e[e].channels,delete _e[e].labels,Object.defineProperty(_e[e],"channels",{value:o}),Object.defineProperty(_e[e],"labels",{value:r})}_e.rgb.hsl=function(e){const o=e[0]/255,r=e[1]/255,s=e[2]/255,v=Math.min(o,r,s),x=Math.max(o,r,s),w=x-v;let k,C=0;x===v?C=0:o===x?C=(r-s)/w:r===x?C=2+(s-o)/w:s===x&&(C=4+(o-r)/w),C=Math.min(60*C,360),C<0&&(C+=360);const S=(v+x)/2;return k=x===v?0:S<=.5?w/(x+v):w/(2-x-v),[C,100*k,100*S]},_e.rgb.hsv=function(e){let o,r,s,v,x=0;const w=e[0]/255,k=e[1]/255,C=e[2]/255,S=Math.max(w,k,C),M=S-Math.min(w,k,C),diffc=function(e){return(S-e)/6/M+.5};return 0===M?(x=0,v=0):(v=M/S,o=diffc(w),r=diffc(k),s=diffc(C),w===S?x=s-r:k===S?x=1/3+o-s:C===S&&(x=2/3+r-o),x<0?x+=1:x>1&&(x-=1)),[360*x,100*v,100*S]},_e.rgb.hwb=function(e){const o=e[0],r=e[1];let s=e[2];const v=_e.rgb.hsl(e)[0],x=1/255*Math.min(o,Math.min(r,s));return s=1-1/255*Math.max(o,Math.max(r,s)),[v,100*x,100*s]},_e.rgb.cmyk=function(e){const o=e[0]/255,r=e[1]/255,s=e[2]/255,v=Math.min(1-o,1-r,1-s);return[100*((1-o-v)/(1-v)||0),100*((1-r-v)/(1-v)||0),100*((1-s-v)/(1-v)||0),100*v]},_e.rgb.xyz=function(e){let o=e[0]/255,r=e[1]/255,s=e[2]/255;o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,s=s>.04045?((s+.055)/1.055)**2.4:s/12.92;return[100*(.4124*o+.3576*r+.1805*s),100*(.2126*o+.7152*r+.0722*s),100*(.0193*o+.1192*r+.9505*s)]},_e.rgb.lab=function(e){const o=_e.rgb.xyz(e);let r=o[0],s=o[1],v=o[2];r/=95.047,s/=100,v/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,v=v>.008856?v**(1/3):7.787*v+16/116;return[116*s-16,500*(r-s),200*(s-v)]},_e.hsl.rgb=function(e){const o=e[0]/360,r=e[1]/100,s=e[2]/100;let v,x,w;if(0===r)return w=255*s,[w,w,w];v=s<.5?s*(1+r):s+r-s*r;const k=2*s-v,C=[0,0,0];for(let e=0;e<3;e++)x=o+1/3*-(e-1),x<0&&x++,x>1&&x--,w=6*x<1?k+6*(v-k)*x:2*x<1?v:3*x<2?k+(v-k)*(2/3-x)*6:k,C[e]=255*w;return C},_e.hsl.hsv=function(e){const o=e[0];let r=e[1]/100,s=e[2]/100,v=r;const x=Math.max(s,.01);s*=2,r*=s<=1?s:2-s,v*=x<=1?x:2-x;return[o,100*(0===s?2*v/(x+v):2*r/(s+r)),100*((s+r)/2)]},_e.hsv.rgb=function(e){const o=e[0]/60,r=e[1]/100;let s=e[2]/100;const v=Math.floor(o)%6,x=o-Math.floor(o),w=255*s*(1-r),k=255*s*(1-r*x),C=255*s*(1-r*(1-x));switch(s*=255,v){case 0:return[s,C,w];case 1:return[k,s,w];case 2:return[w,s,C];case 3:return[w,k,s];case 4:return[C,w,s];default:return[s,w,k]}},_e.hsv.hsl=function(e){const o=e[0],r=e[1]/100,s=e[2]/100,v=Math.max(s,.01);let x,w;w=(2-r)*s;const k=(2-r)*v;return x=r*v,x/=k<=1?k:2-k,x=x||0,w/=2,[o,100*x,100*w]},_e.hwb.rgb=function(e){const o=e[0]/360;let r=e[1]/100,s=e[2]/100;const v=r+s;let x;v>1&&(r/=v,s/=v);const w=Math.floor(6*o),k=1-s;x=6*o-w,1&w&&(x=1-x);const C=r+x*(k-r);let S,M,R;switch(w){default:case 6:case 0:S=k,M=C,R=r;break;case 1:S=C,M=k,R=r;break;case 2:S=r,M=k,R=C;break;case 3:S=r,M=C,R=k;break;case 4:S=C,M=r,R=k;break;case 5:S=k,M=r,R=C}return[255*S,255*M,255*R]},_e.cmyk.rgb=function(e){const o=e[0]/100,r=e[1]/100,s=e[2]/100,v=e[3]/100;return[255*(1-Math.min(1,o*(1-v)+v)),255*(1-Math.min(1,r*(1-v)+v)),255*(1-Math.min(1,s*(1-v)+v))]},_e.xyz.rgb=function(e){const o=e[0]/100,r=e[1]/100,s=e[2]/100;let v,x,w;return v=3.2406*o+-1.5372*r+-.4986*s,x=-.9689*o+1.8758*r+.0415*s,w=.0557*o+-.204*r+1.057*s,v=v>.0031308?1.055*v**(1/2.4)-.055:12.92*v,x=x>.0031308?1.055*x**(1/2.4)-.055:12.92*x,w=w>.0031308?1.055*w**(1/2.4)-.055:12.92*w,v=Math.min(Math.max(0,v),1),x=Math.min(Math.max(0,x),1),w=Math.min(Math.max(0,w),1),[255*v,255*x,255*w]},_e.xyz.lab=function(e){let o=e[0],r=e[1],s=e[2];o/=95.047,r/=100,s/=108.883,o=o>.008856?o**(1/3):7.787*o+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;return[116*r-16,500*(o-r),200*(r-s)]},_e.lab.xyz=function(e){let o,r,s;r=(e[0]+16)/116,o=e[1]/500+r,s=r-e[2]/200;const v=r**3,x=o**3,w=s**3;return r=v>.008856?v:(r-16/116)/7.787,o=x>.008856?x:(o-16/116)/7.787,s=w>.008856?w:(s-16/116)/7.787,o*=95.047,r*=100,s*=108.883,[o,r,s]},_e.lab.lch=function(e){const o=e[0],r=e[1],s=e[2];let v;v=360*Math.atan2(s,r)/2/Math.PI,v<0&&(v+=360);return[o,Math.sqrt(r*r+s*s),v]},_e.lch.lab=function(e){const o=e[0],r=e[1],s=e[2]/360*2*Math.PI;return[o,r*Math.cos(s),r*Math.sin(s)]},_e.rgb.ansi16=function(e,o=null){const[r,s,v]=e;let x=null===o?_e.rgb.hsv(e)[2]:o;if(x=Math.round(x/50),0===x)return 30;let w=30+(Math.round(v/255)<<2|Math.round(s/255)<<1|Math.round(r/255));return 2===x&&(w+=60),w},_e.hsv.ansi16=function(e){return _e.rgb.ansi16(_e.hsv.rgb(e),e[2])},_e.rgb.ansi256=function(e){const o=e[0],r=e[1],s=e[2];if(o===r&&r===s)return o<8?16:o>248?231:Math.round((o-8)/247*24)+232;return 16+36*Math.round(o/255*5)+6*Math.round(r/255*5)+Math.round(s/255*5)},_e.ansi16.rgb=function(e){let o=e%10;if(0===o||7===o)return e>50&&(o+=3.5),o=o/10.5*255,[o,o,o];const r=.5*(1+~~(e>50));return[(1&o)*r*255,(o>>1&1)*r*255,(o>>2&1)*r*255]},_e.ansi256.rgb=function(e){if(e>=232){const o=10*(e-232)+8;return[o,o,o]}let o;e-=16;return[Math.floor(e/36)/5*255,Math.floor((o=e%36)/6)/5*255,o%6/5*255]},_e.rgb.hex=function(e){const o=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(o.length)+o},_e.hex.rgb=function(e){const o=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!o)return[0,0,0];let r=o[0];3===o[0].length&&(r=r.split("").map((e=>e+e)).join(""));const s=parseInt(r,16);return[s>>16&255,s>>8&255,255&s]},_e.rgb.hcg=function(e){const o=e[0]/255,r=e[1]/255,s=e[2]/255,v=Math.max(Math.max(o,r),s),x=Math.min(Math.min(o,r),s),w=v-x;let k,C;return k=w<1?x/(1-w):0,C=w<=0?0:v===o?(r-s)/w%6:v===r?2+(s-o)/w:4+(o-r)/w+4,C/=6,C%=1,[360*C,100*w,100*k]},_e.hsl.hcg=function(e){const o=e[1]/100,r=e[2]/100,s=r<.5?2*o*r:2*o*(1-r);let v=0;return s<1&&(v=(r-.5*s)/(1-s)),[e[0],100*s,100*v]},_e.hsv.hcg=function(e){const o=e[1]/100,r=e[2]/100,s=o*r;let v=0;return s<1&&(v=(r-s)/(1-s)),[e[0],100*s,100*v]},_e.hcg.rgb=function(e){const o=e[0]/360,r=e[1]/100,s=e[2]/100;if(0===r)return[255*s,255*s,255*s];const v=[0,0,0],x=o%1*6,w=x%1,k=1-w;let C=0;switch(Math.floor(x)){case 0:v[0]=1,v[1]=w,v[2]=0;break;case 1:v[0]=k,v[1]=1,v[2]=0;break;case 2:v[0]=0,v[1]=1,v[2]=w;break;case 3:v[0]=0,v[1]=k,v[2]=1;break;case 4:v[0]=w,v[1]=0,v[2]=1;break;default:v[0]=1,v[1]=0,v[2]=k}return C=(1-r)*s,[255*(r*v[0]+C),255*(r*v[1]+C),255*(r*v[2]+C)]},_e.hcg.hsv=function(e){const o=e[1]/100,r=o+e[2]/100*(1-o);let s=0;return r>0&&(s=o/r),[e[0],100*s,100*r]},_e.hcg.hsl=function(e){const o=e[1]/100,r=e[2]/100*(1-o)+.5*o;let s=0;return r>0&&r<.5?s=o/(2*r):r>=.5&&r<1&&(s=o/(2*(1-r))),[e[0],100*s,100*r]},_e.hcg.hwb=function(e){const o=e[1]/100,r=o+e[2]/100*(1-o);return[e[0],100*(r-o),100*(1-r)]},_e.hwb.hcg=function(e){const o=e[1]/100,r=1-e[2]/100,s=r-o;let v=0;return s<1&&(v=(r-s)/(1-s)),[e[0],100*s,100*v]},_e.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},_e.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},_e.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},_e.gray.hsl=function(e){return[0,0,e[0]]},_e.gray.hsv=_e.gray.hsl,_e.gray.hwb=function(e){return[0,100,e[0]]},_e.gray.cmyk=function(e){return[0,0,0,e[0]]},_e.gray.lab=function(e){return[e[0],0,0]},_e.gray.hex=function(e){const o=255&Math.round(e[0]/100*255),r=((o<<16)+(o<<8)+o).toString(16).toUpperCase();return"000000".substring(r.length)+r},_e.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};var __decorate$x=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};class IoColorBase extends T{init(){this.valueChanged()}valueMutated(){this.valueChanged()}rgbFromHsv(){const e=_e.hsv.rgb([360*this.hsv[0],100*this.hsv[1],100*this.hsv[2]]);this.rgba[0]=e[0]/255,this.rgba[1]=e[1]/255,this.rgba[2]=e[2]/255}rgbFromHsl(){const e=_e.hsl.rgb([360*this.hsl[0],100*this.hsl[1],100*this.hsl[2]]);this.rgba[0]=e[0]/255,this.rgba[1]=e[1]/255,this.rgba[2]=e[2]/255}rgbFromCmyk(){const e=_e.cmyk.rgb([100*this.cmyk[0],100*this.cmyk[1],100*this.cmyk[2],100*this.cmyk[3]]);this.rgba[0]=e[0]/255,this.rgba[1]=e[1]/255,this.rgba[2]=e[2]/255}valueFromRgb(){this.value.r=this.rgba[0],this.value.g=this.rgba[1],this.value.b=this.rgba[2]}valueChanged(){{const e=Object.keys(this.value);-1!==e.indexOf("r")&&-1!==e.indexOf("g")&&-1!==e.indexOf("b")||console.warn("IoColor: Incorrect value type!")}const e=[255*this.value.r,255*this.value.g,255*this.value.b],o=_e.rgb.hsv(e),r=_e.rgb.hsl(e),s=_e.rgb.cmyk(e);0===o[1]&&(o[0]=360*this.hsv[0]),0===o[2]&&(o[1]=100*this.hsv[1]),0===r[1]&&(r[0]=360*this.hsl[0]),0!==r[2]&&100!==r[2]||(r[0]=360*this.hsl[0],r[1]=100*this.hsl[1]),100===s[3]&&(s[0]=100*this.cmyk[0],s[1]=100*this.cmyk[1],s[2]=100*this.cmyk[2]),this.setProperties({rgba:[e[0]/255,e[1]/255,e[2]/255,this.value.a??1],hsv:[o[0]/360,o[1]/100,o[2]/100],hsl:[r[0]/360,r[1]/100,r[2]/100],cmyk:[s[0]/100,s[1]/100,s[2]/100,s[3]/100]})}}__decorate$x([Property({type:Object,init:{r:1,g:1,b:1,a:1},observe:!0})],IoColorBase.prototype,"value",void 0),__decorate$x([Property({type:Array,init:[1,1,1,1]})],IoColorBase.prototype,"rgba",void 0),__decorate$x([Property({type:Array,init:[1,1,1]})],IoColorBase.prototype,"hsv",void 0),__decorate$x([Property({type:Array,init:[1,1,1]})],IoColorBase.prototype,"hsl",void 0),__decorate$x([Property({type:Array,init:[1,1,1,1]})],IoColorBase.prototype,"cmyk",void 0);var __decorate$w=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};const clamp=(e,o,r)=>r>o?Math.min(Math.max(e,o),r):Math.min(Math.max(e,r),o);class IoSliderBase extends ee{static get Style(){return"\n      :host {\n        display: flex;\n        cursor: ew-resize;\n        border: var(--iotBorder);\n        border-radius: var(--iotBorderRadius);\n        border-color: var(--iotBorderColorInset);\n        min-height: var(--iotFieldHeight);\n        min-width: var(--iotFieldHeight);\n      }\n      :host:not([vertical]) {\n        width: var(--iotFieldHeight10);\n      }\n      :host[vertical] {\n        cursor: ns-resize;\n        height: var(--iotFieldHeight5);\n        min-height: var(--iotFieldHeight5);\n        flex-basis: var(--iotFieldHeight);\n        flex-grow: 0;\n      }\n    "}_startX=0;_startY=0;_active=-1;_rect=null;get _min(){return"number"==typeof this.min?[this.min,this.min]:this.min instanceof Array?[...this.min]:"object"==typeof this.min?[this.min.x,this.min.y]:[-1/0,-1/0]}get _max(){return"number"==typeof this.max?[this.max,this.max]:this.max instanceof Array?[...this.max]:"object"==typeof this.max?[this.max.x,this.max.y]:[1/0,1/0]}get _step(){return"number"==typeof this.step?[this.step,this.step]:this.step instanceof Array?[...this.step]:"object"==typeof this.step?[this.step.x,this.step.y]:[.01,.01]}get _value(){return"number"==typeof this.value?[this.value,this.value]:this.value instanceof Array?[...this.value]:"object"==typeof this.value?[this.value.x,this.value.y]:[NaN,NaN]}static get Listeners(){return{focus:"_onFocus",contextmenu:"_onContextmenu",pointerdown:"_onPointerdown",touchstart:["_onTouchstart",{passive:!1}]}}_onFocus(){this.addEventListener("blur",this._onBlur),this.addEventListener("keydown",this._onKeydown)}_onBlur(){this.removeEventListener("blur",this._onBlur),this.removeEventListener("keydown",this._onKeydown)}_onContextmenu(e){e.preventDefault()}_onTouchstart(e){this._rect=this.getBoundingClientRect(),this.addEventListener("touchmove",this._onTouchmove,{passive:!1}),this.addEventListener("touchend",this._onTouchend),this._startX=e.changedTouches[0].clientX,this._startY=e.changedTouches[0].clientY,this._active=this.noscroll?1:-1}_onTouchmove(e){const o=Math.abs(this._startX-e.changedTouches[0].clientX),r=Math.abs(this._startY-e.changedTouches[0].clientY);-1===this._active&&(this.vertical?r>5&&r>o&&(this._active=r>o&&o<5?1:0):o>5&&o>r&&(this._active=o>r&&r<5?1:0)),1===this._active&&e.cancelable&&e.preventDefault()}_onTouchend(){this.removeEventListener("touchmove",this._onTouchmove),this.removeEventListener("touchend",this._onTouchend)}_onPointerdown(e){this._rect=this.getBoundingClientRect(),this.setPointerCapture(e.pointerId),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup),this.addEventListener("pointercancel",this._onPointerup)}_onPointermove(e){"touch"!==e.pointerType&&(this._active=1),this.throttle(this._onPointermoveThrottled,e)}_onPointerup(e){this.releasePointerCapture(e.pointerId),this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),this.removeEventListener("pointercancel",this._onPointerup),this._active=-1}_getPointerCoord(e){const o=this._rect||this.getBoundingClientRect();let r=Math.max(0,Math.min(1,(e.clientX-o.x)/o.width)),s=Math.max(0,Math.min(1,1-(e.clientY-o.y)/o.height));return r=Math.pow(r,this.exponent),s=Math.pow(s,this.exponent),this.vertical?[s,r]:[r,s]}_getValueFromCoord(e){const o=[0,0],r=this._min,s=this._max;return o[0]=r[0]*(1-e[0])+s[0]*e[0],o[1]=r[1]*(1-e[1])+s[1]*e[1],o}_onPointermoveThrottled(e){if(1===this._active){document.activeElement!==this&&this.focus();const o=this._getPointerCoord(e),r=this._getValueFromCoord(o);this._inputValue(r)}}_inputValue(e){const o=this._min,r=this._max,s=this._step;if(e[0]=clamp(e[0],r[0],o[0]),e[1]=clamp(e[1],r[1],o[1]),e[0]=Math.round(e[0]/s[0])*s[0],e[1]=Math.round(e[1]/s[1])*s[1],e[0]=Number(e[0].toFixed(5)),e[1]=Number(e[1].toFixed(5)),"number"==typeof this.value)this.inputValue(e[0]);else if(this.value instanceof Array)this.value[0]=e[0],this.value[1]=e[1],this.inputValue(this.value),this.dispatchEvent("object-mutated",{object:this.value},!1,window);else if("object"==typeof this.value){const o=this.value;o.x=e[0],o.y=e[1],this.inputValue(this.value),this.dispatchEvent("object-mutated",{object:this.value},!1,window)}}_onKeydown(e){const o="number"==typeof this.value;switch(e.key){case"ArrowLeft":e.preventDefault(),e.shiftKey?o?this._setDecrease():this._setLeft():this.focusTo("left");break;case"ArrowUp":e.preventDefault(),e.shiftKey?o?this._setIncrease():this._setUp():this.focusTo("up");break;case"ArrowRight":e.preventDefault(),e.shiftKey?o?this._setIncrease():this._setRight():this.focusTo("right");break;case"ArrowDown":e.preventDefault(),e.shiftKey?o?this._setDecrease():this._setDown():this.focusTo("down")}}_setIncrease(){const e=this._value,o=this._step;e[0]=e[0]+o[0],e[1]=e[1]+o[1],this._inputValue(e)}_setDecrease(){const e=this._value,o=this._step;e[0]=e[0]-o[0],e[1]=e[1]-o[1],this._inputValue(e)}_setMin(){const e=this._min;this._inputValue(e)}_setMax(){const e=this._max;this._inputValue(e)}_setUp(){const e=this._value,o=this._step;e[0]=e[0]+o[0],this._inputValue(e)}_setDown(){const e=this._value,o=this._step;e[0]=e[0]-o[0],this._inputValue(e)}_setLeft(){const e=this._value,o=this._step;e[1]=e[1]-o[1],this._inputValue(e)}_setRight(){const e=this._value,o=this._step;e[1]=e[1]+o[1],this._inputValue(e)}init(){this.changed()}changed(){super.changed(),this.setAttribute("aria-valuemin",JSON.stringify(this.min)),this.setAttribute("aria-valuemax",JSON.stringify(this.max)),this.setAttribute("aria-valuestep",JSON.stringify(this.step));const e=this._value;"number"!=typeof e[0]||isNaN(e[0])?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid"),this.setAttribute("aria-valuenow",JSON.stringify(this.value))}}__decorate$w([Property({value:0})],IoSliderBase.prototype,"value",void 0),__decorate$w([Property(.01)],IoSliderBase.prototype,"step",void 0),__decorate$w([Property(0)],IoSliderBase.prototype,"min",void 0),__decorate$w([Property(1)],IoSliderBase.prototype,"max",void 0),__decorate$w([Property(1)],IoSliderBase.prototype,"exponent",void 0),__decorate$w([Property({value:!1,reflect:!0})],IoSliderBase.prototype,"vertical",void 0),__decorate$w([Property(!1)],IoSliderBase.prototype,"noscroll",void 0),__decorate$w([Property("slider")],IoSliderBase.prototype,"role",void 0),__decorate$w([Property("0")],IoSliderBase.prototype,"tabindex",void 0),__decorate$w([Property(!0)],IoSliderBase.prototype,"lazy",void 0);var __decorate$v=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let ke=class IoSlider extends IoSliderBase{static get Frag(){return"\n    varying vec2 vUv;\n\n    void main(void) {\n      // Dimensions\n      vec2 size = uVertical == 1 ? uSize.yx : uSize;\n      vec2 uv = uVertical == 1 ? vUv.yx : vUv;\n      vec2 position = size * vec2(uv.x, uv.y - 0.5);\n      vec2 expPosition = size * vec2(pow(uv.x, uExponent), uv.y - 0.5);\n      float valueInRange = (uValue - uMin) / (uMax - uMin);\n      float valueSign = sign(valueInRange);\n      float expValueInRange = pow(abs(valueInRange), 1./uExponent) * valueSign;\n\n      // Colors\n      vec3 finalCol = iotBgColorField.rgb;\n      vec3 gridCol = iotBgColorDimmed.rgb;\n      vec3 sliderCol = iotBgColorBlue.rgb;\n      vec3 lineCol1 = iotColor.rgb;\n      vec3 lineCol2 = iotBgColor.rgb;\n\n      // Grid\n      float gridSize = size.x / abs((uMax - uMin) / uStep);\n      float gridOffset = mod(uStep - uMin, uStep) / (uMax - uMin) * size.x;\n      float gridShape = paintDerivativeGrid2D(translate(expPosition, gridOffset, 0.0), vec2(gridSize, 0.0), iotBorderWidth);\n      finalCol = compose(finalCol, vec4(gridCol, gridShape * 0.5));\n\n      // Slider\n      float sliderShape = rectangle(expPosition, vec2(size.x * valueInRange, size.y));\n      finalCol = compose(finalCol, vec4(sliderCol, sliderShape));\n      finalCol = compose(finalCol, vec4(iotBgColorField.rgb, gridShape * sliderShape * 0.125));\n\n      // Lines\n      float lineShape1 = lineVertical(translate(position, expValueInRange * size.x, 0.0), iotBorderWidth);\n      finalCol = compose(finalCol, vec4(lineCol1, lineShape1));\n      float lineShape2 = lineVertical(translate(position, expValueInRange * size.x - iotBorderWidth, 0.0), iotBorderWidth);\n      finalCol = compose(finalCol, vec4(lineCol2, lineShape2));\n\n      gl_FragColor = vec4(finalCol, 1.0);\n    }"}};__decorate$v([Property(0)],ke.prototype,"value",void 0),__decorate$v([Property(.01)],ke.prototype,"step",void 0),__decorate$v([Property(0)],ke.prototype,"min",void 0),__decorate$v([Property(1)],ke.prototype,"max",void 0),ke=__decorate$v([Register],ke);var __decorate$u=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let Ce=class IoSlider2d extends IoSliderBase{static get Style(){return"\n      :host {\n        cursor: crosshair;\n        border: var(--iotBorder);\n        border-radius: var(--iotBorderRadius);\n        border-color: var(--iotBorderColorInset);\n        flex-grow: 0;\n      }\n      :host:not([vertical]),\n      :host[vertical] {\n        width: var(--iotFieldHeight5);\n        height: var(--iotFieldHeight5);\n        min-width: var(--iotFieldHeight5);\n        min-height: var(--iotFieldHeight5);\n        cursor: crosshair;\n      }\n    "}static get GlUtils(){return"\n      vec3 paintKnob(vec3 dstCol, vec2 p, vec2 center, vec3 color) {\n        vec4 finalCol = vec4(0.0);\n        vec2 pCenter = translate(p, center);\n        float radius = iotFieldHeight * 0.25;\n        float stroke = iotBorderWidth;\n        float strokeShape = circle(pCenter, radius + stroke + stroke);\n        float fillShape   = circle(pCenter, radius + stroke);\n        float colorShape  = circle(pCenter, radius);\n        finalCol = mix(iotColorStrong, finalCol, strokeShape);\n        finalCol = mix(vec4(iotBgColor.rgb, 1.0), finalCol, fillShape);\n        finalCol = mix(vec4(color, 1.0), finalCol, colorShape);\n        return compose(dstCol, finalCol);\n      }\n    "}static get Frag(){return"\n    varying vec2 vUv;\n\n    void main(void) {\n      // Dimensions\n      vec2 size = uVertical == 1 ? uSize.yx : uSize;\n      vec2 uv = uVertical == 1 ? vUv.yx : vUv;\n      vec2 position = size * (uv - vec2(0.5));\n\n      // Colors\n      vec3 finalCol = iotBgColorField.rgb;\n      vec3 gridCol = iotBgColorDimmed.rgb;\n      vec3 sliderCol = iotBgColorBlue.rgb;\n      vec3 lineCol1 = iotColor.rgb;\n      vec3 lineCol2 = iotBgColor.rgb;\n\n      // Grid\n      vec2 gridSize = size / abs((uMax - uMin) / uStep);\n      vec2 gridOffset = (uMax + uMin) / (uMax - uMin) * size / 2.;\n      vec2 gridPosition = translate(position, -gridOffset);\n      float gridShape = paintDerivativeGrid2D(gridPosition, gridSize, iotBorderWidth);\n      finalCol = compose(finalCol, vec4(gridCol, gridShape * 0.5));\n\n      // Axis\n      float axisShape = lineCross2d(gridPosition, iotBorderWidth);\n      finalCol = compose(finalCol, vec4(gridCol, axisShape));\n\n      // Knob\n      vec2 knobPos = uValue / (uMax - uMin) * size;\n      finalCol = paintKnob(finalCol, gridPosition, knobPos, sliderCol);\n\n      gl_FragColor = vec4(finalCol, 1.0);\n    }"}};__decorate$u([Property({value:null,type:Array,init:[0,0],observe:!0})],Ce.prototype,"value",void 0),__decorate$u([Property({value:null,type:Array,init:[.01,.01]})],Ce.prototype,"step",void 0),__decorate$u([Property({value:null,type:Array,init:[-1,-1]})],Ce.prototype,"min",void 0),__decorate$u([Property({value:null,type:Array,init:[1,1]})],Ce.prototype,"max",void 0),__decorate$u([Property(!0)],Ce.prototype,"noscroll",void 0),Ce=__decorate$u([Register],Ce);var __decorate$t=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let Se=class IoColorSlider extends IoColorBase{static get Style(){return"\n      :host {\n        display: flex;\n      }\n    "}_onValueInput(e){const o=e.detail.value;switch(this.channel){case"r":this.value.r=o;break;case"g":this.value.g=o;break;case"b":this.value.b=o;break;case"a":this.value.a=o;break;case"h":this.hsv[0]=o,this.rgbFromHsv(),this.valueFromRgb();break;case"s":this.hsv[1]=o,this.rgbFromHsv(),this.valueFromRgb();break;case"v":this.hsv[2]=o,this.rgbFromHsv(),this.valueFromRgb();break;case"l":this.hsl[2]=o,this.rgbFromHsl(),this.valueFromRgb();break;case"c":this.cmyk[0]=o,this.rgbFromCmyk(),this.valueFromRgb();break;case"m":this.cmyk[1]=o,this.rgbFromCmyk(),this.valueFromRgb();break;case"y":this.cmyk[2]=o,this.rgbFromCmyk(),this.valueFromRgb();break;case"k":this.cmyk[3]=o,this.rgbFromCmyk(),this.valueFromRgb();break;case"hs":this.hsv[0]=o[0],this.hsv[1]=o[1],this.rgbFromHsv(),this.valueFromRgb();break;case"sv":this.hsv[1]=o[0],this.hsv[2]=o[1],this.rgbFromHsv(),this.valueFromRgb();break;case"sl":this.hsl[1]=o[0],this.hsl[2]=o[1],this.rgbFromHsl(),this.valueFromRgb()}this.dispatchEvent("object-mutated",{object:this.value},!1,window),this.dispatchEvent("value-input",{property:"value",value:this.value},!1)}changed(){const e=this.channel;-1===["r","g","b","a","h","s","v","l","c","m","y","k","hs","sv","sl"].indexOf(e)&&console.warn("IoColorSlider: Incorrect channel value!",e);const o=`io-color-slider-${e}`;let r=0,s=[0,0,0,0],v=0,x=1,w=this.step;switch(this.channel){case"r":r=this.value.r,s=[...this.rgba];break;case"g":r=this.value.g,s=[...this.rgba];break;case"b":r=this.value.b,s=[...this.rgba];break;case"a":r=this.value.a||0,s=[...this.rgba];break;case"h":r=this.hsv[0],s=[...this.hsv,1];break;case"s":r=this.hsv[1],s=[...this.hsv,1];break;case"v":r=this.hsv[2],s=[...this.hsv,1];break;case"l":r=this.hsl[2],s=[...this.hsl,1];break;case"c":r=this.cmyk[0],s=[...this.cmyk];break;case"m":r=this.cmyk[1],s=[...this.cmyk];break;case"y":r=this.cmyk[2],s=[...this.cmyk];break;case"k":r=this.cmyk[3],s=[...this.cmyk];break;case"hs":r=[this.hsv[0],this.hsv[1]],s=[...this.hsv,1],v=[v,v],x=[x,x],w=[w,w];break;case"sv":r=[this.hsv[1],this.hsv[2]],s=[...this.hsv,1],v=[v,v],x=[x,x],w=[w,w];break;case"sl":r=[this.hsl[1],this.hsl[2]],s=[...this.hsl,1],v=[v,v],x=[x,x],w=[w,w]}this.template([[o,{id:e,value:r,min:v,max:x,step:w,vertical:this.vertical,color:s,"@value-input":this._onValueInput}]])}};__decorate$t([Property({type:Array,init:[0,0,0,0]})],Se.prototype,"color",void 0),__decorate$t([Property(.01)],Se.prototype,"step",void 0),__decorate$t([Property("")],Se.prototype,"channel",void 0),__decorate$t([Property({value:!1,reflect:!0})],Se.prototype,"vertical",void 0),Se=__decorate$t([Register],Se);class IoColorSliderBase extends ke{static get GlUtils(){return"\n      // Note: Implement in subclass!\n      // TODO: Allow GlUtils to rewrite inherited functions!\n      // vec3 getStartColor(vec2 uv) {}\n      // vec3 getEndColor(vec2 uv) {}\n    "}static get Frag(){return"\n    varying vec2 vUv;\n\n    void main(void) {\n      // Dimensions\n      vec2 size = uVertical == 1 ? uSize.yx : uSize;\n      vec2 uv = uVertical == 1 ? vUv.yx : vUv;\n      vec2 position = size * vec2(uv.x, uv.y - 0.5);\n      float valueInRange = (uValue - uMin) / (uMax - uMin);\n\n      // Colors\n      vec3 finalCol = iotBgColorField.rgb;\n      vec3 startCol = getStartColor(uv);\n      vec3 gridCol = iotBgColorDimmed.rgb;\n      vec3 endCol = getEndColor(uv);\n      vec3 sliderCol = mix(startCol, endCol, uv.x);\n\n      vec2 linePos = translate(size * uv, 0.0, size.y / 2.);\n      finalCol = paintHorizontalLine(finalCol, linePos, sliderCol);\n\n      // Grid\n      float gridSize = size.x / abs((uMax - uMin) / uStep);\n      float gridOffset = mod(uStep - uMin, uStep) / (uMax - uMin) * size.x;\n      float gridShape = paintDerivativeGrid2D(translate(position, gridOffset, 0.0), vec2(gridSize, 0.0), iotBorderWidth);\n      if (size.x * uStep < 4.0) gridShape = 0.0;\n      finalCol = compose(finalCol, vec4(sliderCol, gridShape * 0.25));\n\n      // Slider\n      float sliderShape = rectangle(position, vec2(size.x * valueInRange, size.y));\n      finalCol = compose(finalCol, vec4(sliderCol, sliderShape));\n      finalCol = compose(finalCol, vec4(iotBgColorField.rgb, gridShape * sliderShape * 0.125));\n\n      gl_FragColor = vec4(finalCol, 1.0);\n    }"}}class IoColorSlider2dBase extends Ce{static get GlUtils(){return"\n      // Note: Implement in subclass!\n      // TODO: Allow GlUtils to rewrite inherited functions!\n      // vec3 geiotColor(vec2 uv) {}\n    "}static get Frag(){return"\n    varying vec2 vUv;\n\n    void main(void) {\n      // Dimensions\n      vec2 size = uVertical == 1 ? uSize.yx : uSize;\n      vec2 uv = uVertical == 1 ? vUv.yx : vUv;\n      vec2 position = size * (uv - vec2(0.5));\n\n      // Colors\n      vec3 finalCol = geiotColor(uv);\n      vec3 gridCol = iotBgColorDimmed.rgb;\n      vec3 sliderCol = geiotColor(uValue);\n\n      // Grid\n      vec2 gridSize = size / abs((uMax - uMin) / uStep);\n      vec2 gridOffset = (uMax + uMin) / (uMax - uMin) * size / 2.;\n      vec2 gridPosition = translate(position, -gridOffset);\n      float gridShape = paintDerivativeGrid2D(gridPosition, gridSize, iotBorderWidth);\n      if (min(size.x * uStep.x, size.y * uStep.y) < 2.0) gridShape = 0.0;\n      finalCol = compose(finalCol, vec4(gridCol, gridShape * 0.5));\n\n      vec2 knobPos = uValue / (uMax - uMin) * size;\n      finalCol = paintKnob(finalCol, gridPosition, knobPos, sliderCol);\n\n      gl_FragColor = vec4(finalCol, 1.0);\n    }"}}let Ee=class IoColorSliderR extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStartColor(vec2 uv) {\n        return vec3(uv.x, uColor[1], uColor[2]);\n      }\n      vec3 getEndColor(vec2 uv) {\n        return vec3(uv.x, uColor[1], uColor[2]);\n      }\n    "}};Ee=__decorate$t([Register],Ee);let Me=class IoColorSliderG extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStartColor(vec2 uv) {\n        return vec3(uColor[0], uv.x, uColor[2]);\n      }\n      vec3 getEndColor(vec2 uv) {\n        return vec3(uColor[0], uv.x, uColor[2]);\n      }\n    "}};Me=__decorate$t([Register],Me);let Re=class IoColorSliderB extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStartColor(vec2 uv) {\n        return vec3(uColor[0], uColor[1], uv.x);\n      }\n      vec3 getEndColor(vec2 uv) {\n        return vec3(uColor[0], uColor[1], uv.x);\n      }\n    "}};Re=__decorate$t([Register],Re);let Oe=class IoColorSliderA extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStartColor(vec2 uv) {\n        vec2 size = uVertical == 1 ? uSize.yx : uSize;\n        vec2 position = size * (uv - vec2(0.0, 0.5));\n        return mix(vec3(0.5), vec3(1.0), checkerX(position, iotFieldHeight / 4.0));\n      }\n      vec3 getEndColor(vec2 uv) {\n        vec2 size = uVertical == 1 ? uSize.yx : uSize;\n        vec2 position = size * (uv - vec2(0.0, 0.5));\n        vec3 chkCol = mix(vec3(0.5), vec3(1.0), checkerX(position, iotFieldHeight / 4.0));\n        return mix(chkCol, uColor.rgb, 1.0);\n      }\n    "}};Oe=__decorate$t([Register],Oe);let ze=class IoColorSliderH extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStartColor(vec2 uv) {\n        return hsv2rgb(vec3(uv.x, uColor[1], uColor[2]));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return hsv2rgb(vec3(uv.x, uColor[1], uColor[2]));\n      }\n    "}};ze=__decorate$t([Register],ze);let Le=class IoColorSliderS extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStartColor(vec2 uv) {\n        return hsv2rgb(vec3(uColor[0], uv.x, uColor[2]));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return hsv2rgb(vec3(uColor[0], uv.x, uColor[2]));\n      }\n    "}};Le=__decorate$t([Register],Le);let Pe=class IoColorSliderV extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStartColor(vec2 uv) {\n        return hsv2rgb(vec3(uColor[0], uColor[1], uv.x));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return hsv2rgb(vec3(uColor[0], uColor[1], uv.x));\n      }\n    "}};Pe=__decorate$t([Register],Pe);let Te=class IoColorSliderL extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStartColor(vec2 uv) {\n        return hsl2rgb(vec3(uColor[0], uColor[1], uv.x));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return hsl2rgb(vec3(uColor[0], uColor[1], uv.x));\n      }\n    "}};Te=__decorate$t([Register],Te);let Ne=class IoColorSliderC extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStartColor(vec2 uv) {\n        return cmyk2rgb(vec4(uv.x, uColor[1], uColor[2], uColor[3]));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return cmyk2rgb(vec4(uv.x, uColor[1], uColor[2], uColor[3]));\n      }\n    "}};Ne=__decorate$t([Register],Ne);let Ae=class IoColorSliderM extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStartColor(vec2 uv) {\n        return cmyk2rgb(vec4(uColor[0], uv.x, uColor[2], uColor[3]));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return cmyk2rgb(vec4(uColor[0], uv.x, uColor[2], uColor[3]));\n      }\n    "}};Ae=__decorate$t([Register],Ae);let Ie=class IoColorSliderY extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStartColor(vec2 uv) {\n        return cmyk2rgb(vec4(uColor[0], uColor[1], uv.x, uColor[3]));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return cmyk2rgb(vec4(uColor[0], uColor[1], uv.x, uColor[3]));\n      }\n    "}};Ie=__decorate$t([Register],Ie);let je=class IoColorSliderK extends IoColorSliderBase{static get GlUtils(){return"\n      vec3 getStartColor(vec2 uv) {\n        return cmyk2rgb(vec4(uColor[0], uColor[1], uColor[2], uv.x));\n      }\n      vec3 getEndColor(vec2 uv) {\n        return cmyk2rgb(vec4(uColor[0], uColor[1], uColor[2], uv.x));\n      }\n    "}};je=__decorate$t([Register],je);let Be=class IoColorSliderHs extends IoColorSlider2dBase{static get GlUtils(){return"\n      vec3 geiotColor(vec2 uv) {\n        return hsv2rgb(vec3(uv, uColor[2]));\n      }\n    "}};Be=__decorate$t([Register],Be);let He=class IoColorSliderSv extends IoColorSlider2dBase{static get GlUtils(){return"\n      vec3 geiotColor(vec2 uv) {\n        return hsv2rgb(vec3(uColor[0], uv));\n      }\n    "}};He=__decorate$t([Register],He);let De=class IoColorSliderSL extends IoColorSlider2dBase{static get GlUtils(){return"\n      vec3 geiotColor(vec2 uv) {\n        return hsl2rgb(vec3(uColor[0], uv));\n      }\n    "}};De=__decorate$t([Register],De);var __decorate$s=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let $e=class IoColorPanel extends IoColorBase{static get Style(){return"\n    :host {\n      display: flex;\n      /* Panel */\n      flex: 1 1 auto;\n      flex-direction: column;\n      flex-wrap: nowrap;\n      align-self: stretch;\n      align-items: stretch;\n      justify-self: stretch;\n      border-radius: var(--iotBorderRadius);\n      border: var(--iotBorder);\n      border-color: var(--iotBorderColorOutset);\n      color: var(--iotColorField);\n      background-color: var(--iotBgColorDimmed);\n      padding: var(--iotSpacing);\n      /*  */\n      cursor: move;\n      align-items: stretch;\n      flex-grow: 0;\n      min-width: var(--iotLineHeight);\n      min-height: calc(var(--iotLineHeight) * 5.5);\n      flex-direction: row;\n    }\n    :host:not([expanded]) {\n      display: none;\n    }\n    :host[vertical] {\n      flex-direction: column;\n    }\n    :host > * {\n      border-radius: calc(var(--iotBorderRadius) - var(--iotBorderWidth));\n    }\n    :host > :first-child {\n      flex: 1 0 auto;\n    }\n    :host > *:not(:first-child) {\n      flex: 0 0 auto;\n    }\n    :host > *:not(:last-child) {\n      margin: 0 0 var(--iotSpacing) 0;\n    }\n    :host:not([vertical]) > * {\n      margin: 0 var(--iotSpacing) 0 0;\n    }\n    "}static get Listeners(){return{keydown:"_onKeydown"}}_onKeydown(e){"Escape"!==e.key&&"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.expanded=!1)}onValueSet(){this.dispatchEvent("value-input",{property:"value",value:this.value},!0)}changed(){this.template([["io-color-slider",{value:this.value,channel:"sv",vertical:this.vertical,"@value-input":this.onValueSet}],["io-color-slider",{value:this.value,channel:"h",vertical:!this.vertical,"@value-input":this.onValueSet}],void 0!==this.value.a?["io-color-slider",{value:this.value,channel:"a","@value-input":this.onValueSet,vertical:!this.vertical}]:null])}};__decorate$s([Property({value:!1,reflect:!0})],$e.prototype,"expanded",void 0),__decorate$s([Property({value:!1,reflect:!0})],$e.prototype,"vertical",void 0),__decorate$s([Property({value:!1,reflect:!0})],$e.prototype,"inlayer",void 0),$e=__decorate$s([Register],$e);const Fe=new $e({inlayer:!0});oe.appendChild(Fe);var __decorate$r=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let Ve=class IoColorSwatch extends IoColorBase{static get Style(){return"\n      :host {\n        display: inline-block;\n        min-width: var(--iotFieldHeight);\n        height: var(--iotFieldHeight);\n        background-color: white;\n        background-image: linear-gradient(45deg, #808080 25%, transparent 25%), linear-gradient(-45deg, #808080 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #808080 75%), linear-gradient(-45deg, transparent 75%, #808080 75%);\n        background-size: 12px 12px;\n        background-position: 0 0, 0 6px, 6px -6px, -6px 0px;\n        overflow: visible;\n      }\n      :host > div { \n        width: 100%;\n        height: 100%;\n      }\n    "}valueChanged(){super.valueChanged(),this.template([["div",{style:{"background-color":`rgba(${255*this.rgba[0]},${255*this.rgba[1]}, ${255*this.rgba[2]}, ${this.rgba[3]})`}}]])}};Ve=__decorate$r([Register],Ve);var __decorate$q=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let Ue=class IoColorPicker extends T{static get Style(){return"\n      :host {\n        height: var(--iotFieldHeight);\n        border: var(--iotBorder);\n        border-color: var(--iotBorderColorInset);\n        border-radius: var(--iotBorderRadius);\n        overflow: hidden;\n      }\n    "}static get Listeners(){return{click:"_onClick",keydown:"_onKeydown"}}_onClick(e){this.toggle()}get expanded(){return Fe.expanded&&Fe.value===this.value}_onKeydown(e){const o=this.getBoundingClientRect(),r=Fe.getBoundingClientRect();"Enter"===e.key||" "===e.key?(e.preventDefault(),this.toggle(),this.expanded&&Fe.firstChild.focus()):this.expanded&&r.top>=o.bottom&&"ArrowDown"===e.key||this.expanded&&r.bottom<=o.top&&"ArrowUp"===e.key?(e.preventDefault(),Fe.firstChild.focus()):(this.collapse(),super._onKeydown(e))}_onValueSet(){this.dispatchEvent("value-input",{property:"value",value:this.value},!0)}toggle(){this.expanded?this.collapse():this.expand()}expand(){Fe.value=this.value,Fe.expanded=!0,oe.setElementPosition(Fe,"down",this.getBoundingClientRect()),Fe.addEventListener("value-input",this._onValueSet),Fe._targetValueSetHandler=this._onValueSet}collapse(){Fe.removeEventListener("value-input",Fe._targetValueSetHandler),Fe.expanded=!1}changed(){this.template([["io-color-swatch",{$:"swatch",value:this.value}]])}};__decorate$q([Property({value:{r:1,g:1,b:1,a:1}})],Ue.prototype,"value",void 0),__decorate$q([Property("0")],Ue.prototype,"tabindex",void 0),Ue=__decorate$q([Register],Ue);var __decorate$p=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let We=class IoColorRgba extends IoColorBase{static get Style(){return"\n      :host {\n        display: flex;\n        flex: 0 1 auto;\n        min-width: var(--iotFieldHeight5);\n        width: var(--iotFieldHeight10);\n      }\n      :host > io-number {\n        flex: 1 0 0;\n      }\n      :host > io-number#r {\n        border-bottom-color: var(--iotBgColorRed);\n      }\n      :host > io-number#g {\n        border-bottom-color: var(--iotBgColorGreen);\n      }\n      :host > io-number#b {\n        border-bottom-color: var(--iotBgColorBlue);\n      }\n      :host > io-number#a {\n        border-bottom-color: var(--iotColor);\n      }\n      :host > io-color-picker {\n        flex-shrink: 0;\n      }\n      :host > *:not(:last-child) {\n        margin-right: var(--iotSpacing);\n      }\n    "}_onNumberValueInput(e){const o=e.composedPath()[0].id,r=e.detail.value,s=e.detail.oldValue,v=this.value;v[o]=r;const x={object:this.value,property:o,value:v,oldValue:s};this.dispatchEvent("object-mutated",x,!1,window)}changed(){this.template([["io-number",{$:"r",id:"r",value:this.value.r,min:0,max:1,step:.001,ladder:!0,"@value-input":this._onNumberValueInput}],["io-number",{$:"g",id:"g",value:this.value.g,min:0,max:1,step:.001,ladder:!0,"@value-input":this._onNumberValueInput}],["io-number",{$:"b",id:"b",value:this.value.b,min:0,max:1,step:.001,ladder:!0,"@value-input":this._onNumberValueInput}],void 0!==this.value.a?["io-number",{$:"a",id:"a",value:this.value.a,min:0,max:1,step:1e-4,ladder:!0,"@value-input":this._onNumberValueInput}]:null,["io-color-picker",{$:"swatch",value:this.value}]])}};We=__decorate$p([Register],We);var __decorate$o=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let Ge=class IoCollapsable extends T{static get Style(){return'\n    :host {\n      display: flex;\n      flex-direction: column;\n      flex-shrink: 0;\n      align-self: stretch;\n      box-sizing: content-box;\n      align-items: stretch;\n      align-self: stretch;\n      border: var(--iotBorder);\n      border-radius: calc(var(--iotBorderRadius) - var(--iotSpacing));\n      border-color: var(--iotBorderColorOutset);\n      min-height: var(--iotFieldHeight);\n      background-color: var(--iotBgColorDimmed);\n    }\n    :host > io-boolean {\n      flex: 0 0 auto;\n      padding-left: 0;\n      margin: var(--iotSpacing) var(--iotSpacing2);\n      border-radius: 0;\n      background-color: transparent;\n    }\n    :host > io-boolean:before {\n      text-align: center;\n      width: var(--iotLineHeight);\n      content: "▸"\n    }\n    :host > io-boolean[value]:before {\n      content: "▾"\n    }\n    :host > div.io-collapsable-content {\n      position: relative;\n      display: flex;\n      align-items: flex-start;\n      flex-direction: column;\n      overflow: auto;\n      background-color: var(--iotBgColorStrong);\n    }\n    :host[direction=row] > div.io-collapsable-content {\n      flex-direction: row;\n    }\n    :host > div.io-collapsable-content:not(:empty) {\n      margin: var(--iotSpacing);\n      margin-top: 0;\n      padding: var(--iotSpacing);\n      border-radius: var(--iotBorderRadius);\n    }\n    '}changed(){this.template([["io-boolean",{true:this.label,false:this.label,icon:this.icon,value:this.bind("expanded")}],["div",{class:"io-collapsable-content"},this.expanded?this.elements:[]]])}};function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}__decorate$o([Property(Array)],Ge.prototype,"elements",void 0),__decorate$o([Property("")],Ge.prototype,"label",void 0),__decorate$o([Property({value:"column",reflect:!0})],Ge.prototype,"direction",void 0),__decorate$o([Property("")],Ge.prototype,"icon",void 0),__decorate$o([Property({value:!1,reflect:!0})],Ge.prototype,"expanded",void 0),__decorate$o([Property("region")],Ge.prototype,"role",void 0),Ge=__decorate$o([Register],Ge);let qe={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function changeDefaults(e){qe=e}const Ke={exec:()=>null};function edit(e,o=""){let r="string"==typeof e?e:e.source;const s={replace:(e,o)=>{let v="string"==typeof o?o:o.source;return v=v.replace(Ze.caret,"$1"),r=r.replace(e,v),s},getRegex:()=>new RegExp(r,o)};return s}const Ze={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Ye=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Xe=/(?:[*+-]|\d{1,9}[.)])/,Qe=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Je=edit(Qe).replace(/bull/g,Xe).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),et=edit(Qe).replace(/bull/g,Xe).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),tt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,nt=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ot=edit(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",nt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),it=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Xe).getRegex(),rt="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",st=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,at=edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",st).replace("tag",rt).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),lt=edit(tt).replace("hr",Ye).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt).getRegex(),ct={blockquote:edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",lt).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:ot,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Ye,html:at,lheading:Je,list:it,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:lt,table:Ke,text:/^[^\n]+/},ht=edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ye).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt).getRegex(),dt={...ct,lheading:et,table:ht,paragraph:edit(tt).replace("hr",Ye).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ht).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt).getRegex()},pt={...ct,html:edit("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",st).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ke,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(tt).replace("hr",Ye).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Je).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ut=/^( {2,}|\\)\n(?!\s*$)/,gt=/[\p{P}\p{S}]/u,ft=/[\s\p{P}\p{S}]/u,vt=/[^\s\p{P}\p{S}]/u,mt=edit(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ft).getRegex(),bt=/(?!~)[\p{P}\p{S}]/u,yt=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,xt=edit(yt,"u").replace(/punct/g,gt).getRegex(),wt=edit(yt,"u").replace(/punct/g,bt).getRegex(),_t="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",kt=edit(_t,"gu").replace(/notPunctSpace/g,vt).replace(/punctSpace/g,ft).replace(/punct/g,gt).getRegex(),Ct=edit(_t,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,bt).getRegex(),St=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,vt).replace(/punctSpace/g,ft).replace(/punct/g,gt).getRegex(),Et=edit(/\\(punct)/,"gu").replace(/punct/g,gt).getRegex(),Mt=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Rt=edit(st).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ot=edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Rt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),zt=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Lt=edit(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",zt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Pt=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",zt).replace("ref",nt).getRegex(),Tt=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",nt).getRegex(),Nt={_backpedal:Ke,anyPunctuation:Et,autolink:Mt,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:ut,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Ke,emStrongLDelim:xt,emStrongRDelimAst:kt,emStrongRDelimUnd:St,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:Lt,nolink:Tt,punctuation:mt,reflink:Pt,reflinkSearch:edit("reflink|nolink(?!\\()","g").replace("reflink",Pt).replace("nolink",Tt).getRegex(),tag:Ot,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Ke},At={...Nt,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",zt).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",zt).getRegex()},It={...Nt,emStrongRDelimAst:Ct,emStrongLDelim:wt,url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},jt={...It,br:edit(ut).replace("{2,}","*").getRegex(),text:edit(It.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Bt={normal:ct,gfm:dt,pedantic:pt},Ht={normal:Nt,gfm:It,breaks:jt,pedantic:At},Dt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement$1=e=>Dt[e];function escape$2(e,o){if(o){if(Ze.escapeTest.test(e))return e.replace(Ze.escapeReplace,getEscapeReplacement$1)}else if(Ze.escapeTestNoEncode.test(e))return e.replace(Ze.escapeReplaceNoEncode,getEscapeReplacement$1);return e}function cleanUrl(e){try{e=encodeURI(e).replace(Ze.percentDecode,"%")}catch{return null}return e}function splitCells(e,o){const r=e.replace(Ze.findPipe,((e,o,r)=>{let s=!1,v=o;for(;--v>=0&&"\\"===r[v];)s=!s;return s?"|":" |"})).split(Ze.splitPipe);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),o)if(r.length>o)r.splice(o);else for(;r.length<o;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(Ze.slashPipe,"|");return r}function rtrim(e,o,r){const s=e.length;if(0===s)return"";let v=0;for(;v<s;){if(e.charAt(s-v-1)!==o)break;v++}return e.slice(0,s-v)}function outputLink(e,o,r,s,v){const x=o.href,w=o.title||null,k=e[1].replace(v.other.outputLinkReplace,"$1");if("!"!==e[0].charAt(0)){s.state.inLink=!0;const e={type:"link",raw:r,href:x,title:w,text:k,tokens:s.inlineTokens(k)};return s.state.inLink=!1,e}return{type:"image",raw:r,href:x,title:w,text:k}}class _Tokenizer{options;rules;lexer;constructor(e){this.options=e||qe}space(e){const o=this.rules.block.newline.exec(e);if(o&&o[0].length>0)return{type:"space",raw:o[0]}}code(e){const o=this.rules.block.code.exec(e);if(o){const e=o[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:o[0],codeBlockStyle:"indented",text:this.options.pedantic?e:rtrim(e,"\n")}}}fences(e){const o=this.rules.block.fences.exec(e);if(o){const e=o[0],r=function indentCodeCompensation(e,o,r){const s=e.match(r.other.indentCodeCompensation);if(null===s)return o;const v=s[1];return o.split("\n").map((e=>{const o=e.match(r.other.beginningSpace);if(null===o)return e;const[s]=o;return s.length>=v.length?e.slice(v.length):e})).join("\n")}(e,o[3]||"",this.rules);return{type:"code",raw:e,lang:o[2]?o[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):o[2],text:r}}}heading(e){const o=this.rules.block.heading.exec(e);if(o){let e=o[2].trim();if(this.rules.other.endingHash.test(e)){const o=rtrim(e,"#");this.options.pedantic?e=o.trim():o&&!this.rules.other.endingSpaceChar.test(o)||(e=o.trim())}return{type:"heading",raw:o[0],depth:o[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const o=this.rules.block.hr.exec(e);if(o)return{type:"hr",raw:rtrim(o[0],"\n")}}blockquote(e){const o=this.rules.block.blockquote.exec(e);if(o){let e=rtrim(o[0],"\n").split("\n"),r="",s="";const v=[];for(;e.length>0;){let o=!1;const x=[];let w;for(w=0;w<e.length;w++)if(this.rules.other.blockquoteStart.test(e[w]))x.push(e[w]),o=!0;else{if(o)break;x.push(e[w])}e=e.slice(w);const k=x.join("\n"),C=k.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}\n${k}`:k,s=s?`${s}\n${C}`:C;const S=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(C,v,!0),this.lexer.state.top=S,0===e.length)break;const M=v.at(-1);if("code"===M?.type)break;if("blockquote"===M?.type){const o=M,x=o.raw+"\n"+e.join("\n"),w=this.blockquote(x);v[v.length-1]=w,r=r.substring(0,r.length-o.raw.length)+w.raw,s=s.substring(0,s.length-o.text.length)+w.text;break}if("list"!==M?.type);else{const o=M,x=o.raw+"\n"+e.join("\n"),w=this.list(x);v[v.length-1]=w,r=r.substring(0,r.length-M.raw.length)+w.raw,s=s.substring(0,s.length-o.raw.length)+w.raw,e=x.substring(v.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:r,tokens:v,text:s}}}list(e){let o=this.rules.block.list.exec(e);if(o){let r=o[1].trim();const s=r.length>1,v={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");const x=this.rules.other.listItemRegex(r);let w=!1;for(;e;){let r=!1,s="",k="";if(!(o=x.exec(e)))break;if(this.rules.block.hr.test(e))break;s=o[0],e=e.substring(s.length);let C=o[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(e=>" ".repeat(3*e.length))),S=e.split("\n",1)[0],M=!C.trim(),R=0;if(this.options.pedantic?(R=2,k=C.trimStart()):M?R=o[1].length+1:(R=o[2].search(this.rules.other.nonSpaceChar),R=R>4?1:R,k=C.slice(R),R+=o[1].length),M&&this.rules.other.blankLine.test(S)&&(s+=S+"\n",e=e.substring(S.length+1),r=!0),!r){const o=this.rules.other.nextBulletRegex(R),r=this.rules.other.hrRegex(R),v=this.rules.other.fencesBeginRegex(R),x=this.rules.other.headingBeginRegex(R),w=this.rules.other.htmlBeginRegex(R);for(;e;){const O=e.split("\n",1)[0];let z;if(S=O,this.options.pedantic?(S=S.replace(this.rules.other.listReplaceNesting,"  "),z=S):z=S.replace(this.rules.other.tabCharGlobal,"    "),v.test(S))break;if(x.test(S))break;if(w.test(S))break;if(o.test(S))break;if(r.test(S))break;if(z.search(this.rules.other.nonSpaceChar)>=R||!S.trim())k+="\n"+z.slice(R);else{if(M)break;if(C.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(v.test(C))break;if(x.test(C))break;if(r.test(C))break;k+="\n"+S}M||S.trim()||(M=!0),s+=O+"\n",e=e.substring(O.length+1),C=z.slice(R)}}v.loose||(w?v.loose=!0:this.rules.other.doubleBlankLine.test(s)&&(w=!0));let O,z=null;this.options.gfm&&(z=this.rules.other.listIsTask.exec(k),z&&(O="[ ] "!==z[0],k=k.replace(this.rules.other.listReplaceTask,""))),v.items.push({type:"list_item",raw:s,task:!!z,checked:O,loose:!1,text:k,tokens:[]}),v.raw+=s}const k=v.items.at(-1);if(!k)return;k.raw=k.raw.trimEnd(),k.text=k.text.trimEnd(),v.raw=v.raw.trimEnd();for(let e=0;e<v.items.length;e++)if(this.lexer.state.top=!1,v.items[e].tokens=this.lexer.blockTokens(v.items[e].text,[]),!v.loose){const o=v.items[e].tokens.filter((e=>"space"===e.type)),r=o.length>0&&o.some((e=>this.rules.other.anyLine.test(e.raw)));v.loose=r}if(v.loose)for(let e=0;e<v.items.length;e++)v.items[e].loose=!0;return v}}html(e){const o=this.rules.block.html.exec(e);if(o){return{type:"html",block:!0,raw:o[0],pre:"pre"===o[1]||"script"===o[1]||"style"===o[1],text:o[0]}}}def(e){const o=this.rules.block.def.exec(e);if(o){const e=o[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=o[2]?o[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=o[3]?o[3].substring(1,o[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):o[3];return{type:"def",tag:e,raw:o[0],href:r,title:s}}}table(e){const o=this.rules.block.table.exec(e);if(!o)return;if(!this.rules.other.tableDelimiter.test(o[2]))return;const r=splitCells(o[1]),s=o[2].replace(this.rules.other.tableAlignChars,"").split("|"),v=o[3]?.trim()?o[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],x={type:"table",raw:o[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const e of s)this.rules.other.tableAlignRight.test(e)?x.align.push("right"):this.rules.other.tableAlignCenter.test(e)?x.align.push("center"):this.rules.other.tableAlignLeft.test(e)?x.align.push("left"):x.align.push(null);for(let e=0;e<r.length;e++)x.header.push({text:r[e],tokens:this.lexer.inline(r[e]),header:!0,align:x.align[e]});for(const e of v)x.rows.push(splitCells(e,x.header.length).map(((e,o)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:x.align[o]}))));return x}}lheading(e){const o=this.rules.block.lheading.exec(e);if(o)return{type:"heading",raw:o[0],depth:"="===o[2].charAt(0)?1:2,text:o[1],tokens:this.lexer.inline(o[1])}}paragraph(e){const o=this.rules.block.paragraph.exec(e);if(o){const e="\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1];return{type:"paragraph",raw:o[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const o=this.rules.block.text.exec(e);if(o)return{type:"text",raw:o[0],text:o[0],tokens:this.lexer.inline(o[0])}}escape(e){const o=this.rules.inline.escape.exec(e);if(o)return{type:"escape",raw:o[0],text:o[1]}}tag(e){const o=this.rules.inline.tag.exec(e);if(o)return!this.lexer.state.inLink&&this.rules.other.startATag.test(o[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(o[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(o[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(o[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:o[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:o[0]}}link(e){const o=this.rules.inline.link.exec(e);if(o){const e=o[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;const o=rtrim(e.slice(0,-1),"\\");if((e.length-o.length)%2==0)return}else{const e=function findClosingBracket(e,o){if(-1===e.indexOf(o[1]))return-1;let r=0;for(let s=0;s<e.length;s++)if("\\"===e[s])s++;else if(e[s]===o[0])r++;else if(e[s]===o[1]&&(r--,r<0))return s;return-1}(o[2],"()");if(e>-1){const r=(0===o[0].indexOf("!")?5:4)+o[1].length+e;o[2]=o[2].substring(0,e),o[0]=o[0].substring(0,r).trim(),o[3]=""}}let r=o[2],s="";if(this.options.pedantic){const e=this.rules.other.pedanticHrefTitle.exec(r);e&&(r=e[1],s=e[3])}else s=o[3]?o[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(r=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?r.slice(1):r.slice(1,-1)),outputLink(o,{href:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r,title:s?s.replace(this.rules.inline.anyPunctuation,"$1"):s},o[0],this.lexer,this.rules)}}reflink(e,o){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const e=o[(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){const e=r[0].charAt(0);return{type:"text",raw:e,text:e}}return outputLink(r,e,r[0],this.lexer,this.rules)}}emStrong(e,o,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s)return;if(s[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const r=[...s[0]].length-1;let v,x,w=r,k=0;const C="*"===s[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(C.lastIndex=0,o=o.slice(-1*e.length+r);null!=(s=C.exec(o));){if(v=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!v)continue;if(x=[...v].length,s[3]||s[4]){w+=x;continue}if((s[5]||s[6])&&r%3&&!((r+x)%3)){k+=x;continue}if(w-=x,w>0)continue;x=Math.min(x,x+w+k);const o=[...s[0]][0].length,C=e.slice(0,r+s.index+o+x);if(Math.min(r,x)%2){const e=C.slice(1,-1);return{type:"em",raw:C,text:e,tokens:this.lexer.inlineTokens(e)}}const S=C.slice(2,-2);return{type:"strong",raw:C,text:S,tokens:this.lexer.inlineTokens(S)}}}}codespan(e){const o=this.rules.inline.code.exec(e);if(o){let e=o[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(e),s=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return r&&s&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:o[0],text:e}}}br(e){const o=this.rules.inline.br.exec(e);if(o)return{type:"br",raw:o[0]}}del(e){const o=this.rules.inline.del.exec(e);if(o)return{type:"del",raw:o[0],text:o[2],tokens:this.lexer.inlineTokens(o[2])}}autolink(e){const o=this.rules.inline.autolink.exec(e);if(o){let e,r;return"@"===o[2]?(e=o[1],r="mailto:"+e):(e=o[1],r=e),{type:"link",raw:o[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let o;if(o=this.rules.inline.url.exec(e)){let e,r;if("@"===o[2])e=o[0],r="mailto:"+e;else{let s;do{s=o[0],o[0]=this.rules.inline._backpedal.exec(o[0])?.[0]??""}while(s!==o[0]);e=o[0],r="www."===o[1]?"http://"+o[0]:o[0]}return{type:"link",raw:o[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const o=this.rules.inline.text.exec(e);if(o){const e=this.lexer.state.inRawBlock;return{type:"text",raw:o[0],text:o[0],escaped:e}}}}class _Lexer{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||qe,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const o={other:Ze,block:Bt.normal,inline:Ht.normal};this.options.pedantic?(o.block=Bt.pedantic,o.inline=Ht.pedantic):this.options.gfm&&(o.block=Bt.gfm,this.options.breaks?o.inline=Ht.breaks:o.inline=Ht.gfm),this.tokenizer.rules=o}static get rules(){return{block:Bt,inline:Ht}}static lex(e,o){return new _Lexer(o).lex(e)}static lexInline(e,o){return new _Lexer(o).inlineTokens(e)}lex(e){e=e.replace(Ze.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const o=this.inlineQueue[e];this.inlineTokens(o.src,o.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,o=[],r=!1){for(this.options.pedantic&&(e=e.replace(Ze.tabCharGlobal,"    ").replace(Ze.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some((r=>!!(s=r.call({lexer:this},e,o))&&(e=e.substring(s.raw.length),o.push(s),!0))))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);const r=o.at(-1);1===s.raw.length&&void 0!==r?r.raw+="\n":o.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);const r=o.at(-1);"paragraph"===r?.type||"text"===r?.type?(r.raw+="\n"+s.raw,r.text+="\n"+s.text,this.inlineQueue.at(-1).src=r.text):o.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);const r=o.at(-1);"paragraph"===r?.type||"text"===r?.type?(r.raw+="\n"+s.raw,r.text+="\n"+s.raw,this.inlineQueue.at(-1).src=r.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),o.push(s);continue}let v=e;if(this.options.extensions?.startBlock){let o=1/0;const r=e.slice(1);let s;this.options.extensions.startBlock.forEach((e=>{s=e.call({lexer:this},r),"number"==typeof s&&s>=0&&(o=Math.min(o,s))})),o<1/0&&o>=0&&(v=e.substring(0,o+1))}if(this.state.top&&(s=this.tokenizer.paragraph(v))){const x=o.at(-1);r&&"paragraph"===x?.type?(x.raw+="\n"+s.raw,x.text+="\n"+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=x.text):o.push(s),r=v.length!==e.length,e=e.substring(s.raw.length)}else if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);const r=o.at(-1);"text"===r?.type?(r.raw+="\n"+s.raw,r.text+="\n"+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=r.text):o.push(s)}else if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}throw new Error(o)}}return this.state.top=!0,o}inline(e,o=[]){return this.inlineQueue.push({src:e,tokens:o}),o}inlineTokens(e,o=[]){let r=e,s=null;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(r));)e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(r));)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let v=!1,x="";for(;e;){let s;if(v||(x=""),v=!1,this.options.extensions?.inline?.some((r=>!!(s=r.call({lexer:this},e,o))&&(e=e.substring(s.raw.length),o.push(s),!0))))continue;if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length);const r=o.at(-1);"text"===s.type&&"text"===r?.type?(r.raw+=s.raw,r.text+=s.text):o.push(s);continue}if(s=this.tokenizer.emStrong(e,r,x)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),o.push(s);continue}if(s=this.tokenizer.autolink(e)){e=e.substring(s.raw.length),o.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e))){e=e.substring(s.raw.length),o.push(s);continue}let w=e;if(this.options.extensions?.startInline){let o=1/0;const r=e.slice(1);let s;this.options.extensions.startInline.forEach((e=>{s=e.call({lexer:this},r),"number"==typeof s&&s>=0&&(o=Math.min(o,s))})),o<1/0&&o>=0&&(w=e.substring(0,o+1))}if(s=this.tokenizer.inlineText(w)){e=e.substring(s.raw.length),"_"!==s.raw.slice(-1)&&(x=s.raw.slice(-1)),v=!0;const r=o.at(-1);"text"===r?.type?(r.raw+=s.raw,r.text+=s.text):o.push(s)}else if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}throw new Error(o)}}return o}}class _Renderer{options;parser;constructor(e){this.options=e||qe}space(e){return""}code({text:e,lang:o,escaped:r}){const s=(o||"").match(Ze.notSpaceStart)?.[0],v=e.replace(Ze.endingNewline,"")+"\n";return s?'<pre><code class="language-'+escape$2(s)+'">'+(r?v:escape$2(v,!0))+"</code></pre>\n":"<pre><code>"+(r?v:escape$2(v,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}heading({tokens:e,depth:o}){return`<h${o}>${this.parser.parseInline(e)}</h${o}>\n`}hr(e){return"<hr>\n"}list(e){const o=e.ordered,r=e.start;let s="";for(let o=0;o<e.items.length;o++){const r=e.items[o];s+=this.listitem(r)}const v=o?"ol":"ul";return"<"+v+(o&&1!==r?' start="'+r+'"':"")+">\n"+s+"</"+v+">\n"}listitem(e){let o="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=r+" "+escape$2(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):o+=r+" "}return o+=this.parser.parse(e.tokens,!!e.loose),`<li>${o}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let o="",r="";for(let o=0;o<e.header.length;o++)r+=this.tablecell(e.header[o]);o+=this.tablerow({text:r});let s="";for(let o=0;o<e.rows.length;o++){const v=e.rows[o];r="";for(let e=0;e<v.length;e++)r+=this.tablecell(v[e]);s+=this.tablerow({text:r})}return s&&(s=`<tbody>${s}</tbody>`),"<table>\n<thead>\n"+o+"</thead>\n"+s+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){const o=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+o+`</${r}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${escape$2(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:o,tokens:r}){const s=this.parser.parseInline(r),v=cleanUrl(e);if(null===v)return s;let x='<a href="'+(e=v)+'"';return o&&(x+=' title="'+escape$2(o)+'"'),x+=">"+s+"</a>",x}image({href:e,title:o,text:r}){const s=cleanUrl(e);if(null===s)return escape$2(r);let v=`<img src="${e=s}" alt="${r}"`;return o&&(v+=` title="${escape$2(o)}"`),v+=">",v}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:escape$2(e.text)}}class _TextRenderer{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class _Parser{options;renderer;textRenderer;constructor(e){this.options=e||qe,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _TextRenderer}static parse(e,o){return new _Parser(o).parse(e)}static parseInline(e,o){return new _Parser(o).parseInline(e)}parse(e,o=!0){let r="";for(let s=0;s<e.length;s++){const v=e[s];if(this.options.extensions?.renderers?.[v.type]){const e=v,o=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==o||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){r+=o||"";continue}}const x=v;switch(x.type){case"space":r+=this.renderer.space(x);continue;case"hr":r+=this.renderer.hr(x);continue;case"heading":r+=this.renderer.heading(x);continue;case"code":r+=this.renderer.code(x);continue;case"table":r+=this.renderer.table(x);continue;case"blockquote":r+=this.renderer.blockquote(x);continue;case"list":r+=this.renderer.list(x);continue;case"html":r+=this.renderer.html(x);continue;case"paragraph":r+=this.renderer.paragraph(x);continue;case"text":{let v=x,w=this.renderer.text(v);for(;s+1<e.length&&"text"===e[s+1].type;)v=e[++s],w+="\n"+this.renderer.text(v);r+=o?this.renderer.paragraph({type:"paragraph",raw:w,text:w,tokens:[{type:"text",raw:w,text:w,escaped:!0}]}):w;continue}default:{const e='Token with "'+x.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return r}parseInline(e,o=this.renderer){let r="";for(let s=0;s<e.length;s++){const v=e[s];if(this.options.extensions?.renderers?.[v.type]){const e=this.options.extensions.renderers[v.type].call({parser:this},v);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(v.type)){r+=e||"";continue}}const x=v;switch(x.type){case"escape":case"text":r+=o.text(x);break;case"html":r+=o.html(x);break;case"link":r+=o.link(x);break;case"image":r+=o.image(x);break;case"strong":r+=o.strong(x);break;case"em":r+=o.em(x);break;case"codespan":r+=o.codespan(x);break;case"br":r+=o.br(x);break;case"del":r+=o.del(x);break;default:{const e='Token with "'+x.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return r}}class _Hooks{options;block;constructor(e){this.options=e||qe}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?_Lexer.lex:_Lexer.lexInline}provideParser(){return this.block?_Parser.parse:_Parser.parseInline}}class Marked{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=_Parser;Renderer=_Renderer;TextRenderer=_TextRenderer;Lexer=_Lexer;Tokenizer=_Tokenizer;Hooks=_Hooks;constructor(...e){this.use(...e)}walkTokens(e,o){let r=[];for(const s of e)switch(r=r.concat(o.call(this,s)),s.type){case"table":{const e=s;for(const s of e.header)r=r.concat(this.walkTokens(s.tokens,o));for(const s of e.rows)for(const e of s)r=r.concat(this.walkTokens(e.tokens,o));break}case"list":{const e=s;r=r.concat(this.walkTokens(e.items,o));break}default:{const e=s;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((s=>{const v=e[s].flat(1/0);r=r.concat(this.walkTokens(v,o))})):e.tokens&&(r=r.concat(this.walkTokens(e.tokens,o)))}}return r}use(...e){const o=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const r={...e};if(r.async=this.defaults.async||r.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const r=o.renderers[e.name];o.renderers[e.name]=r?function(...o){let s=e.renderer.apply(this,o);return!1===s&&(s=r.apply(this,o)),s}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const r=o[e.level];r?r.unshift(e.tokenizer):o[e.level]=[e.tokenizer],e.start&&("block"===e.level?o.startBlock?o.startBlock.push(e.start):o.startBlock=[e.start]:"inline"===e.level&&(o.startInline?o.startInline.push(e.start):o.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(o.childTokens[e.name]=e.childTokens)})),r.extensions=o),e.renderer){const o=this.defaults.renderer||new _Renderer(this.defaults);for(const r in e.renderer){if(!(r in o))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;const s=r,v=e.renderer[s],x=o[s];o[s]=(...e)=>{let r=v.apply(o,e);return!1===r&&(r=x.apply(o,e)),r||""}}r.renderer=o}if(e.tokenizer){const o=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const r in e.tokenizer){if(!(r in o))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const s=r,v=e.tokenizer[s],x=o[s];o[s]=(...e)=>{let r=v.apply(o,e);return!1===r&&(r=x.apply(o,e)),r}}r.tokenizer=o}if(e.hooks){const o=this.defaults.hooks||new _Hooks;for(const r in e.hooks){if(!(r in o))throw new Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;const s=r,v=e.hooks[s],x=o[s];_Hooks.passThroughHooks.has(r)?o[s]=e=>{if(this.defaults.async)return Promise.resolve(v.call(o,e)).then((e=>x.call(o,e)));const r=v.call(o,e);return x.call(o,r)}:o[s]=(...e)=>{let r=v.apply(o,e);return!1===r&&(r=x.apply(o,e)),r}}r.hooks=o}if(e.walkTokens){const o=this.defaults.walkTokens,s=e.walkTokens;r.walkTokens=function(e){let r=[];return r.push(s.call(this,e)),o&&(r=r.concat(o.call(this,e))),r}}this.defaults={...this.defaults,...r}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,o){return _Lexer.lex(e,o??this.defaults)}parser(e,o){return _Parser.parse(e,o??this.defaults)}parseMarkdown(e){return(o,r)=>{const s={...r},v={...this.defaults,...s},x=this.onError(!!v.silent,!!v.async);if(!0===this.defaults.async&&!1===s.async)return x(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==o)return x(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof o)return x(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));v.hooks&&(v.hooks.options=v,v.hooks.block=e);const w=v.hooks?v.hooks.provideLexer():e?_Lexer.lex:_Lexer.lexInline,k=v.hooks?v.hooks.provideParser():e?_Parser.parse:_Parser.parseInline;if(v.async)return Promise.resolve(v.hooks?v.hooks.preprocess(o):o).then((e=>w(e,v))).then((e=>v.hooks?v.hooks.processAllTokens(e):e)).then((e=>v.walkTokens?Promise.all(this.walkTokens(e,v.walkTokens)).then((()=>e)):e)).then((e=>k(e,v))).then((e=>v.hooks?v.hooks.postprocess(e):e)).catch(x);try{v.hooks&&(o=v.hooks.preprocess(o));let e=w(o,v);v.hooks&&(e=v.hooks.processAllTokens(e)),v.walkTokens&&this.walkTokens(e,v.walkTokens);let r=k(e,v);return v.hooks&&(r=v.hooks.postprocess(r)),r}catch(e){return x(e)}}}onError(e,o){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+escape$2(r.message+"",!0)+"</pre>";return o?Promise.resolve(e):e}if(o)return Promise.reject(r);throw r}}}const $t=new Marked;function marked$1(e,o){return $t.parse(e,o)}function getLang(e){return(e||"").match(/\S*/)[0]}function updateToken(e){return o=>{"string"==typeof o&&o!==e.text&&(e.escaped=!0,e.text=o)}}marked$1.options=marked$1.setOptions=function(e){return $t.setOptions(e),marked$1.defaults=$t.defaults,changeDefaults(marked$1.defaults),marked$1},marked$1.getDefaults=_getDefaults,marked$1.defaults=qe,marked$1.use=function(...e){return $t.use(...e),marked$1.defaults=$t.defaults,changeDefaults(marked$1.defaults),marked$1},marked$1.walkTokens=function(e,o){return $t.walkTokens(e,o)},marked$1.parseInline=$t.parseInline,marked$1.Parser=_Parser,marked$1.parser=_Parser.parse,marked$1.Renderer=_Renderer,marked$1.TextRenderer=_TextRenderer,marked$1.Lexer=_Lexer,marked$1.lexer=_Lexer.lex,marked$1.Tokenizer=_Tokenizer,marked$1.Hooks=_Hooks,marked$1.parse=marked$1,marked$1.options,marked$1.setOptions,marked$1.use,marked$1.walkTokens,marked$1.parseInline,_Parser.parse,_Lexer.lex;const Ft=/[&<>"']/,Vt=new RegExp(Ft.source,"g"),Ut=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Wt=new RegExp(Ut.source,"g"),Gt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=e=>Gt[e];function escape$1(e,o){if(o){if(Ft.test(e))return e.replace(Vt,getEscapeReplacement)}else if(Ut.test(e))return e.replace(Wt,getEscapeReplacement);return e}
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:qt,setPrototypeOf:Kt,isFrozen:Zt,getPrototypeOf:Yt,getOwnPropertyDescriptor:Xt}=Object;let{freeze:Qt,seal:Jt,create:en}=Object,{apply:tn,construct:nn}="undefined"!=typeof Reflect&&Reflect;Qt||(Qt=function freeze(e){return e}),Jt||(Jt=function seal(e){return e}),tn||(tn=function apply(e,o,r){return e.apply(o,r)}),nn||(nn=function construct(e,o){return new e(...o)});const on=unapply(Array.prototype.forEach),rn=unapply(Array.prototype.lastIndexOf),sn=unapply(Array.prototype.pop),an=unapply(Array.prototype.push),ln=unapply(Array.prototype.splice),cn=unapply(String.prototype.toLowerCase),hn=unapply(String.prototype.toString),dn=unapply(String.prototype.match),pn=unapply(String.prototype.replace),un=unapply(String.prototype.indexOf),gn=unapply(String.prototype.trim),fn=unapply(Object.prototype.hasOwnProperty),vn=unapply(RegExp.prototype.test),mn=function unconstruct(e){return function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return nn(e,r)}}(TypeError);function unapply(e){return function(o){for(var r=arguments.length,s=new Array(r>1?r-1:0),v=1;v<r;v++)s[v-1]=arguments[v];return tn(e,o,s)}}function addToSet(e,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cn;Kt&&Kt(e,null);let s=o.length;for(;s--;){let v=o[s];if("string"==typeof v){const e=r(v);e!==v&&(Zt(o)||(o[s]=e),v=e)}e[v]=!0}return e}function cleanArray(e){for(let o=0;o<e.length;o++){fn(e,o)||(e[o]=null)}return e}function clone(e){const o=en(null);for(const[r,s]of qt(e)){fn(e,r)&&(Array.isArray(s)?o[r]=cleanArray(s):s&&"object"==typeof s&&s.constructor===Object?o[r]=clone(s):o[r]=s)}return o}function lookupGetter(e,o){for(;null!==e;){const r=Xt(e,o);if(r){if(r.get)return unapply(r.get);if("function"==typeof r.value)return unapply(r.value)}e=Yt(e)}return function fallbackValue(){return null}}const bn=Qt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),yn=Qt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xn=Qt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wn=Qt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_n=Qt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),kn=Qt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Cn=Qt(["#text"]),Sn=Qt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),En=Qt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Mn=Qt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Rn=Qt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),On=Jt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),zn=Jt(/<%[\w\W]*|[\w\W]*%>/gm),Ln=Jt(/\$\{[\w\W]*/gm),Pn=Jt(/^data-[\-\w.\u00B7-\uFFFF]+$/),Tn=Jt(/^aria-[\-\w]+$/),Nn=Jt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),An=Jt(/^(?:\w+script|data):/i),In=Jt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),jn=Jt(/^html$/i),Bn=Jt(/^[a-z][.\w]*(-[.\w]+)+$/i);var Hn=Object.freeze({__proto__:null,ARIA_ATTR:Tn,ATTR_WHITESPACE:In,CUSTOM_ELEMENT:Bn,DATA_ATTR:Pn,DOCTYPE_NAME:jn,ERB_EXPR:zn,IS_ALLOWED_URI:Nn,IS_SCRIPT_OR_DATA:An,MUSTACHE_EXPR:On,TMPLIT_EXPR:Ln});const Dn=1,$n=3,Fn=7,Vn=8,Un=9,Wn=function getGlobal(){return"undefined"==typeof window?null:window};var Gn=function createDOMPurify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();const DOMPurify=e=>createDOMPurify(e);if(DOMPurify.version="3.2.4",DOMPurify.removed=[],!e||!e.document||e.document.nodeType!==Un||!e.Element)return DOMPurify.isSupported=!1,DOMPurify;let{document:o}=e;const r=o,s=r.currentScript,{DocumentFragment:v,HTMLTemplateElement:x,Node:w,Element:k,NodeFilter:C,NamedNodeMap:S=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:M,DOMParser:R,trustedTypes:O}=e,z=k.prototype,L=lookupGetter(z,"cloneNode"),P=lookupGetter(z,"remove"),T=lookupGetter(z,"nextSibling"),N=lookupGetter(z,"childNodes"),A=lookupGetter(z,"parentNode");if("function"==typeof x){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let I,j="";const{implementation:B,createNodeIterator:H,createDocumentFragment:D,getElementsByTagName:$}=o,{importNode:F}=r;let V={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};DOMPurify.isSupported="function"==typeof qt&&"function"==typeof A&&B&&void 0!==B.createHTMLDocument;const{MUSTACHE_EXPR:U,ERB_EXPR:W,TMPLIT_EXPR:G,DATA_ATTR:q,ARIA_ATTR:K,IS_SCRIPT_OR_DATA:Z,ATTR_WHITESPACE:Y,CUSTOM_ELEMENT:X}=Hn;let{IS_ALLOWED_URI:Q}=Hn,J=null;const ee=addToSet({},[...bn,...yn,...xn,..._n,...Cn]);let te=null;const ne=addToSet({},[...Sn,...En,...Mn,...Rn]);let oe=Object.seal(en(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ie=null,re=null,se=!0,ae=!0,le=!1,ce=!0,he=!1,de=!0,pe=!1,ue=!1,ge=!1,fe=!1,ve=!1,me=!1,be=!0,ye=!1,xe=!0,we=!1,_e={},ke=null;const Ce=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Se=null;const Ee=addToSet({},["audio","video","img","source","image","track"]);let Me=null;const Re=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Oe="http://www.w3.org/1998/Math/MathML",ze="http://www.w3.org/2000/svg",Le="http://www.w3.org/1999/xhtml";let Pe=Le,Te=!1,Ne=null;const Ae=addToSet({},[Oe,ze,Le],hn);let Ie=addToSet({},["mi","mo","mn","ms","mtext"]),je=addToSet({},["annotation-xml"]);const Be=addToSet({},["title","style","font","a","script"]);let He=null;const De=["application/xhtml+xml","text/html"];let $e=null,Fe=null;const Ve=o.createElement("form"),Ue=function isRegexOrFunction(e){return e instanceof RegExp||e instanceof Function},We=function _parseConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Fe||Fe!==e){if(e&&"object"==typeof e||(e={}),e=clone(e),He=-1===De.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,$e="application/xhtml+xml"===He?hn:cn,J=fn(e,"ALLOWED_TAGS")?addToSet({},e.ALLOWED_TAGS,$e):ee,te=fn(e,"ALLOWED_ATTR")?addToSet({},e.ALLOWED_ATTR,$e):ne,Ne=fn(e,"ALLOWED_NAMESPACES")?addToSet({},e.ALLOWED_NAMESPACES,hn):Ae,Me=fn(e,"ADD_URI_SAFE_ATTR")?addToSet(clone(Re),e.ADD_URI_SAFE_ATTR,$e):Re,Se=fn(e,"ADD_DATA_URI_TAGS")?addToSet(clone(Ee),e.ADD_DATA_URI_TAGS,$e):Ee,ke=fn(e,"FORBID_CONTENTS")?addToSet({},e.FORBID_CONTENTS,$e):Ce,ie=fn(e,"FORBID_TAGS")?addToSet({},e.FORBID_TAGS,$e):{},re=fn(e,"FORBID_ATTR")?addToSet({},e.FORBID_ATTR,$e):{},_e=!!fn(e,"USE_PROFILES")&&e.USE_PROFILES,se=!1!==e.ALLOW_ARIA_ATTR,ae=!1!==e.ALLOW_DATA_ATTR,le=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ce=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,he=e.SAFE_FOR_TEMPLATES||!1,de=!1!==e.SAFE_FOR_XML,pe=e.WHOLE_DOCUMENT||!1,fe=e.RETURN_DOM||!1,ve=e.RETURN_DOM_FRAGMENT||!1,me=e.RETURN_TRUSTED_TYPE||!1,ge=e.FORCE_BODY||!1,be=!1!==e.SANITIZE_DOM,ye=e.SANITIZE_NAMED_PROPS||!1,xe=!1!==e.KEEP_CONTENT,we=e.IN_PLACE||!1,Q=e.ALLOWED_URI_REGEXP||Nn,Pe=e.NAMESPACE||Le,Ie=e.MATHML_TEXT_INTEGRATION_POINTS||Ie,je=e.HTML_INTEGRATION_POINTS||je,oe=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ue(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(oe.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ue(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(oe.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(oe.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),he&&(ae=!1),ve&&(fe=!0),_e&&(J=addToSet({},Cn),te=[],!0===_e.html&&(addToSet(J,bn),addToSet(te,Sn)),!0===_e.svg&&(addToSet(J,yn),addToSet(te,En),addToSet(te,Rn)),!0===_e.svgFilters&&(addToSet(J,xn),addToSet(te,En),addToSet(te,Rn)),!0===_e.mathMl&&(addToSet(J,_n),addToSet(te,Mn),addToSet(te,Rn))),e.ADD_TAGS&&(J===ee&&(J=clone(J)),addToSet(J,e.ADD_TAGS,$e)),e.ADD_ATTR&&(te===ne&&(te=clone(te)),addToSet(te,e.ADD_ATTR,$e)),e.ADD_URI_SAFE_ATTR&&addToSet(Me,e.ADD_URI_SAFE_ATTR,$e),e.FORBID_CONTENTS&&(ke===Ce&&(ke=clone(ke)),addToSet(ke,e.FORBID_CONTENTS,$e)),xe&&(J["#text"]=!0),pe&&addToSet(J,["html","head","body"]),J.table&&(addToSet(J,["tbody"]),delete ie.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw mn('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw mn('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=e.TRUSTED_TYPES_POLICY,j=I.createHTML("")}else void 0===I&&(I=function _createTrustedTypesPolicy(e,o){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let r=null;const s="data-tt-policy-suffix";o&&o.hasAttribute(s)&&(r=o.getAttribute(s));const v="dompurify"+(r?"#"+r:"");try{return e.createPolicy(v,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+v+" could not be created."),null}}(O,s)),null!==I&&"string"==typeof j&&(j=I.createHTML(""));Qt&&Qt(e),Fe=e}},Ge=addToSet({},[...yn,...xn,...wn]),qe=addToSet({},[..._n,...kn]),Ke=function _forceRemove(e){an(DOMPurify.removed,{element:e});try{A(e).removeChild(e)}catch(o){P(e)}},Ze=function _removeAttribute(e,o){try{an(DOMPurify.removed,{attribute:o.getAttributeNode(e),from:o})}catch(e){an(DOMPurify.removed,{attribute:null,from:o})}if(o.removeAttribute(e),"is"===e)if(fe||ve)try{Ke(o)}catch(e){}else try{o.setAttribute(e,"")}catch(e){}},Ye=function _initDocument(e){let r=null,s=null;if(ge)e="<remove></remove>"+e;else{const o=dn(e,/^[\r\n\t ]+/);s=o&&o[0]}"application/xhtml+xml"===He&&Pe===Le&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const v=I?I.createHTML(e):e;if(Pe===Le)try{r=(new R).parseFromString(v,He)}catch(e){}if(!r||!r.documentElement){r=B.createDocument(Pe,"template",null);try{r.documentElement.innerHTML=Te?j:v}catch(e){}}const x=r.body||r.documentElement;return e&&s&&x.insertBefore(o.createTextNode(s),x.childNodes[0]||null),Pe===Le?$.call(r,pe?"html":"body")[0]:pe?r.documentElement:x},Xe=function _createNodeIterator(e){return H.call(e.ownerDocument||e,e,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT|C.SHOW_PROCESSING_INSTRUCTION|C.SHOW_CDATA_SECTION,null)},Qe=function _isClobbered(e){return e instanceof M&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof S)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Je=function _isNode(e){return"function"==typeof w&&e instanceof w};function _executeHooks(e,o,r){on(e,(e=>{e.call(DOMPurify,o,r,Fe)}))}const et=function _sanitizeElements(e){let o=null;if(_executeHooks(V.beforeSanitizeElements,e,null),Qe(e))return Ke(e),!0;const r=$e(e.nodeName);if(_executeHooks(V.uponSanitizeElement,e,{tagName:r,allowedTags:J}),e.hasChildNodes()&&!Je(e.firstElementChild)&&vn(/<[/\w]/g,e.innerHTML)&&vn(/<[/\w]/g,e.textContent))return Ke(e),!0;if(e.nodeType===Fn)return Ke(e),!0;if(de&&e.nodeType===Vn&&vn(/<[/\w]/g,e.data))return Ke(e),!0;if(!J[r]||ie[r]){if(!ie[r]&&nt(r)){if(oe.tagNameCheck instanceof RegExp&&vn(oe.tagNameCheck,r))return!1;if(oe.tagNameCheck instanceof Function&&oe.tagNameCheck(r))return!1}if(xe&&!ke[r]){const o=A(e)||e.parentNode,r=N(e)||e.childNodes;if(r&&o){for(let s=r.length-1;s>=0;--s){const v=L(r[s],!0);v.__removalCount=(e.__removalCount||0)+1,o.insertBefore(v,T(e))}}}return Ke(e),!0}return e instanceof k&&!function _checkValidNamespace(e){let o=A(e);o&&o.tagName||(o={namespaceURI:Pe,tagName:"template"});const r=cn(e.tagName),s=cn(o.tagName);return!!Ne[e.namespaceURI]&&(e.namespaceURI===ze?o.namespaceURI===Le?"svg"===r:o.namespaceURI===Oe?"svg"===r&&("annotation-xml"===s||Ie[s]):Boolean(Ge[r]):e.namespaceURI===Oe?o.namespaceURI===Le?"math"===r:o.namespaceURI===ze?"math"===r&&je[s]:Boolean(qe[r]):e.namespaceURI===Le?!(o.namespaceURI===ze&&!je[s])&&!(o.namespaceURI===Oe&&!Ie[s])&&!qe[r]&&(Be[r]||!Ge[r]):!("application/xhtml+xml"!==He||!Ne[e.namespaceURI]))}(e)?(Ke(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!vn(/<\/no(script|embed|frames)/i,e.innerHTML)?(he&&e.nodeType===$n&&(o=e.textContent,on([U,W,G],(e=>{o=pn(o,e," ")})),e.textContent!==o&&(an(DOMPurify.removed,{element:e.cloneNode()}),e.textContent=o)),_executeHooks(V.afterSanitizeElements,e,null),!1):(Ke(e),!0)},tt=function _isValidAttribute(e,r,s){if(be&&("id"===r||"name"===r)&&(s in o||s in Ve))return!1;if(ae&&!re[r]&&vn(q,r));else if(se&&vn(K,r));else if(!te[r]||re[r]){if(!(nt(e)&&(oe.tagNameCheck instanceof RegExp&&vn(oe.tagNameCheck,e)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(e))&&(oe.attributeNameCheck instanceof RegExp&&vn(oe.attributeNameCheck,r)||oe.attributeNameCheck instanceof Function&&oe.attributeNameCheck(r))||"is"===r&&oe.allowCustomizedBuiltInElements&&(oe.tagNameCheck instanceof RegExp&&vn(oe.tagNameCheck,s)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(s))))return!1}else if(Me[r]);else if(vn(Q,pn(s,Y,"")));else if("src"!==r&&"xlink:href"!==r&&"href"!==r||"script"===e||0!==un(s,"data:")||!Se[e]){if(le&&!vn(Z,pn(s,Y,"")));else if(s)return!1}else;return!0},nt=function _isBasicCustomElement(e){return"annotation-xml"!==e&&dn(e,X)},ot=function _sanitizeAttributes(e){_executeHooks(V.beforeSanitizeAttributes,e,null);const{attributes:o}=e;if(!o||Qe(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:te,forceKeepAttr:void 0};let s=o.length;for(;s--;){const v=o[s],{name:x,namespaceURI:w,value:k}=v,C=$e(x);let S="value"===x?k:gn(k);if(r.attrName=C,r.attrValue=S,r.keepAttr=!0,r.forceKeepAttr=void 0,_executeHooks(V.uponSanitizeAttribute,e,r),S=r.attrValue,!ye||"id"!==C&&"name"!==C||(Ze(x,e),S="user-content-"+S),de&&vn(/((--!?|])>)|<\/(style|title)/i,S)){Ze(x,e);continue}if(r.forceKeepAttr)continue;if(Ze(x,e),!r.keepAttr)continue;if(!ce&&vn(/\/>/i,S)){Ze(x,e);continue}he&&on([U,W,G],(e=>{S=pn(S,e," ")}));const M=$e(e.nodeName);if(tt(M,C,S)){if(I&&"object"==typeof O&&"function"==typeof O.getAttributeType)if(w);else switch(O.getAttributeType(M,C)){case"TrustedHTML":S=I.createHTML(S);break;case"TrustedScriptURL":S=I.createScriptURL(S)}try{w?e.setAttributeNS(w,x,S):e.setAttribute(x,S),Qe(e)?Ke(e):sn(DOMPurify.removed)}catch(e){}}}_executeHooks(V.afterSanitizeAttributes,e,null)},it=function _sanitizeShadowDOM(e){let o=null;const r=Xe(e);for(_executeHooks(V.beforeSanitizeShadowDOM,e,null);o=r.nextNode();)_executeHooks(V.uponSanitizeShadowNode,o,null),et(o),ot(o),o.content instanceof v&&_sanitizeShadowDOM(o.content);_executeHooks(V.afterSanitizeShadowDOM,e,null)};return DOMPurify.sanitize=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=null,x=null,k=null,C=null;if(Te=!e,Te&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Je(e)){if("function"!=typeof e.toString)throw mn("toString is not a function");if("string"!=typeof(e=e.toString()))throw mn("dirty is not a string, aborting")}if(!DOMPurify.isSupported)return e;if(ue||We(o),DOMPurify.removed=[],"string"==typeof e&&(we=!1),we){if(e.nodeName){const o=$e(e.nodeName);if(!J[o]||ie[o])throw mn("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof w)s=Ye("\x3c!----\x3e"),x=s.ownerDocument.importNode(e,!0),x.nodeType===Dn&&"BODY"===x.nodeName||"HTML"===x.nodeName?s=x:s.appendChild(x);else{if(!fe&&!he&&!pe&&-1===e.indexOf("<"))return I&&me?I.createHTML(e):e;if(s=Ye(e),!s)return fe?null:me?j:""}s&&ge&&Ke(s.firstChild);const S=Xe(we?e:s);for(;k=S.nextNode();)et(k),ot(k),k.content instanceof v&&it(k.content);if(we)return e;if(fe){if(ve)for(C=D.call(s.ownerDocument);s.firstChild;)C.appendChild(s.firstChild);else C=s;return(te.shadowroot||te.shadowrootmode)&&(C=F.call(r,C,!0)),C}let M=pe?s.outerHTML:s.innerHTML;return pe&&J["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&vn(jn,s.ownerDocument.doctype.name)&&(M="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+M),he&&on([U,W,G],(e=>{M=pn(M,e," ")})),I&&me?I.createHTML(M):M},DOMPurify.setConfig=function(){We(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),ue=!0},DOMPurify.clearConfig=function(){Fe=null,ue=!1},DOMPurify.isValidAttribute=function(e,o,r){Fe||We({});const s=$e(e),v=$e(o);return tt(s,v,r)},DOMPurify.addHook=function(e,o){"function"==typeof o&&an(V[e],o)},DOMPurify.removeHook=function(e,o){if(void 0!==o){const r=rn(V[e],o);return-1===r?void 0:ln(V[e],r,1)[0]}return sn(V[e])},DOMPurify.removeHooks=function(e){V[e]=[]},DOMPurify.removeAllHooks=function(){V={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},DOMPurify}();
/*!
  Highlight.js v11.10.0 (git: 9267f5022c)
  (c) 2006-2024 Josh Goebel <hello@joshgoebel.com> and other contributors
  License: BSD-3-Clause
 */function deepFreeze(e){return e instanceof Map?e.clear=e.delete=e.set=()=>{throw Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=()=>{throw Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((o=>{const r=e[o],s=typeof r;"object"!==s&&"function"!==s||Object.isFrozen(r)||deepFreeze(r)})),e}class Response{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function escapeHTML(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function inherit$1(e,...o){const r=Object.create(null);for(const o in e)r[o]=e[o];return o.forEach((e=>{for(const o in e)r[o]=e[o]})),r}const emitsWrappingTags=e=>!!e.scope;class HTMLRenderer{constructor(e,o){this.buffer="",this.classPrefix=o.classPrefix,e.walk(this)}addText(e){this.buffer+=escapeHTML(e)}openNode(e){if(!emitsWrappingTags(e))return;const o=((e,{prefix:o})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const r=e.split(".");return[`${o}${r.shift()}`,...r.map(((e,o)=>`${e}${"_".repeat(o+1)}`))].join(" ")}return`${o}${e}`})(e.scope,{prefix:this.classPrefix});this.span(o)}closeNode(e){emitsWrappingTags(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const newNode=(e={})=>{const o={children:[]};return Object.assign(o,e),o};class TokenTree{constructor(){this.rootNode=newNode(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const o=newNode({scope:e});this.add(o),this.stack.push(o)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,o){return"string"==typeof o?e.addText(o):o.children&&(e.openNode(o),o.children.forEach((o=>this._walk(e,o))),e.closeNode(o)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{TokenTree._collapse(e)})))}}class TokenTreeEmitter extends TokenTree{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,o){const r=e.root;o&&(r.scope="language:"+o),this.add(r)}toHTML(){return new HTMLRenderer(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function source(e){return e?"string"==typeof e?e:e.source:null}function lookahead(e){return concat("(?=",e,")")}function anyNumberOfTimes(e){return concat("(?:",e,")*")}function optional(e){return concat("(?:",e,")?")}function concat(...e){return e.map((e=>source(e))).join("")}function either(...e){const o=(e=>{const o=e[e.length-1];return"object"==typeof o&&o.constructor===Object?(e.splice(e.length-1,1),o):{}})(e);return"("+(o.capture?"":"?:")+e.map((e=>source(e))).join("|")+")"}function countMatchGroups(e){return RegExp(e.toString()+"|").exec("").length-1}const qn=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function _rewriteBackreferences(e,{joinWith:o}){let r=0;return e.map((e=>{r+=1;const o=r;let s=source(e),v="";for(;s.length>0;){const e=qn.exec(s);if(!e){v+=s;break}v+=s.substring(0,e.index),s=s.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?v+="\\"+(Number(e[1])+o):(v+=e[0],"("===e[0]&&r++)}return v})).map((e=>`(${e})`)).join(o)}const Kn="[a-zA-Z]\\w*",Zn="\\b\\d+(\\.\\d+)?",Yn="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Xn={begin:"\\\\[\\s\\S]",relevance:0},Qn={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Xn]},Jn={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Xn]},COMMENT=(e,o,r={})=>{const s=inherit$1({scope:"comment",begin:e,end:o,contains:[]},r);s.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const v=either("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return s.contains.push({begin:concat(/[ ]+/,"(",v,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),s},eo=COMMENT("//","$"),to=COMMENT("/\\*","\\*/"),no=COMMENT("#","$"),oo={scope:"number",begin:Zn,relevance:0},io={scope:"number",begin:Yn,relevance:0},ro={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Xn,{begin:/\[/,end:/\]/,relevance:0,contains:[Xn]}]},so={scope:"title",begin:Kn,relevance:0};var ao=Object.freeze({__proto__:null,APOS_STRING_MODE:Qn,BACKSLASH_ESCAPE:Xn,BINARY_NUMBER_MODE:{scope:"number",begin:"\\b(0b[01]+)",relevance:0},BINARY_NUMBER_RE:"\\b(0b[01]+)",COMMENT:COMMENT,C_BLOCK_COMMENT_MODE:to,C_LINE_COMMENT_MODE:eo,C_NUMBER_MODE:io,C_NUMBER_RE:Yn,END_SAME_AS_BEGIN:e=>Object.assign(e,{"on:begin":(e,o)=>{o.data._beginMatch=e[1]},"on:end":(e,o)=>{o.data._beginMatch!==e[1]&&o.ignoreMatch()}}),HASH_COMMENT_MODE:no,IDENT_RE:Kn,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:{begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0},NUMBER_MODE:oo,NUMBER_RE:Zn,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:Jn,REGEXP_MODE:ro,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const o=/^#![ ]*\//;return e.binary&&(e.begin=concat(o,/.*\b/,e.binary,/\b.*/)),inherit$1({scope:"meta",begin:o,end:/$/,relevance:0,"on:begin":(e,o)=>{0!==e.index&&o.ignoreMatch()}},e)},TITLE_MODE:so,UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",UNDERSCORE_TITLE_MODE:{scope:"title",begin:"[a-zA-Z_]\\w*",relevance:0}});function skipIfHasPrecedingDot(e,o){"."===e.input[e.index-1]&&o.ignoreMatch()}function scopeClassName(e,o){void 0!==e.className&&(e.scope=e.className,delete e.className)}function beginKeywords(e,o){o&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=skipIfHasPrecedingDot,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function compileIllegal(e,o){Array.isArray(e.illegal)&&(e.illegal=either(...e.illegal))}function compileMatch(e,o){if(e.match){if(e.begin||e.end)throw Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function compileRelevance(e,o){void 0===e.relevance&&(e.relevance=1)}const beforeMatchExt=(e,o)=>{if(!e.beforeMatch)return;if(e.starts)throw Error("beforeMatch cannot be used with starts");const r=Object.assign({},e);Object.keys(e).forEach((o=>{delete e[o]})),e.keywords=r.keywords,e.begin=concat(r.beforeMatch,lookahead(r.begin)),e.starts={relevance:0,contains:[Object.assign(r,{endsParent:!0})]},e.relevance=0,delete r.beforeMatch},lo=["of","and","for","in","not","or","if","then","parent","list","value"];function compileKeywords(e,o,r="keyword"){const s=Object.create(null);return"string"==typeof e?a(r,e.split(" ")):Array.isArray(e)?a(r,e):Object.keys(e).forEach((r=>{Object.assign(s,compileKeywords(e[r],o,r))})),s;function a(e,r){o&&(r=r.map((e=>e.toLowerCase()))),r.forEach((o=>{const r=o.split("|");s[r[0]]=[e,scoreForKeyword(r[0],r[1])]}))}}function scoreForKeyword(e,o){return o?Number(o):(e=>lo.includes(e.toLowerCase()))(e)?0:1}const co={},error=e=>{console.error(e)},warn=(e,...o)=>{console.log("WARN: "+e,...o)},deprecated=(e,o)=>{co[`${e}/${o}`]||(console.log(`Deprecated as of ${e}. ${o}`),co[`${e}/${o}`]=!0)},ho=Error();function remapScopeNames(e,o,{key:r}){let s=0;const v=e[r],x={},w={};for(let e=1;e<=o.length;e++)w[e+s]=v[e],x[e+s]=!0,s+=countMatchGroups(o[e-1]);e[r]=w,e[r]._emit=x,e[r]._multi=!0}function MultiClass(e){(e=>{e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)})(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),(e=>{if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw error("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ho;if("object"!=typeof e.beginScope||null===e.beginScope)throw error("beginScope must be object"),ho;remapScopeNames(e,e.begin,{key:"beginScope"}),e.begin=_rewriteBackreferences(e.begin,{joinWith:""})}})(e),(e=>{if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw error("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ho;if("object"!=typeof e.endScope||null===e.endScope)throw error("endScope must be object"),ho;remapScopeNames(e,e.end,{key:"endScope"}),e.end=_rewriteBackreferences(e.end,{joinWith:""})}})(e)}function compileLanguage(e){function n(o,r){return RegExp(source(o),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(r?"g":""))}class t{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,o){o.position=this.position++,this.matchIndexes[this.matchAt]=o,this.regexes.push([o,e]),this.matchAt+=countMatchGroups(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=n(_rewriteBackreferences(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const o=this.matcherRe.exec(e);if(!o)return null;const r=o.findIndex(((e,o)=>o>0&&void 0!==e)),s=this.matchIndexes[r];return o.splice(0,r),Object.assign(o,s)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const o=new t;return this.rules.slice(e).forEach((([e,r])=>o.addRule(e,r))),o.compile(),this.multiRegexes[e]=o,o}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,o){this.rules.push([e,o]),"begin"===o.type&&this.count++}exec(e){const o=this.getMatcher(this.regexIndex);o.lastIndex=this.lastIndex;let r=o.exec(e);if(this.resumingScanAtSamePosition())if(r&&r.index===this.lastIndex);else{const o=this.getMatcher(0);o.lastIndex=this.lastIndex+1,r=o.exec(e)}return r&&(this.regexIndex+=r.position+1,this.regexIndex===this.count&&this.considerAll()),r}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=inherit$1(e.classNameAliases||{}),function t(o,r){const s=o;if(o.isCompiled)return s;[scopeClassName,compileMatch,MultiClass,beforeMatchExt].forEach((e=>e(o,r))),e.compilerExtensions.forEach((e=>e(o,r))),o.__beforeBegin=null,[beginKeywords,compileIllegal,compileRelevance].forEach((e=>e(o,r))),o.isCompiled=!0;let v=null;return"object"==typeof o.keywords&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),v=o.keywords.$pattern,delete o.keywords.$pattern),v=v||/\w+/,o.keywords&&(o.keywords=compileKeywords(o.keywords,e.case_insensitive)),s.keywordPatternRe=n(v,!0),r&&(o.begin||(o.begin=/\B|\b/),s.beginRe=n(s.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(s.endRe=n(s.end)),s.terminatorEnd=source(s.end)||"",o.endsWithParent&&r.terminatorEnd&&(s.terminatorEnd+=(o.end?"|":"")+r.terminatorEnd)),o.illegal&&(s.illegalRe=n(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map((e=>(e=>(e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((o=>inherit$1(e,{variants:null},o)))),e.cachedVariants?e.cachedVariants:dependencyOnParent(e)?inherit$1(e,{starts:e.starts?inherit$1(e.starts):null}):Object.isFrozen(e)?inherit$1(e):e))("self"===e?o:e)))),o.contains.forEach((e=>{t(e,s)})),o.starts&&t(o.starts,r),s.matcher=(e=>{const o=new i;return e.contains.forEach((e=>o.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&o.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&o.addRule(e.illegal,{type:"illegal"}),o})(s),s}(e)}function dependencyOnParent(e){return!!e&&(e.endsWithParent||dependencyOnParent(e.starts))}class HTMLInjectionError extends Error{constructor(e,o){super(e),this.name="HTMLInjectionError",this.html=o}}const po=escapeHTML,uo=inherit$1,go=Symbol("nomatch"),HLJS=e=>{const o=Object.create(null),r=Object.create(null),s=[];let v=!0;const x="Could not find the language '{}', did you forget to load/include a language module?",w={disableAutodetect:!0,name:"Plain text",contains:[]};let k={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:TokenTreeEmitter};function c(e){return k.noHighlightRe.test(e)}function l(e,o,r){let s="",v="";"object"==typeof o?(s=e,r=o.ignoreIllegals,v=o.language):(deprecated("10.7.0","highlight(lang, code, ...args) has been deprecated."),deprecated("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),v=e,s=o),void 0===r&&(r=!0);const x={code:s,language:v};E("before:highlight",x);const w=x.result?x.result:d(x.language,x.code,r);return w.code=x.code,E("after:highlight",w),w}function d(e,r,s,w){const C=Object.create(null);function l(){if(!z.keywords)return void P.addText(T);let e=0;z.keywordPatternRe.lastIndex=0;let o=z.keywordPatternRe.exec(T),r="";for(;o;){r+=T.substring(e,o.index);const v=M.case_insensitive?o[0].toLowerCase():o[0],x=(s=v,z.keywords[s]);if(x){const[e,s]=x;if(P.addText(r),r="",C[v]=(C[v]||0)+1,C[v]<=7&&(N+=s),e.startsWith("_"))r+=o[0];else{const r=M.classNameAliases[e]||e;b(o[0],r)}}else r+=o[0];e=z.keywordPatternRe.lastIndex,o=z.keywordPatternRe.exec(T)}var s;r+=T.substring(e),P.addText(r)}function u(){null!=z.subLanguage?(()=>{if(""===T)return;let e=null;if("string"==typeof z.subLanguage){if(!o[z.subLanguage])return void P.addText(T);e=d(z.subLanguage,T,!0,L[z.subLanguage]),L[z.subLanguage]=e._top}else e=g(T,z.subLanguage.length?z.subLanguage:null);z.relevance>0&&(N+=e.relevance),P.__addSublanguage(e._emitter,e.language)})():l(),T=""}function b(e,o){""!==e&&(P.startScope(o),P.addText(e),P.endScope())}function h(e,o){let r=1;const s=o.length-1;for(;r<=s;){if(!e._emit[r]){r++;continue}const s=M.classNameAliases[e[r]]||e[r],v=o[r];s?b(v,s):(T=v,l(),T=""),r++}}function m(e,o){return e.scope&&"string"==typeof e.scope&&P.openNode(M.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(b(T,M.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),T=""):e.beginScope._multi&&(h(e.beginScope,o),T="")),z=Object.create(e,{parent:{value:z}}),z}function f(e,o,r){let s=((e,o)=>{const r=e&&e.exec(o);return r&&0===r.index})(e.endRe,r);if(s){if(e["on:end"]){const r=new Response(e);e["on:end"](o,r),r.isMatchIgnored&&(s=!1)}if(s){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return f(e.parent,o,r)}function E(e){return 0===z.matcher.regexIndex?(T+=e[0],1):(j=!0,0)}function _(e){const o=e[0],s=r.substring(e.index),v=f(z,e,s);if(!v)return go;const x=z;z.endScope&&z.endScope._wrap?(u(),b(o,z.endScope._wrap)):z.endScope&&z.endScope._multi?(u(),h(z.endScope,e)):x.skip?T+=o:(x.returnEnd||x.excludeEnd||(T+=o),u(),x.excludeEnd&&(T=o));do{z.scope&&P.closeNode(),z.skip||z.subLanguage||(N+=z.relevance),z=z.parent}while(z!==v.parent);return v.starts&&m(v.starts,e),x.returnEnd?0:o.length}let S={};function y(o,x){const w=x&&x[0];if(T+=o,null==w)return u(),0;if("begin"===S.type&&"end"===x.type&&S.index===x.index&&""===w){if(T+=r.slice(x.index,x.index+1),!v){const o=Error(`0 width match regex (${e})`);throw o.languageName=e,o.badRule=S.rule,o}return 1}if(S=x,"begin"===x.type)return(e=>{const o=e[0],r=e.rule,s=new Response(r),v=[r.__beforeBegin,r["on:begin"]];for(const r of v)if(r&&(r(e,s),s.isMatchIgnored))return E(o);return r.skip?T+=o:(r.excludeBegin&&(T+=o),u(),r.returnBegin||r.excludeBegin||(T=o)),m(r,e),r.returnBegin?0:o.length})(x);if("illegal"===x.type&&!s){const e=Error('Illegal lexeme "'+w+'" for mode "'+(z.scope||"<unnamed>")+'"');throw e.mode=z,e}if("end"===x.type){const e=_(x);if(e!==go)return e}if("illegal"===x.type&&""===w)return 1;if(I>1e5&&I>3*x.index)throw Error("potential infinite loop, way more iterations than matches");return T+=w,w.length}const M=p(e);if(!M)throw error(x.replace("{}",e)),Error('Unknown language: "'+e+'"');const R=compileLanguage(M);let O="",z=w||R;const L={},P=new k.__emitter(k);(()=>{const e=[];for(let o=z;o!==M;o=o.parent)o.scope&&e.unshift(o.scope);e.forEach((e=>P.openNode(e)))})();let T="",N=0,A=0,I=0,j=!1;try{if(M.__emitTokens)M.__emitTokens(r,P);else{for(z.matcher.considerAll();;){I++,j?j=!1:z.matcher.considerAll(),z.matcher.lastIndex=A;const e=z.matcher.exec(r);if(!e)break;const o=y(r.substring(A,e.index),e);A=e.index+o}y(r.substring(A))}return P.finalize(),O=P.toHTML(),{language:e,value:O,relevance:N,illegal:!1,_emitter:P,_top:z}}catch(o){if(o.message&&o.message.includes("Illegal"))return{language:e,value:po(r),illegal:!0,relevance:0,_illegalBy:{message:o.message,index:A,context:r.slice(A-100,A+100),mode:o.mode,resultSoFar:O},_emitter:P};if(v)return{language:e,value:po(r),illegal:!1,relevance:0,errorRaised:o,_emitter:P,_top:z};throw o}}function g(e,r){r=r||k.languages||Object.keys(o);const s=(e=>{const o={value:po(e),illegal:!1,relevance:0,_top:w,_emitter:new k.__emitter(k)};return o._emitter.addText(e),o})(e),v=r.filter(p).filter(f).map((o=>d(o,e,!1)));v.unshift(s);const x=v.sort(((e,o)=>{if(e.relevance!==o.relevance)return o.relevance-e.relevance;if(e.language&&o.language){if(p(e.language).supersetOf===o.language)return 1;if(p(o.language).supersetOf===e.language)return-1}return 0})),[C,S]=x,M=C;return M.secondBest=S,M}function u(e){let o=null;const s=(e=>{let o=e.className+" ";o+=e.parentNode?e.parentNode.className:"";const r=k.languageDetectRe.exec(o);if(r){const o=p(r[1]);return o||(warn(x.replace("{}",r[1])),warn("Falling back to no-highlight mode for this block.",e)),o?r[1]:"no-highlight"}return o.split(/\s+/).find((e=>c(e)||p(e)))})(e);if(c(s))return;if(E("before:highlightElement",{el:e,language:s}),e.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);if(e.children.length>0&&(k.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),k.throwUnescapedHTML))throw new HTMLInjectionError("One of your code blocks includes unescaped HTML.",e.innerHTML);o=e;const v=o.textContent,w=s?l(v,{language:s,ignoreIllegals:!0}):g(v);e.innerHTML=w.value,e.dataset.highlighted="yes",((e,o,s)=>{const v=o&&r[o]||s;e.classList.add("hljs"),e.classList.add("language-"+v)})(e,s,w.language),e.result={language:w.language,re:w.relevance,relevance:w.relevance},w.secondBest&&(e.secondBest={language:w.secondBest.language,relevance:w.secondBest.relevance}),E("after:highlightElement",{el:e,result:w,text:v})}let C=!1;function h(){"loading"!==document.readyState?document.querySelectorAll(k.cssSelector).forEach(u):C=!0}function p(e){return e=(e||"").toLowerCase(),o[e]||o[r[e]]}function m(e,{languageName:o}){"string"==typeof e&&(e=[e]),e.forEach((e=>{r[e.toLowerCase()]=o}))}function f(e){const o=p(e);return o&&!o.disableAutodetect}function E(e,o){const r=e;s.forEach((e=>{e[r]&&e[r](o)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(()=>{C&&h()}),!1),Object.assign(e,{highlight:l,highlightAuto:g,highlightAll:h,highlightElement:u,highlightBlock:e=>(deprecated("10.7.0","highlightBlock will be removed entirely in v12.0"),deprecated("10.7.0","Please use highlightElement now."),u(e)),configure:e=>{k=uo(k,e)},initHighlighting:()=>{h(),deprecated("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:()=>{h(),deprecated("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:(r,s)=>{let x=null;try{x=s(e)}catch(e){if(error("Language definition for '{}' could not be registered.".replace("{}",r)),!v)throw e;error(e),x=w}x.name||(x.name=r),o[r]=x,x.rawDefinition=s.bind(null,e),x.aliases&&m(x.aliases,{languageName:r})},unregisterLanguage:e=>{delete o[e];for(const o of Object.keys(r))r[o]===e&&delete r[o]},listLanguages:()=>Object.keys(o),getLanguage:p,registerAliases:m,autoDetection:f,inherit:uo,addPlugin:e=>{(e=>{e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=o=>{e["before:highlightBlock"](Object.assign({block:o.el},o))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=o=>{e["after:highlightBlock"](Object.assign({block:o.el},o))})})(e),s.push(e)},removePlugin:e=>{const o=s.indexOf(e);-1!==o&&s.splice(o,1)}}),e.debugMode=()=>{v=!1},e.safeMode=()=>{v=!0},e.versionString="11.10.0",e.regex={concat:concat,lookahead:lookahead,either:either,optional:optional,anyNumberOfTimes:anyNumberOfTimes};for(const e in ao)"object"==typeof ao[e]&&deepFreeze(ao[e]);return Object.assign(e,ao),e},fo=HLJS({});fo.newInstance=()=>HLJS({});const vo="[A-Za-z$_][0-9A-Za-z$_]*",mo=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],bo=["true","false","null","undefined","NaN","Infinity"],yo=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],xo=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],wo=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],_o=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ko=[].concat(wo,yo,xo);function javascript(e){const o=e.regex,r=vo,s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,o)=>{const r=e[0].length+e.index,s=e.input[r];if("<"===s||","===s)return void o.ignoreMatch();let v;">"===s&&(((e,{after:o})=>{const r="</"+e[0].slice(1);return-1!==e.input.indexOf(r,o)})(e,{after:r})||o.ignoreMatch());const x=e.input.substring(r);((v=x.match(/^\s*=/))||(v=x.match(/^\s+extends\s+/))&&0===v.index)&&o.ignoreMatch()}},v={$pattern:vo,keyword:mo,literal:bo,built_in:ko,"variable.language":_o},x="[0-9](_?[0-9])*",w=`\\.(${x})`,k="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",C={className:"number",variants:[{begin:`(\\b(${k})((${w})|\\.)?|(${w}))[eE][+-]?(${x})\\b`},{begin:`\\b(${k})\\b((${w})\\b|\\.)?|(${w})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},S={className:"subst",begin:"\\$\\{",end:"\\}",keywords:v,contains:[]},M={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,S],subLanguage:"xml"}},R={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,S],subLanguage:"css"}},O={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,S],subLanguage:"graphql"}},z={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,S]},L={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},P=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,M,R,O,z,{match:/\$\d+/},C];S.contains=P.concat({begin:/\{/,end:/\}/,keywords:v,contains:["self"].concat(P)});const T=[].concat(L,S.contains),N=T.concat([{begin:/(\s*)\(/,end:/\)/,keywords:v,contains:["self"].concat(T)}]),A={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:v,contains:N},I={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,o.concat(r,"(",o.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},j={relevance:0,match:o.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...yo,...xo]}},B={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[A],illegal:/%/},H={match:o.concat(/\b/,(D=[...wo,"super","import"].map((e=>e+"\\s*\\(")),o.concat("(?!",D.join("|"),")")),r,o.lookahead(/\s*\(/)),className:"title.function",relevance:0};var D;const $={begin:o.concat(/\./,o.lookahead(o.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},F={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},A]},V="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",U={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,o.lookahead(V)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[A]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:v,exports:{PARAMS_CONTAINS:N,CLASS_REFERENCE:j},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,M,R,O,z,L,{match:/\$\d+/},C,j,{className:"attr",begin:r+o.lookahead(":"),relevance:0},U,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[L,e.REGEXP_MODE,{className:"function",begin:V,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:v,contains:N}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:"<>",end:"</>"},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},B,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[A,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},$,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[A]},H,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},I,F,{match:/\$[(.]/}]}}const Co=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video","defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],So=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Eo=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Mo=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Ro=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();var Oo=Object.freeze({__proto__:null,grmr_bash:e=>{const o=e.regex,r={},s={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[r]}]};Object.assign(r,{className:"variable",variants:[{begin:o.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},s]});const v={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},x=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),w={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},k={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,r,v]};v.contains.push(k);const C={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,r]},S=e.SHEBANG({binary:"(fish|bash|zsh|sh|csh|ksh|tcsh|dash|scsh)",relevance:10}),M={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[S,e.SHEBANG(),M,C,x,w,{match:/(\/[a-z._-]+)+/},k,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},r]}},grmr_css:e=>{const o=e.regex,r=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(e),s=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[r.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},r.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Eo.join("|")+")"},{begin:":(:)?("+Mo.join("|")+")"}]},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Ro.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[r.BLOCK_COMMENT,r.HEXCOLOR,r.IMPORTANT,r.CSS_NUMBER_MODE,...s,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...s,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},r.FUNCTION_DISPATCH]},{begin:o.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:So.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...s,r.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Co.join("|")+")\\b"}]}},grmr_javascript:javascript,grmr_json:e=>{const o=["true","false","null"],r={scope:"literal",beginKeywords:o.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:o},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,r,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}},grmr_markdown:e=>{const o={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},s={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},v={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},x=e.inherit(s,{contains:[]}),w=e.inherit(v,{contains:[]});s.contains.push(w),v.contains.push(x);let k=[o,r];return[s,v,x,w].forEach((e=>{e.contains=e.contains.concat(k)})),k=k.concat(s,v),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:k},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:k}]}]},o,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},s,v,{className:"quote",begin:"^>\\s+",contains:k,end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},r,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}},grmr_plaintext:e=>({name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}),grmr_ruby:e=>{const o=e.regex,r="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",s=o.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),v=o.concat(s,/(::\w+)*/),x={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield","include","extend","prepend","public","private","protected","raise","throw"],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},w={className:"doctag",begin:"@[A-Za-z]+"},k={begin:"#<",end:">"},C=[e.COMMENT("#","$",{contains:[w]}),e.COMMENT("^=begin","^=end",{contains:[w],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],S={className:"subst",begin:/#\{/,end:/\}/,keywords:x},M={className:"string",contains:[e.BACKSLASH_ESCAPE,S],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:o.concat(/<<[-~]?'?/,o.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,S]})]}]},R="[0-9](_?[0-9])*",O={className:"number",relevance:0,variants:[{begin:`\\b([1-9](_?[0-9])*|0)(\\.(${R}))?([eE][+-]?(${R})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},z={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:x}]},L=[M,{variants:[{match:[/class\s+/,v,/\s+<\s+/,v]},{match:[/\b(class|module)\s+/,v]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:x},{match:[/(include|extend)\s+/,v],scope:{2:"title.class"},keywords:x},{relevance:0,match:[v,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:s,scope:"title.class"},{match:[/def/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[z]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[M,{begin:r}],relevance:0},O,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:x},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,S],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(k,C),relevance:0}].concat(k,C);S.contains=L,z.contains=L;const P=[{begin:/^\s*=>/,starts:{end:"$",contains:L}},{className:"meta.prompt",begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]|(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>)(?=[ ])",starts:{end:"$",keywords:x,contains:L}}];return C.unshift(k),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:x,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(P).concat(C).concat(L)}},grmr_typescript:e=>{const o=javascript(e),r=vo,s=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],v={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},x={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:s},contains:[o.exports.CLASS_REFERENCE]},w={$pattern:vo,keyword:mo.concat(["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"]),literal:bo,built_in:ko.concat(s),"variable.language":_o},k={className:"meta",begin:"@"+r},c=(e,o,r)=>{const s=e.contains.findIndex((e=>e.label===o));if(-1===s)throw Error("can not find mode to replace");e.contains.splice(s,1,r)};Object.assign(o.keywords,w),o.exports.PARAMS_CONTAINS.push(k);const C=o.contains.find((e=>"attr"===e.className));return o.exports.PARAMS_CONTAINS.push([o.exports.CLASS_REFERENCE,C]),o.contains=o.contains.concat([k,v,x]),c(o,"shebang",e.SHEBANG()),c(o,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/}),o.contains.find((e=>"func.def"===e.label)).relevance=0,Object.assign(o,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),o},grmr_xml:e=>{const o=e.regex,r=o.concat(/[\p{L}_]/u,o.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),s={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},v={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},x=e.inherit(v,{begin:/\(/,end:/\)/}),w=e.inherit(e.APOS_STRING_MODE,{className:"string"}),k=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),C={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[s]},{begin:/'/,end:/'/,contains:[s]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[v,k,w,x,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[v,x,k,w]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},s,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[k]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[C],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[C],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:o.concat(/</,o.lookahead(o.concat(r,o.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:r,relevance:0,starts:C}]},{className:"tag",begin:o.concat(/<\//,o.lookahead(o.concat(r,/>/))),contains:[{className:"name",begin:r,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}},grmr_yaml:e=>{const o="true false yes no null",r="[\\w#;/?:@&=+$,.~*'()[\\]]+",s={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},v=e.inherit(s,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),x={end:",",endsWithParent:!0,excludeEnd:!0,keywords:o,relevance:0},w={begin:/\{/,end:/\}/,contains:[x],illegal:"\\n",relevance:0},k={begin:"\\[",end:"\\]",contains:[x],illegal:"\\n",relevance:0},C=[{className:"attr",variants:[{begin:/\w[\w :()\./-]*:(?=[ \t]|$)/},{begin:/"\w[\w :()\./-]*":(?=[ \t]|$)/},{begin:/'\w[\w :()\./-]*':(?=[ \t]|$)/}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+r},{className:"type",begin:"!<"+r+">"},{className:"type",begin:"!"+r},{className:"type",begin:"!!"+r},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:o,keywords:{literal:o}},{className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},w,k,s],S=[...C];return S.pop(),S.push(v),x.contains=S,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:C}}});const zo=fo;for(const e of Object.keys(Oo)){const o=e.replace("grmr_","").replace("_","-");zo.registerLanguage(o,Oo[e])}var __decorate$n=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};const Lo=new Marked(function markedHighlight(e){if("function"==typeof e&&(e={highlight:e}),!e||"function"!=typeof e.highlight)throw new Error("Must provide highlight function");return"string"!=typeof e.langPrefix&&(e.langPrefix="language-"),"string"!=typeof e.emptyLangClass&&(e.emptyLangClass=""),{async:!!e.async,walkTokens(o){if("code"!==o.type)return;const r=getLang(o.lang);if(e.async)return Promise.resolve(e.highlight(o.text,r,o.lang||"")).then(updateToken(o));const s=e.highlight(o.text,r,o.lang||"");if(s instanceof Promise)throw new Error("markedHighlight is not set to async but the highlight function is async. Set the async option to true on markedHighlight to await the async highlight function.");updateToken(o)(s)},useNewRenderer:!0,renderer:{code(o,r,s){"object"==typeof o&&(s=o.escaped,r=o.lang,o=o.text);const v=getLang(r),x=v?e.langPrefix+escape$1(v):e.emptyLangClass,w=x?` class="${x}"`:"";return o=o.replace(/\n$/,""),`<pre><code${w}>${s?o:escape$1(o,!0)}\n</code></pre>`}}}}({langPrefix:"hljs language-",highlight(e,o){const r=zo.getLanguage(o)?o:"plaintext";return zo.highlight(e,{language:r}).value}}));let Po=class IoMdView extends T{static get Style(){return"\n      :host {\n        display: flex;\n        flex-direction: column;\n        align-self: stretch;\n        justify-self: stretch;\n        flex: 1 1 auto;\n        overflow-x: hidden;\n        overflow-y: auto;\n        -webkit-overflow-scrolling: touch;\n        -webkit-tap-highlight-color: transparent;\n        padding: 0 var(--iotLineHeight);\n        padding-bottom: var(--iotLineHeight);\n        color: var(--iotColor);\n        background-color: var(--iotBgColor);\n      }\n      :host p {\n        line-height: 1.45em;\n        margin: 0.35em 0;\n      }\n      :host a {\n        text-decoration: none;\n        color: var(--iotColorBlue);\n      }\n      :host h1 {\n        padding: 0.7em 0;\n        margin: 0;\n        border-bottom: var(--iotBorder);\n        color: var(--iotColorStrong);\n      }\n      :host h2 {\n        padding: 0.6em 0;\n        margin: 0;\n        color: var(--iotColorStrong);\n      }\n      :host h3 {\n        padding: 0.5em 0;\n        margin: 0;\n        color: var(--iotColorStrong);\n      }\n      :host h4 {\n        padding: 0.4em 0;\n        margin: 0;\n        color: var(--iotColorStrong);\n      }\n      :host code {\n        background-color: var(--iotBgColorDimmed);\n      }\n      :host strong code {}\n      :host pre > code {\n        line-height: 1.3em;\n      }\n      \n      :host code[class] {\n        background-color: var(--iotBgColorDimmed);\n        padding: var(--iotSpacing3);\n        display: block;\n        overflow-x: auto;\n        font-size: var(--io-code-size);\n      }\n      :host blockquote {\n        font-size: 0.85em;\n        opacity: 0.75;\n        margin: var(--iotLineHeight) 0;\n        padding: var(--iotSpacing3) var(--iotLineHeight);\n        background-color: var(--iotBgColorStrong);\n        color: var(--iotColor);\n        border-left: var(--iotBorder);\n        border-left-width: var(--iotSpacing2);\n      }\n      :host blockquote strong {\n        color: var(--iotColorStrong);\n      }\n      :host table  {\n        width: 100% !important;\n        border: var(--iotBorder);\n        border-collapse: collapse;\n        table-layout: auto;\n      }\n      :host table th {\n        background-color: var(--iotBgColorDimmed);\n        color: var(--iotColorStrong);\n        font-weight: bold;\n      }\n      :host table td,\n      :host table tr,\n      :host table th {\n        border: var(--iotBorder);\n        padding: var(--iotSpacing) var(--iotSpacing2);\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n        width: auto;\n      }\n      :host .videocontainer {\n          width: 100%;\n          height: 0;\n          position: relative;\n          padding-bottom: 56.25%;\n      }\n      :host .videocontainer > iframe {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n      }\n      @keyframes spinner {\n        to {transform: rotate(360deg);}\n      }\n      :host[loading]:after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: 40px;\n        height: 40px;\n        margin-top: -20px;\n        margin-left: -20px;\n        border-radius: 50%;\n        border: var(--iotBorder);\n        border-top-color: #000;\n        animation: spinner .6s linear infinite;\n      }\n    "}_strip(e){for(let o=0;o<this.strip.length;o++)e=e.replace(new RegExp(this.strip[o],"g"),"");return e}_parseMarkdown(e){const o=Lo.parse(e);this.loading=!1,this.sanitize?this.innerHTML=this._strip(Gn.sanitize(o)):this.innerHTML=this._strip(o)}onResized(){let e=this.getBoundingClientRect().width;e=Math.min(Math.max((e-30)/45,11),14),this.style.setProperty("--io-code-size",e+"px")}srcChanged(){this.loading=!0,this.innerHTML="",fetch(this.src).then((e=>e.text())).then((e=>{this._parseMarkdown(e)}))}changed(){}};__decorate$n([Property("document")],Po.prototype,"role",void 0),__decorate$n([Property({value:"",reflect:!0})],Po.prototype,"src",void 0),__decorate$n([Property({type:Array})],Po.prototype,"strip",void 0),__decorate$n([Property({value:!1,reflect:!0})],Po.prototype,"loading",void 0),__decorate$n([Property(!0)],Po.prototype,"sanitize",void 0),Po=__decorate$n([Register],Po);const To=document.createElement("style");function setTheme(){"dark"===G.themeID?To.innerHTML="\n/* a11y-dark theme */\n/* Based on the Tomorrow Night Eighties theme: https://github.com/isagalaev/highlight.js/blob/master/src/styles/tomorrow-night-eighties.css */\n/* @author: ericwbailey */\n\n/* Comment */\n.hljs-comment, .hljs-quote {\n  color: #d4d0ab;\n}\n\n/* Red */\n.hljs-variable, .hljs-template-variable, .hljs-tag, .hljs-name, .hljs-selector-id, .hljs-selector-class, .hljs-regexp, .hljs-deletion {\n  color: #ffa07a;\n}\n\n/* Orange */\n.hljs-number, .hljs-built_in, .hljs-builtin-name, .hljs-literal, .hljs-type, .hljs-params, .hljs-meta, .hljs-link {\n  color: #f5ab35;\n}\n\n/* Yellow */\n.hljs-attribute {\n  color: #ffd700;\n}\n\n/* Green */\n.hljs-string, .hljs-symbol, .hljs-bullet, .hljs-addition {\n  color: #abe338;\n}\n\n/* Blue */\n.hljs-title, .hljs-section {\n  color: #00e0e0;\n}\n\n/* Purple */\n.hljs-keyword, .hljs-selector-tag {\n  color: #dcc6e0;\n}\n\n.hljs {\n  display: block;\n  overflow-x: auto;\n  background: #2b2b2b;\n  color: #f8f8f2;\n  padding: 0.5em;\n}\n\n.hljs-emphasis {\n  font-style: italic;\n}\n\n.hljs-strong {\n  font-weight: bold;\n}\n\n@media screen and (-ms-high-contrast: active) {\n  .hljs-addition, .hljs-attribute, .hljs-built_in, .hljs-builtin-name, .hljs-bullet, .hljs-comment, .hljs-link, .hljs-literal, .hljs-meta, .hljs-number, .hljs-params, .hljs-string, .hljs-symbol, .hljs-type, .hljs-quote {\n    color: highlight;\n  }\n  .hljs-keyword, .hljs-selector-tag {\n    font-weight: bold;\n  }\n}\n":To.innerHTML="\n/* a11y-light theme */\n/* Based on the Tomorrow Night Eighties theme: https://github.com/isagalaev/highlight.js/blob/master/src/styles/tomorrow-night-eighties.css */\n/* @author: ericwbailey */\n\n/* Comment */\n.hljs-comment, .hljs-quote {\n  color: #666;\n}\n\n/* Red */\n.hljs-variable, .hljs-template-variable, .hljs-tag, .hljs-name, .hljs-selector-id, .hljs-selector-class, .hljs-regexp, .hljs-deletion {\n  color: #d91e18;\n}\n\n/* Orange */\n.hljs-number, .hljs-built_in, .hljs-builtin-name, .hljs-literal, .hljs-type, .hljs-params, .hljs-meta, .hljs-link {\n  color: #aa5d00;\n}\n\n/* Yellow */\n.hljs-attribute {\n  color: #aa5d00;\n}\n\n/* Green */\n.hljs-string, .hljs-symbol, .hljs-bullet, .hljs-addition {\n  color: #008000;\n}\n\n/* Blue */\n.hljs-title, .hljs-section {\n  color: #007faa;\n}\n\n/* Purple */\n.hljs-keyword, .hljs-selector-tag {\n  color: #c928a1;\n}\n\n.hljs {\n  display: block;\n  overflow-x: auto;\n  background: #fefefe;\n  color: #545454;\n  padding: 0.5em;\n}\n\n.hljs-emphasis {\n  font-style: italic;\n}\n\n.hljs-strong {\n  font-weight: bold;\n}\n\n@media screen and (-ms-high-contrast: active) {\n  .hljs-addition, .hljs-attribute, .hljs-built_in, .hljs-builtin-name, .hljs-bullet, .hljs-comment, .hljs-link, .hljs-literal, .hljs-meta, .hljs-number, .hljs-params, .hljs-string, .hljs-symbol, .hljs-type, .hljs-quote {\n    color: highlight;\n  }\n  .hljs-keyword, .hljs-selector-tag {\n      font-weight: bold;\n  }\n}\n"}To.id="io-highlight-theme",document.head.appendChild(To),setTheme(),G.addEventListener("themeID-changed",setTheme);var __decorate$m=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};const No=document.createElement("div"),Ao={};let Io=class IoSelector extends T{static get Style(){return"\n      :host {\n        display: flex;\n        flex-direction: column;\n        position: relative;\n        overflow-y: auto !important;\n        flex: 1 1 auto;\n        justify-content: stretch;\n      }\n      @keyframes io-loading-spinner {\n        to {\n          transform: rotate(360deg);\n        }\n      }\n      :host[loading]:after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: var(--iotFieldHeight2);\n        height: var(--iotFieldHeight2);\n        margin-top: calc(-1 * var(--iotFieldHeight));\n        margin-left: calc(-1 * var(--iotFieldHeight));\n        border-radius: 50%;\n        border: var(--iotBorder);\n        border-color: var(--iotBorderColorDark);\n        border-top-color: var(--iotColorBlue);\n        animation: io-loading-spinner .6s linear infinite;\n      }\n    "}_selected;init(){this.optionsMutated()}optionsMutated(){const e="first"===this.select?this.options.first:this.options.last;e!==this._selected&&(this._selected=e,this.renderSelected()),this.throttle(this.onLoadPrecache,void 0,this.precacheDelay)}importModule(e){const o=new URL(e,String(window.location)).href;return new Promise((r=>{!e||Ao[o]?r(o):import(o).then((()=>{Ao[o]=!0,r(o)}))}))}renderSelected(){const e=this._selected;if(e&&"string"!=typeof e&&console.warn("IoSelector: selected option first is not a string!"),"string"==typeof e)if(e){if(this.childNodes[0]?.id!==e){let o=this.elements.find((o=>o[1].id===e));if(!o){const r=`Could not find element with id: ${e}!`;console.warn(`IoSelector: ${r}!`),o=["span",r]}const r="object"!=typeof o[1]?{}:o[1],s=!0===r.cache,v=!1===r.cache,x=r.import;delete r.import;const w=!v&&(this.cache||s);if(w&&this._caches[e]){const o=this._caches[e];this._caches[e].parentElement!==this&&(this.firstChild&&this.removeChild(this.firstChild),this.appendChild(o),o.removeAttribute("className"),o._isIoElement?o.applyProperties(r):applyNativeElementProps(o,r),this.loading=!1)}else x?(this.loading=!0,this.importModule(x).then((()=>{this.loading&&(this.template([o],this,w),this._caches[e]=this.childNodes[0]),this.loading=!1}))):(this.template([o],this,w),this._caches[e]=this.childNodes[0],this.loading=!1)}}else this.template([])}onLoadPrecache(){if(this.precache)for(let e=0;e<this.elements.length;e++){const o=this.elements[e],r="object"!=typeof o[1]?{}:o[1];if(!r.import&&r.id&&void 0===this._caches[r.id])return this.template([o],No,!0),this._caches[r.id]=No.childNodes[0],No.removeChild(No.childNodes[0]),void this.throttle(this.onLoadPrecache,void 0,this.precacheDelay)}}dispose(){for(const e in this._caches)disposeElementDeep(this._caches[e]);super.dispose()}};__decorate$m([Property({type:ie,observe:!0})],Io.prototype,"options",void 0),__decorate$m([Property("first")],Io.prototype,"select",void 0),__decorate$m([Property(Array)],Io.prototype,"elements",void 0),__decorate$m([Property({value:!1,reactive:!1})],Io.prototype,"cache",void 0),__decorate$m([Property({value:!1,reactive:!1})],Io.prototype,"precache",void 0),__decorate$m([Property({value:1e3,reactive:!1})],Io.prototype,"precacheDelay",void 0),__decorate$m([Property({value:!1,reflect:!0,reactive:!1})],Io.prototype,"loading",void 0),__decorate$m([Property({type:Object,reactive:!1})],Io.prototype,"_caches",void 0),Io=__decorate$m([Register],Io);var __decorate$l=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let jo=class IoScroller extends T{static get Style(){return"\n      :host {\n        display: flex;\n        flex-direction: column;\n        flex: 1 1 auto;\n        position: relative;\n        overflow-y: auto;\n        max-width: 100%;\n        max-height: 100%;\n        scrollbar-gutter: stable;\n      }\n      :host > * {\n        overflow: unset;\n      }\n    "}init(){this._observer=new MutationObserver(this._domMutated),this._observer.observe(this,{attributes:!1,childList:!0,subtree:!0})}connectedCallback(){super.connectedCallback(),this.optionsMutated()}_domMutated(){this.throttle(this._scrollToSelected)}optionsMutated(){this.throttle(this._scrollToSelected)}_scrollToSelected(){if(this.scrollHeight<=this.clientHeight)return;const e=this.options.scroll;if(e&&"string"!=typeof e&&console.warn("IoScroller: selected scroll option is not a string!"),e&&"string"==typeof e){const o=this.querySelector("#"+e);o?this.scrollTo({top:o.offsetTop,behavior:"auto"}):this.scrollTo(0,0)}}dispose(){super.dispose(),this._observer.disconnect()}};__decorate$l([Property({type:ie,observe:!0})],jo.prototype,"options",void 0),jo=__decorate$l([Register],jo);var __decorate$k=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};class IoNavigatorBase extends T{static get Style(){return"\n      :host {\n        display: flex;\n        flex-direction: column;\n        overflow-y: auto !important;\n        flex: 1 1 auto;\n      }\n      :host[menu=left],\n      :host[menu=right] {\n        flex-direction: row;\n      }\n      :host > io-menu-tree,\n      :host > io-menu-options {\n        align-self: stretch;\n        border-radius: 0;\n        /* border-color: var(--iotBorderColorLight); */\n      }\n      :host[collapsed] > io-menu-options {\n        /* min-height: calc(var(--iotFieldHeight) + 1em); */\n        /* padding: calc(var(--iotSpacing) + 0.5em) !important; */\n      }\n      :host[collapsed] > io-menu-options > io-menu-item.hamburger {\n        /* top: 0; */\n        /* padding: calc(var(--iotSpacing) + 0.5em); */\n        /* padding-right: calc(var(--iotSpacing2) + 0.5em); */\n        /* min-height: calc(var(--iotFieldHeight) + 1em); */\n        /* background-color: transparent; */\n      }\n      :host > io-menu-options {\n        z-index: 1;\n        flex: 0 0 auto;\n        border: none;\n        min-height: var(--iotFieldHeight) !important;\n      }\n      :host > io-menu-tree {\n        z-index: 1;\n        flex: 0 0 auto;\n        min-width: 10em;\n        overflow-y: auto;\n        padding: var(--iotBorderWidth) 0;\n      }\n      :host[menu=left] > io-menu-tree {\n        border-width: 0 var(--iotBorderWidth) 0 0;\n      }\n      :host[menu=left] > io-menu-tree {\n        border-width: 0 var(--iotBorderWidth) 0 0;\n      }\n      :host > io-menu-item.hamburger {\n        flex: 0 0 auto;\n        border-radius: 0;\n        padding: calc(var(--iotSpacing) + 0.5em);\n        height: 100%;\n        background-color: var(--iotBgColorDimmed);\n        border-color: transparent !important;\n      }\n      :host > io-menu-item.hamburger > .hasmore {\n        display: none;\n      }\n      :host[menu=top] > io-menu-options {\n        /* padding: 0 var(--iotSpacing); */\n        /* border-width: 0 0 var(--iotBorderWidth) 0; */\n      }\n      :host[menu=bottom] > io-menu-options {\n        /* padding: 0 var(--iotSpacing); */\n        /* border-width: var(--iotBorderWidth) 0 0 0; */\n      }\n      :host > io-menu-options > io-menu-item {\n        /* border-radius: 0; */\n      }\n    "}init(){this.throttle(this._computeCollapsed),this.changed()}onResized(){this.throttle(this._computeCollapsed)}_computeCollapsed(){this.collapsed=this.offsetWidth<this.collapseWidth}getSlotted(){return null}changed(){const e={options:this.options,slotted:this.slotted,depth:this.depth},o=["io-menu-item",{depth:this.depth,role:"navigation",class:"hamburger",direction:"left"===this.menu?"right":"left",item:new re({label:"",icon:"icons:hamburger",options:this.options})}];"top"===this.menu?this.template([["io-menu-options",{horizontal:!0,noPartialCollapse:this.collapsed,...e}],this.getSlotted()]):"left"===this.menu?this.template([this.collapsed?o:["io-menu-tree",{...e}],this.getSlotted()]):"bottom"===this.menu?this.template([this.getSlotted(),["io-menu-options",{horizontal:!0,noPartialCollapse:this.collapsed,direction:"up",...e}]]):"right"===this.menu&&this.template([this.getSlotted(),this.collapsed?o:["io-menu-tree",{...e}]])}}__decorate$k([Property(Array)],IoNavigatorBase.prototype,"slotted",void 0),__decorate$k([Property(Array)],IoNavigatorBase.prototype,"elements",void 0),__decorate$k([Property({type:ie,observe:!0})],IoNavigatorBase.prototype,"options",void 0),__decorate$k([Property({value:"left",reflect:!0})],IoNavigatorBase.prototype,"menu",void 0),__decorate$k([Property(1/0)],IoNavigatorBase.prototype,"depth",void 0),__decorate$k([Property({value:!1,reflect:!0})],IoNavigatorBase.prototype,"collapsed",void 0),__decorate$k([Property(580)],IoNavigatorBase.prototype,"collapseWidth",void 0);var __decorate$j=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let Bo=class IoNavigatorSelector extends IoNavigatorBase{getSlotted(){return["io-selector",{options:this.options,cache:this.cache,precache:this.precache,select:this.select,elements:this.elements}]}};__decorate$j([Property("first")],Bo.prototype,"select",void 0),__decorate$j([Property(!1)],Bo.prototype,"cache",void 0),__decorate$j([Property(!1)],Bo.prototype,"precache",void 0),Bo=__decorate$j([Register],Bo);var __decorate$i=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let Ho=class IoNavigatorCombined extends Bo{static get Style(){return"\n      :host > io-scroller > io-selector {\n        overflow: unset !important;\n      }\n    "}getSlotted(){return["io-scroller",{options:this.options},[["io-selector",{options:this.options,cache:this.cache,precache:this.precache,select:this.select,elements:this.elements}]]]}};Ho=__decorate$i([Register],Ho);var __decorate$h=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let Do=class IoNavigatorMdView extends IoNavigatorBase{getSlotted(){const e=this.options.last;return["io-scroller",{options:this.options},[["io-md-view",{src:e,strip:this.strip,sanitize:this.sanitize}]]]}};__decorate$h([Property({type:Array})],Do.prototype,"strip",void 0),__decorate$h([Property(!0)],Do.prototype,"sanitize",void 0),Do=__decorate$h([Register],Do);var __decorate$g=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let $o=class IoNavigatorScroller extends IoNavigatorBase{getSlotted(){return["io-scroller",{options:this.options},this.elements]}};$o=__decorate$g([Register],$o);var __decorate$f=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let Fo=class IoVector extends T{static get Style(){return"\n      :host {\n        display: flex;\n        flex: 0 1 auto;\n        min-width: var(--iotFieldHeight5);\n        width: var(--iotFieldHeight8);\n      }\n      :host > io-number {\n        flex: 1 1 100%;\n      }\n      :host > *:not(:last-child) {\n        margin-right: var(--iotSpacing);\n      }\n      :host > io-boolicon {\n        flex-shrink: 0;\n        padding: var(--iotSpacing);\n      }\n    "}_ratios={};_onNumberPointerDown(e){const o=e.composedPath()[0].id;if(this._ratios={},this.linked&&0!==this.value[o])for(const e of this.keys)this._ratios[e]=this.value[e]/this.value[o]}_onNumberValueInput(e){const o=e.composedPath()[0].id,r=e.detail.value,s=e.detail.oldValue,v=this.value;if(v[o]=r,this.linked)for(const e of this.keys)e!==o&&this._ratios[e]&&(v[e]=v[o]*this._ratios[e]);const x=this.linked?{object:this.value}:{object:this.value,property:o,value:v,oldValue:s};this.dispatchEvent("object-mutated",x,!1,window)}valueChanged(){this.keys=Object.keys(this.value).filter((e=>"number"==typeof this.value[e])),this.keys.find((e=>-1===["0","1","2","3","x","y","z","w","r","g","b","a","u","v"].indexOf(e)))&&console.warn("IoVector: Unrecognized vector type!")}changed(){const e=[];for(const o of this.keys)void 0!==this.value[o]&&e.push(["io-number",{id:o,value:this.value[o],conversion:this.conversion,step:this.step,min:this.min,max:this.max,ladder:this.ladder,"@pointerdown":this._onNumberPointerDown,"@value-input":this._onNumberValueInput}]);e.push(this.getSlotted()),this.template(e)}getSlotted(){return this.linkable?["io-boolicon",{value:this.bind("linked"),true:"icons:link",false:"icons:unlink"}]:null}};__decorate$f([Property({observe:!0})],Fo.prototype,"value",void 0),__decorate$f([Property(1)],Fo.prototype,"conversion",void 0),__decorate$f([Property(.001)],Fo.prototype,"step",void 0),__decorate$f([Property(-1/0)],Fo.prototype,"min",void 0),__decorate$f([Property(1/0)],Fo.prototype,"max",void 0),__decorate$f([Property(!1)],Fo.prototype,"linkable",void 0),__decorate$f([Property(!1)],Fo.prototype,"linked",void 0),__decorate$f([Property(!0)],Fo.prototype,"ladder",void 0),__decorate$f([Property({reactive:!1})],Fo.prototype,"keys",void 0),Fo=__decorate$f([Register],Fo);var __decorate$e=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let Vo=class IoMatrix extends Fo{static get Style(){return'\n      :host {\n        display: grid;\n        align-self: stretch;\n        justify-self: stretch;\n        grid-gap: var(--iotSpacing);\n      }\n      :host > *:not(:last-child) {\n        margin-right: 0;\n      }\n      :host[columns="4"] {\n        grid-template-columns: repeat(4, 1fr);\n      }\n      :host[columns="3"] {\n        grid-template-columns: repeat(3, 1fr);\n      }\n      :host[columns="2"] {\n        grid-template-columns: repeat(2, 1fr);\n      }\n    '}_onNumberValueInput(e){const o=e.composedPath()[0].id,r=e.detail.value,s=e.detail.oldValue;this.value[o]=r;const v={object:this.value,property:o,value:r,oldValue:s};this.dispatchEvent("object-mutated",v,!1,window)}valueChanged(){4===this.value.length&&this.setProperties({keys:["0","1","2","3"],columns:2}),9===this.value.length&&this.setProperties({keys:["0","1","2","3","4","5","6","7","8"],columns:3}),16===this.value.length&&this.setProperties({keys:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],columns:4}),-1===[4,9,16].indexOf(this.value.length)&&console.warn("IoMatrix: Unrecognized matrix type!"),this.value.find((e=>"number"!=typeof e))&&console.warn("IoMatrix: Unrecognized matrix type!"),this.keys.find((e=>-1===["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"].indexOf(e)))&&console.warn("IoMatrix: Unrecognized matrix type!")}};__decorate$e([Property({type:Array,init:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]})],Vo.prototype,"value",void 0),__decorate$e([Property({value:4,reflect:!0})],Vo.prototype,"columns",void 0),Vo=__decorate$e([Register],Vo);var __decorate$d=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};function addMenuOptions(e,o,r=0){const s=[];if(r<=o)for(let v=0;v<e.length;v++){const x=e[v];if(x.options?.length){const e=B({value:x.selected,storage:"local",key:genObjectStorageID(x)});!0===x.selected&&(e.value=!0),s.push(["io-collapsable",{label:x.label,icon:x.icon,expanded:e,elements:[...addMenuOptions(x.options,o,r+1)]}])}else s.push(["io-menu-item",{item:x,depth:r}])}return s}function matchItem(e,o){return void 0!==e.value&&-1!==String(e.value).toLowerCase().indexOf(o)||(!(!e.label||-1===e.label.toLowerCase().indexOf(o))||!(!e.hint||-1===e.hint.toLowerCase().indexOf(o)))}function filterOptions(e,o,r=5,s=[],v=0){if(o=o.toLowerCase(),v<=r)for(let x=0;x<e.length;x++)matchItem(e[x],o)&&s.push(["io-menu-item",{item:e[x],depth:0}]),e[x].options&&filterOptions(e[x].options,o,r,s,v+1)}let Uo=class IoMenuTree extends T{static get Style(){return'\n    :host {\n      display: flex;\n      flex: 0 0 auto;\n      flex-direction: column;\n      flex-wrap: nowrap;\n      align-self: stretch;\n      align-items: stretch;\n      justify-self: stretch;\n      border-radius: var(--iotBorderRadius);\n      border: var(--iotBorder);\n      border-color: var(--iotBorderColorOutset);\n      color: var(--iotColorField);\n      background-color: var(--iotBgColorDimmed);\n      padding: var(--iotSpacing) 0;\n      align-self: flex-start;\n      user-select: none;\n      transition: opacity 0.25s;\n      overflow: auto;\n    }\n\n    :host io-collapsable {\n      flex: 0 0 auto;\n      border-color: transparent;\n      border: 0;\n      overflow: visible;\n    }\n    :host io-collapsable > div.io-collapsable-content {\n      background-color: transparent;\n      flex: 0 0 auto;\n      border-radius: 0 !important;\n      margin: 0 !important;\n      padding: 0 !important;\n      background: var(--iotBgColorDimmed);\n    }\n    \n    :host io-menu-item:first-of-type {\n      margin-top: var(--iotBorderWidth);\n    }\n    :host io-menu-item {\n      background-color: var(--iotBgColorDimmed);\n      flex: 0 0 auto;\n      align-self: stretch;\n      border-radius: 0;\n      margin-left: var(--iotBorderWidth);\n      margin-right: var(--iotBorderWidth);\n    }\n    :host io-menu-item[depth="1"] {\n      padding-left: calc(var(--iotLineHeight) * 1);\n    }\n    :host io-menu-item[depth="2"] {\n      padding-left: calc(var(--iotLineHeight) * 2);\n    }\n    :host io-menu-item[depth="3"] {\n      padding-left: calc(var(--iotLineHeight) * 3);\n    }\n    :host io-menu-item[depth="4"] {\n      padding-left: calc(var(--iotLineHeight) * 4);\n    }\n    :host io-menu-item[depth="5"] {\n      padding-left: calc(var(--iotLineHeight) * 5);\n    }\n    :host io-menu-item[depth="6"] {\n      padding-left: calc(var(--iotLineHeight) * 6);\n    }\n    /* Item spacing */\n    :host io-menu-item {\n      margin-bottom: var(--iotBorderWidth);\n    }\n    :host io-menu-item:first-of-type {\n      /* margin-top: var(--iotSpacing); */\n    }\n\n    /* Item dividers */\n    :host io-collapsable > io-boolean {\n      margin: 0;\n      margin-left: var(--iotBorderWidth);\n      margin-right: var(--iotBorderWidth);\n      z-index: 1;\n      overflow: visible;\n    }\n\n    /* Search field */\n    :host > .search {\n      border-radius: 0;\n      flex: 0 0 auto;\n    }\n    '}static get Listeners(){return{"item-clicked":"_onItemClicked"}}_onItemClicked(e){const o=e.composedPath()[0],r=e.detail;o!==this&&(e.stopImmediatePropagation(),this.dispatchEvent("item-clicked",r,!0),this.throttle(this._onCollapse))}_onCollapse(){const e=this.searchable&&this.search;this.search="",e&&this.$.search.focus()}changed(){const e=[...this.slotted];if(this.searchable&&e.push(["io-string",{$:"search",role:"search",class:"search",value:this.bind("search"),placeholder:"Search",live:!0}]),this.search){const o=e.length;filterOptions(this.options,this.search,this.depth,e),o===e.length&&e.push(["io-menu-item",{item:new re({label:"No matches",mode:"none"})}])}else e.push(...addMenuOptions(this.options,this.depth));this.template(e)}};__decorate$d([Property({observe:!0,type:ie,reflect:!0})],Uo.prototype,"options",void 0),__decorate$d([Property(!1)],Uo.prototype,"searchable",void 0),__decorate$d([Property("")],Uo.prototype,"search",void 0),__decorate$d([Property(1/0)],Uo.prototype,"depth",void 0),__decorate$d([Property({type:Array})],Uo.prototype,"slotted",void 0),__decorate$d([Property("listbox")],Uo.prototype,"role",void 0),__decorate$d([Property(void 0)],Uo.prototype,"$parent",void 0),Uo=__decorate$d([Register],Uo);var __decorate$c=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};const Wo=new WeakMap;let Go=class IoMenuOptions extends T{static get Style(){return'\n    :host {\n      display: flex;\n      border-radius: var(--iotBorderRadius);\n      background-color: var(--iotBgColorDimmed);\n      position: relative;\n    }\n    :host[horizontal] {\n      flex-direction: row;\n      align-self: stretch;\n      padding: 0 var(--iotSpacing);\n    }\n    :host:not([horizontal]) {\n      flex-direction: column;\n      padding: var(--iotSpacing) 0;\n    }\n    :host[inlayer] {\n      min-width: 8em;\n    }\n    :host[inlayer]:not([expanded]) {\n      visibility: hidden;\n      opacity: 0;\n    }\n\n    /* Menu Items */\n    :host > io-menu-item {\n      background-color: transparent;\n      border-radius: 0;\n    }\n    :host[horizontal] > io-menu-item {\n      height: calc(var(--iotFieldHeight) + var(--iotSpacing2));\n      border-left: none;\n      border-right: none;\n      border-width: calc(var(--iotSpacing) + var(--iotBorderWidth)) var(--iotBorderWidth);\n    }\n    :host:not([horizontal]) > io-menu-item {\n      border-top: none;\n      border-bottom: none;\n      border-width: var(--iotBorderWidth) var(--iotSpacing);\n    }\n    :host > io-menu-item[selected][direction="up"] {\n      border-color: var(--iotColorBlue) transparent transparent transparent;\n    }\n    :host > io-menu-item[selected][direction="down"] {\n      border-color: transparent transparent var(--iotColorBlue) transparent;\n    }\n    :host > io-menu-item[selected][direction="right"] {\n      border-color: transparent var(--iotColorBlue) transparent transparent;\n    }\n    :host > io-menu-item[selected][direction="left"] {\n      border-color: transparent transparent transparent var(--iotColorBlue);\n    }\n\n    /* Item divider */\n    :host > [hidden] ~ span.divider {\n      border-color: red;\n      display: none;\n    }\n    :host > span.divider {\n      flex: 0 0 0;\n      border: var(--iotBorder);\n      border-color: var(--iotBorderColorInset);\n      margin: var(--iotSpacing);\n      opacity: 0.5;\n    }\n\n    /* Remove hints from horizontal menu */\n    :host[horizontal] > io-menu-item > .hint {\n      display: none;\n    }\n\n    /* Search field */\n    :host:not([horizontal]) > .search {\n      margin: var(--iotSpacing);\n      margin-top: 0;\n    }\n    :host[horizontal] > .search {\n      margin-right: var(--iotBorderWidth);\n      flex: 0 0 10em;\n    }\n\n    /* Hamburger menu for overflow items */\n    :host > io-menu-hamburger {\n      border-color: transparent !important;\n      background-color: transparent !important;\n    }\n    :host[horizontal] > io-menu-hamburger {\n      position: absolute;\n      right: var(--iotSpacing);\n      padding: var(--iotSpacing);\n    }\n    '}static get Listeners(){return{"item-clicked":"_onItemClicked",touchstart:["_stopPropagation",{passive:!1}]}}_onItemClicked(e){const o=e.composedPath()[0],r=e.detail;"io-string"!==o.localName?o!==this&&(e.stopImmediatePropagation(),this.dispatchEvent("item-clicked",r,!0),this.throttle(this._onCollapse)):e.stopImmediatePropagation()}_stopPropagation(e){e.stopPropagation()}init(){this.throttle(this._onSetOverflow)}onResized(){this.throttle(this._onSetOverflow)}_onSetOverflow(){if(this._disposed)return;const e=this.querySelectorAll(".item");if(this._overflownItems.length=0,this.horizontal){const o=this.querySelector("io-menu-hamburger"),r=o?.getBoundingClientRect().width||0,s=this.getBoundingClientRect().right-(G.iotBorderWidth+G.iotSpacing);let v=1/0,x=!1;for(let o=e.length;o--;){const w=e[o].getBoundingClientRect(),k=Wo.get(e[o].item)||{right:0,width:0};0!==w.right&&0!==w.width&&(k.right=w.right,k.width=w.width,Wo.set(e[o].item,k)),v=Math.min(v,k.right),this.noPartialCollapse&&x?(e[o].hidden=!0,this._overflownItems.unshift(e[o].item)):o===e.length-1&&v<s||v<s-1.5*r?e[o].hidden=!1:(x=!0,e[o].hidden=!0,this._overflownItems.unshift(e[o].item))}this._overflownItems.length?this.overflow=JSON.stringify(this._overflownItems.map((e=>e.label))):this.overflow=""}else this.overflow=""}_onCollapse(){const e=this.selectable&&!!this.search&&!this.inlayer;this.setProperties({search:"",expanded:!1}),e&&this.$.search.focus()}expandedChanged(){this.expanded?this.inlayer&&this.throttle(this._onExpandInOverlay):(this.style.top=null,this.style.height=null,this.style.touchAction=null,this.scrollTop=0,this.search="")}searchChanged(){this.inlayer&&this.$parent&&this.throttle(this._onClipHeight),this.throttle(this._onSetOverflow)}_onExpandInOverlay(){if(this.$parent||(console.warn("IoMenuOptions: $parent property mandatory when expanding inside `IoOverlaySingleton`."),console.log(this)),this.$parent){const e=this.$parent.getBoundingClientRect();oe.setElementPosition(this,this.direction,e),this._onClipHeight()}}_onClipHeight(){if(this.scrollTop=0,!this.firstChild)return;const e=this.firstChild.getBoundingClientRect().top,o=this.lastChild.getBoundingClientRect().bottom,r=o-e;e<0?(this.style.top="0px",this.style.height=r+e+"px",this.style.touchAction="pan-y"):o>window.innerHeight?(this.style.height=window.innerHeight-e+"px",this.style.touchAction="pan-y"):(this.style.height=null,this.style.touchAction=null)}changed(){const e=[...this.slotted];if(this.searchable&&e.push(["io-string",{$:"search",role:"search",class:"search",value:this.bind("search"),placeholder:"Search",live:!0}]),this.search){const o=e.length;filterOptions(this.options,this.search,this.depth,e),o===e.length&&e.push(["io-menu-item",{item:new re({label:"No matches",mode:"none"})}])}else{let o=this.horizontal?"down":"right";this.horizontal&&"up"===this.direction&&(o="up");for(let r=0;r<this.options.length;r++)e.push(["io-menu-item",{class:"item",item:this.options[r],direction:o,depth:this.depth}]),r<this.options.length-1&&e.push(["span",{class:"divider"}])}this.overflow&&e.push(["io-menu-hamburger",{depth:this.depth+1,role:"navigation",direction:"down",item:new re({options:new ie(this._overflownItems)})}]),this.template(e)}};__decorate$c([Property({observe:!0,type:ie})],Go.prototype,"options",void 0),__decorate$c([Property({value:!1,reflect:!0})],Go.prototype,"expanded",void 0),__decorate$c([Property({value:!1,reflect:!0})],Go.prototype,"horizontal",void 0),__decorate$c([Property(!1)],Go.prototype,"searchable",void 0),__decorate$c([Property("")],Go.prototype,"search",void 0),__decorate$c([Property({value:"none",reflect:!0})],Go.prototype,"direction",void 0),__decorate$c([Property(100)],Go.prototype,"depth",void 0),__decorate$c([Property(!1)],Go.prototype,"noPartialCollapse",void 0),__decorate$c([Property({value:"",reflect:!0})],Go.prototype,"overflow",void 0),__decorate$c([Property({value:!1,reflect:!0})],Go.prototype,"inlayer",void 0),__decorate$c([Property({type:Array})],Go.prototype,"slotted",void 0),__decorate$c([Property("listbox")],Go.prototype,"role",void 0),__decorate$c([Property(void 0)],Go.prototype,"$parent",void 0),__decorate$c([Property({type:Array,reactive:!1})],Go.prototype,"_overflownItems",void 0),Go=__decorate$c([Register],Go);var __decorate$b=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};const qo=["io-menu-item","io-menu-hamburger","io-option-menu"],Ko=qo.join(", ");let Zo,Yo,Xo=class IoMenuItem extends ae{static get Style(){return"\n      :host {\n        display: flex;\n        user-select: none;\n      }\n      :host > * {\n        pointer-events: none;\n        text-overflow: ellipsis;\n      }\n      :host > .label {\n        flex: 1 1 auto;\n        padding: 0 var(--iotSpacing2);\n      }\n      :host > .hint {\n        flex: 0 1 auto;\n        opacity: 0.25;\n        padding: 0 var(--iotSpacing2);\n      }\n      :host > .hasmore {\n        opacity: 0.5;\n      }\n    "}$options;static get Listeners(){return{click:"preventDefault"}}preventDefault(e){e.stopPropagation(),e.preventDefault()}get hasmore(){return this.item.hasmore&&this.depth>0}get inlayer(){return!!this.$parent&&!!this.$parent.inlayer}get $parent(){return this.parentElement}connectedCallback(){super.connectedCallback(),oe.addEventListener("pointermove",this._onOverlayPointermove),oe.addEventListener("pointerup",this._onOverlayPointerup),this.$options&&oe.appendChild(this.$options)}disconnectedCallback(){super.disconnectedCallback(),oe.removeEventListener("pointermove",this._onOverlayPointermove),oe.removeEventListener("pointerup",this._onOverlayPointerup),this.$options&&this.$options.inlayer&&oe.removeChild(this.$options)}_onOverlayPointermove(e){!this.inlayer&&this.expanded&&this._onPointermove(e)}_onOverlayPointerup(e){!this.inlayer&&this.expanded&&this._onPointerupAction(e)}_onClick(){const e=this.item;this.hasmore?this.expanded||(this.expanded=!0):"toggle"===e.mode?e.selected=!e.selected:(e.action&&e.action.apply(null,[e.value]),"select"===e.mode?e.hasmore&&e.options&&this.depth<=0?e.options.selectDefault():e.selected=!0:"scroll"===e.mode?e.selected=!0:"link"===e.mode&&window.open(e.value,"_blank"),this.dispatchEvent("item-clicked",e,!0),this.throttle(this._onCollapse,void 0,0))}_onItemClicked(e){e.composedPath()[0]!==this&&(e.stopImmediatePropagation(),this.dispatchEvent("item-clicked",e.detail,!0)),this.expanded&&this.throttle(this._onCollapse,void 0,0)}_onPointerdown(e){e.stopPropagation(),e.preventDefault(),this.setPointerCapture(e.pointerId),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup),this._onPointerdownAction(e)}_onPointerdownAction(e){(this.expanded||"mouse"===e.pointerType||this.inlayer)&&(this.focus(),this.item.options&&(this.expanded=!0)),this._x=e.clientX,this._y=e.clientY}_onPointermove(e){e.stopPropagation(),this._onPointermoveAction(e)}_onPointermoveAction(e){if(!this.expanded&&"touch"===e.pointerType&&!this.inlayer)return;const o=!!this.$parent&&!!this.$parent.style.height;if("touch"===e.pointerType&&o)return;const r=e.clientX-this._x,s=e.clientY-this._y;if(this._x=e.clientX,this._y=e.clientY,oe.x=e.clientX,oe.y=e.clientY,clearTimeout(this._timeoutOpen),Zo=this._gethovered(e),Zo){const e=Math.abs(s)-Math.abs(r),o=Zo.parentElement.horizontal;Yo?.parentElement!==Zo.parentElement||(o?e<-.25:e>.25)?this._expandHovered():this._timeoutOpen=setTimeout((()=>{this._expandHovered()}),100),Yo=Zo}}_onPointerup(e){e.stopPropagation(),this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),this._onPointerupAction(e)}_onPointerupAction(e,o=!1){const r=this._gethovered(e);r?(r.focus(),r._onClick(e)):o||this.throttle(this._onCollapseRoot),Zo=void 0,Yo=void 0}_gethovered(e){const o=getMenuDescendants(getMenuRoot(this)),r=[];for(let s=o.length;s--;)isPointerAboveIoMenuItem(e,o[s])&&r.push(o[s]);if(r.length)return r.sort(((e,o)=>e.depth<o.depth?1:e.depth>o.depth?-1:0)),r[r.length-1]}_expandHovered(){if(Zo){if(Zo.focus(),Zo.hasmore){if(Zo.$options){const e=getMenuDescendants(Zo.$options);for(let o=e.length;o--;)e[o].expanded=!1}Zo.expanded=!0}if(Zo.$parent){const e=Zo.$parent.querySelectorAll(Ko);for(let o=e.length;o--;)e[o]!==Zo&&(e[o].expanded=!1)}}}_onKeydown(e){if("Enter"===e.key||" "===e.key)return e.preventDefault(),void this._onClick();if("Escape"===e.key)return e.preventDefault(),void this.throttle(this._onCollapseRoot);let o="";"left"===this.direction||"right"===this.direction?("ArrowUp"===e.key&&(o="prev"),"ArrowRight"===e.key&&(o="in"),"ArrowDown"===e.key&&(o="next"),"ArrowLeft"===e.key&&(o="out")):("ArrowUp"===e.key&&(o="out"),"ArrowRight"===e.key&&(o="next"),"ArrowDown"===e.key&&(o="in"),"ArrowLeft"===e.key&&(o="prev")),this.inlayer&&"Tab"===e.key&&(o="next");const r=this.$parent?[...this.$parent.children]:[],s=r.indexOf(this);if(o)switch(e.preventDefault(),o){case"prev":{const e=r[(s+r.length-1)%r.length];this.expanded=!1,e&&(e.hasmore&&(e.expanded=!0),e.focus());break}case"next":{const e=r[(s+1)%r.length];this.expanded=!1,e&&(e.hasmore&&(e.expanded=!0),e.focus());break}case"in":this.$options&&this.$options.children.length&&this.$options.children[0].focus();break;case"out":this.expanded=!1,this.$parent&&this.$parent.$parent&&this.$parent.$parent.focus()}else super._onKeydown(e)}_onCollapse(){this.expanded=!1}_onCollapseRoot(){getMenuRoot(this).expanded=!1}expandedChanged(){if(this.expanded&&this.depth>0){this.item.options&&void 0===this.$options&&(this.$options=new Go({expanded:this.bind("expanded"),depth:this.depth-1,options:this.item.options,direction:this.direction,inlayer:!0,$parent:this}));const e=getMenuDescendants(getMenuRoot(this)),o=getMenuAncestors(this),r=getMenuDescendants(this);for(let s=e.length;s--;)e[s]!==this&&-1===o.indexOf(e[s])&&-1===r.indexOf(e[s])&&(e[s].expanded=!1)}if(this.$options){this.expanded?(this.$options.parentElement!==oe&&oe.appendChild(this.$options),this.$options.addEventListener("item-clicked",this._onItemClicked)):this.$options.removeEventListener("item-clicked",this._onItemClicked);const e=getMenuDescendants(this.$options);for(let o=e.length;o--;)e[o].expanded=!1}}changed(){void 0!==this.$options&&this.item.options&&(this.$options.options=this.item.options);const e=this.icon||this.item.icon;this.setAttribute("selected",this.item.selected),this.setAttribute("hidden",this.item.hidden),this.setAttribute("hasmore",this.hasmore),this.disabled=this.item.disabled,this.template([this.hasmore&&"left"===this.direction?["io-icon",{class:"hasmore",icon:"icons:triangle_left"}]:null,this.hasmore&&"up"===this.direction?["io-icon",{class:"hasmore",icon:"icons:triangle_up"}]:null,e?["io-icon",{icon:e}]:null,this.item.label?["span",{class:"label"},this.item.label]:null,this.item.hint?["span",{class:"hint"},this.item.hint]:null,this.hasmore&&"right"===this.direction?["io-icon",{class:"hasmore",icon:"icons:triangle_right"}]:null,this.hasmore&&"down"===this.direction?["io-icon",{class:"hasmore",icon:"icons:triangle_down"}]:null])}};function getMenuDescendants(e){const o=[];if(e.$options){if(e.expanded){o.push(e.$options);const r=e.$options.querySelectorAll(Ko);for(let e=r.length;e--;)o.push(r[e]),r[e].expanded&&o.push(...getMenuDescendants(r[e]))}}else{const r=e.querySelectorAll(Ko);for(let e=r.length;e--;)o.push(r[e]),r[e].expanded&&o.push(...getMenuDescendants(r[e]))}return o}function getMenuAncestors(e){const o=[];let r=e;for(;r&&r.$parent;)r=r.$parent,r&&o.push(r);return o}function getMenuRoot(e){let o=e;for(;o&&o.$parent;)o=o.$parent;return o}function isPointerAboveIoMenuItem(e,o){if(-1!==qo.indexOf(o.localName)&&!o.disabled&&!o.hidden&&(!o.inlayer||o.parentElement.expanded&&oe.expanded)){const r=1,s=o.getBoundingClientRect(),v=e.clientX,x=e.clientY;return s.top<=x+r&&s.bottom>=x-r&&s.left<=v+r&&s.right>=v-r}return null}__decorate$b([Property({observe:!0,type:re})],Xo.prototype,"item",void 0),__decorate$b([Property({value:!1,reflect:!0})],Xo.prototype,"expanded",void 0),__decorate$b([Property({value:"right",reflect:!0})],Xo.prototype,"direction",void 0),__decorate$b([Property({value:1e3,reflect:!0})],Xo.prototype,"depth",void 0),__decorate$b([Property(void 0)],Xo.prototype,"$options",void 0),Xo=__decorate$b([Register],Xo);var __decorate$a=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let Qo=class IoMenuHamburger extends Xo{static get Style(){return"\n      :host {\n        display: flex;\n        user-select: none;\n      }\n      :host > * {\n        pointer-events: none;\n        text-overflow: ellipsis;\n      }\n    "}changed(){void 0!==this.$options&&this.item.options&&(this.$options.options=this.item.options),this.setAttribute("selected",this.item.selected),this.setAttribute("hidden",this.item.hidden),this.disabled=this.item.disabled,this.template([["io-icon",{icon:"icons:hamburger"}]])}};Qo=__decorate$a([Register],Qo);var __decorate$9=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let Jo=class IoOptionMenu extends T{static get Style(){return"\n    :host {\n      display: inline-block;\n      text-align: center;\n      border-radius: var(--iotBorderRadius);\n      border: var(--iotBorder);\n      border-color: var(--iotBorderColorOutset);\n      background-color: var(--iotBgColorDimmed);\n      background-image: var(--iotGradientOutset);\n      /* padding-left: calc(2 * var(--iotSpacing)); */\n      /* padding-right: calc(2 * var(--iotSpacing)); */\n      text-align: left;\n    }\n    :host > io-menu-item {\n      margin: calc(-1 * var(--iotBorderWidth));\n      background-color: transparent !important;\n      border-color: transparent !important;\n    }\n    :host > io-menu-item[selected] {\n      color: var(--iotColorStrong);\n    }\n    "}_item;_onLeafChanged(e){this.inputValue(e.detail.value)}optionsChanged(e){e.oldValue&&e.oldValue.removeEventListener("last-changed",this._onLeafChanged),e.value&&e.value.addEventListener("last-changed",this._onLeafChanged);const o=this.options.getItem(this.value);o&&(o.selected=!0)}changed(){const e=this.options.getItem(this.value);this._item=this._item||new re({}),this._item.label=e?.label||String(this.value),this._item.options=this.options,this._item.icon=this.icon||"",this.template([["io-menu-item",{item:this._item,direction:"down"}]])}};__decorate$9([Property({value:void 0,reflect:!0})],Jo.prototype,"value",void 0),__decorate$9([Property({observe:!0,type:ie,reflect:!0})],Jo.prototype,"options",void 0),__decorate$9([Property("button")],Jo.prototype,"role",void 0),Jo=__decorate$9([Register],Jo);var __decorate$8=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let ei=class IoContextMenu extends T{static get Properties(){return{$options:null}}connectedCallback(){super.connectedCallback(),oe.addEventListener("pointermove",this._onOverlayPointermove),this._parent=this.parentElement,this._parent.addEventListener("pointerdown",this._onPointerdown),this._parent.addEventListener("click",this._onClick),this._parent.addEventListener("contextmenu",this._onContextmenu)}disconnectedCallback(){super.disconnectedCallback(),this.$options&&this.$options.parentElement&&oe.removeChild(this.$options),oe.removeEventListener("pointermove",this._onOverlayPointermove),this._parent.removeEventListener("pointerdown",this._onPointerdown),this._parent.removeEventListener("contextmenu",this._onContextmenu),this._parent.removeEventListener("pointermove",this._onPointermove),this._parent.removeEventListener("pointerup",this._onPointerup),this._parent.removeEventListener("click",this._onClick),delete this._parent}getBoundingClientRect(){return this._parent.getBoundingClientRect()}_onItemClicked(e){const o=e.composedPath()[0],r=e.detail;o!==this&&(e.stopImmediatePropagation(),this.dispatchEvent("item-clicked",r,!0),this.throttle(this._onCollapse))}_onContextmenu(e){2===this.button&&e.preventDefault()}_onPointerdown(e){oe.x=e.clientX,oe.y=e.clientY,this._parent.addEventListener("pointermove",this._onPointermove),this._parent.addEventListener("pointerup",this._onPointerup),clearTimeout(this._contextTimeout),"touch"!==e.pointerType?e.button===this.button&&(this.setPointerCapture(e.pointerId),this.expanded=!0):(e.preventDefault(),this._contextTimeout=setTimeout((()=>{this.setPointerCapture(e.pointerId),this.expanded=!0}),150))}_onPointermove(e){clearTimeout(this._contextTimeout),this.expanded&&this.$options?.querySelector("io-menu-item")?._onPointermoveAction(e)}_onPointerup(e){clearTimeout(this._contextTimeout),this.releasePointerCapture(e.pointerId),this.expanded&&this.$options?.querySelector("io-menu-item")?._onPointerupAction(e,!0),this._parent.removeEventListener("pointermove",this._onPointermove),this._parent.removeEventListener("pointerup",this._onPointerup)}_onOverlayPointermove(e){this.expanded&&this._onPointermove(e)}_onClick(e){e.button===this.button&&2!==e.button&&(this.expanded=!0)}_onCollapse(){this.expanded=!1}optionsChanged(){this.$options&&(oe.removeChild(this.$options),this.$options.template([]),this.$options.dispose()),this.$options=new Go({expanded:this.bind("expanded"),inlayer:!0,options:this.options,direction:"pointer",$parent:this,"@item-clicked":this._onItemClicked}),oe.appendChild(this.$options)}};__decorate$8([Property({observe:!0,type:ie})],ei.prototype,"options",void 0),__decorate$8([Property({value:!1,reflect:!0})],ei.prototype,"expanded",void 0),__decorate$8([Property(0)],ei.prototype,"button",void 0),ei=__decorate$8([Register],ei);var __decorate$7=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let ti=class IoNotify extends T{static get Style(){return"\n    :host {\n      display: flex;\n      position: fixed;\n      top: 0;\n      left: 0;\n      box-sizing: border-box;\n      background-color: var(--iotBgColorDimmed);\n      border: var(--iotBorder);\n      border-color: var(--iotColorRed);\n      width: 100%;\n      opacity: 1;\n      font-weight: bold;\n      align-items: center;\n      justify-content: center;\n      padding: 0 var(--iotSpacing);\n    }\n    :host > span {\n      cursor: default;\n      box-sizing: border-box;\n      line-height: var(--iotLineHeight);\n      font-size: var(--iotFontSize);\n      color: var(--iotColor);\n      padding: 0 var(--iotSpacing);\n    }\n    :host > :nth-child(n+2) {\n      flex-shrink: 0;\n      align-self: center;\n      white-space: nowrap;\n    }\n    @keyframes io-notification-fade {\n      to {\n        opacity: 0;\n      }\n    }\n    :host:not([expanded]) {\n      animation: io-notification-fade .6s linear forwards;\n      pointer-events: none;\n    }\n    "}static get Properties(){return{expanded:{value:!0,reflect:!0}}}static get Listeners(){return{}}constructor(e){super(e),this.template([["span","This app uses cookies for user interface customization."],["span","Agree"],["io-boolean",{"@value-input":this._onAgree}],["span","Disagree"],["io-boolean",{"@value-input":this._onDisgree}]])}_onAgree(e){e.detail.value?B.permitted=!0:B.permitted=!1,this.expanded=!1}_onDisgree(){B.permitted=!1,this.expanded=!1}};ti=__decorate$7([Register],ti),null===B.permitted&&document.body.appendChild(new ti);class ObjectConfig{constructor(e){for(let o=0;o<e.length;o++)this.registerObjectConfig(e[o].ObjectConfig||{})}registerObjectConfig(e){for(const o in e){const r=this;r[o]=r[o]||[],r[o]=[e[o][0]||r[o][0],Object.assign(r[o][1]||{},e[o][1]||{})]}}getObjectConfig(e,o){const r=Object.keys(e),s=[];let v=e.__proto__;for(;v;)s.push(v.constructor.name),r.push(...Object.keys(v)),v=v.__proto__;const x={};for(const e in this){const o=e.split("|");1===o.length&&o.splice(0,0,"Object"),-1!==s.indexOf(o[0])&&(x[o[1]]=this[e])}for(const e in o){const r=e.split("|");1===r.length&&r.splice(0,0,"Object"),-1!==s.indexOf(r[0])&&(x[r[1]]=o[e])}const w={};for(let o=0;o<r.length;o++){const s=r[o],v=e[s]instanceof Binding?e[s].value:e[s],k=null===v?"null":typeof v,C=null!=v&&v.constructor?v.constructor.name:"null";if("function"===k)continue;const S="type:"+k,M="constructor:"+C,R=s.replace("type:","").replace("constructor:","");w[s]=null,x[S]&&(w[s]=x[S]),x[M]&&(w[s]=x[M]),x[R]&&(w[s]=x[R])}return w}}class ObjectGroups{constructor(e){for(let o=0;o<e.length;o++)this.registerObjectGroups(e[o].ObjectGroups||{})}registerObjectGroups(e){for(const o in e){const r=this;r[o]=r[o]||[],r[o]=[...r[o],...e[o]]}}getObjectGroups(e,o,r){const s=[];let v=e.__proto__;for(;v;)s.push(v.constructor.name),v=v.__proto__;const x={},w=this;for(const o in w){const v=o.split("|");if(1===v.length&&v.splice(0,0,"Object"),v[1]=v[1].split(":"),-1!==s.indexOf(v[0])){if(!("properties"===v[1][1])){x[v[1][0]]=x[v[1][0]]||[];for(let s=0;s<w[o].length;s++){const k=w[o][s];if("string"==typeof k&&k.startsWith("constructor:")){const o=k.replace("constructor:","");for(let s=0;s<r.length;s++)e[r[s]]&&e[r[s]].name===o&&x[v[1][0]].push(r[s])}else if("string"==typeof k&&k.startsWith("type:")){const o=k.replace("type:","");for(let s=0;s<r.length;s++)e[r[s]]&&typeof e[r[s]]===o&&x[v[1][0]].push(r[s])}else x[v[1][0]].push(k)}}}}for(const e in o){const r=e.split("|");if(1===r.length&&r.splice(0,0,"Object"),r[1]=r[1].split(":"),-1!==s.indexOf(r[0])){"properties"===r[1][1]||(x[r[1][0]]=x[r[1][0]]||[],x[r[1][0]].push(...o[e]))}}const k={},C=[];for(const e in x){k[e]=k[e]||[];for(const o in x[e]){const s=x[e][o],v=new RegExp(s);for(let o=0;o<r.length;o++){const x=r[o];"string"==typeof s?x===s&&-1===C.indexOf(x)&&(k[e].push(x),C.push(x)):"object"==typeof s&&v.exec(x)&&-1===C.indexOf(x)&&(k[e].push(x),C.push(x))}}}if(0===C.length)k.properties=r;else{k.properties=k.properties||[];for(let e=0;e<r.length;e++)-1===C.indexOf(r[e])&&k.properties.push(r[e])}for(const e in k)0===k[e].length&&delete k[e];return delete k.hidden,k}}class ObjectWidgets{constructor(e){for(let o=0;o<e.length;o++)this.registerObjectWidgets(e[o].ObjectWidgets||{})}registerObjectWidgets(e){for(const o in e){const r=this;r[o]=r[o]||[],r[o]=[...r[o],...e[o]]}}getObjectWidgets(e){const o=[];let r=e.__proto__;for(;r;)o.push(r.constructor.name),r=r.__proto__;let s=null;const v={};for(const r in this){const x=r.split("|"),w=x[0],k=x[1];if(-1!==o.indexOf(w)){const o=this[r];o[1]=o[1]||{},o[1].$value?o[1].value=e[o[1].$value]:o[1].value=e,k?v[k]=o:s=o}}return{main:s,groups:v}}}var __decorate$6=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let ni=class IoBreadcrumbs extends T{static get Style(){return"\n    :host {\n      display: flex;\n      flex: 0 0 auto;\n      flex-direction: row;\n      align-self: stretch;\n      justify-self: stretch;\n      border-radius: var(--iotBorderRadius);\n      border: var(--iotBorder);\n      border-color: var(--iotBorderColorInset);\n      padding: var(--iotSpacing);\n      background-color: var(--iotBgColorField);\n      overflow-x: hidden;\n    }\n    :host > io-field {\n      padding-left: var(--iotSpacing);\n      padding-right: var(--iotSpacing);\n      color: var(--iotColorBlue);\n    }\n    :host > io-field:hover {\n      text-decoration: underline;\n    }\n    :host > io-field:first-of-type {\n      overflow: visible;\n      text-overflow: clip;\n      margin-left: var(--iotSpacing);\n    }\n    :host > io-field:last-of-type {\n      overflow: visible;\n      text-overflow: clip;\n      margin-right: var(--iotSpacing);\n    }\n    :host > io-field:not(:first-of-type):before {\n      content: '>';\n      margin: 0 var(--iotSpacing);\n      padding: 0 var(--iotSpacing) 0 0;\n      opacity: 0.25;\n    }\n    "}static get Properties(){return{value:Object,selected:null,options:{type:Array,observe:!0}}}_onClick(e){this.setProperty("selected",this.options[e.detail.value])}valueChanged(){this.options.length=0,this.options.push(this.value)}selectedChanged(){const e=this.options.indexOf(this.selected);-1!==e?this.options.length=e+1:this.options.push(this.selected)}changed(){const e=[];for(let o=0;o<this.options.length;o++)e.push(["io-field",{class:"select",value:this.options[o],label:getLabel(this.options[o]),"@item-clicked":this._onClick}]);this.template(e)}};function getLabel(e){return String(e instanceof Array?`${e.constructor.name} (${e.length})`:"object"==typeof e?`${e.constructor.name}`:e)}ni=__decorate$6([Register],ni);var __decorate$5=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};class ProtoObjectConfig extends Map{constructor(e){super();for(let o=0;o<e.length;o++){const r=e[o].Config;if(r)for(let e=0;e<r.length;e++){const o=r[e],s=o[0],v=o[1];let x;this.has(s)?x=this.get(s):(x=new Map,this.set(s,x));for(let e=0;e<v.length;e++){const o=v[e][0],r=[...v[e][1]];x.set(o,r)}}}}getObjectConfig(e){if(!(e instanceof Object))return void console.warn("`getObjectConfig` should be used on Object instance");const o=new Map;for(const[r,s]of this)if(e instanceof r)for(const[e,r]of s)o.set(e,r);const r={};for(const[s,v]of Object.entries(e)){const e=v instanceof Binding?v.value:v;for(const[v,x]of o){let o;("function"==typeof v&&e instanceof v||"function"==typeof v&&e.constructor===v||"string"==typeof v&&s===v||null===v&&null===e||void 0===v&&void 0===e)&&(o=x),o&&(r[s]=o)}}for(const[o,s]of Object.entries(e))r[o]||(console.warn("No config found for",o,s),console.log(r,e));return r}}let oi=class IoProperties extends T{static get Style(){return"\n    :host {\n      display: flex;\n      flex-direction: column;\n      color: var(--iotColorField);\n      background-color: var(--iotBgColor);\n    }\n    :host > .io-row {\n      display: flex;\n      flex-direction: row;\n    }\n    :host > .io-row > io-label {\n      margin-top: calc(var(--iotSpacing) + var(--iotBorderWidth));\n    }\n    :host > .io-row > io-label:after {\n      display: inline-block;\n      content: ':';\n    }\n    :host io-object > io-properties {\n      padding-left: var(--iotLineHeight);\n    }\n    "}static get Config(){return[[Object,[[null,["io-string",{appearance:"neutral"}]],[void 0,["io-string",{appearance:"neutral"}]],[String,["io-string",{appearance:"neutral"}]],[Number,["io-number",{appearance:"neutral",step:1e-4}]],[Boolean,["io-boolean"]],[Object,["io-object"]]]],[Array,[[Number,["io-number",{appearance:"neutral",step:1e-4}]]]]]}_onValueInput(e){if(e.detail.object)return;const o=e.composedPath()[0];if(o===this)return;e.stopImmediatePropagation(),this.dispatchEvent("property-set",e.detail,!1);const r=o.id;if(null!==r){const o=e.detail.value,s=e.detail.oldValue;this.value[r]=o;const v={object:this.value,property:r,value:o,oldValue:s};this.dispatchEvent("object-mutated",v,!1,window)}}valueMutated(){this._changedThrottled()}changed(){this._changedThrottled()}_changedThrottled(){this.throttle(this._onChange,void 0,0)}_onChange(){const e=this.__proto__._protoConfig.getObjectConfig(this.value);Object.assign(e,this.config);const o=[],r=this.properties.length?this.properties:Object.keys(this.value);this.widget.length?o.push(this.widget):o.push(["widget-dummy"]);for(let s=0;s<r.length;s++){const v=r[s],x=this.value[v],w=e[v][0],k=e[v][1]||{},C=k.label||v,S={title:C,id:v,config:e,value:x,"@value-input":this._onValueInput};Object.assign(S,k),"io-object"===w?(S.label=C+": "+x.constructor.name,o.push([w,S])):o.push(["div",{class:"io-row"},[this.labeled?["io-label",{label:C}]:null,[w,S]]])}this.template(o)}Register(e){super.Register(e),Object.defineProperty(e.prototype,"_protoConfig",{writable:!0,value:new ProtoObjectConfig(e.prototype._protochain.constructors)})}};__decorate$5([Property({observe:!0})],oi.prototype,"value",void 0),__decorate$5([Property({type:Array})],oi.prototype,"properties",void 0),__decorate$5([Property({type:Object})],oi.prototype,"config",void 0),__decorate$5([Property({type:Array})],oi.prototype,"widget",void 0),__decorate$5([Property(!0)],oi.prototype,"labeled",void 0),oi=__decorate$5([Register],oi);var __decorate$4=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let ii=class IoInspector extends T{static get Style(){return"\n    :host {\n      display: flex;\n      flex: 1 1 auto;\n      flex-direction: column;\n      flex-wrap: nowrap;\n      align-self: stretch;\n      align-items: stretch;\n      justify-self: stretch;\n      flex: 0 1 calc(var(--iotLineHeight) * 17.5);\n    }\n    :host > * {\n      flex-shrink: 0;\n    }\n    :host > .inspector-header {\n      display: flex;\n      flex-direction: row;\n      margin-bottom: var(--iotSpacing);\n      flex-grow: 0;\n    }\n    :host > .inspector-header > io-breadcrumbs {\n      flex: 1 1;\n    }\n    :host > .inspector-header > io-boolean {\n      width: calc(var(--iotSpacing) + var(--iotLineHeight));\n      align-self: stretch;\n      height: auto;\n    }\n    :host > .inspector-header > io-boolean:not([value]) {\n      opacity: 0.25;\n    }\n    :host > .inspector-header > io-string {\n      margin: 0 var(--iotSpacing);\n      padding: calc(2 * var(--iotSpacing));\n      align-self: stretch;\n      height: auto;\n    }\n    :host > .inspector-header > io-string:focus {\n      width: 6em;\n    }\n    :host > .inspector-header > io-string:empty:before {\n      content: ' 🔍';\n      white-space: pre;\n      visibility: visible;\n      opacity: 0.33;\n    }\n    :host > io-collapsable > io-boolean,\n    :host > io-object > io-boolean {\n      text-transform: capitalize;\n    }\n    :host > io-object {\n      flex-basis: auto !important;\n    }\n    :host > io-object > io-properties {\n      border-radius: var(--iotBorderRadius);\n      background-color: var(--iotBgColor) !important;\n      border: var(--iotBorder);\n      border-color: var(--iotBorderColorInset);\n      padding: var(--iotSpacing);\n      overflow: hidden;\n    }\n    :host > io-object > io-properties:not([horizontal])[labeled] {\n      grid-template-columns: minmax(6em, min-content) minmax(12em, 1fr);\n    }\n    :host > io-object > io-properties:not([horizontal])[labeled] > span.io-field {\n      text-align: right;\n    }\n    :host io-properties io-field.select {\n      color: var(--iotColorBlue) !important;\n    }\n    :host io-properties io-field.select:hover {\n      text-decoration: underline;\n    }\n    "}static get Listeners(){return{"io-field-clicked":"_onItemClicked"}}_onItemClicked(e){e.stopPropagation();const o=e.detail.value,r=e.composedPath()[0];o&&"object"==typeof o&&r.classList.contains("select")&&this.setProperty("selected",o)}valueChanged(){this.selected=this.value}advancedChanged(){delete this._currentCfgLen}selectedMutated(){clearTimeout(this._cfgTimeout),this._cfgTimeout=setTimeout((()=>{this._onChange()}),100)}changed(){this._onChangedThrottled()}_onChangedThrottled(){this.throttle(this._onChange)}_onChange(){const e=this.__proto__._protoConfig.getObjectConfig(this.selected);Object.assign(e,this.config),this._groups=this.__proto__._groups.getObjectGroups(this.selected,this.groups,Object.getOwnPropertyNames(e)),this._widgets=this.__proto__._widgets.getObjectWidgets(this.selected,this.widgets);const o=this.uuid||function genUUID(e){let o="io-object-collapse-state-"+e.constructor.name;o+="-"+(e.guid||e.uuid||e.id||"");const r=JSON.stringify(Object.keys(e));let s=0;for(let e=0;e<r.length;e++)s=(s<<5)-s+r.charCodeAt(e),s|=0;return s=(-s).toString(16),o+="-"+s,o}(this.selected),r=[["div",{class:"inspector-header"},[["io-breadcrumbs",{value:this.value,selected:this.bind("selected")}]]],this._widgets.main?this._widgets.main:null];for(const e in this._widgets.groups)this._groups[e]||r.push(["io-collapsable",{label:e,expanded:B({value:!0,storage:"local",key:o+"-"+e}),elements:[this._widgets.groups[e]]}]);for(const o in this._groups)r.push(["io-object",{label:o,expanded:B({value:!0,storage:"local",key:this.uuid+"-"+o}),value:this.selected,properties:this._groups[o],config:e,widget:this._widgets.groups[o]||[]}]);this.template(r)}static get Config(){return[[Object,[[null,["io-field",{appearance:"neutral",class:"select"}]],[void 0,["io-string",{appearance:"neutral"}]],[String,["io-string",{appearance:"neutral"}]],[Number,["io-number",{appearance:"neutral",step:1e-4}]],[Boolean,["io-boolean"]],[Object,["io-field",{appearance:"neutral",class:"select"}]]]]]}static get ObjectGroups(){return{"Object|hidden":[/^_/],"Array|main":[/^[0-9]+$/],"HTMLElement|main":["localName","tagName","nodeName",/class/i,/attribute/i],"HTMLElement|hidden":[/^on/,/^[A-Z0-9_]*$/,"childElementCount"],"HTMLElement|content":[/content/i,/inner/i,/outer/i],"HTMLElement|display":[/width/i,/height/i,/top/i,/left/i,/scroll/i,/style/i],"HTMLElement|hierarchy":[/parent/i,/child/i,/element/i,/root/i,/slot/i,/sibling/i,/document/i]}}static get ObjectWidgets(){return{}}Register(e){super.Register(e),Object.defineProperty(e.prototype,"_protoConfig",{writable:!0,value:new ProtoObjectConfig(e.prototype._protochain.constructors)}),Object.defineProperty(e.prototype,"_groups",{writable:!0,value:new ObjectGroups(e.prototype._protochain.constructors)}),Object.defineProperty(e.prototype,"_widgets",{writable:!0,value:new ObjectWidgets(e.prototype._protochain.constructors)})}};__decorate$4([Property({observe:!0})],ii.prototype,"value",void 0),__decorate$4([Property({observe:!0})],ii.prototype,"selected",void 0),__decorate$4([Property({type:Object})],ii.prototype,"config",void 0),__decorate$4([Property("")],ii.prototype,"uuid",void 0),__decorate$4([Property("")],ii.prototype,"search",void 0),__decorate$4([Property({type:Object})],ii.prototype,"groups",void 0),__decorate$4([Property({type:Object})],ii.prototype,"widgets",void 0),ii=__decorate$4([Register],ii);var __decorate$3=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let ri=class IoObject extends T{static get Style(){return'\n    :host {\n      /* Panel */\n      display: flex;\n      flex-direction: column; */\n      padding-left: var(--iotSpacing);\n      padding-right: var(--iotSpacing);\n      color: var(--iotColorField);\n      background-color: var(--iotBgColor);\n    }\n    :host > io-boolean {\n      padding-left: 0;\n      padding-right: 0;\n      align-self: stretch;\n    }\n    :host > io-boolean:before {\n      display: inline-block;\n      width: 0.75em;\n      content: "▸"\n    }\n    :host > io-boolean[value]:before {\n      content: "▾";\n    }\n    '}changed(){const e=this.label||this.value.constructor.name,o=[];o.push(["io-boolean",{appearance:"neutral",true:e,false:e,value:this.bind("expanded")}]),this.expanded&&o.push(["io-properties",{value:this.value,properties:this.properties,config:this.config,labeled:this.labeled,widget:this.widget}]),this.template(o),this.setAttribute("aria-expanded",String(this.expanded))}};__decorate$3([Property({})],ri.prototype,"value",void 0),__decorate$3([Property({type:Array})],ri.prototype,"properties",void 0),__decorate$3([Property({type:Object})],ri.prototype,"config",void 0),__decorate$3([Property({type:Array})],ri.prototype,"widget",void 0),__decorate$3([Property(!0)],ri.prototype,"labeled",void 0),__decorate$3([Property("")],ri.prototype,"label",void 0),__decorate$3([Property({value:!1,reflect:!0})],ri.prototype,"expanded",void 0),__decorate$3([Property("region")],ri.prototype,"role",void 0),ri=__decorate$3([Register],ri);var __decorate$2=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let si=class IoSliderRange extends IoSliderBase{_index=0;_getCoordFromValue(e){const o=[0,0],r=this._min,s=this._max;return o[0]=(e[0]-r[0])/(s[0]-r[0]),o[1]=(e[1]-r[1])/(s[1]-r[1]),o}_onPointerdown(e){super._onPointerdown(e);const o=this._value,r=this._getPointerCoord(e),s=this._getCoordFromValue(o);this._index=Math.abs(s[0]-r[0])<Math.abs(s[1]-r[0])?0:1}_onPointermoveThrottled(e){if(1===this._active){document.activeElement!==this&&this.focus();const o=this._value,r=this._getPointerCoord(e),s=this._getValueFromCoord(r);0===this._index?this._inputValue([s[0],o[1]]):1===this._index&&this._inputValue([o[0],s[0]])}}static get Frag(){return"\n    varying vec2 vUv;\n\n    void main(void) {\n      // Dimensions\n      vec2 size = uVertical == 1 ? uSize.yx : uSize;\n      vec2 uv = uVertical == 1 ? vUv.yx : vUv;\n      vec2 position = size * vec2(uv.x, uv.y - 0.5);\n      vec2 expPosition = size * vec2(pow(uv.x, uExponent), uv.y - 0.5);\n\n      vec2 valueInRange = (uValue - vec2(uMin)) / (vec2(uMax) - vec2(uMin));\n\n      vec2 valueSign = sign(valueInRange);\n      vec2 expValueInRange = pow(abs(valueInRange), vec2(1./uExponent)) * valueSign;\n      float valueInRangeWidth = valueInRange[1] - valueInRange[0];\n      float valueInRangeCenter = (valueInRange[1] + valueInRange[0]) / 2.0;\n      float signRange = sign(valueInRangeWidth);\n\n      // Colors\n      vec3 finalCol = iotBgColorField.rgb;\n      vec3 gridCol = iotBgColorDimmed.rgb;\n      vec3 sliderCol = signRange > 0.0 ? iotBgColorBlue.rgb : iotBgColorRed.rgb;\n      vec3 lineCol1 = iotColor.rgb;\n      vec3 lineCol2 = iotBgColor.rgb;\n\n      // Grid\n      float gridSize = size.x / abs((uMax - uMin) / uStep);\n      float gridOffset = mod(uStep - uMin, uStep) / (uMax - uMin) * size.x;\n      float gridShape = paintDerivativeGrid2D(translate(expPosition, gridOffset, 0.0), vec2(gridSize, 0.0), iotBorderWidth);\n      finalCol = compose(finalCol, vec4(gridCol, gridShape * 0.5));\n\n      // Slider\n      float sliderShape = rectangle(translate(expPosition, size.x * valueInRangeCenter, 0.0), vec2(size.x * abs(valueInRangeWidth) * 0.5, size.y));\n      finalCol = compose(finalCol, vec4(sliderCol, sliderShape));\n      finalCol = compose(finalCol, vec4(iotBgColorField.rgb, gridShape * sliderShape * 0.125));\n\n      // Lines\n      float maxPos = expValueInRange[0];\n      float minPos = expValueInRange[1];\n\n      float lineMinShape1 = lineVertical(translate(position, maxPos * size.x, 0.0), iotBorderWidth);\n      finalCol = compose(finalCol, vec4(lineCol1, lineMinShape1));\n      float lineMinShape2 = lineVertical(translate(position, maxPos * size.x + iotBorderWidth * signRange, 0.0), iotBorderWidth);\n      finalCol = compose(finalCol, vec4(lineCol2, lineMinShape2));\n      \n      float lineMaxShape1 = lineVertical(translate(position, minPos * size.x, 0.0), iotBorderWidth);\n      finalCol = compose(finalCol, vec4(lineCol1, lineMaxShape1));\n      float lineMaxShape2 = lineVertical(translate(position, minPos * size.x - iotBorderWidth * signRange, 0.0), iotBorderWidth);\n      finalCol = compose(finalCol, vec4(lineCol2, lineMaxShape2));\n\n      gl_FragColor = vec4(finalCol, 1.0);\n    }\n    "}};__decorate$2([Property({value:null,type:Array,init:[0,0],observe:!0})],si.prototype,"value",void 0),__decorate$2([Property(.01)],si.prototype,"step",void 0),__decorate$2([Property(0)],si.prototype,"min",void 0),__decorate$2([Property(1)],si.prototype,"max",void 0),si=__decorate$2([Register],si);var __decorate$1=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let ai=class IoNumberSliderRange extends T{static get Style(){return"\n    :host {\n      display: flex;\n      min-width: var(--iotFieldHeight5);\n      width: var(--iotFieldHeight10);\n    }\n    :host > io-number {\n      flex: 0 0 3.25em;\n    }\n    :host > io-slider-range {\n      margin-left: var(--iotSpacing);\n      margin-right: var(--iotSpacing);\n      flex: 1 1 3.25em;\n      min-width: 3.25em;\n    }\n    "}_onNumberSet(e){const o=e.composedPath()[0];o===this.$.number0&&(this.value[0]=e.detail.value),o===this.$.number1&&(this.value[1]=e.detail.value),e.detail.value=this.value,this.dispatchEvent("object-mutated",{object:this.value},!1,window),this.dispatchEvent("value-input",e.detail,!1)}_onSliderSet(e){this.value=e.detail.value,this.dispatchEvent("object-mutated",{object:this.value},!1,window),this.dispatchEvent("value-input",e.detail,!1)}init(){this.changed()}changed(){this.template([["io-number",{$:"number0",value:this.value[0],step:this.step,conversion:this.conversion,label:this.label,"@value-input":this._onNumberSet}],["io-slider-range",{$:"slider",value:this.value,step:this.step,min:this.min,max:this.max,exponent:this.exponent,label:this.label,"@value-input":this._onSliderSet}],["io-number",{$:"number1",value:this.value[1],step:this.step,conversion:this.conversion,label:this.label,"@value-input":this._onNumberSet}]])}};__decorate$1([Property({type:Array,init:[0,0],observe:!0})],ai.prototype,"value",void 0),__decorate$1([Property(.01)],ai.prototype,"step",void 0),__decorate$1([Property(0)],ai.prototype,"min",void 0),__decorate$1([Property(1)],ai.prototype,"max",void 0),__decorate$1([Property(1)],ai.prototype,"exponent",void 0),__decorate$1([Property(1)],ai.prototype,"conversion",void 0),ai=__decorate$1([Register],ai);var __decorate=function(e,o,r,s){var v,x=arguments.length,w=x<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(e,o,r,s);else for(var k=e.length-1;k>=0;k--)(v=e[k])&&(w=(x<3?v(w):x>3?v(o,r,w):v(o,r))||w);return x>3&&w&&Object.defineProperty(o,r,w),w};let li=class IoNumberSlider extends T{static get Style(){return"\n    :host {\n      display: flex;\n      min-width: var(--iotFieldHeight5);\n      width: var(--iotFieldHeight10);\n    }\n    :host > io-number {\n      flex: 0 0 3.25em;\n      margin-right: var(--iotSpacing);\n    }\n    :host > io-slider {\n      flex: 1 1 3em;\n      min-width: 3em;\n    }\n    "}_onNumberSet(e){this.value=e.detail.value,this.dispatchEvent("value-input",e.detail,!1)}_onSliderSet(e){e.detail.value=e.detail.value/this.conversion,this.value=e.detail.value,this.dispatchEvent("value-input",e.detail,!1)}init(){this.changed()}changed(){this.template([["io-number",{$:"number",value:this.value,step:this.step,conversion:this.conversion,label:this.label,"@value-input":this._onNumberSet}],["io-slider",{$:"slider",value:this.value*this.conversion,step:this.step*this.conversion,min:this.min*this.conversion,max:this.max*this.conversion,exponent:this.exponent,label:this.label,"@value-input":this._onSliderSet}]])}};__decorate([Property({value:0})],li.prototype,"value",void 0),__decorate([Property(.01)],li.prototype,"step",void 0),__decorate([Property(0)],li.prototype,"min",void 0),__decorate([Property(1)],li.prototype,"max",void 0),__decorate([Property(1)],li.prototype,"exponent",void 0),__decorate([Property(1)],li.prototype,"conversion",void 0),li=__decorate([Register],li);
/** @License
 * Copyright ©2024 Aleksandar (Aki) Rodic
 *
 * The MIT License
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
const ci="MIT";export{Binding,ChangeQueue,Color,F as DARK_THEME,EventDispatcher,ce as IoBoolean,he as IoBoolicon,ni as IoBreadcrumbs,le as IoButton,Ge as IoCollapsable,IoColorBase,$e as IoColorPanel,Fe as IoColorPanelSingleton,Ue as IoColorPicker,We as IoColorRgba,Se as IoColorSlider,IoColorSlider2dBase,Oe as IoColorSliderA,Re as IoColorSliderB,IoColorSliderBase,Ne as IoColorSliderC,Me as IoColorSliderG,ze as IoColorSliderH,Be as IoColorSliderHs,je as IoColorSliderK,Te as IoColorSliderL,Ae as IoColorSliderM,Ee as IoColorSliderR,Le as IoColorSliderS,De as IoColorSliderSL,He as IoColorSliderSv,Pe as IoColorSliderV,Ie as IoColorSliderY,Ve as IoColorSwatch,ei as IoContextMenu,T as IoElement,ae as IoField,ee as IoGl,we as IoIcon,ye as IoIconset,xe as IoIconsetSingleton,ii as IoInspector,se as IoLabel,Vo as IoMatrix,Po as IoMdView,Qo as IoMenuHamburger,Xo as IoMenuItem,Go as IoMenuOptions,Uo as IoMenuTree,IoNavigatorBase,Ho as IoNavigatorCombined,Do as IoNavigatorMdView,$o as IoNavigatorScroller,Bo as IoNavigatorSelector,r as IoNode,IoNodeMixin,ti as IoNotify,ue as IoNumber,ve as IoNumberLadder,me as IoNumberLadderSingleton,fe as IoNumberLadderStep,li as IoNumberSlider,ai as IoNumberSliderRange,ri as IoObject,Jo as IoOptionMenu,ne as IoOverlay,oe as IoOverlaySingleton,oi as IoProperties,jo as IoScroller,Io as IoSelector,ke as IoSlider,Ce as IoSlider2d,IoSliderBase,si as IoSliderRange,B as IoStorage,j as IoStorageNode,pe as IoString,de as IoSwitch,G as IoThemeSingleton,Fo as IoVector,ci as LICENSE,$ as LIGHT_THEME,re as MenuItem,ie as MenuOptions,ObjectConfig,ObjectGroups,ObjectWidgets,Property,o as PropertyDecorators,PropertyInstance,ProtoChain,ProtoObjectConfig,ProtoProperty,Register,addMenuOptions,applyNativeElementProps,buildTree,disposeElementDeep,filterOptions,genObjectStorageID,getMenuAncestors,getMenuDescendants,getMenuRoot,hardenListenerDefinition,listenerFromDefinition};
