const hardenListenerDefinition=e=>e instanceof Array?e:[e],assignListenerDefinition=(e,t)=>{var i=e.findIndex(e=>e[0]===t[0]);-1!==i?e[i][1]?e[i][1]=Object.assign(e[i][1],t[1]):t[1]&&(e[i][1]=t[1]):e.push(t)},listenerFromDefinition=(e,t)=>{const i=["string"==typeof t[0]?e[t[0]]:t[0]];return t[1]&&i.push(t[1]),i};class EventDispatcher{node;isEventTarget;protoListeners={};propListeners={};addedListeners={};constructor(e){this.node=e,this.isEventTarget=e instanceof EventTarget,this.setProtoListeners(e)}setProtoListeners(t){for(const s in t._protochain?.listeners){this.protoListeners[s]=[];for(let e=0;e<t._protochain.listeners[s].length;e++){var i=listenerFromDefinition(t,t._protochain.listeners[s][e]);this.protoListeners[s].push(i),this.isEventTarget&&EventTarget.prototype.addEventListener.call(this.node,s,i[0],i[1])}}}setPropListeners(e){const t={};for(const a in e){var d,i;a.startsWith("on-")&&(d=a.slice(3,a.length),i=hardenListenerDefinition(e[a]),i=listenerFromDefinition(this.node,i),t[d]=[i])}const s=this.propListeners;for(const h in s){var n;t[h]||(this.isEventTarget&&(n=hardenListenerDefinition(s[h][0]),n=listenerFromDefinition(this.node,n),EventTarget.prototype.removeEventListener.call(this.node,h,n[0],n[1])),delete s[h])}for(const l in t){var r,o;this.isEventTarget&&(r=hardenListenerDefinition(t[l][0]),r=listenerFromDefinition(this.node,r),s[l]?(o=hardenListenerDefinition(s[l][0]),((o=listenerFromDefinition(this.node,o))!==r||r[1]&&JSON.stringify(o[1])!==JSON.stringify(r[1]))&&(EventTarget.prototype.removeEventListener.call(this.node,l,o[0],o[1]),EventTarget.prototype.addEventListener.call(this.node,l,r[0],r[1]))):EventTarget.prototype.addEventListener.call(this.node,l,r[0],r[1])),s[l]=t[l]}}addEventListener(e,t,i){this.addedListeners[e]=this.addedListeners[e]||[],this.addedListeners[e].push(i?[t,i]:[t]),this.isEventTarget&&EventTarget.prototype.addEventListener.call(this.node,e,t,i)}removeEventListener(t,i,e){if(i){var s=this.addedListeners[t].findIndex(e=>e[0]=i);this.addedListeners[t].splice(s,1),this.isEventTarget&&EventTarget.prototype.removeEventListener.call(this.node,t,i,e)}else{for(let e=0;e<this.addedListeners[t].length;e++)if(this.isEventTarget){const i=this.addedListeners[t][e];EventTarget.prototype.removeEventListener.call(this.node,t,i[0],i[1])}this.addedListeners[t].length=0}0===this.addedListeners[t].length&&delete this.addedListeners[t]}dispatchEvent(t,i={},e=!0,s=this.node){if(s instanceof EventTarget)EventTarget.prototype.dispatchEvent.call(s,new CustomEvent(t,{detail:i,bubbles:e,composed:!0,cancelable:!0}));else{if(this.protoListeners[t])for(let e=0;e<this.protoListeners[t].length;e++)this.protoListeners[t][e][0].call(s,{detail:i,target:s,path:[s]});if(this.propListeners[t]&&this.propListeners[t][0][0].call(s,{detail:i,target:s,path:[s]}),this.addedListeners[t])for(let e=0;e<this.addedListeners[t].length;e++)this.addedListeners[t][e][0].call(s,{detail:i,target:s,path:[s]})}}dispose(){for(const s in this.protoListeners){if(this.isEventTarget)for(let e=0;e<this.protoListeners[s].length;e++){var t=this.protoListeners[s][e];EventTarget.prototype.removeEventListener.call(this.node,s,t[0],t[1])}this.protoListeners[s].length=0,delete this.protoListeners[s]}for(const n in this.propListeners){var e;this.isEventTarget&&(e=this.propListeners[n][0],EventTarget.prototype.removeEventListener.call(this.node,n,e[0],e[1])),this.propListeners[n].length=0,delete this.propListeners[n]}for(const r in this.addedListeners){if(this.isEventTarget)for(let e=this.addedListeners[r].length;e--;){var i=this.addedListeners[r][e];EventTarget.prototype.removeEventListener.call(this.node,r,i[0],i[1])}this.addedListeners[r].length=0,delete this.addedListeners[r]}delete this.node,delete this.protoListeners,delete this.propListeners,delete this.addedListeners}}class Binding{node;property="";targets=[];targetProperties=new WeakMap;constructor(e,t){this.node=e,this.property=t,this.onTargetChanged=this.onTargetChanged.bind(this),this.onSourceChanged=this.onSourceChanged.bind(this),this.node.addEventListener(this.property+"-changed",this.onSourceChanged)}set value(e){this.node[this.property]=e}get value(){return this.node[this.property]}addTarget(e,t){e._properties[t].binding=this,e.setPropertyValue(t,this.node[this.property]);const i=e,s=(-1===this.targets.indexOf(i)&&this.targets.push(i),this.getTargetProperties(i));-1===s.indexOf(t)&&(s.push(t),i.addEventListener(t+"-changed",this.onTargetChanged))}removeTarget(e,t){const i=e,s=this.getTargetProperties(i);if(t){e=s.indexOf(t);-1!==e&&s.splice(e,1),i.removeEventListener(t+"-changed",this.onTargetChanged)}else{for(let e=s.length;e--;)i.removeEventListener(s[e]+"-changed",this.onTargetChanged);s.length=0}0===s.length&&this.targets.splice(this.targets.indexOf(i),1)}getTargetProperties(e){let t=this.targetProperties.get(e);return t||(t=[],this.targetProperties.set(e,t),t)}onTargetChanged(e){var t=this.node[this.property],e=e.detail.value;t!==e&&("number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||(this.node[this.property]=e))}onSourceChanged(e){var t=e.detail.value;for(let e=this.targets.length;e--;){const r=this.targets[e];var i=this.getTargetProperties(r);for(let e=i.length;e--;){var s=i[e],n=r[s];n!==t&&("number"==typeof t&&isNaN(t)&&"number"==typeof n&&isNaN(n)||(r[s]=t))}}}dispose(){this.node.removeEventListener(this.property+"-changed",this.onSourceChanged);for(let e=this.targets.length;e--;)this.removeTarget(this.targets[e]);this.targets.length=0,delete this.node,delete this.property,delete this.targets,delete this.targetProperties,delete this.onTargetChanged,delete this.onSourceChanged}}class PropertyDefinition{value;type;binding;reflect=0;notify=!0;observe=!1;readonly=!1;strict=!1;enumerable=!0;constructor(e){var t;null==e?this.value=e:"function"==typeof e?this.type=e:e instanceof Binding?(this.value=e.value,this.type=void 0!==e.value&&null!==e.value?e.value.constructor:void 0,this.binding=e):e&&e.constructor===Object?(this.value=void 0!==(t=e).value?t.value:void 0,this.type=void 0!==t.type?t.type:void 0!==t.value&&null!==t.value?t.value.constructor:void 0,this.binding=t.binding instanceof Binding?t.binding:void 0,this.reflect=void 0!==t.reflect?t.reflect:0,this.notify=void 0===t.notify||t.notify,this.observe=void 0!==t.observe&&t.observe,this.readonly=void 0!==t.readonly&&t.readonly,this.strict=void 0!==t.strict&&t.strict,this.enumerable=void 0===t.enumerable||t.enumerable):e&&e.constructor===Object||(this.value=e,this.type=e.constructor),void 0===this.value&&"function"==typeof this.type&&(this.type===Boolean?this.value=!1:this.type===String?this.value="":this.type===Number?this.value=0:this.type===Array?this.value=[]:this.type===Object?this.value={}:this.value=new this.type)}}const assignPropertyDefinition=(e,t)=>{void 0!==t.value&&(e.value=t.value),void 0!==t.type&&(e.type=t.type),0!==t.reflect&&(e.reflect=t.reflect),!0!==t.notify&&(e.notify=t.notify),!1!==t.observe&&(e.observe=t.observe),!1!==t.readonly&&(e.readonly=t.readonly),!1!==t.strict&&(e.strict=t.strict),!0!==t.enumerable&&(e.enumerable=t.enumerable),void 0!==t.binding&&(e.binding=t.binding)};class Property{value=void 0;type=void 0;binding=void 0;reflect=0;notify=!0;observe=!1;readonly=!1;strict=!1;enumerable=!0;constructor(e){this.value=e.value,this.type=e.type,this.binding=e.binding,this.reflect=e.reflect,this.notify=e.notify,this.observe=e.observe,this.readonly=e.readonly,this.strict=e.strict,this.enumerable=e.enumerable,this.binding instanceof Binding?this.value=this.binding.value:void 0===this.value&&"function"==typeof this.type||(this.type===Array&&this.value instanceof Array?this.value=[...this.value]:"function"==typeof this.type&&this.value instanceof Object&&(this.value=Object.assign(new this.type,this.value)))}}class ProtoChain{constructors=[];functions=[];properties={};listeners={};style="";observedObjects=[];constructor(e){let t=e.prototype;for(;t&&"classConstructor"!==e.name&&e!==HTMLElement&&e!==Object&&e!==Array;){this.constructors.push(e);var i=Object.getOwnPropertyNames(t);for(let e=0;e<i.length;e++){const o=i[e];var s=Object.getOwnPropertyDescriptor(t,o);void 0===s||s.get||s.set||"function"==typeof t[o]&&-1===this.functions.indexOf(o)&&(o.startsWith("_")||o.startsWith("on"))&&this.functions.push(o)}e.Style&&-1===this.style.indexOf(e.Style)&&(this.style=e.Style+"\n"+this.style),e=(t=t.__proto__).constructor}for(let e=this.constructors.length;e--;){var n=this.constructors[e].Properties;for(const a in n){var d=new PropertyDefinition(n[a]);this.properties[a]?assignPropertyDefinition(this.properties[a],d):this.properties[a]=d}var r=this.constructors[e].Listeners;for(const h in r)r[h]&&(this.listeners[h]=this.listeners[h]||[],assignListenerDefinition(this.listeners[h],hardenListenerDefinition(r[h])))}for(const l in this.properties)this.properties[l].observe&&this.observedObjects.push(l)}bindFunctions(t){for(let e=this.functions.length;e--;)Object.defineProperty(t,this.functions[e],{value:t[this.functions[e]].bind(t)})}}class ChangeQueue{node;changes=[];dispatching=!1;constructor(e){this.node=e,Object.defineProperty(this,"node",{enumerable:!1,writable:!1}),Object.defineProperty(this,"changes",{enumerable:!1,writable:!1}),Object.defineProperty(this,"dispatching",{enumerable:!1})}queue(t,e,i){var s=this.changes.findIndex(e=>e.property===t);-1===s?this.changes.push({property:t,value:e,oldValue:i}):this.changes[s].value=e}dispatch(){if(!0!==this.dispatching){let e=!(this.dispatching=!0);for(;this.changes.length;){var t=this.changes.length-1,i=this.changes[t],t=(this.changes.splice(t,1),i.property);i.value!==i.oldValue&&(e=!0,this.node[t+"Changed"]&&this.node[t+"Changed"](i),this.node.dispatchEvent(t+"-changed",i))}e&&(this.node.applyCompose(),this.node.changed()),this.dispatching=!1}}dispose(){this.changes.length=0,delete this.node,delete this.changes}}function IoNodeMixin(e){return class extends e{static get Properties(){return{lazy:Boolean}}get compose(){return null}_properties={};_bindings={};_changeQueue;_eventDispatcher;constructor(e={},...t){super(...t),this._protochain.bindFunctions(this),this._changeQueue=new ChangeQueue(this),Object.defineProperty(this,"_changeQueue",{enumerable:!1}),this._eventDispatcher=new EventDispatcher(this),Object.defineProperty(this,"_eventDispatcher",{enumerable:!1});for(const s in this._protochain.properties){const n=new Property(this._protochain.properties[s]);var i=(this._properties[s]=n).value;null!=i&&("object"==typeof i?this.queue(s,i,void 0):void 0!==n.reflect&&1<=n.reflect&&this._isIoElement&&this.setAttribute(s,i)),n.binding&&n.binding.addTarget(this,s)}Object.defineProperty(this,"_properties",{enumerable:!1}),Object.defineProperty(this,"_bindings",{enumerable:!1}),Object.defineProperty(this,"objectMutated",{enumerable:!1,value:this.objectMutated.bind(this)}),Object.defineProperty(this,"objectMutatedThrottled",{enumerable:!1,value:this.objectMutatedThrottled.bind(this)}),Object.defineProperty(this,"queueDispatch",{enumerable:!1,value:this.queueDispatch.bind(this)}),Object.defineProperty(this,"queueDispatchLazy",{enumerable:!1,value:this.queueDispatchLazy.bind(this)}),this._protochain.observedObjects.length&&window.addEventListener("object-mutated",this.objectMutated),this.setProperties(e)}setPropertyValue(e,t,i){const s=this._properties[e];var n=s.value;if(t!==n){const r=t instanceof Binding?t:void 0;if(r){const o=s.binding;o&&r!==o&&o.removeTarget(this,e),r.addTarget(this,e),t=r.value}else!s.strict||!s.type||t instanceof s.type||(t=new s.type(t));s.value=t,s.notify&&n!==t&&(this.queue(e,t,n),i||this.queueDispatch()),void 0!==s.reflect&&1<=s.reflect&&this._isIoElement&&this.setAttribute(e,t)}}dispose(){this._changeQueue.dispose(),this._propertyBinder.dispose(),this._eventDispatcher.dispose();for(const e in this._properties)this._properties[e].binding&&this._properties[e].binding?.removeTarget(this._node,e);for(const t in this._bindings)this._bindings[t].dispose(),delete this._bindings[t];this._protochain.observedObjects.length&&window.removeEventListener("object-mutated",this.objectMutated)}changed(){}applyCompose(){var e=this.compose;if(this.compose)for(const t in e){const i=this._properties[t].value;if(i._isIoNode)i.setProperties(e[t]);else for(const s in e[t])i[s]=e[t][s]}}queue(e,t,i){this._changeQueue.queue(e,t,i)}queueDispatch(){this.lazy?(preThrottleQueue.push(this.queueDispatchLazy),this.throttle(this.queueDispatchLazy)):this._changeQueue.dispatch()}queueDispatchLazy(){this._changeQueue.dispatch()}objectMutated(t){for(let e=0;e<this._protochain.observedObjects.length;e++){var i=this._protochain.observedObjects[e];if(this._properties[i].value===t.detail.object)return void this.throttle(this.objectMutatedThrottled,i,!1)}}objectMutatedThrottled(e){this[e+"Mutated"]&&this[e+"Mutated"](),this.applyCompose(),this.changed()}bind(e){return this._bindings[e]=this._bindings[e]||new Binding(this,e),this._bindings[e]}unbind(e){this._bindings[e]&&this._bindings[e].dispose(),delete this._bindings[e],this._properties[e].binding&&this._properties[e].binding?.removeTarget(this,e)}set(e,t,i){this[e]===t&&!i||(i=this[e],this[e]=t,this.dispatchEvent("value-set",{property:e,value:t,oldValue:i},!1))}setProperties(e){for(const t in e)void 0!==this._properties[t]&&this.setPropertyValue(t,e[t],!0);this._eventDispatcher.setPropListeners(e),this.queueDispatch()}addEventListener(e,t,i){this._eventDispatcher.addEventListener(e,t,i)}removeEventListener(e,t,i){this._eventDispatcher.removeEventListener(e,t,i)}dispatchEvent(e,t={},i=!1,s){this._eventDispatcher.dispatchEvent(e,t,i,s)}throttle(e,t,i){if(-1!==preThrottleQueue.indexOf(e)||(preThrottleQueue.push(e),i))if(-1===throttleQueue.indexOf(e)&&throttleQueue.push(e),argQueue.has(e)&&"object"!=typeof t){const s=argQueue.get(e);-1===s.indexOf(t)&&s.push(t)}else argQueue.set(e,[t]);else e(t)}requestAnimationFrameOnce(e){requestAnimationFrameOnce(e)}filterObject(e,t,i=5,s=[],n=0){if(-1===s.indexOf(e)&&(s.push(e),!(i<n))){if(n++,t(e))return e;for(const o in e){var r=e[o]instanceof Binding?e[o].value:e[o];if(t(r))return r;if("object"==typeof r){r=this.filterObject(r,t,i,s,n);if(r)return r}}}}filterObjects(e,t,i=5,s=[],n=0){const r=[];if(-1!==s.indexOf(e))return r;if(s.push(e),i<n)return r;n++,t(e)&&-1===r.indexOf(e)&&r.push(e);for(const h in e){var o=e[h]instanceof Binding?e[h].value:e[h];if(t(o)&&-1===r.indexOf(o)&&r.push(o),"object"==typeof o){var a=this.filterObjects(o,t,i,s,n);for(let e=0;e<a.length;e++)-1===r.indexOf(a[e])&&r.push(a[e])}}return r}import(t){const i=new URL(t,String(window.location)).href;return new Promise(e=>{!t||IMPORTED_PATHS[i]?e(i):import(i).then(()=>{IMPORTED_PATHS[i]=!0,e(i)})})}preventDefault(e){e.preventDefault()}stopPropagation(e){e.stopPropagation()}}}const RegisterIoNode=function(e){var t=e.prototype;Object.defineProperty(t,"_isIoNode",{value:!0}),Object.defineProperty(e,"_registeredAs",{value:e.name}),Object.defineProperty(t,"_protochain",{value:new ProtoChain(e)});for(const i in t._protochain.properties)Object.defineProperty(t,i,{get:function(){return this._properties[i].value},set:function(e){this.setPropertyValue(i,e)},enumerable:!!t._protochain.properties[i].enumerable,configurable:!0})};class IoNode extends IoNodeMixin(Object){}RegisterIoNode(IoNode);const IMPORTED_PATHS={},preThrottleQueue=[],throttleQueue=[],argQueue=new WeakMap,funcQueue=[],animate=function(){requestAnimationFrame(animate);for(let e=preThrottleQueue.length;e--;)preThrottleQueue.splice(preThrottleQueue.indexOf(preThrottleQueue[e]),1);for(let t=throttleQueue.length;t--;){const i=argQueue.get(throttleQueue[t]);for(let e=i.length;e--;)throttleQueue[t](i[e]),i.splice(i.indexOf(e),1);throttleQueue.splice(throttleQueue.indexOf(throttleQueue[t]),1)}for(let e=funcQueue.length;e--;){const t=funcQueue[e];funcQueue.splice(funcQueue.indexOf(t),1),t()}};function requestAnimationFrameOnce(e){-1===funcQueue.indexOf(e)&&funcQueue.push(e)}requestAnimationFrame(animate);class IoElement extends IoNodeMixin(HTMLElement){static get Style(){return":host[hidden] { display: none; } :host[disabled] { pointer-events: none; opacity: 0.5; }"}static get Properties(){return{$:{type:Object,notify:!1},tabindex:{type:String,reflect:1},contenteditable:{type:Boolean,reflect:1},class:{type:String,reflect:1},role:{type:String,reflect:1},label:{type:String,reflect:1},name:{type:String,reflect:1},title:{type:String,reflect:1},id:{type:String,reflect:-1},hidden:{type:Boolean,reflect:1},disabled:{type:Boolean,reflect:1}}}static get Listeners(){return{"focus-to":"_onFocusTo"}}static get observedAttributes(){const e=[];for(const i in this.prototype._protochain.properties){var t=this.prototype._protochain.properties[i].reflect;-1!==t&&2!==t||e.push(i)}return e}attributeChangedCallback(e,t,i){const s=this._properties[e].type;s===Boolean?null===i?this[e]=!1:""===i&&(this[e]=!0):s===Number||s===String?this[e]=new s(i):s===Object||s===Array?this[e]=JSON.parse(i):"function"==typeof s?this[e]=new s(JSON.parse(i)):this[e]=isNaN(Number(i))?i:Number(i)}connectedCallback(){"function"==typeof this.onResized&&ro.observe(this)}disconnectedCallback(){"function"==typeof this.onResized&&ro.unobserve(this)}template(e,t){e=buildTree()(["root",e]).children;(t=t||this)===this&&this.setPropertyValue("$",{}),this.traverse(e,t)}traverse(t,i){for(var s,n,r=i.children;r.length>t.length;){var e=r[r.length-1];i.removeChild(e)}if(r.length<t.length){const a=document.createDocumentFragment();for(let e=r.length;e<t.length;e++){var o=constructElement(t[e]);a.appendChild(o)}i.appendChild(a)}for(let e=0;e<r.length;e++){const h=r[e];h.localName!==t[e].name?(s=h,n=constructElement(t[e]),i.insertBefore(n,s),i.removeChild(s)):(h.removeAttribute("className"),h._isIoElement?h.setProperties(t[e].props):setNativeElementProps(h,t[e].props))}for(let e=0;e<t.length;e++){const l=r[e];t[e].props.id&&(this.$[t[e].props.id]=l),void 0!==t[e].children&&("string"==typeof t[e].children?(this.flattenTextNode(l),l._textNode.nodeValue=String(t[e].children)):"object"==typeof t[e].children&&this.traverse(t[e].children,l))}}flattenTextNode(t){if(0===t.childNodes.length&&t.appendChild(document.createTextNode("")),"#text"!==t.childNodes[0].nodeName&&(t.innerHTML="",t.appendChild(document.createTextNode(""))),t._textNode=t.childNodes[0],1<t.childNodes.length){var e=t.textContent;for(let e=t.childNodes.length;e--;)0!==e&&t.removeChild(t.childNodes[e]);t._textNode.nodeValue=e}}get textNode(){return this.flattenTextNode(this),this._textNode.nodeValue}set textNode(e){this.flattenTextNode(this),this._textNode.nodeValue=String(e)}setProperties(e){if(super.setProperties(e),e.style)for(const t in e.style)this.style[t]=e.style[t]}setAttribute(e,t){!0===t?HTMLElement.prototype.setAttribute.call(this,e,""):!1===t||""===t?this.removeAttribute(e):"string"!=typeof t&&"number"!=typeof t||this.getAttribute(e)!==String(t)&&HTMLElement.prototype.setAttribute.call(this,e,String(t))}applyCompose(){super.applyCompose(),this.applyAria()}applyAria(){this.label?this.setAttribute("aria-label",this.label):this.removeAttribute("aria-label"),this.disabled?this.setAttribute("aria-disabled",!0):this.removeAttribute("aria-disabled")}_onFocusTo(e){var n,r,o,a,h=e.composedPath()[0],l=e.detail.dir;const d=e.detail.rect;if(d.center={x:d.x+d.width/2,y:d.y+d.height/2},h!==this){let t=h,i=1/0,s=1/0;const p=this.querySelectorAll('[tabindex="0"]:not([disabled])');for(let e=p.length;e--;)if(p[e].offsetParent)if("visible"===window.getComputedStyle(p[e]).visibility){const c=p[e].getBoundingClientRect();switch(c.center={x:c.x+c.width/2,y:c.y+c.height/2},l){case"right":c.left>=d.right-1&&(n=Math.abs(c.left-d.right),r=Math.abs(c.center.y-d.center.y),n<i||r<s/3?(t=p[e],i=n,s=r):n===i&&r<s&&(t=p[e],s=r));break;case"left":c.right<=d.left+1&&(n=Math.abs(c.right-d.left),r=Math.abs(c.center.y-d.center.y),n<i||r<s/3?(t=p[e],i=n,s=r):n===i&&r<s&&(t=p[e],s=r));break;case"down":c.top>=d.bottom-1&&(a=Math.abs(c.center.x-d.center.x),(o=Math.abs(c.top-d.bottom))<s||a<i/3?(t=p[e],i=a,s=o):o===s&&a<i&&(t=p[e],i=a));break;case"up":c.bottom<=d.top+1&&(o=Math.abs(c.center.x-d.center.x),(a=Math.abs(c.bottom-d.top))<s||o<i/3?(t=p[e],i=o,s=a):a===s&&o<i&&(t=p[e],i=o))}}t!==h&&(t.focus(),e.stopPropagation())}}focusTo(e){var t=this.getBoundingClientRect();this.dispatchEvent("focus-to",{dir:e,rect:t},!0)}}const warning=document.createElement("div"),mixinRecord=(warning.innerHTML="No support for custom elements detected! <br />Sorry, modern browser is required to view this page.<br />",{}),mixinRegex=new RegExp("((--[\\s\\S]*?): {([\\s\\S]*?)})","gi"),applyRegex=new RegExp("(@apply\\s.*?;)","gi"),RegisterIoElement=function(e){RegisterIoNode(e);const s=e.name.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(Object.defineProperty(e,"localName",{value:s}),Object.defineProperty(e.prototype,"localName",{value:s}),Object.defineProperty(e,"_isIoElement",{enumerable:!1,value:!0}),Object.defineProperty(e.prototype,"_isIoElement",{enumerable:!1,value:!0}),Object.defineProperty(window,e.name,{value:e}),void 0!==window.customElements){window.customElements.define(s,e);let t="";const a=e.prototype._protochain.style.match(mixinRegex);if(a)for(let e=0;e<a.length;e++){const d=a[e].split(": {");var n=d[0],r=d[1].replace(/}/g,"").trim().replace(/^ +/gm,"");mixinRecord[n]=r,t+=a[e].replace("--",".").replace(": {"," {")}let i=e.prototype._protochain.style.replace(mixinRegex,"");const h=i.match(applyRegex);if(h)for(let e=0;e<h.length;e++){var o=h[e].split("@apply ")[1].replace(";","");mixinRecord[o]&&(i=i.replace(h[e],mixinRecord[o]))}i=t+i.replace(new RegExp(":host","g"),s);const l=document.createElement("style");l.innerHTML=i,l.setAttribute("id","io-style-"+s.replace("io-","")),document.head.appendChild(l)}else document.body.insertBefore(warning,document.body.children[0])},ro=new ResizeObserver(e=>{for(const t of e)t.target.onResized()}),constructElement=function(e){const t=window.customElements?window.customElements.get(e.name):null;if(t&&t._isIoElement)return new t(e.props);var i=document.createElement(e.name);return setNativeElementProps(i,e.props),i},superCreateElement=document.createElement,setNativeElementProps=(document.createElement=function(...e){const t=e[0];if(t.startsWith("io-")){const i=customElements.get(t);return i?new i:superCreateElement.apply(this,e)}return superCreateElement.apply(this,e)},function(e,t){for(const s in t){var i=t[s];if(s.startsWith("@"))e.setAttribute(s.substr(1),i);else if("style"===s)for(const n in i)e.style.setProperty(n,i[n]);else"class"===s?e.className=i:"id"!==s&&(e[s]=i);"name"===s&&e.setAttribute("name",i)}e._eventDispatcher||Object.defineProperty(e,"_eventDispatcher",{value:new EventDispatcher(e)}),e._eventDispatcher.setPropListeners(t,e)}),isString=(RegisterIoElement(IoElement),e=>"string"==typeof e),isArray=Array.isArray,isObject=e=>"object"==typeof e&&!isArray(e),clense=(e,t)=>t?isString(t[0])?[...e,t]:[...e,...t]:e,buildTree=()=>e=>e&&isObject(e[1])?{name:e[0],props:e[1],children:isArray(e[2])?e[2].reduce(clense,[]).map(buildTree()):e[2]}:buildTree()([e[0],{},e[1]]);export{Binding,ChangeQueue,EventDispatcher,IoElement,IoNode,IoNodeMixin,Property,PropertyDefinition,ProtoChain,RegisterIoElement,RegisterIoNode,assignListenerDefinition,assignPropertyDefinition,buildTree,hardenListenerDefinition,listenerFromDefinition};
