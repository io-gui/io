{"version":3,"file":"line.test.js","sourceRoot":"","sources":["../../src/game/line.test.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,EAAE,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAA;AAC7C,OAAO,EAAE,IAAI,EAAE,MAAM,WAAW,CAAA;AAEhC,QAAQ,CAAC,MAAM,EAAE,GAAG,EAAE;IACpB,EAAE,CAAC,gCAAgC,EAAE,GAAG,EAAE;QACxC,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;YACzB,EAAE,EAAE,CAAC;YACL,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACrB,KAAK,EAAE,CAAC,CAAC;SACV,CAAC,CAAA;QACF,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;QAC3B,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAA;QAChC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,OAAO,CAAC;YAC5B,EAAE,EAAE,CAAC;YACL,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACrB,KAAK,EAAE,CAAC,CAAC;SACV,CAAC,CAAA;IACJ,CAAC,CAAC,CAAA;IAEF,EAAE,CAAC,kDAAkD,EAAE,GAAG,EAAE;QAC1D,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;YACzB,EAAE,EAAE,CAAC;YACL,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACb,KAAK,EAAE,OAAO;SACR,CAAC,CAAA;QACT,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;QAC1B,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;QACnC,MAAM,CAAE,IAAI,CAAC,MAAM,EAAU,CAAC,KAAK,CAAC,CAAC,aAAa,EAAE,CAAA;IACtD,CAAC,CAAC,CAAA;IAEF,EAAE,CAAC,kDAAkD,EAAE,GAAG,EAAE;QAC1D,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;YACzB,EAAE,EAAE,CAAC;YACL,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACrB,KAAK,EAAE,MAAM;SACP,CAAC,CAAA;QACT,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;QAC3B,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;IACtC,CAAC,CAAC,CAAA;IAEF,EAAE,CAAC,wBAAwB,EAAE,GAAG,EAAE;QAChC,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;QACnC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;QAC1B,MAAM,MAAM,GAAG,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;QACtC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;IAC/B,CAAC,CAAC,CAAA;AACJ,CAAC,CAAC,CAAA","sourcesContent":["import { describe, it, expect } from 'vitest'\nimport { Line } from './line.js'\n\ndescribe('Line', () => {\n  it('fromJSON with layer uses layer', () => {\n    const line = Line.fromJSON({\n      ID: 1,\n      pos: [[0, 0], [1, 0]],\n      layer: -1,\n    })\n    expect(line.layer).toBe(-1)\n    expect(line.pos).toHaveLength(2)\n    expect(line.toJSON()).toEqual({\n      ID: 1,\n      pos: [[0, 0], [1, 0]],\n      layer: -1,\n    })\n  })\n\n  it('fromJSON with legacy color white maps to layer 0', () => {\n    const line = Line.fromJSON({\n      ID: 2,\n      pos: [[0, 0]],\n      color: 'white',\n    } as any)\n    expect(line.layer).toBe(0)\n    expect(line.toJSON().layer).toBe(0)\n    expect((line.toJSON() as any).color).toBeUndefined()\n  })\n\n  it('fromJSON with legacy color grey maps to layer -1', () => {\n    const line = Line.fromJSON({\n      ID: 3,\n      pos: [[1, 1], [2, 1]],\n      color: 'grey',\n    } as any)\n    expect(line.layer).toBe(-1)\n    expect(line.toJSON().layer).toBe(-1)\n  })\n\n  it('constructor sets layer', () => {\n    const line = new Line(4, [0, 0], 0)\n    expect(line.layer).toBe(0)\n    const bottom = new Line(5, [1, 1], -1)\n    expect(bottom.layer).toBe(-1)\n  })\n})\n"]}