{"version":3,"file":"TodoListModel.js","sourceRoot":"","sources":["../src/TodoListModel.ts"],"names":[],"mappings":"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","sourcesContent":["import { ReactiveNode, NodeArray, Register, ReactiveProperty } from '@io-gui/core'\nimport { TodoItemModel } from './TodoItemModel.js'\n\nexport class TodoListModel extends ReactiveNode {\n\n  @ReactiveProperty({type: NodeArray, init: 'this'})\n  declare items: TodoItemModel[]\n\n  static get Listeners() {\n    return {\n      'delete-item': 'onDeleteItem',\n    }\n  }\n\n  onDeleteItem(event: any) {\n    const item = event.path[0]\n    const index = this.items.indexOf(item)\n    this.items.splice(index, 1)\n  }\n\n  get filters() {\n    return {\n      all: () => true,\n      active: (item: TodoItemModel) => !item.completed,\n      completed: (item: TodoItemModel) => item.completed,\n    }\n  }\n\n  get count() {\n    return this.items.length\n  }\n\n  get completedCount() {\n    return this.items.filter(item => item.completed).length\n  }\n\n  get activeCount() {\n    return this.items.filter(item => !item.completed).length\n  }\n\n  get allCompleted() {\n    return this.items.every(item => item.completed)\n  }\n\n  constructor(args: any) {\n    args = { ...args }\n    args.items = args.items.map((item: any) => new TodoItemModel({...item}))\n    super(args)\n  }\n\n  completeAll = () => {\n    this.items.forEach(item => item.completed = true)\n  }\n\n  clearCompleted = () => {\n    this.items = this.items.filter(item => !item.completed)\n  }\n\n  itemsMutated() {\n    this.dispatchMutation()\n  }\n\n  toJSON() {\n    return {\n      items: this.items.map(item => item.toJSON()),\n    }\n  }\n\n  fromJSON(json: any) {\n    this.setProperties({\n      items: json.items.map((item: any) => new TodoItemModel(item)),\n    })\n    return this\n  }\n}\nRegister(TodoListModel)"]}